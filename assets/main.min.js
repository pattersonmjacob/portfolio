var fQ=Object.defineProperty;var Ok=e=>{throw TypeError(e)};var pQ=(e,t,n)=>t in e?fQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Zo=(e,t,n)=>pQ(e,typeof t!="symbol"?t+"":t,n),DT=(e,t,n)=>t.has(e)||Ok("Cannot "+n);var kt=(e,t,n)=>(DT(e,t,"read from private field"),n?n.call(e):t.get(e)),ai=(e,t,n)=>t.has(e)?Ok("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Vi=(e,t,n,r)=>(DT(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ln=(e,t,n)=>(DT(e,t,"access private method"),n);var Dk=(e,t,n,r)=>({set _(i){Vi(e,t,i,n)},get _(){return kt(e,t,r)}});function FB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hQ(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var zB={exports:{}},vx={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mQ=Symbol.for("react.transitional.element"),gQ=Symbol.for("react.fragment");function VB(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:mQ,type:e,key:r,ref:t!==void 0?t:null,props:n}}vx.Fragment=gQ;vx.jsx=VB;vx.jsxs=VB;zB.exports=vx;var U=zB.exports,qB={exports:{}},Dn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO=Symbol.for("react.transitional.element"),yQ=Symbol.for("react.portal"),vQ=Symbol.for("react.fragment"),bQ=Symbol.for("react.strict_mode"),_Q=Symbol.for("react.profiler"),SQ=Symbol.for("react.consumer"),xQ=Symbol.for("react.context"),wQ=Symbol.for("react.forward_ref"),TQ=Symbol.for("react.suspense"),EQ=Symbol.for("react.memo"),HB=Symbol.for("react.lazy"),AQ=Symbol.for("react.activity"),Pk=Symbol.iterator;function CQ(e){return e===null||typeof e!="object"?null:(e=Pk&&e[Pk]||e["@@iterator"],typeof e=="function"?e:null)}var GB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WB=Object.assign,YB={};function om(e,t,n){this.props=e,this.context=t,this.refs=YB,this.updater=n||GB}om.prototype.isReactComponent={};om.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};om.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function KB(){}KB.prototype=om.prototype;function aO(e,t,n){this.props=e,this.context=t,this.refs=YB,this.updater=n||GB}var lO=aO.prototype=new KB;lO.constructor=aO;WB(lO,om.prototype);lO.isPureReactComponent=!0;var Rk=Array.isArray;function n2(){}var ri={H:null,A:null,T:null,S:null},XB=Object.prototype.hasOwnProperty;function uO(e,t,n){var r=n.ref;return{$$typeof:sO,type:e,key:t,ref:r!==void 0?r:null,props:n}}function OQ(e,t){return uO(e.type,t,e.props)}function cO(e){return typeof e=="object"&&e!==null&&e.$$typeof===sO}function DQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ik=/\/+/g;function PT(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DQ(""+e.key):t.toString(36)}function PQ(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(n2,n2):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function pp(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case sO:case yQ:s=!0;break;case HB:return s=e._init,pp(s(e._payload),t,n,r,i)}}if(s)return i=i(e),s=r===""?"."+PT(e,0):r,Rk(i)?(n="",s!=null&&(n=s.replace(Ik,"$&/")+"/"),pp(i,t,n,"",function(u){return u})):i!=null&&(cO(i)&&(i=OQ(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Ik,"$&/")+"/")+s)),t.push(i)),1;s=0;var a=r===""?".":r+":";if(Rk(e))for(var l=0;l<e.length;l++)r=e[l],o=a+PT(r,l),s+=pp(r,t,n,o,i);else if(l=CQ(e),typeof l=="function")for(e=l.call(e),l=0;!(r=e.next()).done;)r=r.value,o=a+PT(r,l++),s+=pp(r,t,n,o,i);else if(o==="object"){if(typeof e.then=="function")return pp(PQ(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Nb(e,t,n){if(e==null)return e;var r=[],i=0;return pp(e,r,"","",function(o){return t.call(n,o,i++)}),r}function RQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kk=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},IQ={map:Nb,forEach:function(e,t,n){Nb(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Nb(e,function(){t++}),t},toArray:function(e){return Nb(e,function(t){return t})||[]},only:function(e){if(!cO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Dn.Activity=AQ;Dn.Children=IQ;Dn.Component=om;Dn.Fragment=vQ;Dn.Profiler=_Q;Dn.PureComponent=aO;Dn.StrictMode=bQ;Dn.Suspense=TQ;Dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ri;Dn.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ri.H.useMemoCache(e)}};Dn.cache=function(e){return function(){return e.apply(null,arguments)}};Dn.cacheSignal=function(){return null};Dn.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=WB({},e.props),i=e.key;if(t!=null)for(o in t.key!==void 0&&(i=""+t.key),t)!XB.call(t,o)||o==="key"||o==="__self"||o==="__source"||o==="ref"&&t.ref===void 0||(r[o]=t[o]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];r.children=s}return uO(e.type,i,r)};Dn.createContext=function(e){return e={$$typeof:xQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:SQ,_context:e},e};Dn.createElement=function(e,t,n){var r,i={},o=null;if(t!=null)for(r in t.key!==void 0&&(o=""+t.key),t)XB.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return uO(e,o,i)};Dn.createRef=function(){return{current:null}};Dn.forwardRef=function(e){return{$$typeof:wQ,render:e}};Dn.isValidElement=cO;Dn.lazy=function(e){return{$$typeof:HB,_payload:{_status:-1,_result:e},_init:RQ}};Dn.memo=function(e,t){return{$$typeof:EQ,type:e,compare:t===void 0?null:t}};Dn.startTransition=function(e){var t=ri.T,n={};ri.T=n;try{var r=e(),i=ri.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(n2,kk)}catch(o){kk(o)}finally{t!==null&&n.types!==null&&(t.types=n.types),ri.T=t}};Dn.unstable_useCacheRefresh=function(){return ri.H.useCacheRefresh()};Dn.use=function(e){return ri.H.use(e)};Dn.useActionState=function(e,t,n){return ri.H.useActionState(e,t,n)};Dn.useCallback=function(e,t){return ri.H.useCallback(e,t)};Dn.useContext=function(e){return ri.H.useContext(e)};Dn.useDebugValue=function(){};Dn.useDeferredValue=function(e,t){return ri.H.useDeferredValue(e,t)};Dn.useEffect=function(e,t){return ri.H.useEffect(e,t)};Dn.useEffectEvent=function(e){return ri.H.useEffectEvent(e)};Dn.useId=function(){return ri.H.useId()};Dn.useImperativeHandle=function(e,t,n){return ri.H.useImperativeHandle(e,t,n)};Dn.useInsertionEffect=function(e,t){return ri.H.useInsertionEffect(e,t)};Dn.useLayoutEffect=function(e,t){return ri.H.useLayoutEffect(e,t)};Dn.useMemo=function(e,t){return ri.H.useMemo(e,t)};Dn.useOptimistic=function(e,t){return ri.H.useOptimistic(e,t)};Dn.useReducer=function(e,t,n){return ri.H.useReducer(e,t,n)};Dn.useRef=function(e){return ri.H.useRef(e)};Dn.useState=function(e){return ri.H.useState(e)};Dn.useSyncExternalStore=function(e,t,n){return ri.H.useSyncExternalStore(e,t,n)};Dn.useTransition=function(){return ri.H.useTransition()};Dn.version="19.2.1";qB.exports=Dn;var R=qB.exports;const En=dl(R),dO=FB({__proto__:null,default:En},[R]);var ZB={exports:{}},bx={},QB={exports:{}},JB={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,z){var ne=H.length;H.push(z);e:for(;0<ne;){var ue=ne-1>>>1,Q=H[ue];if(0<i(Q,z))H[ue]=z,H[ne]=Q,ne=ue;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var z=H[0],ne=H.pop();if(ne!==z){H[0]=ne;e:for(var ue=0,Q=H.length,N=Q>>>1;ue<N;){var G=2*(ue+1)-1,J=H[G],Y=G+1,L=H[Y];if(0>i(J,ne))Y<Q&&0>i(L,J)?(H[ue]=L,H[Y]=ne,ue=Y):(H[ue]=J,H[G]=ne,ue=G);else if(Y<Q&&0>i(L,ne))H[ue]=L,H[Y]=ne,ue=Y;else break e}}return z}function i(H,z){var ne=H.sortIndex-z.sortIndex;return ne!==0?ne:H.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,m=!1,h=!1,g=!1,S=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(H){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=H)r(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=n(u)}}function x(H){if(g=!1,_(H),!h)if(n(l)!==null)h=!0,T||(T=!0,I());else{var z=n(u);z!==null&&q(x,z.startTime-H)}}var T=!1,w=-1,E=5,C=-1;function D(){return S?!0:!(e.unstable_now()-C<E)}function O(){if(S=!1,T){var H=e.unstable_now();C=H;var z=!0;try{e:{h=!1,g&&(g=!1,v(w),w=-1),m=!0;var ne=f;try{t:{for(_(H),d=n(l);d!==null&&!(d.expirationTime>H&&D());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,f=d.priorityLevel;var Q=ue(d.expirationTime<=H);if(H=e.unstable_now(),typeof Q=="function"){d.callback=Q,_(H),z=!0;break t}d===n(l)&&r(l),_(H)}else r(l);d=n(l)}if(d!==null)z=!0;else{var N=n(u);N!==null&&q(x,N.startTime-H),z=!1}}break e}finally{d=null,f=ne,m=!1}z=void 0}}finally{z?I():T=!1}}}var I;if(typeof b=="function")I=function(){b(O)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,B=k.port2;k.port1.onmessage=O,I=function(){B.postMessage(null)}}else I=function(){y(O,0)};function q(H,z){w=y(function(){H(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(H){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var ne=f;f=z;try{return H()}finally{f=ne}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(H,z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ne=f;f=H;try{return z()}finally{f=ne}},e.unstable_scheduleCallback=function(H,z,ne){var ue=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ue+ne:ue):ne=ue,H){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=ne+Q,H={id:c++,callback:z,priorityLevel:H,startTime:ne,expirationTime:Q,sortIndex:-1},ne>ue?(H.sortIndex=ne,t(u,H),n(l)===null&&H===n(u)&&(g?(v(w),w=-1):g=!0,q(x,ne-ue))):(H.sortIndex=Q,t(l,H),h||m||(h=!0,T||(T=!0,I()))),H},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(H){var z=f;return function(){var ne=f;f=z;try{return H.apply(this,arguments)}finally{f=ne}}}})(JB);QB.exports=JB;var kQ=QB.exports,e8={exports:{}},cs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NQ=R;function t8(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function nc(){}var ss={d:{f:nc,r:function(){throw Error(t8(522))},D:nc,C:nc,L:nc,m:nc,X:nc,S:nc,M:nc},p:0,findDOMNode:null},MQ=Symbol.for("react.portal");function jQ(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:MQ,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var zg=NQ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _x(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}cs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ss;cs.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(t8(299));return jQ(e,t,null,n)};cs.flushSync=function(e){var t=zg.T,n=ss.p;try{if(zg.T=null,ss.p=2,e)return e()}finally{zg.T=t,ss.p=n,ss.d.f()}};cs.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,ss.d.C(e,t))};cs.prefetchDNS=function(e){typeof e=="string"&&ss.d.D(e)};cs.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=_x(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,o=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?ss.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):n==="script"&&ss.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};cs.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=_x(t.as,t.crossOrigin);ss.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&ss.d.M(e)};cs.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=_x(n,t.crossOrigin);ss.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};cs.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=_x(t.as,t.crossOrigin);ss.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else ss.d.m(e)};cs.requestFormReset=function(e){ss.d.r(e)};cs.unstable_batchedUpdates=function(e,t){return e(t)};cs.useFormState=function(e,t,n){return zg.H.useFormState(e,t,n)};cs.useFormStatus=function(){return zg.H.useHostTransitionStatus()};cs.version="19.2.1";function n8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n8)}catch(e){console.error(e)}}n8(),e8.exports=cs;var Hs=e8.exports;const fO=dl(Hs),LQ=FB({__proto__:null,default:fO},[Hs]);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oo=kQ,r8=R,$Q=Hs;function ht(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i8(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ev(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function o8(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function s8(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nk(e){if(Ev(e)!==e)throw Error(ht(188))}function BQ(e){var t=e.alternate;if(!t){if(t=Ev(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Nk(i),e;if(o===r)return Nk(i),t;o=o.sibling}throw Error(ht(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?e:t}function a8(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=a8(e),t!==null)return t;e=e.sibling}return null}var oi=Object.assign,UQ=Symbol.for("react.element"),Mb=Symbol.for("react.transitional.element"),Og=Symbol.for("react.portal"),bp=Symbol.for("react.fragment"),l8=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),u8=Symbol.for("react.consumer"),du=Symbol.for("react.context"),pO=Symbol.for("react.forward_ref"),i2=Symbol.for("react.suspense"),o2=Symbol.for("react.suspense_list"),hO=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),s2=Symbol.for("react.activity"),FQ=Symbol.for("react.memo_cache_sentinel"),Mk=Symbol.iterator;function Wm(e){return e===null||typeof e!="object"?null:(e=Mk&&e[Mk]||e["@@iterator"],typeof e=="function"?e:null)}var zQ=Symbol.for("react.client.reference");function a2(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zQ?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bp:return"Fragment";case r2:return"Profiler";case l8:return"StrictMode";case i2:return"Suspense";case o2:return"SuspenseList";case s2:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Og:return"Portal";case du:return e.displayName||"Context";case u8:return(e._context.displayName||"Context")+".Consumer";case pO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hO:return t=e.displayName||null,t!==null?t:a2(e.type)||"Memo";case hc:t=e._payload,e=e._init;try{return a2(e(t))}catch{}}return null}var Dg=Array.isArray,xn=r8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fr=$Q.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Gd={pending:!1,data:null,method:null,action:null},l2=[],_p=-1;function Hl(e){return{current:e}}function _o(e){0>_p||(e.current=l2[_p],l2[_p]=null,_p--)}function Kr(e,t){_p++,l2[_p]=e.current,e.current=t}var Nl=Hl(null),Ty=Hl(null),Mc=Hl(null),__=Hl(null);function S_(e,t){switch(Kr(Mc,t),Kr(Ty,e),Kr(Nl,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?FN(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=FN(t),e=D6(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_o(Nl),Kr(Nl,e)}function mh(){_o(Nl),_o(Ty),_o(Mc)}function u2(e){e.memoizedState!==null&&Kr(__,e);var t=Nl.current,n=D6(t,e.type);t!==n&&(Kr(Ty,e),Kr(Nl,n))}function x_(e){Ty.current===e&&(_o(Nl),_o(Ty)),__.current===e&&(_o(__),My._currentValue=Gd)}var RT,jk;function _d(e){if(RT===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);RT=t&&t[1]||"",jk=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+RT+e+jk}var IT=!1;function kT(e,t){if(!e||IT)return"";IT=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(m){var f=m}Reflect.construct(e,[],d)}else{try{d.call()}catch(m){f=m}e.call(d.prototype)}}else{try{throw Error()}catch(m){f=m}(d=e())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(m){if(m&&f&&typeof m.stack=="string")return[m.stack,f.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split(`
`),u=a.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=r&&0<=i);break}}}finally{IT=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?_d(n):""}function VQ(e,t){switch(e.tag){case 26:case 27:case 5:return _d(e.type);case 16:return _d("Lazy");case 13:return e.child!==t&&t!==null?_d("Suspense Fallback"):_d("Suspense");case 19:return _d("SuspenseList");case 0:case 15:return kT(e.type,!1);case 11:return kT(e.type.render,!1);case 1:return kT(e.type,!0);case 31:return _d("Activity");default:return""}}function Lk(e){try{var t="",n=null;do t+=VQ(e,n),n=e,e=e.return;while(e);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var c2=Object.prototype.hasOwnProperty,mO=oo.unstable_scheduleCallback,NT=oo.unstable_cancelCallback,qQ=oo.unstable_shouldYield,HQ=oo.unstable_requestPaint,Ys=oo.unstable_now,GQ=oo.unstable_getCurrentPriorityLevel,c8=oo.unstable_ImmediatePriority,d8=oo.unstable_UserBlockingPriority,w_=oo.unstable_NormalPriority,WQ=oo.unstable_LowPriority,f8=oo.unstable_IdlePriority,YQ=oo.log,KQ=oo.unstable_setDisableYieldValue,Av=null,Ks=null;function Cc(e){if(typeof YQ=="function"&&KQ(e),Ks&&typeof Ks.setStrictMode=="function")try{Ks.setStrictMode(Av,e)}catch{}}var Xs=Math.clz32?Math.clz32:QQ,XQ=Math.log,ZQ=Math.LN2;function QQ(e){return e>>>=0,e===0?32:31-(XQ(e)/ZQ|0)|0}var jb=256,Lb=262144,$b=4194304;function Sd(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Sx(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=r&134217727;return a!==0?(r=a&~o,r!==0?i=Sd(r):(s&=a,s!==0?i=Sd(s):n||(n=a&~e,n!==0&&(i=Sd(n))))):(a=r&~o,a!==0?i=Sd(a):s!==0?i=Sd(s):n||(n=r&~e,n!==0&&(i=Sd(n)))),i===0?0:t!==0&&t!==i&&!(t&o)&&(o=i&-i,n=t&-t,o>=n||o===32&&(n&4194048)!==0)?t:i}function Cv(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function JQ(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p8(){var e=$b;return $b<<=1,!($b&62914560)&&($b=4194304),e}function MT(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ov(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function eJ(e,t,n,r,i,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=s&~n;0<n;){var c=31-Xs(n),d=1<<c;a[c]=0,l[c]=-1;var f=u[c];if(f!==null)for(u[c]=null,c=0;c<f.length;c++){var m=f[c];m!==null&&(m.lane&=-536870913)}n&=~d}r!==0&&h8(e,r,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(s&~t))}function h8(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Xs(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function m8(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Xs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function g8(e,t){var n=t&-t;return n=n&42?1:gO(n),n&(e.suspendedLanes|t)?0:n}function gO(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yO(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function y8(){var e=fr.p;return e!==0?e:(e=window.event,e===void 0?32:U6(e.type))}function $k(e,t){var n=fr.p;try{return fr.p=e,t()}finally{fr.p=n}}var id=Math.random().toString(36).slice(2),Io="__reactFiber$"+id,Ds="__reactProps$"+id,sm="__reactContainer$"+id,d2="__reactEvents$"+id,tJ="__reactListeners$"+id,nJ="__reactHandles$"+id,Bk="__reactResources$"+id,Dv="__reactMarker$"+id;function vO(e){delete e[Io],delete e[Ds],delete e[d2],delete e[tJ],delete e[nJ]}function Sp(e){var t=e[Io];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sm]||n[Io]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=GN(e);e!==null;){if(n=e[Io])return n;e=GN(e)}return t}e=n,n=e.parentNode}return null}function am(e){if(e=e[Io]||e[sm]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Pg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(ht(33))}function Fp(e){var t=e[Bk];return t||(t=e[Bk]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function go(e){e[Dv]=!0}var v8=new Set,b8={};function If(e,t){gh(e,t),gh(e+"Capture",t)}function gh(e,t){for(b8[e]=t,e=0;e<t.length;e++)v8.add(t[e])}var rJ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uk={},Fk={};function iJ(e){return c2.call(Fk,e)?!0:c2.call(Uk,e)?!1:rJ.test(e)?Fk[e]=!0:(Uk[e]=!0,!1)}function j0(e,t,n){if(iJ(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Bb(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Ql(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}function _a(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _8(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oJ(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function f2(e){if(!e._valueTracker){var t=_8(e)?"checked":"value";e._valueTracker=oJ(e,t,""+e[t])}}function S8(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_8(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function T_(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sJ=/[\n"\\]/g;function wa(e){return e.replace(sJ,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function p2(e,t,n,r,i,o,s,a){e.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.type=s:e.removeAttribute("type"),t!=null?s==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_a(t)):e.value!==""+_a(t)&&(e.value=""+_a(t)):s!=="submit"&&s!=="reset"||e.removeAttribute("value"),t!=null?h2(e,s,_a(t)):n!=null?h2(e,s,_a(n)):r!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.name=""+_a(a):e.removeAttribute("name")}function x8(e,t,n,r,i,o,s,a){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){f2(e);return}n=n!=null?""+_a(n):"",t=t!=null?""+_a(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.name=s),f2(e)}function h2(e,t,n){t==="number"&&T_(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function zp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_a(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function w8(e,t,n){if(t!=null&&(t=""+_a(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_a(n):""}function T8(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(ht(92));if(Dg(r)){if(1<r.length)throw Error(ht(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=_a(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r),f2(e)}function yh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var aJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zk(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||aJ.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function E8(e,t,n){if(t!=null&&typeof t!="object")throw Error(ht(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&zk(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&zk(e,o,t[o])}function bO(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function L0(e){return uJ.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fu(){}var m2=null;function _O(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xp=null,Vp=null;function Vk(e){var t=am(e);if(t&&(e=t.stateNode)){var n=e[Ds]||null;e:switch(e=t.stateNode,t.type){case"input":if(p2(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wa(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ds]||null;if(!i)throw Error(ht(90));p2(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&S8(r)}break e;case"textarea":w8(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&zp(e,!!n.multiple,t,!1)}}}var jT=!1;function A8(e,t,n){if(jT)return e(t,n);jT=!0;try{var r=e(t);return r}finally{if(jT=!1,(xp!==null||Vp!==null)&&(kx(),xp&&(t=xp,e=Vp,Vp=xp=null,Vk(t),e)))for(t=0;t<e.length;t++)Vk(e[t])}}function Ey(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Ds]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ht(231,t,typeof n));return n}var wu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g2=!1;if(wu)try{var Ym={};Object.defineProperty(Ym,"passive",{get:function(){g2=!0}}),window.addEventListener("test",Ym,Ym),window.removeEventListener("test",Ym,Ym)}catch{g2=!1}var Oc=null,SO=null,$0=null;function C8(){if($0)return $0;var e,t=SO,n=t.length,r,i="value"in Oc?Oc.value:Oc.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return $0=i.slice(e,1<r?1-r:void 0)}function B0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ub(){return!0}function qk(){return!1}function Ps(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ub:qk,this.isPropagationStopped=qk,this}return oi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ub)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ub)},persist:function(){},isPersistent:Ub}),t}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xx=Ps(kf),Pv=oi({},kf,{view:0,detail:0}),cJ=Ps(Pv),LT,$T,Km,wx=oi({},Pv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Km&&(Km&&e.type==="mousemove"?(LT=e.screenX-Km.screenX,$T=e.screenY-Km.screenY):$T=LT=0,Km=e),LT)},movementY:function(e){return"movementY"in e?e.movementY:$T}}),Hk=Ps(wx),dJ=oi({},wx,{dataTransfer:0}),fJ=Ps(dJ),pJ=oi({},Pv,{relatedTarget:0}),BT=Ps(pJ),hJ=oi({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),mJ=Ps(hJ),gJ=oi({},kf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yJ=Ps(gJ),vJ=oi({},kf,{data:0}),Gk=Ps(vJ),bJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_J={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xJ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=SJ[e])?!!t[e]:!1}function xO(){return xJ}var wJ=oi({},Pv,{key:function(e){if(e.key){var t=bJ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=B0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_J[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xO,charCode:function(e){return e.type==="keypress"?B0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?B0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TJ=Ps(wJ),EJ=oi({},wx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wk=Ps(EJ),AJ=oi({},Pv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xO}),CJ=Ps(AJ),OJ=oi({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),DJ=Ps(OJ),PJ=oi({},wx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RJ=Ps(PJ),IJ=oi({},kf,{newState:0,oldState:0}),kJ=Ps(IJ),NJ=[9,13,27,32],wO=wu&&"CompositionEvent"in window,Vg=null;wu&&"documentMode"in document&&(Vg=document.documentMode);var MJ=wu&&"TextEvent"in window&&!Vg,O8=wu&&(!wO||Vg&&8<Vg&&11>=Vg),Yk=" ",Kk=!1;function D8(e,t){switch(e){case"keyup":return NJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P8(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wp=!1;function jJ(e,t){switch(e){case"compositionend":return P8(t);case"keypress":return t.which!==32?null:(Kk=!0,Yk);case"textInput":return e=t.data,e===Yk&&Kk?null:e;default:return null}}function LJ(e,t){if(wp)return e==="compositionend"||!wO&&D8(e,t)?(e=C8(),$0=SO=Oc=null,wp=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return O8&&t.locale!=="ko"?null:t.data;default:return null}}var $J={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$J[e.type]:t==="textarea"}function R8(e,t,n,r){xp?Vp?Vp.push(r):Vp=[r]:xp=r,t=z_(t,"onChange"),0<t.length&&(n=new xx("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qg=null,Ay=null;function BJ(e){A6(e,0)}function Tx(e){var t=Pg(e);if(S8(t))return e}function Zk(e,t){if(e==="change")return t}var I8=!1;if(wu){var UT;if(wu){var FT="oninput"in document;if(!FT){var Qk=document.createElement("div");Qk.setAttribute("oninput","return;"),FT=typeof Qk.oninput=="function"}UT=FT}else UT=!1;I8=UT&&(!document.documentMode||9<document.documentMode)}function Jk(){qg&&(qg.detachEvent("onpropertychange",k8),Ay=qg=null)}function k8(e){if(e.propertyName==="value"&&Tx(Ay)){var t=[];R8(t,Ay,e,_O(e)),A8(BJ,t)}}function UJ(e,t,n){e==="focusin"?(Jk(),qg=t,Ay=n,qg.attachEvent("onpropertychange",k8)):e==="focusout"&&Jk()}function FJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tx(Ay)}function zJ(e,t){if(e==="click")return Tx(t)}function VJ(e,t){if(e==="input"||e==="change")return Tx(t)}function qJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var na=typeof Object.is=="function"?Object.is:qJ;function Cy(e,t){if(na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c2.call(t,i)||!na(e[i],t[i]))return!1}return!0}function eN(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tN(e,t){var n=eN(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eN(n)}}function N8(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?N8(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function M8(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=T_(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=T_(e.document)}return t}function TO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var HJ=wu&&"documentMode"in document&&11>=document.documentMode,Tp=null,y2=null,Hg=null,v2=!1;function nN(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v2||Tp==null||Tp!==T_(r)||(r=Tp,"selectionStart"in r&&TO(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hg&&Cy(Hg,r)||(Hg=r,r=z_(y2,"onSelect"),0<r.length&&(t=new xx("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tp)))}function md(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ep={animationend:md("Animation","AnimationEnd"),animationiteration:md("Animation","AnimationIteration"),animationstart:md("Animation","AnimationStart"),transitionrun:md("Transition","TransitionRun"),transitionstart:md("Transition","TransitionStart"),transitioncancel:md("Transition","TransitionCancel"),transitionend:md("Transition","TransitionEnd")},zT={},j8={};wu&&(j8=document.createElement("div").style,"AnimationEvent"in window||(delete Ep.animationend.animation,delete Ep.animationiteration.animation,delete Ep.animationstart.animation),"TransitionEvent"in window||delete Ep.transitionend.transition);function Nf(e){if(zT[e])return zT[e];if(!Ep[e])return e;var t=Ep[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in j8)return zT[e]=t[n];return e}var L8=Nf("animationend"),$8=Nf("animationiteration"),B8=Nf("animationstart"),GJ=Nf("transitionrun"),WJ=Nf("transitionstart"),YJ=Nf("transitioncancel"),U8=Nf("transitionend"),F8=new Map,b2="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");b2.push("scrollEnd");function fl(e,t){F8.set(e,t),If(t,[e])}var E_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ya=[],Ap=0,EO=0;function Ex(){for(var e=Ap,t=EO=Ap=0;t<e;){var n=ya[t];ya[t++]=null;var r=ya[t];ya[t++]=null;var i=ya[t];ya[t++]=null;var o=ya[t];if(ya[t++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}o!==0&&z8(n,i,o)}}function Ax(e,t,n,r){ya[Ap++]=e,ya[Ap++]=t,ya[Ap++]=n,ya[Ap++]=r,EO|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function AO(e,t,n,r){return Ax(e,t,n,r),A_(e)}function Mf(e,t){return Ax(e,null,null,t),A_(e)}function z8(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,o=e.return;o!==null;)o.childLanes|=n,r=o.alternate,r!==null&&(r.childLanes|=n),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Xs(n),e=o.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),o):null}function A_(e){if(50<ey)throw ey=0,U2=null,Error(ht(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Cp={};function KJ(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fs(e,t,n,r){return new KJ(e,t,n,r)}function CO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hu(e,t){var n=e.alternate;return n===null?(n=Fs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function V8(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function U0(e,t,n,r,i,o){var s=0;if(r=e,typeof e=="function")CO(e)&&(s=1);else if(typeof e=="string")s=ete(e,n,Nl.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case s2:return e=Fs(31,n,t,i),e.elementType=s2,e.lanes=o,e;case bp:return Wd(n.children,i,o,t);case l8:s=8,i|=24;break;case r2:return e=Fs(12,n,t,i|2),e.elementType=r2,e.lanes=o,e;case i2:return e=Fs(13,n,t,i),e.elementType=i2,e.lanes=o,e;case o2:return e=Fs(19,n,t,i),e.elementType=o2,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case du:s=10;break e;case u8:s=9;break e;case pO:s=11;break e;case hO:s=14;break e;case hc:s=16,r=null;break e}s=29,n=Error(ht(130,e===null?"null":typeof e,"")),r=null}return t=Fs(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Wd(e,t,n,r){return e=Fs(7,e,r,t),e.lanes=n,e}function VT(e,t,n){return e=Fs(6,e,null,t),e.lanes=n,e}function q8(e){var t=Fs(18,null,null,0);return t.stateNode=e,t}function qT(e,t,n){return t=Fs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rN=new WeakMap;function Ta(e,t){if(typeof e=="object"&&e!==null){var n=rN.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Lk(t)},rN.set(e,t),t)}return{value:e,source:t,stack:Lk(t)}}var Op=[],Dp=0,C_=null,Oy=0,Sa=[],xa=0,Wc=null,Cl=1,Ol="";function ou(e,t){Op[Dp++]=Oy,Op[Dp++]=C_,C_=e,Oy=t}function H8(e,t,n){Sa[xa++]=Cl,Sa[xa++]=Ol,Sa[xa++]=Wc,Wc=e;var r=Cl;e=Ol;var i=32-Xs(r)-1;r&=~(1<<i),n+=1;var o=32-Xs(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Cl=1<<32-Xs(t)+i|n<<i|r,Ol=o+e}else Cl=1<<o|n<<i|r,Ol=e}function OO(e){e.return!==null&&(ou(e,1),H8(e,1,0))}function DO(e){for(;e===C_;)C_=Op[--Dp],Op[Dp]=null,Oy=Op[--Dp],Op[Dp]=null;for(;e===Wc;)Wc=Sa[--xa],Sa[xa]=null,Ol=Sa[--xa],Sa[xa]=null,Cl=Sa[--xa],Sa[xa]=null}function G8(e,t){Sa[xa++]=Cl,Sa[xa++]=Ol,Sa[xa++]=Wc,Cl=t.id,Ol=t.overflow,Wc=e}var ko=null,ni=null,ir=!1,jc=null,Ea=!1,_2=Error(ht(519));function Yc(e){var t=Error(ht(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dy(Ta(t,e)),_2}function iN(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Io]=e,t[Ds]=r,n){case"dialog":Xn("cancel",t),Xn("close",t);break;case"iframe":case"object":case"embed":Xn("load",t);break;case"video":case"audio":for(n=0;n<ky.length;n++)Xn(ky[n],t);break;case"source":Xn("error",t);break;case"img":case"image":case"link":Xn("error",t),Xn("load",t);break;case"details":Xn("toggle",t);break;case"input":Xn("invalid",t),x8(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xn("invalid",t);break;case"textarea":Xn("invalid",t),T8(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||O6(t.textContent,n)?(r.popover!=null&&(Xn("beforetoggle",t),Xn("toggle",t)),r.onScroll!=null&&Xn("scroll",t),r.onScrollEnd!=null&&Xn("scrollend",t),r.onClick!=null&&(t.onclick=fu),t=!0):t=!1,t||Yc(e,!0)}function oN(e){for(ko=e.return;ko;)switch(ko.tag){case 5:case 31:case 13:Ea=!1;return;case 27:case 3:Ea=!0;return;default:ko=ko.return}}function Xf(e){if(e!==ko)return!1;if(!ir)return oN(e),ir=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||H2(e.type,e.memoizedProps)),n=!n),n&&ni&&Yc(e),oN(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));ni=HN(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));ni=HN(e)}else t===27?(t=ni,od(e.type)?(e=K2,K2=null,ni=e):ni=t):ni=ko?Da(e.stateNode.nextSibling):null;return!0}function lf(){ni=ko=null,ir=!1}function HT(){var e=jc;return e!==null&&(bs===null?bs=e:bs.push.apply(bs,e),jc=null),e}function Dy(e){jc===null?jc=[e]:jc.push(e)}var S2=Hl(null),jf=null,pu=null;function bc(e,t,n){Kr(S2,t._currentValue),t._currentValue=n}function mu(e){e._currentValue=S2.current,_o(S2)}function x2(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function w2(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var s=i.child;o=o.firstContext;e:for(;o!==null;){var a=o;o=i;for(var l=0;l<t.length;l++)if(a.context===t[l]){o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),x2(o.return,n,e),r||(s=null);break e}o=a.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(ht(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),x2(s,n,e),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function lm(e,t,n,r){e=null;for(var i=t,o=!1;i!==null;){if(!o){if(i.flags&524288)o=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(ht(387));if(s=s.memoizedProps,s!==null){var a=i.type;na(i.pendingProps.value,s.value)||(e!==null?e.push(a):e=[a])}}else if(i===__.current){if(s=i.alternate,s===null)throw Error(ht(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(My):e=[My])}i=i.return}e!==null&&w2(t,e,n,r),t.flags|=262144}function O_(e){for(e=e.firstContext;e!==null;){if(!na(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function uf(e){jf=e,pu=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Mo(e){return W8(jf,e)}function Fb(e,t){return jf===null&&uf(e),W8(e,t)}function W8(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pu===null){if(e===null)throw Error(ht(308));pu=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pu=pu.next=t;return n}var XJ=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ZJ=oo.unstable_scheduleCallback,QJ=oo.unstable_NormalPriority,Xi={$$typeof:du,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function PO(){return{controller:new XJ,data:new Map,refCount:0}}function Rv(e){e.refCount--,e.refCount===0&&ZJ(QJ,function(){e.controller.abort()})}var Gg=null,T2=0,vh=0,qp=null;function JJ(e,t){if(Gg===null){var n=Gg=[];T2=0,vh=tD(),qp={status:"pending",value:void 0,then:function(r){n.push(r)}}}return T2++,t.then(sN,sN),t}function sN(){if(--T2===0&&Gg!==null){qp!==null&&(qp.status="fulfilled");var e=Gg;Gg=null,vh=0,qp=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eee(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var aN=xn.S;xn.S=function(e,t){a6=Ys(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&JJ(e,t),aN!==null&&aN(e,t)};var Yd=Hl(null);function RO(){var e=Yd.current;return e!==null?e:Vr.pooledCache}function F0(e,t){t===null?Kr(Yd,Yd.current):Kr(Yd,t.pool)}function Y8(){var e=RO();return e===null?null:{parent:Xi._currentValue,pool:e}}var um=Error(ht(460)),IO=Error(ht(474)),Cx=Error(ht(542)),D_={then:function(){}};function lN(e){return e=e.status,e==="fulfilled"||e==="rejected"}function K8(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(fu,fu),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cN(e),e;default:if(typeof t.status=="string")t.then(fu,fu);else{if(e=Vr,e!==null&&100<e.shellSuspendCounter)throw Error(ht(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cN(e),e}throw Kd=t,um}}function xd(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Kd=n,um):n}}var Kd=null;function uN(){if(Kd===null)throw Error(ht(459));var e=Kd;return Kd=null,e}function cN(e){if(e===um||e===Cx)throw Error(ht(483))}var Hp=null,Py=0;function zb(e){var t=Py;return Py+=1,Hp===null&&(Hp=[]),K8(Hp,e,t)}function Xm(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Vb(e,t){throw t.$$typeof===UQ?Error(ht(525)):(e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function X8(e){function t(y,v){if(e){var b=y.deletions;b===null?(y.deletions=[v],y.flags|=16):b.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(y,v){return y=hu(y,v),y.index=0,y.sibling=null,y}function o(y,v,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<v?(y.flags|=67108866,v):b):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function a(y,v,b,_){return v===null||v.tag!==6?(v=VT(b,y.mode,_),v.return=y,v):(v=i(v,b),v.return=y,v)}function l(y,v,b,_){var x=b.type;return x===bp?c(y,v,b.props.children,_,b.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===hc&&xd(x)===v.type)?(v=i(v,b.props),Xm(v,b),v.return=y,v):(v=U0(b.type,b.key,b.props,null,y.mode,_),Xm(v,b),v.return=y,v)}function u(y,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=qT(b,y.mode,_),v.return=y,v):(v=i(v,b.children||[]),v.return=y,v)}function c(y,v,b,_,x){return v===null||v.tag!==7?(v=Wd(b,y.mode,_,x),v.return=y,v):(v=i(v,b),v.return=y,v)}function d(y,v,b){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=VT(""+v,y.mode,b),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Mb:return b=U0(v.type,v.key,v.props,null,y.mode,b),Xm(b,v),b.return=y,b;case Og:return v=qT(v,y.mode,b),v.return=y,v;case hc:return v=xd(v),d(y,v,b)}if(Dg(v)||Wm(v))return v=Wd(v,y.mode,b,null),v.return=y,v;if(typeof v.then=="function")return d(y,zb(v),b);if(v.$$typeof===du)return d(y,Fb(y,v),b);Vb(y,v)}return null}function f(y,v,b,_){var x=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return x!==null?null:a(y,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Mb:return b.key===x?l(y,v,b,_):null;case Og:return b.key===x?u(y,v,b,_):null;case hc:return b=xd(b),f(y,v,b,_)}if(Dg(b)||Wm(b))return x!==null?null:c(y,v,b,_,null);if(typeof b.then=="function")return f(y,v,zb(b),_);if(b.$$typeof===du)return f(y,v,Fb(y,b),_);Vb(y,b)}return null}function m(y,v,b,_,x){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return y=y.get(b)||null,a(v,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Mb:return y=y.get(_.key===null?b:_.key)||null,l(v,y,_,x);case Og:return y=y.get(_.key===null?b:_.key)||null,u(v,y,_,x);case hc:return _=xd(_),m(y,v,b,_,x)}if(Dg(_)||Wm(_))return y=y.get(b)||null,c(v,y,_,x,null);if(typeof _.then=="function")return m(y,v,b,zb(_),x);if(_.$$typeof===du)return m(y,v,b,Fb(v,_),x);Vb(v,_)}return null}function h(y,v,b,_){for(var x=null,T=null,w=v,E=v=0,C=null;w!==null&&E<b.length;E++){w.index>E?(C=w,w=null):C=w.sibling;var D=f(y,w,b[E],_);if(D===null){w===null&&(w=C);break}e&&w&&D.alternate===null&&t(y,w),v=o(D,v,E),T===null?x=D:T.sibling=D,T=D,w=C}if(E===b.length)return n(y,w),ir&&ou(y,E),x;if(w===null){for(;E<b.length;E++)w=d(y,b[E],_),w!==null&&(v=o(w,v,E),T===null?x=w:T.sibling=w,T=w);return ir&&ou(y,E),x}for(w=r(w);E<b.length;E++)C=m(w,y,E,b[E],_),C!==null&&(e&&C.alternate!==null&&w.delete(C.key===null?E:C.key),v=o(C,v,E),T===null?x=C:T.sibling=C,T=C);return e&&w.forEach(function(O){return t(y,O)}),ir&&ou(y,E),x}function g(y,v,b,_){if(b==null)throw Error(ht(151));for(var x=null,T=null,w=v,E=v=0,C=null,D=b.next();w!==null&&!D.done;E++,D=b.next()){w.index>E?(C=w,w=null):C=w.sibling;var O=f(y,w,D.value,_);if(O===null){w===null&&(w=C);break}e&&w&&O.alternate===null&&t(y,w),v=o(O,v,E),T===null?x=O:T.sibling=O,T=O,w=C}if(D.done)return n(y,w),ir&&ou(y,E),x;if(w===null){for(;!D.done;E++,D=b.next())D=d(y,D.value,_),D!==null&&(v=o(D,v,E),T===null?x=D:T.sibling=D,T=D);return ir&&ou(y,E),x}for(w=r(w);!D.done;E++,D=b.next())D=m(w,y,E,D.value,_),D!==null&&(e&&D.alternate!==null&&w.delete(D.key===null?E:D.key),v=o(D,v,E),T===null?x=D:T.sibling=D,T=D);return e&&w.forEach(function(I){return t(y,I)}),ir&&ou(y,E),x}function S(y,v,b,_){if(typeof b=="object"&&b!==null&&b.type===bp&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Mb:e:{for(var x=b.key;v!==null;){if(v.key===x){if(x=b.type,x===bp){if(v.tag===7){n(y,v.sibling),_=i(v,b.props.children),_.return=y,y=_;break e}}else if(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===hc&&xd(x)===v.type){n(y,v.sibling),_=i(v,b.props),Xm(_,b),_.return=y,y=_;break e}n(y,v);break}else t(y,v);v=v.sibling}b.type===bp?(_=Wd(b.props.children,y.mode,_,b.key),_.return=y,y=_):(_=U0(b.type,b.key,b.props,null,y.mode,_),Xm(_,b),_.return=y,y=_)}return s(y);case Og:e:{for(x=b.key;v!==null;){if(v.key===x)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(y,v.sibling),_=i(v,b.children||[]),_.return=y,y=_;break e}else{n(y,v);break}else t(y,v);v=v.sibling}_=qT(b,y.mode,_),_.return=y,y=_}return s(y);case hc:return b=xd(b),S(y,v,b,_)}if(Dg(b))return h(y,v,b,_);if(Wm(b)){if(x=Wm(b),typeof x!="function")throw Error(ht(150));return b=x.call(b),g(y,v,b,_)}if(typeof b.then=="function")return S(y,v,zb(b),_);if(b.$$typeof===du)return S(y,v,Fb(y,b),_);Vb(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,v!==null&&v.tag===6?(n(y,v.sibling),_=i(v,b),_.return=y,y=_):(n(y,v),_=VT(b,y.mode,_),_.return=y,y=_),s(y)):n(y,v)}return function(y,v,b,_){try{Py=0;var x=S(y,v,b,_);return Hp=null,x}catch(w){if(w===um||w===Cx)throw w;var T=Fs(29,w,null,y.mode);return T.lanes=_,T.return=y,T}finally{}}}var cf=X8(!0),Z8=X8(!1),mc=!1;function kO(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function E2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Lc(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $c(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,dr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=A_(e),z8(e,null,n),t}return Ax(e,r,t,n),A_(e)}function Wg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,m8(e,n)}}function GT(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var A2=!1;function Yg(){if(A2){var e=qp;if(e!==null)throw e}}function Kg(e,t,n,r){A2=!1;var i=e.updateQueue;mc=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane&-536870913,m=f!==a.lane;if(m?(er&f)===f:(r&f)===f){f!==0&&f===vh&&(A2=!0),c!==null&&(c=c.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var h=e,g=a;f=t;var S=n;switch(g.tag){case 1:if(h=g.payload,typeof h=="function"){d=h.call(S,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(S,d,f):h,f==null)break e;d=oi({},d,f);break e;case 2:mc=!0}}f=a.callback,f!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[f]:m.push(f))}else m={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,o===null&&(i.shared.lanes=0),Xc|=s,e.lanes=s,e.memoizedState=d}}function Q8(e,t){if(typeof e!="function")throw Error(ht(191,e));e.call(t)}function J8(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Q8(n[e],t)}var bh=Hl(null),P_=Hl(0);function dN(e,t){e=Cu,Kr(P_,e),Kr(bh,t),Cu=e|t.baseLanes}function C2(){Kr(P_,Cu),Kr(bh,bh.current)}function NO(){Cu=P_.current,_o(bh),_o(P_)}var ra=Hl(null),Oa=null;function _c(e){var t=e.alternate;Kr(ji,ji.current&1),Kr(ra,e),Oa===null&&(t===null||bh.current!==null||t.memoizedState!==null)&&(Oa=e)}function O2(e){Kr(ji,ji.current),Kr(ra,e),Oa===null&&(Oa=e)}function e5(e){e.tag===22?(Kr(ji,ji.current),Kr(ra,e),Oa===null&&(Oa=e)):Sc()}function Sc(){Kr(ji,ji.current),Kr(ra,ra.current)}function Us(e){_o(ra),Oa===e&&(Oa=null),_o(ji)}var ji=Hl(0);function R_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||W2(n)||Y2(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tu=0,kn=null,kr=null,Wi=null,I_=!1,Gp=!1,df=!1,k_=0,Ry=0,Wp=null,tee=0;function Ti(){throw Error(ht(321))}function MO(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!na(e[n],t[n]))return!1;return!0}function jO(e,t,n,r,i,o){return Tu=o,kn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xn.H=e===null||e.memoizedState===null?R5:WO,df=!1,o=n(r,i),df=!1,Gp&&(o=n5(t,n,r,i)),t5(e),o}function t5(e){xn.H=Iy;var t=kr!==null&&kr.next!==null;if(Tu=0,Wi=kr=kn=null,I_=!1,Ry=0,Wp=null,t)throw Error(ht(300));e===null||Zi||(e=e.dependencies,e!==null&&O_(e)&&(Zi=!0))}function n5(e,t,n,r){kn=e;var i=0;do{if(Gp&&(Wp=null),Ry=0,Gp=!1,25<=i)throw Error(ht(301));if(i+=1,Wi=kr=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}xn.H=I5,o=t(n,r)}while(Gp);return o}function nee(){var e=xn.H,t=e.useState()[0];return t=typeof t.then=="function"?Iv(t):t,e=e.useState()[0],(kr!==null?kr.memoizedState:null)!==e&&(kn.flags|=1024),t}function LO(){var e=k_!==0;return k_=0,e}function $O(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function BO(e){if(I_){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}I_=!1}Tu=0,Wi=kr=kn=null,Gp=!1,Ry=k_=0,Wp=null}function ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wi===null?kn.memoizedState=Wi=e:Wi=Wi.next=e,Wi}function Li(){if(kr===null){var e=kn.alternate;e=e!==null?e.memoizedState:null}else e=kr.next;var t=Wi===null?kn.memoizedState:Wi.next;if(t!==null)Wi=t,kr=e;else{if(e===null)throw kn.alternate===null?Error(ht(467)):Error(ht(310));kr=e,e={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},Wi===null?kn.memoizedState=Wi=e:Wi=Wi.next=e}return Wi}function Ox(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iv(e){var t=Ry;return Ry+=1,Wp===null&&(Wp=[]),e=K8(Wp,e,t),t=kn,(Wi===null?t.memoizedState:Wi.next)===null&&(t=t.alternate,xn.H=t===null||t.memoizedState===null?R5:WO),e}function Dx(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Iv(e);if(e.$$typeof===du)return Mo(e)}throw Error(ht(438,String(e)))}function UO(e){var t=null,n=kn.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=kn.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ox(),kn.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=FQ;return t.index++,n}function Eu(e,t){return typeof t=="function"?t(e):t}function z0(e){var t=Li();return FO(t,kr,e)}function FO(e,t,n){var r=e.queue;if(r===null)throw Error(ht(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var a=s=null,l=null,u=t,c=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(er&d)===d:(Tu&d)===d){var f=u.revertLane;if(f===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===vh&&(c=!0);else if((Tu&f)===f){u=u.next,f===vh&&(c=!0);continue}else d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(a=l=d,s=o):l=l.next=d,kn.lanes|=f,Xc|=f;d=u.action,df&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(a=l=f,s=o):l=l.next=f,kn.lanes|=d,Xc|=d;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=a,!na(o,e.memoizedState)&&(Zi=!0,c&&(n=qp,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function WT(e){var t=Li(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);na(o,t.memoizedState)||(Zi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function r5(e,t,n){var r=kn,i=Li(),o=ir;if(o){if(n===void 0)throw Error(ht(407));n=n()}else n=t();var s=!na((kr||i).memoizedState,n);if(s&&(i.memoizedState=n,Zi=!0),i=i.queue,zO(s5.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||Wi!==null&&Wi.memoizedState.tag&1){if(r.flags|=2048,_h(9,{destroy:void 0},o5.bind(null,r,i,n,t),null),Vr===null)throw Error(ht(349));o||Tu&127||i5(r,t,n)}return n}function i5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kn.updateQueue,t===null?(t=Ox(),kn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function o5(e,t,n,r){t.value=n,t.getSnapshot=r,a5(t)&&l5(e)}function s5(e,t,n){return n(function(){a5(t)&&l5(e)})}function a5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!na(e,n)}catch{return!0}}function l5(e){var t=Mf(e,2);t!==null&&Es(t,e,2)}function D2(e){var t=ns();if(typeof e=="function"){var n=e;if(e=n(),df){Cc(!0);try{n()}finally{Cc(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:e},t}function u5(e,t,n,r){return e.baseState=n,FO(e,kr,typeof r=="function"?r:Eu)}function ree(e,t,n,r,i){if(Rx(e))throw Error(ht(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){o.listeners.push(s)}};xn.T!==null?n(!0):o.isTransition=!1,r(o),n=t.pending,n===null?(o.next=t.pending=o,c5(t,o)):(o.next=n.next,t.pending=n.next=o)}}function c5(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=xn.T,s={};xn.T=s;try{var a=n(i,r),l=xn.S;l!==null&&l(s,a),fN(e,t,a)}catch(u){P2(e,t,u)}finally{o!==null&&s.types!==null&&(o.types=s.types),xn.T=o}}else try{o=n(i,r),fN(e,t,o)}catch(u){P2(e,t,u)}}function fN(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){pN(e,t,r)},function(r){return P2(e,t,r)}):pN(e,t,n)}function pN(e,t,n){t.status="fulfilled",t.value=n,d5(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,c5(e,n)))}function P2(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,d5(t),t=t.next;while(t!==r)}e.action=null}function d5(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function f5(e,t){return t}function hN(e,t){if(ir){var n=Vr.formState;if(n!==null){e:{var r=kn;if(ir){if(ni){t:{for(var i=ni,o=Ea;i.nodeType!==8;){if(!o){i=null;break t}if(i=Da(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){ni=Da(i.nextSibling),r=i.data==="F!";break e}}Yc(r)}r=!1}r&&(t=n[0])}}return n=ns(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f5,lastRenderedState:t},n.queue=r,n=O5.bind(null,kn,r),r.dispatch=n,r=D2(!1),o=GO.bind(null,kn,!1,r.queue),r=ns(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=ree.bind(null,kn,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function mN(e){var t=Li();return p5(t,kr,e)}function p5(e,t,n){if(t=FO(e,t,f5)[0],e=z0(Eu)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Iv(t)}catch(s){throw s===um?Cx:s}else r=t;t=Li();var i=t.queue,o=i.dispatch;return n!==t.memoizedState&&(kn.flags|=2048,_h(9,{destroy:void 0},iee.bind(null,i,n),null)),[r,o,e]}function iee(e,t){e.action=t}function gN(e){var t=Li(),n=kr;if(n!==null)return p5(t,n,e);Li(),t=t.memoizedState,n=Li();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function _h(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=kn.updateQueue,t===null&&(t=Ox(),kn.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function h5(){return Li().memoizedState}function V0(e,t,n,r){var i=ns();kn.flags|=e,i.memoizedState=_h(1|t,{destroy:void 0},n,r===void 0?null:r)}function Px(e,t,n,r){var i=Li();r=r===void 0?null:r;var o=i.memoizedState.inst;kr!==null&&r!==null&&MO(r,kr.memoizedState.deps)?i.memoizedState=_h(t,o,n,r):(kn.flags|=e,i.memoizedState=_h(1|t,o,n,r))}function yN(e,t){V0(8390656,8,e,t)}function zO(e,t){Px(2048,8,e,t)}function oee(e){kn.flags|=4;var t=kn.updateQueue;if(t===null)t=Ox(),kn.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function m5(e){var t=Li().memoizedState;return oee({ref:t,nextImpl:e}),function(){if(dr&2)throw Error(ht(440));return t.impl.apply(void 0,arguments)}}function g5(e,t){return Px(4,2,e,t)}function y5(e,t){return Px(4,4,e,t)}function v5(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function b5(e,t,n){n=n!=null?n.concat([e]):null,Px(4,4,v5.bind(null,t,e),n)}function VO(){}function _5(e,t){var n=Li();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&MO(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function S5(e,t){var n=Li();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&MO(t,r[1]))return r[0];if(r=e(),df){Cc(!0);try{e()}finally{Cc(!1)}}return n.memoizedState=[r,t],r}function qO(e,t,n){return n===void 0||Tu&1073741824&&!(er&261930)?e.memoizedState=t:(e.memoizedState=n,e=u6(),kn.lanes|=e,Xc|=e,n)}function x5(e,t,n,r){return na(n,t)?n:bh.current!==null?(e=qO(e,n,r),na(e,t)||(Zi=!0),e):!(Tu&42)||Tu&1073741824&&!(er&261930)?(Zi=!0,e.memoizedState=n):(e=u6(),kn.lanes|=e,Xc|=e,t)}function w5(e,t,n,r,i){var o=fr.p;fr.p=o!==0&&8>o?o:8;var s=xn.T,a={};xn.T=a,GO(e,!1,t,n);try{var l=i(),u=xn.S;if(u!==null&&u(a,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=eee(l,r);Xg(e,t,c,Zs(e))}else Xg(e,t,r,Zs(e))}catch(d){Xg(e,t,{then:function(){},status:"rejected",reason:d},Zs())}finally{fr.p=o,s!==null&&a.types!==null&&(s.types=a.types),xn.T=s}}function see(){}function R2(e,t,n,r){if(e.tag!==5)throw Error(ht(476));var i=T5(e).queue;w5(e,i,t,Gd,n===null?see:function(){return E5(e),n(r)})}function T5(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Gd,baseState:Gd,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:Gd},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function E5(e){var t=T5(e);t.next===null&&(t=e.alternate.memoizedState),Xg(e,t.next.queue,{},Zs())}function HO(){return Mo(My)}function A5(){return Li().memoizedState}function C5(){return Li().memoizedState}function aee(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Zs();e=Lc(n);var r=$c(t,e,n);r!==null&&(Es(r,t,n),Wg(r,t,n)),t={cache:PO()},e.payload=t;return}t=t.return}}function lee(e,t,n){var r=Zs();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Rx(e)?D5(t,n):(n=AO(e,t,n,r),n!==null&&(Es(n,e,r),P5(n,t,r)))}function O5(e,t,n){var r=Zs();Xg(e,t,n,r)}function Xg(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rx(e))D5(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,na(a,s))return Ax(e,t,i,0),Vr===null&&Ex(),!1}catch{}finally{}if(n=AO(e,t,i,r),n!==null)return Es(n,e,r),P5(n,t,r),!0}return!1}function GO(e,t,n,r){if(r={lane:2,revertLane:tD(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Rx(e)){if(t)throw Error(ht(479))}else t=AO(e,n,r,2),t!==null&&Es(t,e,2)}function Rx(e){var t=e.alternate;return e===kn||t!==null&&t===kn}function D5(e,t){Gp=I_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function P5(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,m8(e,n)}}var Iy={readContext:Mo,use:Dx,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useLayoutEffect:Ti,useInsertionEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useSyncExternalStore:Ti,useId:Ti,useHostTransitionStatus:Ti,useFormState:Ti,useActionState:Ti,useOptimistic:Ti,useMemoCache:Ti,useCacheRefresh:Ti};Iy.useEffectEvent=Ti;var R5={readContext:Mo,use:Dx,useCallback:function(e,t){return ns().memoizedState=[e,t===void 0?null:t],e},useContext:Mo,useEffect:yN,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,V0(4194308,4,v5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return V0(4194308,4,e,t)},useInsertionEffect:function(e,t){V0(4,2,e,t)},useMemo:function(e,t){var n=ns();t=t===void 0?null:t;var r=e();if(df){Cc(!0);try{e()}finally{Cc(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ns();if(n!==void 0){var i=n(t);if(df){Cc(!0);try{n(t)}finally{Cc(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lee.bind(null,kn,e),[r.memoizedState,e]},useRef:function(e){var t=ns();return e={current:e},t.memoizedState=e},useState:function(e){e=D2(e);var t=e.queue,n=O5.bind(null,kn,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:VO,useDeferredValue:function(e,t){var n=ns();return qO(n,e,t)},useTransition:function(){var e=D2(!1);return e=w5.bind(null,kn,e.queue,!0,!1),ns().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=kn,i=ns();if(ir){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=t(),Vr===null)throw Error(ht(349));er&127||i5(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,yN(s5.bind(null,r,o,e),[e]),r.flags|=2048,_h(9,{destroy:void 0},o5.bind(null,r,o,n,t),null),n},useId:function(){var e=ns(),t=Vr.identifierPrefix;if(ir){var n=Ol,r=Cl;n=(r&~(1<<32-Xs(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=k_++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=tee++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:HO,useFormState:hN,useActionState:hN,useOptimistic:function(e){var t=ns();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=GO.bind(null,kn,!0,n),n.dispatch=t,[e,t]},useMemoCache:UO,useCacheRefresh:function(){return ns().memoizedState=aee.bind(null,kn)},useEffectEvent:function(e){var t=ns(),n={impl:e};return t.memoizedState=n,function(){if(dr&2)throw Error(ht(440));return n.impl.apply(void 0,arguments)}}},WO={readContext:Mo,use:Dx,useCallback:_5,useContext:Mo,useEffect:zO,useImperativeHandle:b5,useInsertionEffect:g5,useLayoutEffect:y5,useMemo:S5,useReducer:z0,useRef:h5,useState:function(){return z0(Eu)},useDebugValue:VO,useDeferredValue:function(e,t){var n=Li();return x5(n,kr.memoizedState,e,t)},useTransition:function(){var e=z0(Eu)[0],t=Li().memoizedState;return[typeof e=="boolean"?e:Iv(e),t]},useSyncExternalStore:r5,useId:A5,useHostTransitionStatus:HO,useFormState:mN,useActionState:mN,useOptimistic:function(e,t){var n=Li();return u5(n,kr,e,t)},useMemoCache:UO,useCacheRefresh:C5};WO.useEffectEvent=m5;var I5={readContext:Mo,use:Dx,useCallback:_5,useContext:Mo,useEffect:zO,useImperativeHandle:b5,useInsertionEffect:g5,useLayoutEffect:y5,useMemo:S5,useReducer:WT,useRef:h5,useState:function(){return WT(Eu)},useDebugValue:VO,useDeferredValue:function(e,t){var n=Li();return kr===null?qO(n,e,t):x5(n,kr.memoizedState,e,t)},useTransition:function(){var e=WT(Eu)[0],t=Li().memoizedState;return[typeof e=="boolean"?e:Iv(e),t]},useSyncExternalStore:r5,useId:A5,useHostTransitionStatus:HO,useFormState:gN,useActionState:gN,useOptimistic:function(e,t){var n=Li();return kr!==null?u5(n,kr,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:UO,useCacheRefresh:C5};I5.useEffectEvent=m5;function YT(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var I2={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=Lc(r);i.payload=t,n!=null&&(i.callback=n),t=$c(e,i,r),t!==null&&(Es(t,e,r),Wg(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=Lc(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$c(e,i,r),t!==null&&(Es(t,e,r),Wg(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zs(),r=Lc(n);r.tag=2,t!=null&&(r.callback=t),t=$c(e,r,n),t!==null&&(Es(t,e,n),Wg(t,e,n))}};function vN(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Cy(n,r)||!Cy(i,o):!0}function bN(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&I2.enqueueReplaceState(t,t.state,null)}function ff(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=oi({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}function k5(e){E_(e)}function N5(e){console.error(e)}function M5(e){E_(e)}function N_(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function _N(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function k2(e,t,n){return n=Lc(n),n.tag=3,n.payload={element:null},n.callback=function(){N_(e,t)},n}function j5(e){return e=Lc(e),e.tag=3,e}function L5(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){_N(t,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(e.callback=function(){_N(t,n,r),typeof i!="function"&&(Bc===null?Bc=new Set([this]):Bc.add(this));var a=r.stack;this.componentDidCatch(r.value,{componentStack:a!==null?a:""})})}function uee(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&lm(t,n,i,!0),n=ra.current,n!==null){switch(n.tag){case 31:case 13:return Oa===null?B_():n.alternate===null&&Oi===0&&(Oi=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===D_?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),o1(e,r,i)),!1;case 22:return n.flags|=65536,r===D_?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),o1(e,r,i)),!1}throw Error(ht(435,n.tag))}return o1(e,r,i),B_(),!1}if(ir)return t=ra.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==_2&&(e=Error(ht(422),{cause:r}),Dy(Ta(e,n)))):(r!==_2&&(t=Error(ht(423),{cause:r}),Dy(Ta(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Ta(r,n),i=k2(e.stateNode,r,i),GT(e,i),Oi!==4&&(Oi=2)),!1;var o=Error(ht(520),{cause:r});if(o=Ta(o,n),Jg===null?Jg=[o]:Jg.push(o),Oi!==4&&(Oi=2),t===null)return!0;r=Ta(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=k2(n.stateNode,r,e),GT(n,e),!1;case 1:if(t=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Bc===null||!Bc.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,i=j5(i),L5(i,e,n,r),GT(n,i),!1}n=n.return}while(n!==null);return!1}var YO=Error(ht(461)),Zi=!1;function Po(e,t,n,r){t.child=e===null?Z8(t,null,n,r):cf(t,e.child,n,r)}function SN(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var s={};for(var a in r)a!=="ref"&&(s[a]=r[a])}else s=r;return uf(t),r=jO(e,t,n,s,o,i),a=LO(),e!==null&&!Zi?($O(e,t,i),Au(e,t,i)):(ir&&a&&OO(t),t.flags|=1,Po(e,t,r,i),t.child)}function xN(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!CO(o)&&o.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=o,$5(e,t,o,r,i)):(e=U0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!KO(e,i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Cy,n(s,r)&&e.ref===t.ref)return Au(e,t,i)}return t.flags|=1,e=hu(o,r),e.ref=t.ref,e.return=t,t.child=e}function $5(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Cy(o,r)&&e.ref===t.ref)if(Zi=!1,t.pendingProps=r=o,KO(e,i))e.flags&131072&&(Zi=!0);else return t.lanes=e.lanes,Au(e,t,i)}return N2(e,t,n,r,i)}function B5(e,t,n,r){var i=r.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(o=o!==null?o.baseLanes|n:n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return wN(e,t,o,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&F0(t,o!==null?o.cachePool:null),o!==null?dN(t,o):C2(),e5(t);else return r=t.lanes=536870912,wN(e,t,o!==null?o.baseLanes|n:n,n,r)}else o!==null?(F0(t,o.cachePool),dN(t,o),Sc(),t.memoizedState=null):(e!==null&&F0(t,null),C2(),Sc());return Po(e,t,i,n),t.child}function Rg(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wN(e,t,n,r,i){var o=RO();return o=o===null?null:{parent:Xi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},e!==null&&F0(t,null),C2(),e5(t),e!==null&&lm(e,t,r,!0),t.childLanes=i,null}function q0(e,t){return t=M_({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function TN(e,t,n){return cf(t,e.child,null,n),e=q0(t,t.pendingProps),e.flags|=2,Us(t),t.memoizedState=null,e}function cee(e,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ir){if(r.mode==="hidden")return e=q0(t,r),t.lanes=536870912,Rg(null,e);if(O2(t),(e=ni)?(e=R6(e,Ea),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wc!==null?{id:Cl,overflow:Ol}:null,retryLane:536870912,hydrationErrors:null},n=q8(e),n.return=t,t.child=n,ko=t,ni=null)):e=null,e===null)throw Yc(t);return t.lanes=536870912,null}return q0(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(O2(t),i)if(t.flags&256)t.flags&=-257,t=TN(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(ht(558));else if(Zi||lm(e,t,n,!1),i=(n&e.childLanes)!==0,Zi||i){if(r=Vr,r!==null&&(s=g8(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Mf(e,s),Es(r,e,s),YO;B_(),t=TN(e,t,n)}else e=o.treeContext,ni=Da(s.nextSibling),ko=t,ir=!0,jc=null,Ea=!1,e!==null&&G8(t,e),t=q0(t,r),t.flags|=4096;return t}return e=hu(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function H0(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(ht(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function N2(e,t,n,r,i){return uf(t),n=jO(e,t,n,r,void 0,i),r=LO(),e!==null&&!Zi?($O(e,t,i),Au(e,t,i)):(ir&&r&&OO(t),t.flags|=1,Po(e,t,n,i),t.child)}function EN(e,t,n,r,i,o){return uf(t),t.updateQueue=null,n=n5(t,r,n,i),t5(e),r=LO(),e!==null&&!Zi?($O(e,t,o),Au(e,t,o)):(ir&&r&&OO(t),t.flags|=1,Po(e,t,n,o),t.child)}function AN(e,t,n,r,i){if(uf(t),t.stateNode===null){var o=Cp,s=n.contextType;typeof s=="object"&&s!==null&&(o=Mo(s)),o=new n(r,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=I2,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=r,o.state=t.memoizedState,o.refs={},kO(t),s=n.contextType,o.context=typeof s=="object"&&s!==null?Mo(s):Cp,o.state=t.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(YT(t,n,s,r),o.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(s=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),s!==o.state&&I2.enqueueReplaceState(o,o.state,null),Kg(t,r,o,i),Yg(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){o=t.stateNode;var a=t.memoizedProps,l=ff(n,a);o.props=l;var u=o.context,c=n.contextType;s=Cp,typeof c=="object"&&c!==null&&(s=Mo(c));var d=n.getDerivedStateFromProps;c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function",a=t.pendingProps!==a,c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a||u!==s)&&bN(t,o,r,s),mc=!1;var f=t.memoizedState;o.state=f,Kg(t,r,o,i),Yg(),u=t.memoizedState,a||f!==u||mc?(typeof d=="function"&&(YT(t,n,d,r),u=t.memoizedState),(l=mc||vN(t,n,l,r,f,u,s))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=s,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,E2(e,t),s=t.memoizedProps,c=ff(n,s),o.props=c,d=t.pendingProps,f=o.context,u=n.contextType,l=Cp,typeof u=="object"&&u!==null&&(l=Mo(u)),a=n.getDerivedStateFromProps,(u=typeof a=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||f!==l)&&bN(t,o,r,l),mc=!1,f=t.memoizedState,o.state=f,Kg(t,r,o,i),Yg();var m=t.memoizedState;s!==d||f!==m||mc||e!==null&&e.dependencies!==null&&O_(e.dependencies)?(typeof a=="function"&&(YT(t,n,a,r),m=t.memoizedState),(c=mc||vN(t,n,c,r,f,m,l)||e!==null&&e.dependencies!==null&&O_(e.dependencies))?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,H0(e,t),r=(t.flags&128)!==0,o||r?(o=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&r?(t.child=cf(t,e.child,null,i),t.child=cf(t,null,n,i)):Po(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Au(e,t,i),e}function CN(e,t,n,r){return lf(),t.flags|=256,Po(e,t,n,r),t.child}var KT={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function XT(e){return{baseLanes:e,cachePool:Y8()}}function ZT(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Gs),e}function U5(e,t,n){var r=t.pendingProps,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(ji.current&2)!==0),s&&(i=!0,t.flags&=-129),s=(t.flags&32)!==0,t.flags&=-33,e===null){if(ir){if(i?_c(t):Sc(),(e=ni)?(e=R6(e,Ea),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Wc!==null?{id:Cl,overflow:Ol}:null,retryLane:536870912,hydrationErrors:null},n=q8(e),n.return=t,t.child=n,ko=t,ni=null)):e=null,e===null)throw Yc(t);return Y2(e)?t.lanes=32:t.lanes=536870912,null}var a=r.children;return r=r.fallback,i?(Sc(),i=t.mode,a=M_({mode:"hidden",children:a},i),r=Wd(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r=t.child,r.memoizedState=XT(n),r.childLanes=ZT(e,s,n),t.memoizedState=KT,Rg(null,r)):(_c(t),M2(t,a))}var l=e.memoizedState;if(l!==null&&(a=l.dehydrated,a!==null)){if(o)t.flags&256?(_c(t),t.flags&=-257,t=QT(e,t,n)):t.memoizedState!==null?(Sc(),t.child=e.child,t.flags|=128,t=null):(Sc(),a=r.fallback,i=t.mode,r=M_({mode:"visible",children:r.children},i),a=Wd(a,i,n,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,cf(t,e.child,null,n),r=t.child,r.memoizedState=XT(n),r.childLanes=ZT(e,s,n),t.memoizedState=KT,t=Rg(null,r));else if(_c(t),Y2(a)){if(s=a.nextSibling&&a.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(ht(419)),r.stack="",r.digest=s,Dy({value:r,source:null,stack:null}),t=QT(e,t,n)}else if(Zi||lm(e,t,n,!1),s=(n&e.childLanes)!==0,Zi||s){if(s=Vr,s!==null&&(r=g8(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Mf(e,r),Es(s,e,r),YO;W2(a)||B_(),t=QT(e,t,n)}else W2(a)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ni=Da(a.nextSibling),ko=t,ir=!0,jc=null,Ea=!1,e!==null&&G8(t,e),t=M2(t,r.children),t.flags|=4096);return t}return i?(Sc(),a=r.fallback,i=t.mode,l=e.child,u=l.sibling,r=hu(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?a=hu(u,a):(a=Wd(a,i,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,Rg(null,r),r=t.child,a=e.child.memoizedState,a===null?a=XT(n):(i=a.cachePool,i!==null?(l=Xi._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=Y8(),a={baseLanes:a.baseLanes|n,cachePool:i}),r.memoizedState=a,r.childLanes=ZT(e,s,n),t.memoizedState=KT,Rg(e.child,r)):(_c(t),n=e.child,e=n.sibling,n=hu(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function M2(e,t){return t=M_({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function M_(e,t){return e=Fs(22,e,null,t),e.lanes=0,e}function QT(e,t,n){return cf(t,e.child,null,n),e=M2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ON(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),x2(e.return,t,n)}function JT(e,t,n,r,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=o)}function F5(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var s=ji.current,a=(s&2)!==0;if(a?(s=s&1|2,t.flags|=128):s&=1,Kr(ji,s),Po(e,t,r,n),r=ir?Oy:0,!a&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ON(e,n,t);else if(e.tag===19)ON(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&R_(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),JT(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&R_(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}JT(t,!0,n,null,o,r);break;case"together":JT(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Au(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xc|=t.lanes,!(n&t.childLanes))if(e!==null){if(lm(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,n=hu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KO(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&O_(e)))}function dee(e,t,n){switch(t.tag){case 3:S_(t,t.stateNode.containerInfo),bc(t,Xi,e.memoizedState.cache),lf();break;case 27:case 5:u2(t);break;case 4:S_(t,t.stateNode.containerInfo);break;case 10:bc(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,O2(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(_c(t),t.flags|=128,null):n&t.child.childLanes?U5(e,t,n):(_c(t),e=Au(e,t,n),e!==null?e.sibling:null);_c(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(lm(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return F5(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Kr(ji,ji.current),r)break;return null;case 22:return t.lanes=0,B5(e,t,n,t.pendingProps);case 24:bc(t,Xi,e.memoizedState.cache)}return Au(e,t,n)}function z5(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Zi=!0;else{if(!KO(e,n)&&!(t.flags&128))return Zi=!1,dee(e,t,n);Zi=!!(e.flags&131072)}else Zi=!1,ir&&t.flags&1048576&&H8(t,Oy,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=xd(t.elementType),t.type=e,typeof e=="function")CO(e)?(r=ff(e,r),t.tag=1,t=AN(null,t,e,r,n)):(t.tag=0,t=N2(null,t,e,r,n));else{if(e!=null){var i=e.$$typeof;if(i===pO){t.tag=11,t=SN(null,t,e,r,n);break e}else if(i===hO){t.tag=14,t=xN(null,t,e,r,n);break e}}throw t=a2(e)||e,Error(ht(306,t,""))}}return t;case 0:return N2(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=ff(r,t.pendingProps),AN(e,t,r,i,n);case 3:e:{if(S_(t,t.stateNode.containerInfo),e===null)throw Error(ht(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,E2(e,t),Kg(t,r,null,n);var s=t.memoizedState;if(r=s.cache,bc(t,Xi,r),r!==o.cache&&w2(t,[Xi],n,!0),Yg(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=CN(e,t,r,n);break e}else if(r!==i){i=Ta(Error(ht(424)),t),Dy(i),t=CN(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ni=Da(e.firstChild),ko=t,ir=!0,jc=null,Ea=!0,n=Z8(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(lf(),r===i){t=Au(e,t,n);break e}Po(e,t,r,n)}t=t.child}return t;case 26:return H0(e,t),e===null?(n=YN(t.type,null,t.pendingProps,null))?t.memoizedState=n:ir||(n=t.type,e=t.pendingProps,r=V_(Mc.current).createElement(n),r[Io]=t,r[Ds]=e,$o(r,n,e),go(r),t.stateNode=r):t.memoizedState=YN(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return u2(t),e===null&&ir&&(r=t.stateNode=I6(t.type,t.pendingProps,Mc.current),ko=t,Ea=!0,i=ni,od(t.type)?(K2=i,ni=Da(r.firstChild)):ni=i),Po(e,t,t.pendingProps.children,n),H0(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ir&&((i=r=ni)&&(r=Fee(r,t.type,t.pendingProps,Ea),r!==null?(t.stateNode=r,ko=t,ni=Da(r.firstChild),Ea=!1,i=!0):i=!1),i||Yc(t)),u2(t),i=t.type,o=t.pendingProps,s=e!==null?e.memoizedProps:null,r=o.children,H2(i,o)?r=null:s!==null&&H2(i,s)&&(t.flags|=32),t.memoizedState!==null&&(i=jO(e,t,nee,null,null,n),My._currentValue=i),H0(e,t),Po(e,t,r,n),t.child;case 6:return e===null&&ir&&((e=n=ni)&&(n=zee(n,t.pendingProps,Ea),n!==null?(t.stateNode=n,ko=t,ni=null,e=!0):e=!1),e||Yc(t)),null;case 13:return U5(e,t,n);case 4:return S_(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=cf(t,null,r,n):Po(e,t,r,n),t.child;case 11:return SN(e,t,t.type,t.pendingProps,n);case 7:return Po(e,t,t.pendingProps,n),t.child;case 8:return Po(e,t,t.pendingProps.children,n),t.child;case 12:return Po(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bc(t,t.type,r.value),Po(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,uf(t),i=Mo(i),r=r(i),t.flags|=1,Po(e,t,r,n),t.child;case 14:return xN(e,t,t.type,t.pendingProps,n);case 15:return $5(e,t,t.type,t.pendingProps,n);case 19:return F5(e,t,n);case 31:return cee(e,t,n);case 22:return B5(e,t,n,t.pendingProps);case 24:return uf(t),r=Mo(Xi),e===null?(i=RO(),i===null&&(i=Vr,o=PO(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},kO(t),bc(t,Xi,i)):(e.lanes&n&&(E2(e,t),Kg(t,null,null,n),Yg()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),bc(t,Xi,r)):(r=o.cache,bc(t,Xi,r),r!==i.cache&&w2(t,[Xi],n,!0))),Po(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(ht(156,t.tag))}function Jl(e){e.flags|=4}function e1(e,t,n,r,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(f6())e.flags|=8192;else throw Kd=D_,IO}else e.flags&=-16777217}function DN(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!M6(t))if(f6())e.flags|=8192;else throw Kd=D_,IO}function qb(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?p8():536870912,e.lanes|=t,Sh|=t)}function Zm(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ei(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fee(e,t,n){var r=t.pendingProps;switch(DO(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ei(t),null;case 1:return ei(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),mu(Xi),mh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xf(t)?Jl(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,HT())),ei(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(Jl(t),o!==null?(ei(t),DN(t,o)):(ei(t),e1(t,i,null,r,n))):o?o!==e.memoizedState?(Jl(t),ei(t),DN(t,o)):(ei(t),t.flags&=-16777217):(e=e.memoizedProps,e!==r&&Jl(t),ei(t),e1(t,i,e,r,n)),null;case 27:if(x_(t),n=Mc.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Jl(t);else{if(!r){if(t.stateNode===null)throw Error(ht(166));return ei(t),null}e=Nl.current,Xf(t)?iN(t):(e=I6(i,r,n),t.stateNode=e,Jl(t))}return ei(t),null;case 5:if(x_(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Jl(t);else{if(!r){if(t.stateNode===null)throw Error(ht(166));return ei(t),null}if(o=Nl.current,Xf(t))iN(t);else{var s=V_(Mc.current);switch(o){case 1:o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=s.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}o[Io]=t,o[Ds]=r;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;e:switch($o(o,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Jl(t)}}return ei(t),e1(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Jl(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ht(166));if(e=Mc.current,Xf(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=ko,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Io]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||O6(e.nodeValue,n)),e||Yc(t,!0)}else e=V_(e).createTextNode(r),e[Io]=t,t.stateNode=e}return ei(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Xf(t),n!==null){if(e===null){if(!r)throw Error(ht(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(557));e[Io]=t}else lf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ei(t),e=!1}else n=HT(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Us(t),t):(Us(t),null);if(t.flags&128)throw Error(ht(558))}return ei(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Xf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(ht(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ht(317));i[Io]=t}else lf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ei(t),i=!1}else i=HT(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Us(t),t):(Us(t),null)}return Us(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),qb(t,t.updateQueue),ei(t),null);case 4:return mh(),e===null&&nD(t.stateNode.containerInfo),ei(t),null;case 10:return mu(t.type),ei(t),null;case 19:if(_o(ji),r=t.memoizedState,r===null)return ei(t),null;if(i=(t.flags&128)!==0,o=r.rendering,o===null)if(i)Zm(r,!1);else{if(Oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=R_(e),o!==null){for(t.flags|=128,Zm(r,!1),e=o.updateQueue,t.updateQueue=e,qb(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)V8(n,e),n=n.sibling;return Kr(ji,ji.current&1|2),ir&&ou(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&Ys()>L_&&(t.flags|=128,i=!0,Zm(r,!1),t.lanes=4194304)}else{if(!i)if(e=R_(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,qb(t,e),Zm(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ir)return ei(t),null}else 2*Ys()-r.renderingStartTime>L_&&n!==536870912&&(t.flags|=128,i=!0,Zm(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=Ys(),e.sibling=null,n=ji.current,Kr(ji,i?n&1|2:n&1),ir&&ou(t,r.treeForkCount),e):(ei(t),null);case 22:case 23:return Us(t),NO(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(ei(t),t.subtreeFlags&6&&(t.flags|=8192)):ei(t),n=t.updateQueue,n!==null&&qb(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&_o(Yd),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),mu(Xi),ei(t),null;case 25:return null;case 30:return null}throw Error(ht(156,t.tag))}function pee(e,t){switch(DO(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mu(Xi),mh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return x_(t),null;case 31:if(t.memoizedState!==null){if(Us(t),t.alternate===null)throw Error(ht(340));lf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Us(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));lf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _o(ji),null;case 4:return mh(),null;case 10:return mu(t.type),null;case 22:case 23:return Us(t),NO(),e!==null&&_o(Yd),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return mu(Xi),null;case 25:return null;default:return null}}function V5(e,t){switch(DO(t),t.tag){case 3:mu(Xi),mh();break;case 26:case 27:case 5:x_(t);break;case 4:mh();break;case 31:t.memoizedState!==null&&Us(t);break;case 13:Us(t);break;case 19:_o(ji);break;case 10:mu(t.type);break;case 22:case 23:Us(t),NO(),e!==null&&_o(Yd);break;case 24:mu(Xi)}}function kv(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,s=n.inst;r=o(),s.destroy=r}n=n.next}while(n!==i)}}catch(a){Tr(t,t.return,a)}}function Kc(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var o=i.next;r=o;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;if(a!==void 0){s.destroy=void 0,i=t;var l=n,u=a;try{u()}catch(c){Tr(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){Tr(t,t.return,c)}}function q5(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{J8(t,n)}catch(r){Tr(e,e.return,r)}}}function H5(e,t,n){n.props=ff(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Tr(e,t,r)}}function Zg(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Tr(e,t,i)}}function Dl(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Tr(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Tr(e,t,i)}else n.current=null}function G5(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Tr(e,e.return,i)}}function t1(e,t,n){try{var r=e.stateNode;Mee(r,e.type,n,t),r[Ds]=t}catch(i){Tr(e,e.return,i)}}function W5(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&od(e.type)||e.tag===4}function n1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||W5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&od(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function j2(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fu));else if(r!==4&&(r===27&&od(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(j2(e,t,n),e=e.sibling;e!==null;)j2(e,t,n),e=e.sibling}function j_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&od(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(j_(e,t,n),e=e.sibling;e!==null;)j_(e,t,n),e=e.sibling}function Y5(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$o(t,r,n),t[Io]=e,t[Ds]=n}catch(o){Tr(e,e.return,o)}}var su=!1,Yi=!1,r1=!1,PN=typeof WeakSet=="function"?WeakSet:Set,po=null;function hee(e,t){if(e=e.containerInfo,V2=W_,e=M8(e),TO(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===e)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(q2={focusedElem:e,selectionRange:n},W_=!1,po=t;po!==null;)if(t=po,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,po=e;else for(;po!==null;){switch(t=po,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)i=e[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=ff(n.type,i);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){Tr(n,n.return,g)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)G2(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":G2(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(ht(163))}if(e=t.sibling,e!==null){e.return=t.return,po=e;break}po=t.return}}function K5(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:tu(e,n),r&4&&kv(5,n);break;case 1:if(tu(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(s){Tr(n,n.return,s)}else{var i=ff(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Tr(n,n.return,s)}}r&64&&q5(n),r&512&&Zg(n,n.return);break;case 3:if(tu(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{J8(e,t)}catch(s){Tr(n,n.return,s)}}break;case 27:t===null&&r&4&&Y5(n);case 26:case 5:tu(e,n),t===null&&r&4&&G5(n),r&512&&Zg(n,n.return);break;case 12:tu(e,n);break;case 31:tu(e,n),r&4&&Q5(e,n);break;case 13:tu(e,n),r&4&&J5(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=wee.bind(null,n),Vee(e,n))));break;case 22:if(r=n.memoizedState!==null||su,!r){t=t!==null&&t.memoizedState!==null||Yi,i=su;var o=Yi;su=r,(Yi=t)&&!o?ru(e,n,(n.subtreeFlags&8772)!==0):tu(e,n),su=i,Yi=o}break;case 30:break;default:tu(e,n)}}function X5(e){var t=e.alternate;t!==null&&(e.alternate=null,X5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vO(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var li=null,gs=!1;function eu(e,t,n){for(n=n.child;n!==null;)Z5(e,t,n),n=n.sibling}function Z5(e,t,n){if(Ks&&typeof Ks.onCommitFiberUnmount=="function")try{Ks.onCommitFiberUnmount(Av,n)}catch{}switch(n.tag){case 26:Yi||Dl(n,t),eu(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Yi||Dl(n,t);var r=li,i=gs;od(n.type)&&(li=n.stateNode,gs=!1),eu(e,t,n),ty(n.stateNode),li=r,gs=i;break;case 5:Yi||Dl(n,t);case 6:if(r=li,i=gs,li=null,eu(e,t,n),li=r,gs=i,li!==null)if(gs)try{(li.nodeType===9?li.body:li.nodeName==="HTML"?li.ownerDocument.body:li).removeChild(n.stateNode)}catch(o){Tr(n,t,o)}else try{li.removeChild(n.stateNode)}catch(o){Tr(n,t,o)}break;case 18:li!==null&&(gs?(e=li,VN(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Eh(e)):VN(li,n.stateNode));break;case 4:r=li,i=gs,li=n.stateNode.containerInfo,gs=!0,eu(e,t,n),li=r,gs=i;break;case 0:case 11:case 14:case 15:Kc(2,n,t),Yi||Kc(4,n,t),eu(e,t,n);break;case 1:Yi||(Dl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&H5(n,t,r)),eu(e,t,n);break;case 21:eu(e,t,n);break;case 22:Yi=(r=Yi)||n.memoizedState!==null,eu(e,t,n),Yi=r;break;default:eu(e,t,n)}}function Q5(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Eh(e)}catch(n){Tr(t,t.return,n)}}}function J5(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eh(e)}catch(n){Tr(t,t.return,n)}}function mee(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new PN),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new PN),t;default:throw Error(ht(435,e.tag))}}function Hb(e,t){var n=mee(e);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=Tee.bind(null,e,r);r.then(i,i)}})}function fs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 27:if(od(a.type)){li=a.stateNode,gs=!1;break e}break;case 5:li=a.stateNode,gs=!1;break e;case 3:case 4:li=a.stateNode.containerInfo,gs=!0;break e}a=a.return}if(li===null)throw Error(ht(160));Z5(o,s,i),li=null,gs=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)e6(t,e),t=t.sibling}var Ka=null;function e6(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fs(t,e),ps(e),r&4&&(Kc(3,e,e.return),kv(3,e),Kc(5,e,e.return));break;case 1:fs(t,e),ps(e),r&512&&(Yi||n===null||Dl(n,n.return)),r&64&&su&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ka;if(fs(t,e),ps(e),r&512&&(Yi||n===null||Dl(n,n.return)),r&4){var o=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":o=i.getElementsByTagName("title")[0],(!o||o[Dv]||o[Io]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),$o(o,r,n),o[Io]=e,go(o),r=o;break e;case"link":var s=XN("link","href",i).get(r+(n.href||""));if(s){for(var a=0;a<s.length;a++)if(o=s[a],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(a,1);break t}}o=i.createElement(r),$o(o,r,n),i.head.appendChild(o);break;case"meta":if(s=XN("meta","content",i).get(r+(n.content||""))){for(a=0;a<s.length;a++)if(o=s[a],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(a,1);break t}}o=i.createElement(r),$o(o,r,n),i.head.appendChild(o);break;default:throw Error(ht(468,r))}o[Io]=e,go(o),r=o}e.stateNode=r}else ZN(i,e.type,e.stateNode);else e.stateNode=KN(i,r,e.memoizedProps);else o!==r?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?ZN(i,e.type,e.stateNode):KN(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&t1(e,e.memoizedProps,n.memoizedProps)}break;case 27:fs(t,e),ps(e),r&512&&(Yi||n===null||Dl(n,n.return)),n!==null&&r&4&&t1(e,e.memoizedProps,n.memoizedProps);break;case 5:if(fs(t,e),ps(e),r&512&&(Yi||n===null||Dl(n,n.return)),e.flags&32){i=e.stateNode;try{yh(i,"")}catch(h){Tr(e,e.return,h)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,t1(e,i,n!==null?n.memoizedProps:i)),r&1024&&(r1=!0);break;case 6:if(fs(t,e),ps(e),r&4){if(e.stateNode===null)throw Error(ht(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){Tr(e,e.return,h)}}break;case 3:if(Y0=null,i=Ka,Ka=q_(t.containerInfo),fs(t,e),Ka=i,ps(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(h){Tr(e,e.return,h)}r1&&(r1=!1,t6(e));break;case 4:r=Ka,Ka=q_(e.stateNode.containerInfo),fs(t,e),ps(e),Ka=r;break;case 12:fs(t,e),ps(e);break;case 31:fs(t,e),ps(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hb(e,r)));break;case 13:fs(t,e),ps(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ix=Ys()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hb(e,r)));break;case 22:i=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=su,c=Yi;if(su=u||i,Yi=c||l,fs(t,e),Yi=c,su=u,ps(e),r&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||l||su||Yi||wd(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,i)s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{a=l.stateNode;var d=l.memoizedProps.style,f=d!=null&&d.hasOwnProperty("display")?d.display:null;a.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(h){Tr(l,l.return,h)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(h){Tr(l,l.return,h)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;i?qN(m,!0):qN(l.stateNode,!1)}catch(h){Tr(l,l.return,h)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Hb(e,n))));break;case 19:fs(t,e),ps(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Hb(e,r)));break;case 30:break;case 21:break;default:fs(t,e),ps(e)}}function ps(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(W5(r)){n=r;break}r=r.return}if(n==null)throw Error(ht(160));switch(n.tag){case 27:var i=n.stateNode,o=n1(e);j_(e,o,i);break;case 5:var s=n.stateNode;n.flags&32&&(yh(s,""),n.flags&=-33);var a=n1(e);j_(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=n1(e);j2(e,u,l);break;default:throw Error(ht(161))}}catch(c){Tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function t6(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;t6(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function tu(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)K5(e,t.alternate,t),t=t.sibling}function wd(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kc(4,t,t.return),wd(t);break;case 1:Dl(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&H5(t,t.return,n),wd(t);break;case 27:ty(t.stateNode);case 26:case 5:Dl(t,t.return),wd(t);break;case 22:t.memoizedState===null&&wd(t);break;case 30:wd(t);break;default:wd(t)}e=e.sibling}}function ru(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:ru(i,o,n),kv(4,o);break;case 1:if(ru(i,o,n),r=o,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Tr(r,r.return,u)}if(r=o,i=r.updateQueue,i!==null){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Q8(l[i],a)}catch(u){Tr(r,r.return,u)}}n&&s&64&&q5(o),Zg(o,o.return);break;case 27:Y5(o);case 26:case 5:ru(i,o,n),n&&r===null&&s&4&&G5(o),Zg(o,o.return);break;case 12:ru(i,o,n);break;case 31:ru(i,o,n),n&&s&4&&Q5(i,o);break;case 13:ru(i,o,n),n&&s&4&&J5(i,o);break;case 22:o.memoizedState===null&&ru(i,o,n),Zg(o,o.return);break;case 30:break;default:ru(i,o,n)}t=t.sibling}}function XO(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Rv(n))}function ZO(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rv(e))}function qa(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)n6(e,t,n,r),t=t.sibling}function n6(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:qa(e,t,n,r),i&2048&&kv(9,t);break;case 1:qa(e,t,n,r);break;case 3:qa(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Rv(e)));break;case 12:if(i&2048){qa(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;typeof a=="function"&&a(s,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Tr(t,t.return,l)}}else qa(e,t,n,r);break;case 31:qa(e,t,n,r);break;case 13:qa(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,t.memoizedState!==null?o._visibility&2?qa(e,t,n,r):Qg(e,t):o._visibility&2?qa(e,t,n,r):(o._visibility|=2,hp(e,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&XO(s,t);break;case 24:qa(e,t,n,r),i&2048&&ZO(t.alternate,t);break;default:qa(e,t,n,r)}}function hp(e,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,s=t,a=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:hp(o,s,a,l,i),kv(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?hp(o,s,a,l,i):Qg(o,s):(c._visibility|=2,hp(o,s,a,l,i)),i&&u&2048&&XO(s.alternate,s);break;case 24:hp(o,s,a,l,i),i&&u&2048&&ZO(s.alternate,s);break;default:hp(o,s,a,l,i)}t=t.sibling}}function Qg(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Qg(n,r),i&2048&&XO(r.alternate,r);break;case 24:Qg(n,r),i&2048&&ZO(r.alternate,r);break;default:Qg(n,r)}t=t.sibling}}var Ig=8192;function Zf(e,t,n){if(e.subtreeFlags&Ig)for(e=e.child;e!==null;)r6(e,t,n),e=e.sibling}function r6(e,t,n){switch(e.tag){case 26:Zf(e,t,n),e.flags&Ig&&e.memoizedState!==null&&tte(n,Ka,e.memoizedState,e.memoizedProps);break;case 5:Zf(e,t,n);break;case 3:case 4:var r=Ka;Ka=q_(e.stateNode.containerInfo),Zf(e,t,n),Ka=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Ig,Ig=16777216,Zf(e,t,n),Ig=r):Zf(e,t,n));break;default:Zf(e,t,n)}}function i6(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Qm(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];po=r,s6(r,e)}i6(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)o6(e),e=e.sibling}function o6(e){switch(e.tag){case 0:case 11:case 15:Qm(e),e.flags&2048&&Kc(9,e,e.return);break;case 3:Qm(e);break;case 12:Qm(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,G0(e)):Qm(e);break;default:Qm(e)}}function G0(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];po=r,s6(r,e)}i6(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kc(8,t,t.return),G0(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,G0(t));break;default:G0(t)}e=e.sibling}}function s6(e,t){for(;po!==null;){var n=po;switch(n.tag){case 0:case 11:case 15:Kc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Rv(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,po=r;else e:for(n=e;po!==null;){r=po;var i=r.sibling,o=r.return;if(X5(r),r===n){po=null;break e}if(i!==null){i.return=o,po=i;break e}po=o}}}var gee={getCacheForType:function(e){var t=Mo(Xi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Mo(Xi).controller.signal}},yee=typeof WeakMap=="function"?WeakMap:Map,dr=0,Vr=null,Zn=null,er=0,xr=0,$s=null,Dc=!1,cm=!1,QO=!1,Cu=0,Oi=0,Xc=0,Xd=0,JO=0,Gs=0,Sh=0,Jg=null,bs=null,L2=!1,Ix=0,a6=0,L_=1/0,$_=null,Bc=null,ro=0,Uc=null,xh=null,gu=0,$2=0,B2=null,l6=null,ey=0,U2=null;function Zs(){return dr&2&&er!==0?er&-er:xn.T!==null?tD():y8()}function u6(){if(Gs===0)if(!(er&536870912)||ir){var e=Lb;Lb<<=1,!(Lb&3932160)&&(Lb=262144),Gs=e}else Gs=536870912;return e=ra.current,e!==null&&(e.flags|=32),Gs}function Es(e,t,n){(e===Vr&&(xr===2||xr===9)||e.cancelPendingCommit!==null)&&(wh(e,0),Pc(e,er,Gs,!1)),Ov(e,n),(!(dr&2)||e!==Vr)&&(e===Vr&&(!(dr&2)&&(Xd|=n),Oi===4&&Pc(e,er,Gs,!1)),Gl(e))}function c6(e,t,n){if(dr&6)throw Error(ht(327));var r=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Cv(e,t),i=r?_ee(e,t):i1(e,t,!0),o=r;do{if(i===0){cm&&!r&&Pc(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!vee(n)){i=i1(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){t=s;e:{var a=e;i=Jg;var l=a.current.memoizedState.isDehydrated;if(l&&(wh(a,s).flags|=256),s=i1(a,s,!1),s!==2){if(QO&&!l){a.errorRecoveryDisabledLanes|=o,Xd|=o,i=4;break e}o=bs,bs=i,o!==null&&(bs===null?bs=o:bs.push.apply(bs,o))}i=s}if(o=!1,i!==2)continue}}if(i===1){wh(e,0),Pc(e,t,0,!0);break}e:{switch(r=e,o=i,o){case 0:case 1:throw Error(ht(345));case 4:if((t&4194048)!==t)break;case 6:Pc(r,t,Gs,!Dc);break e;case 2:bs=null;break;case 3:case 5:break;default:throw Error(ht(329))}if((t&62914560)===t&&(i=Ix+300-Ys(),10<i)){if(Pc(r,t,Gs,!Dc),Sx(r,0,!0)!==0)break e;gu=t,r.timeoutHandle=P6(RN.bind(null,r,n,bs,$_,L2,t,Gs,Xd,Sh,Dc,o,"Throttled",-0,0),i);break e}RN(r,n,bs,$_,L2,t,Gs,Xd,Sh,Dc,o,null,-0,0)}}break}while(!0);Gl(e)}function RN(e,t,n,r,i,o,s,a,l,u,c,d,f,m){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)===16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fu},r6(t,o,d);var h=(o&62914560)===o?Ix-Ys():(o&4194048)===o?a6-Ys():0;if(h=nte(d,h),h!==null){gu=o,e.cancelPendingCommit=h(kN.bind(null,e,t,o,n,r,i,s,a,l,c,d,null,f,m)),Pc(e,o,s,!u);return}}kN(e,t,o,n,r,i,s,a,l)}function vee(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!na(o(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pc(e,t,n,r){t&=~JO,t&=~Xd,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-Xs(i),s=1<<o;r[o]=-1,i&=~s}n!==0&&h8(e,n,t)}function kx(){return dr&6?!0:(Nv(0),!1)}function eD(){if(Zn!==null){if(xr===0)var e=Zn.return;else e=Zn,pu=jf=null,BO(e),Hp=null,Py=0,e=Zn;for(;e!==null;)V5(e.alternate,e),e=e.return;Zn=null}}function wh(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,$ee(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),gu=0,eD(),Vr=e,Zn=n=hu(e.current,null),er=t,xr=0,$s=null,Dc=!1,cm=Cv(e,t),QO=!1,Sh=Gs=JO=Xd=Xc=Oi=0,bs=Jg=null,L2=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Xs(r),o=1<<i;t|=e[i],r&=~o}return Cu=t,Ex(),n}function d6(e,t){kn=null,xn.H=Iy,t===um||t===Cx?(t=uN(),xr=3):t===IO?(t=uN(),xr=4):xr=t===YO?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,$s=t,Zn===null&&(Oi=1,N_(e,Ta(t,e.current)))}function f6(){var e=ra.current;return e===null?!0:(er&4194048)===er?Oa===null:(er&62914560)===er||er&536870912?e===Oa:!1}function p6(){var e=xn.H;return xn.H=Iy,e===null?Iy:e}function h6(){var e=xn.A;return xn.A=gee,e}function B_(){Oi=4,Dc||(er&4194048)!==er&&ra.current!==null||(cm=!0),!(Xc&134217727)&&!(Xd&134217727)||Vr===null||Pc(Vr,er,Gs,!1)}function i1(e,t,n){var r=dr;dr|=2;var i=p6(),o=h6();(Vr!==e||er!==t)&&($_=null,wh(e,t)),t=!1;var s=Oi;e:do try{if(xr!==0&&Zn!==null){var a=Zn,l=$s;switch(xr){case 8:eD(),s=6;break e;case 3:case 2:case 9:case 6:ra.current===null&&(t=!0);var u=xr;if(xr=0,$s=null,Pp(e,a,l,u),n&&cm){s=0;break e}break;default:u=xr,xr=0,$s=null,Pp(e,a,l,u)}}bee(),s=Oi;break}catch(c){d6(e,c)}while(!0);return t&&e.shellSuspendCounter++,pu=jf=null,dr=r,xn.H=i,xn.A=o,Zn===null&&(Vr=null,er=0,Ex()),s}function bee(){for(;Zn!==null;)m6(Zn)}function _ee(e,t){var n=dr;dr|=2;var r=p6(),i=h6();Vr!==e||er!==t?($_=null,L_=Ys()+500,wh(e,t)):cm=Cv(e,t);e:do try{if(xr!==0&&Zn!==null){t=Zn;var o=$s;t:switch(xr){case 1:xr=0,$s=null,Pp(e,t,o,1);break;case 2:case 9:if(lN(o)){xr=0,$s=null,IN(t);break}t=function(){xr!==2&&xr!==9||Vr!==e||(xr=7),Gl(e)},o.then(t,t);break e;case 3:xr=7;break e;case 4:xr=5;break e;case 7:lN(o)?(xr=0,$s=null,IN(t)):(xr=0,$s=null,Pp(e,t,o,7));break;case 5:var s=null;switch(Zn.tag){case 26:s=Zn.memoizedState;case 5:case 27:var a=Zn;if(s?M6(s):a.stateNode.complete){xr=0,$s=null;var l=a.sibling;if(l!==null)Zn=l;else{var u=a.return;u!==null?(Zn=u,Nx(u)):Zn=null}break t}}xr=0,$s=null,Pp(e,t,o,5);break;case 6:xr=0,$s=null,Pp(e,t,o,6);break;case 8:eD(),Oi=6;break e;default:throw Error(ht(462))}}See();break}catch(c){d6(e,c)}while(!0);return pu=jf=null,xn.H=r,xn.A=i,dr=n,Zn!==null?0:(Vr=null,er=0,Ex(),Oi)}function See(){for(;Zn!==null&&!qQ();)m6(Zn)}function m6(e){var t=z5(e.alternate,e,Cu);e.memoizedProps=e.pendingProps,t===null?Nx(e):Zn=t}function IN(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=EN(n,t,t.pendingProps,t.type,void 0,er);break;case 11:t=EN(n,t,t.pendingProps,t.type.render,t.ref,er);break;case 5:BO(t);default:V5(n,t),t=Zn=V8(t,Cu),t=z5(n,t,Cu)}e.memoizedProps=e.pendingProps,t===null?Nx(e):Zn=t}function Pp(e,t,n,r){pu=jf=null,BO(t),Hp=null,Py=0;var i=t.return;try{if(uee(e,i,t,n,er)){Oi=1,N_(e,Ta(n,e.current)),Zn=null;return}}catch(o){if(i!==null)throw Zn=i,o;Oi=1,N_(e,Ta(n,e.current)),Zn=null;return}t.flags&32768?(ir||r===1?e=!0:cm||er&536870912?e=!1:(Dc=e=!0,(r===2||r===9||r===3||r===6)&&(r=ra.current,r!==null&&r.tag===13&&(r.flags|=16384))),g6(t,e)):Nx(t)}function Nx(e){var t=e;do{if(t.flags&32768){g6(t,Dc);return}e=t.return;var n=fee(t.alternate,t,Cu);if(n!==null){Zn=n;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);Oi===0&&(Oi=5)}function g6(e,t){do{var n=pee(e.alternate,e);if(n!==null){n.flags&=32767,Zn=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Zn=e;return}Zn=e=n}while(e!==null);Oi=6,Zn=null}function kN(e,t,n,r,i,o,s,a,l){e.cancelPendingCommit=null;do Mx();while(ro!==0);if(dr&6)throw Error(ht(327));if(t!==null){if(t===e.current)throw Error(ht(177));if(o=t.lanes|t.childLanes,o|=EO,eJ(e,n,o,s,a,l),e===Vr&&(Zn=Vr=null,er=0),xh=t,Uc=e,gu=n,$2=o,B2=i,l6=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Eee(w_,function(){return S6(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=xn.T,xn.T=null,i=fr.p,fr.p=2,s=dr,dr|=4;try{hee(e,t,n)}finally{dr=s,fr.p=i,xn.T=r}}ro=1,y6(),v6(),b6()}}function y6(){if(ro===1){ro=0;var e=Uc,t=xh,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=xn.T,xn.T=null;var r=fr.p;fr.p=2;var i=dr;dr|=4;try{e6(t,e);var o=q2,s=M8(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&N8(a.ownerDocument.documentElement,a)){if(l!==null&&TO(a)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var m=f.getSelection(),h=a.textContent.length,g=Math.min(l.start,h),S=l.end===void 0?g:Math.min(l.end,h);!m.extend&&g>S&&(s=S,S=g,g=s);var y=tN(a,g),v=tN(a,S);if(y&&v&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),m.removeAllRanges(),g>S?(m.addRange(b),m.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),m.addRange(b))}}}}for(d=[],m=a;m=m.parentNode;)m.nodeType===1&&d.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<d.length;a++){var _=d[a];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}W_=!!V2,q2=V2=null}finally{dr=i,fr.p=r,xn.T=n}}e.current=t,ro=2}}function v6(){if(ro===2){ro=0;var e=Uc,t=xh,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=xn.T,xn.T=null;var r=fr.p;fr.p=2;var i=dr;dr|=4;try{K5(e,t.alternate,t)}finally{dr=i,fr.p=r,xn.T=n}}ro=3}}function b6(){if(ro===4||ro===3){ro=0,HQ();var e=Uc,t=xh,n=gu,r=l6;t.subtreeFlags&10256||t.flags&10256?ro=5:(ro=0,xh=Uc=null,_6(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Bc=null),yO(n),t=t.stateNode,Ks&&typeof Ks.onCommitFiberRoot=="function")try{Ks.onCommitFiberRoot(Av,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=xn.T,i=fr.p,fr.p=2,xn.T=null;try{for(var o=e.onRecoverableError,s=0;s<r.length;s++){var a=r[s];o(a.value,{componentStack:a.stack})}}finally{xn.T=t,fr.p=i}}gu&3&&Mx(),Gl(e),i=e.pendingLanes,n&261930&&i&42?e===U2?ey++:(ey=0,U2=e):ey=0,Nv(0)}}function _6(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Rv(t)))}function Mx(){return y6(),v6(),b6(),S6()}function S6(){if(ro!==5)return!1;var e=Uc,t=$2;$2=0;var n=yO(gu),r=xn.T,i=fr.p;try{fr.p=32>n?32:n,xn.T=null,n=B2,B2=null;var o=Uc,s=gu;if(ro=0,xh=Uc=null,gu=0,dr&6)throw Error(ht(331));var a=dr;if(dr|=4,o6(o.current),n6(o,o.current,s,n),dr=a,Nv(0,!1),Ks&&typeof Ks.onPostCommitFiberRoot=="function")try{Ks.onPostCommitFiberRoot(Av,o)}catch{}return!0}finally{fr.p=i,xn.T=r,_6(e,t)}}function NN(e,t,n){t=Ta(n,t),t=k2(e.stateNode,t,2),e=$c(e,t,2),e!==null&&(Ov(e,2),Gl(e))}function Tr(e,t,n){if(e.tag===3)NN(e,e,n);else for(;t!==null;){if(t.tag===3){NN(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bc===null||!Bc.has(r))){e=Ta(n,e),n=j5(2),r=$c(t,n,2),r!==null&&(L5(n,r,t,e),Ov(r,2),Gl(r));break}}t=t.return}}function o1(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new yee;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(QO=!0,i.add(n),e=xee.bind(null,e,t,n),t.then(e,e))}function xee(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Vr===e&&(er&n)===n&&(Oi===4||Oi===3&&(er&62914560)===er&&300>Ys()-Ix?!(dr&2)&&wh(e,0):JO|=n,Sh===er&&(Sh=0)),Gl(e)}function x6(e,t){t===0&&(t=p8()),e=Mf(e,t),e!==null&&(Ov(e,t),Gl(e))}function wee(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),x6(e,n)}function Tee(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(ht(314))}r!==null&&r.delete(t),x6(e,n)}function Eee(e,t){return mO(e,t)}var U_=null,mp=null,F2=!1,F_=!1,s1=!1,Rc=0;function Gl(e){e!==mp&&e.next===null&&(mp===null?U_=mp=e:mp=mp.next=e),F_=!0,F2||(F2=!0,Cee())}function Nv(e,t){if(!s1&&F_){s1=!0;do for(var n=!1,r=U_;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var o=0;else{var s=r.suspendedLanes,a=r.pingedLanes;o=(1<<31-Xs(42|e)+1)-1,o&=i&~(s&~a),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,MN(r,o))}else o=er,o=Sx(r,r===Vr?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(o&3)||Cv(r,o)||(n=!0,MN(r,o));r=r.next}while(n);s1=!1}}function Aee(){w6()}function w6(){F_=F2=!1;var e=0;Rc!==0&&Lee()&&(e=Rc);for(var t=Ys(),n=null,r=U_;r!==null;){var i=r.next,o=T6(r,t);o===0?(r.next=null,n===null?U_=i:n.next=i,i===null&&(mp=n)):(n=r,(e!==0||o&3)&&(F_=!0)),r=i}ro!==0&&ro!==5||Nv(e),Rc!==0&&(Rc=0)}function T6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var s=31-Xs(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=JQ(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(t=Vr,n=er,n=Sx(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(xr===2||xr===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&NT(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Cv(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&NT(r),yO(n)){case 2:case 8:n=d8;break;case 32:n=w_;break;case 268435456:n=f8;break;default:n=w_}return r=E6.bind(null,e),n=mO(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&NT(r),e.callbackPriority=2,e.callbackNode=null,2}function E6(e,t){if(ro!==0&&ro!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Mx()&&e.callbackNode!==n)return null;var r=er;return r=Sx(e,e===Vr?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(c6(e,r,t),T6(e,Ys()),e.callbackNode!=null&&e.callbackNode===n?E6.bind(null,e):null)}function MN(e,t){if(Mx())return null;c6(e,t,!0)}function Cee(){Bee(function(){dr&6?mO(c8,Aee):w6()})}function tD(){if(Rc===0){var e=vh;e===0&&(e=jb,jb<<=1,!(jb&261888)&&(jb=256)),Rc=e}return Rc}function jN(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:L0(""+e)}function LN(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Oee(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var o=jN((i[Ds]||null).action),s=r.submitter;s&&(t=(t=s[Ds]||null)?jN(t.formAction):s.getAttribute("formAction"),t!==null&&(o=t,s=null));var a=new xx("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Rc!==0){var l=s?LN(i,s):new FormData(i);R2(n,{pending:!0,data:l,method:i.method,action:o},null,l)}}else typeof o=="function"&&(a.preventDefault(),l=s?LN(i,s):new FormData(i),R2(n,{pending:!0,data:l,method:i.method,action:o},o,l))},currentTarget:i}]})}}for(var a1=0;a1<b2.length;a1++){var l1=b2[a1],Dee=l1.toLowerCase(),Pee=l1[0].toUpperCase()+l1.slice(1);fl(Dee,"on"+Pee)}fl(L8,"onAnimationEnd");fl($8,"onAnimationIteration");fl(B8,"onAnimationStart");fl("dblclick","onDoubleClick");fl("focusin","onFocus");fl("focusout","onBlur");fl(GJ,"onTransitionRun");fl(WJ,"onTransitionStart");fl(YJ,"onTransitionCancel");fl(U8,"onTransitionEnd");gh("onMouseEnter",["mouseout","mouseover"]);gh("onMouseLeave",["mouseout","mouseover"]);gh("onPointerEnter",["pointerout","pointerover"]);gh("onPointerLeave",["pointerout","pointerover"]);If("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));If("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));If("onBeforeInput",["compositionend","keypress","textInput","paste"]);If("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));If("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));If("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ree=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ky));function A6(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(c){E_(c)}i.currentTarget=null,o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;o=a,i.currentTarget=u;try{o(i)}catch(c){E_(c)}i.currentTarget=null,o=l}}}}function Xn(e,t){var n=t[d2];n===void 0&&(n=t[d2]=new Set);var r=e+"__bubble";n.has(r)||(C6(t,e,2,!1),n.add(r))}function u1(e,t,n){var r=0;t&&(r|=4),C6(n,e,r,t)}var Gb="_reactListening"+Math.random().toString(36).slice(2);function nD(e){if(!e[Gb]){e[Gb]=!0,v8.forEach(function(n){n!=="selectionchange"&&(Ree.has(n)||u1(n,!1,e),u1(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gb]||(t[Gb]=!0,u1("selectionchange",!1,t))}}function C6(e,t,n,r){switch(U6(t)){case 2:var i=ote;break;case 8:i=ste;break;default:i=sD}n=i.bind(null,t,n,e),i=void 0,!g2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function c1(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;a!==null;){if(s=Sp(a),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=o=s;continue e}a=a.parentNode}}r=r.return}A8(function(){var u=o,c=_O(n),d=[];e:{var f=F8.get(e);if(f!==void 0){var m=xx,h=e;switch(e){case"keypress":if(B0(n)===0)break e;case"keydown":case"keyup":m=TJ;break;case"focusin":h="focus",m=BT;break;case"focusout":h="blur",m=BT;break;case"beforeblur":case"afterblur":m=BT;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Hk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CJ;break;case L8:case $8:case B8:m=mJ;break;case U8:m=DJ;break;case"scroll":case"scrollend":m=cJ;break;case"wheel":m=RJ;break;case"copy":case"cut":case"paste":m=yJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wk;break;case"toggle":case"beforetoggle":m=kJ}var g=(t&4)!==0,S=!g&&(e==="scroll"||e==="scrollend"),y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,b;v!==null;){var _=v;if(b=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||b===null||y===null||(_=Ey(v,y),_!=null&&g.push(Ny(v,_,b))),S)break;v=v.return}0<g.length&&(f=new m(f,h,null,n,c),d.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==m2&&(h=n.relatedTarget||n.fromElement)&&(Sp(h)||h[sm]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?Sp(h):null,h!==null&&(S=Ev(h),g=h.tag,h!==S||g!==5&&g!==27&&g!==6)&&(h=null)):(m=null,h=u),m!==h)){if(g=Hk,_="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Wk,_="onPointerLeave",y="onPointerEnter",v="pointer"),S=m==null?f:Pg(m),b=h==null?f:Pg(h),f=new g(_,v+"leave",m,n,c),f.target=S,f.relatedTarget=b,_=null,Sp(c)===u&&(g=new g(y,v+"enter",h,n,c),g.target=b,g.relatedTarget=S,_=g),S=_,m&&h)t:{for(g=Iee,y=m,v=h,b=0,_=y;_;_=g(_))b++;_=0;for(var x=v;x;x=g(x))_++;for(;0<b-_;)y=g(y),b--;for(;0<_-b;)v=g(v),_--;for(;b--;){if(y===v||v!==null&&y===v.alternate){g=y;break t}y=g(y),v=g(v)}g=null}else g=null;m!==null&&$N(d,f,m,g,!1),h!==null&&S!==null&&$N(d,S,h,g,!0)}}e:{if(f=u?Pg(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var T=Zk;else if(Xk(f))if(I8)T=VJ;else{T=FJ;var w=UJ}else m=f.nodeName,!m||m.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&bO(u.elementType)&&(T=Zk):T=zJ;if(T&&(T=T(e,u))){R8(d,T,n,c);break e}w&&w(e,f,u),e==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&h2(f,"number",f.value)}switch(w=u?Pg(u):window,e){case"focusin":(Xk(w)||w.contentEditable==="true")&&(Tp=w,y2=u,Hg=null);break;case"focusout":Hg=y2=Tp=null;break;case"mousedown":v2=!0;break;case"contextmenu":case"mouseup":case"dragend":v2=!1,nN(d,n,c);break;case"selectionchange":if(HJ)break;case"keydown":case"keyup":nN(d,n,c)}var E;if(wO)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wp?D8(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(O8&&n.locale!=="ko"&&(wp||C!=="onCompositionStart"?C==="onCompositionEnd"&&wp&&(E=C8()):(Oc=c,SO="value"in Oc?Oc.value:Oc.textContent,wp=!0)),w=z_(u,C),0<w.length&&(C=new Gk(C,e,null,n,c),d.push({event:C,listeners:w}),E?C.data=E:(E=P8(n),E!==null&&(C.data=E)))),(E=MJ?jJ(e,n):LJ(e,n))&&(C=z_(u,"onBeforeInput"),0<C.length&&(w=new Gk("onBeforeInput","beforeinput",null,n,c),d.push({event:w,listeners:C}),w.data=E)),Oee(d,e,u,n,c)}A6(d,t)})}function Ny(e,t,n){return{instance:e,listener:t,currentTarget:n}}function z_(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=Ey(e,n),i!=null&&r.unshift(Ny(e,i,o)),i=Ey(e,t),i!=null&&r.push(Ny(e,i,o))),e.tag===3)return r;e=e.return}return[]}function Iee(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $N(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(a=a.tag,l!==null&&l===r)break;a!==5&&a!==26&&a!==27||u===null||(l=u,i?(u=Ey(n,o),u!=null&&s.unshift(Ny(n,u,l))):i||(u=Ey(n,o),u!=null&&s.push(Ny(n,u,l)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var kee=/\r\n?/g,Nee=/\u0000|\uFFFD/g;function BN(e){return(typeof e=="string"?e:""+e).replace(kee,`
`).replace(Nee,"")}function O6(e,t){return t=BN(t),BN(e)===t}function Ir(e,t,n,r,i,o){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||yh(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&yh(e,""+r);break;case"className":Bb(e,"class",r);break;case"tabIndex":Bb(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Bb(e,n,r);break;case"style":E8(e,r,o);break;case"data":if(t!=="object"){Bb(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=L0(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(t!=="input"&&Ir(e,t,"name",i.name,i,null),Ir(e,t,"formEncType",i.formEncType,i,null),Ir(e,t,"formMethod",i.formMethod,i,null),Ir(e,t,"formTarget",i.formTarget,i,null)):(Ir(e,t,"encType",i.encType,i,null),Ir(e,t,"method",i.method,i,null),Ir(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=L0(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=fu);break;case"onScroll":r!=null&&Xn("scroll",e);break;case"onScrollEnd":r!=null&&Xn("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ht(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ht(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=L0(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xn("beforetoggle",e),Xn("toggle",e),j0(e,"popover",r);break;case"xlinkActuate":Ql(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ql(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ql(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ql(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ql(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ql(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ql(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ql(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ql(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":j0(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=lJ.get(n)||n,j0(e,n,r))}}function z2(e,t,n,r,i,o){switch(n){case"style":E8(e,r,o);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(ht(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(ht(60));e.innerHTML=n}}break;case"children":typeof r=="string"?yh(e,r):(typeof r=="number"||typeof r=="bigint")&&yh(e,""+r);break;case"onScroll":r!=null&&Xn("scroll",e);break;case"onScrollEnd":r!=null&&Xn("scrollend",e);break;case"onClick":r!=null&&(e.onclick=fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!b8.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),o=e[Ds]||null,o=o!=null?o[n]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof r=="function")){typeof o!="function"&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):j0(e,n,r)}}}function $o(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xn("error",e),Xn("load",e);var r=!1,i=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ht(137,t));default:Ir(e,t,o,s,n,null)}}i&&Ir(e,t,"srcSet",n.srcSet,n,null),r&&Ir(e,t,"src",n.src,n,null);return;case"input":Xn("invalid",e);var a=o=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":o=c;break;case"defaultValue":a=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(ht(137,t));break;default:Ir(e,t,r,c,n,null)}}x8(e,o,a,l,u,s,i,!1);return;case"select":Xn("invalid",e),r=s=o=null;for(i in n)if(n.hasOwnProperty(i)&&(a=n[i],a!=null))switch(i){case"value":o=a;break;case"defaultValue":s=a;break;case"multiple":r=a;default:Ir(e,t,i,a,n,null)}t=o,n=s,e.multiple=!!r,t!=null?zp(e,!!r,t,!1):n!=null&&zp(e,!!r,n,!0);return;case"textarea":Xn("invalid",e),o=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(a=n[s],a!=null))switch(s){case"value":r=a;break;case"defaultValue":i=a;break;case"children":o=a;break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(ht(91));break;default:Ir(e,t,s,a,n,null)}T8(e,r,i,o);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ir(e,t,l,r,n,null)}return;case"dialog":Xn("beforetoggle",e),Xn("toggle",e),Xn("cancel",e),Xn("close",e);break;case"iframe":case"object":Xn("load",e);break;case"video":case"audio":for(r=0;r<ky.length;r++)Xn(ky[r],e);break;case"image":Xn("error",e),Xn("load",e);break;case"details":Xn("toggle",e);break;case"embed":case"source":case"link":Xn("error",e),Xn("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ht(137,t));default:Ir(e,t,u,r,n,null)}return;default:if(bO(t)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&z2(e,t,c,r,n,void 0));return}}for(a in n)n.hasOwnProperty(a)&&(r=n[a],r!=null&&Ir(e,t,a,r,n,null))}function Mee(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,a=null,l=null,u=null,c=null;for(m in n){var d=n[m];if(n.hasOwnProperty(m)&&d!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=d;default:r.hasOwnProperty(m)||Ir(e,t,m,null,r,d)}}for(var f in r){var m=r[f];if(d=n[f],r.hasOwnProperty(f)&&(m!=null||d!=null))switch(f){case"type":o=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":s=m;break;case"defaultValue":a=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(ht(137,t));break;default:m!==d&&Ir(e,t,f,m,r,d)}}p2(e,s,a,l,u,c,o,i);return;case"select":m=s=a=f=null;for(o in n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(o)||Ir(e,t,o,null,r,l)}for(i in r)if(o=r[i],l=n[i],r.hasOwnProperty(i)&&(o!=null||l!=null))switch(i){case"value":f=o;break;case"defaultValue":a=o;break;case"multiple":s=o;default:o!==l&&Ir(e,t,i,o,r,l)}t=a,n=s,r=m,f!=null?zp(e,!!n,f,!1):!!r!=!!n&&(t!=null?zp(e,!!n,t,!0):zp(e,!!n,n?[]:"",!1));return;case"textarea":m=f=null;for(a in n)if(i=n[a],n.hasOwnProperty(a)&&i!=null&&!r.hasOwnProperty(a))switch(a){case"value":break;case"children":break;default:Ir(e,t,a,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(i!=null||o!=null))switch(s){case"value":f=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(ht(91));break;default:i!==o&&Ir(e,t,s,i,r,o)}w8(e,f,m);return;case"option":for(var h in n)if(f=n[h],n.hasOwnProperty(h)&&f!=null&&!r.hasOwnProperty(h))switch(h){case"selected":e.selected=!1;break;default:Ir(e,t,h,null,r,f)}for(l in r)if(f=r[l],m=n[l],r.hasOwnProperty(l)&&f!==m&&(f!=null||m!=null))switch(l){case"selected":e.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Ir(e,t,l,f,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&f!=null&&!r.hasOwnProperty(g)&&Ir(e,t,g,null,r,f);for(u in r)if(f=r[u],m=n[u],r.hasOwnProperty(u)&&f!==m&&(f!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ht(137,t));break;default:Ir(e,t,u,f,r,m)}return;default:if(bO(t)){for(var S in n)f=n[S],n.hasOwnProperty(S)&&f!==void 0&&!r.hasOwnProperty(S)&&z2(e,t,S,void 0,r,f);for(c in r)f=r[c],m=n[c],!r.hasOwnProperty(c)||f===m||f===void 0&&m===void 0||z2(e,t,c,f,r,m);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&f!=null&&!r.hasOwnProperty(y)&&Ir(e,t,y,null,r,f);for(d in r)f=r[d],m=n[d],!r.hasOwnProperty(d)||f===m||f==null&&m==null||Ir(e,t,d,f,r,m)}function UN(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jee(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,s=i.initiatorType,a=i.duration;if(o&&a&&UN(s)){for(s=0,a=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>a)break;var c=l.transferSize,d=l.initiatorType;c&&UN(d)&&(l=l.responseEnd,s+=c*(l<a?1:(a-u)/(l-u)))}if(--r,t+=8*(o+s)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var V2=null,q2=null;function V_(e){return e.nodeType===9?e:e.ownerDocument}function FN(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D6(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function H2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var d1=null;function Lee(){var e=window.event;return e&&e.type==="popstate"?e===d1?!1:(d1=e,!0):(d1=null,!1)}var P6=typeof setTimeout=="function"?setTimeout:void 0,$ee=typeof clearTimeout=="function"?clearTimeout:void 0,zN=typeof Promise=="function"?Promise:void 0,Bee=typeof queueMicrotask=="function"?queueMicrotask:typeof zN<"u"?function(e){return zN.resolve(null).then(e).catch(Uee)}:P6;function Uee(e){setTimeout(function(){throw e})}function od(e){return e==="head"}function VN(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){e.removeChild(i),Eh(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")ty(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,ty(n);for(var o=n.firstChild;o;){var s=o.nextSibling,a=o.nodeName;o[Dv]||a==="SCRIPT"||a==="STYLE"||a==="LINK"&&o.rel.toLowerCase()==="stylesheet"||n.removeChild(o),o=s}}else n==="body"&&ty(e.ownerDocument.body);n=i}while(n);Eh(t)}function qN(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=r}while(n)}function G2(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":G2(n),vO(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Fee(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Dv])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Da(e.nextSibling),e===null)break}return null}function zee(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Da(e.nextSibling),e===null))return null;return e}function R6(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Da(e.nextSibling),e===null))return null;return e}function W2(e){return e.data==="$?"||e.data==="$~"}function Y2(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Vee(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Da(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var K2=null;function HN(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Da(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function GN(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function I6(e,t,n){switch(t=V_(n),e){case"html":if(e=t.documentElement,!e)throw Error(ht(452));return e;case"head":if(e=t.head,!e)throw Error(ht(453));return e;case"body":if(e=t.body,!e)throw Error(ht(454));return e;default:throw Error(ht(451))}}function ty(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);vO(e)}var Na=new Map,WN=new Set;function q_(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zu=fr.d;fr.d={f:qee,r:Hee,D:Gee,C:Wee,L:Yee,m:Kee,X:Zee,S:Xee,M:Qee};function qee(){var e=zu.f(),t=kx();return e||t}function Hee(e){var t=am(e);t!==null&&t.tag===5&&t.type==="form"?E5(t):zu.r(e)}var dm=typeof document>"u"?null:document;function k6(e,t,n){var r=dm;if(r&&typeof t=="string"&&t){var i=wa(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),WN.has(i)||(WN.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),$o(t,"link",e),go(t),r.head.appendChild(t)))}}function Gee(e){zu.D(e),k6("dns-prefetch",e,null)}function Wee(e,t){zu.C(e,t),k6("preconnect",e,t)}function Yee(e,t,n){zu.L(e,t,n);var r=dm;if(r&&e&&t){var i='link[rel="preload"][as="'+wa(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+wa(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+wa(n.imageSizes)+'"]')):i+='[href="'+wa(e)+'"]';var o=i;switch(t){case"style":o=Th(e);break;case"script":o=fm(e)}Na.has(o)||(e=oi({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Na.set(o,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Mv(o))||t==="script"&&r.querySelector(jv(o))||(t=r.createElement("link"),$o(t,"link",e),go(t),r.head.appendChild(t)))}}function Kee(e,t){zu.m(e,t);var n=dm;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+wa(r)+'"][href="'+wa(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=fm(e)}if(!Na.has(o)&&(e=oi({rel:"modulepreload",href:e},t),Na.set(o,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(jv(o)))return}r=n.createElement("link"),$o(r,"link",e),go(r),n.head.appendChild(r)}}}function Xee(e,t,n){zu.S(e,t,n);var r=dm;if(r&&e){var i=Fp(r).hoistableStyles,o=Th(e);t=t||"default";var s=i.get(o);if(!s){var a={loading:0,preload:null};if(s=r.querySelector(Mv(o)))a.loading=5;else{e=oi({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Na.get(o))&&rD(e,n);var l=s=r.createElement("link");go(l),$o(l,"link",e),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,W0(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:a},i.set(o,s)}}}function Zee(e,t){zu.X(e,t);var n=dm;if(n&&e){var r=Fp(n).hoistableScripts,i=fm(e),o=r.get(i);o||(o=n.querySelector(jv(i)),o||(e=oi({src:e,async:!0},t),(t=Na.get(i))&&iD(e,t),o=n.createElement("script"),go(o),$o(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function Qee(e,t){zu.M(e,t);var n=dm;if(n&&e){var r=Fp(n).hoistableScripts,i=fm(e),o=r.get(i);o||(o=n.querySelector(jv(i)),o||(e=oi({src:e,async:!0,type:"module"},t),(t=Na.get(i))&&iD(e,t),o=n.createElement("script"),go(o),$o(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}function YN(e,t,n,r){var i=(i=Mc.current)?q_(i):null;if(!i)throw Error(ht(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Th(n.href),n=Fp(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Th(n.href);var o=Fp(i).hoistableStyles,s=o.get(e);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=i.querySelector(Mv(e)))&&!o._p&&(s.instance=o,s.state.loading=5),Na.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Na.set(e,n),o||Jee(i,e,n,s.state))),t&&r===null)throw Error(ht(528,""));return s}if(t&&r!==null)throw Error(ht(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fm(n),n=Fp(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(ht(444,e))}}function Th(e){return'href="'+wa(e)+'"'}function Mv(e){return'link[rel="stylesheet"]['+e+"]"}function N6(e){return oi({},e,{"data-precedence":e.precedence,precedence:null})}function Jee(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),$o(t,"link",n),go(t),e.head.appendChild(t))}function fm(e){return'[src="'+wa(e)+'"]'}function jv(e){return"script[async]"+e}function KN(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+wa(n.href)+'"]');if(r)return t.instance=r,go(r),r;var i=oi({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),go(r),$o(r,"style",i),W0(r,n.precedence,e),t.instance=r;case"stylesheet":i=Th(n.href);var o=e.querySelector(Mv(i));if(o)return t.state.loading|=4,t.instance=o,go(o),o;r=N6(n),(i=Na.get(i))&&rD(r,i),o=(e.ownerDocument||e).createElement("link"),go(o);var s=o;return s._p=new Promise(function(a,l){s.onload=a,s.onerror=l}),$o(o,"link",r),t.state.loading|=4,W0(o,n.precedence,e),t.instance=o;case"script":return o=fm(n.src),(i=e.querySelector(jv(o)))?(t.instance=i,go(i),i):(r=n,(i=Na.get(o))&&(r=oi({},n),iD(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),go(i),$o(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(ht(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,W0(r,n.precedence,e));return t.instance}function W0(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,s=0;s<r.length;s++){var a=r[s];if(a.dataset.precedence===t)o=a;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function rD(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function iD(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Y0=null;function XN(e,t,n){if(Y0===null){var r=new Map,i=Y0=new Map;i.set(n,r)}else i=Y0,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Dv]||o[Io]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var s=o.getAttribute(t)||"";s=e+s;var a=r.get(s);a?a.push(o):r.set(s,[o])}}return r}function ZN(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ete(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function M6(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function tte(e,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Th(r.href),o=t.querySelector(Mv(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=H_.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,go(o);return}o=t.ownerDocument||t,r=N6(r),(i=Na.get(i))&&rD(r,i),o=o.createElement("link"),go(o);var s=o;s._p=new Promise(function(a,l){s.onload=a,s.onerror=l}),$o(o,"link",r),n.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=H_.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var f1=0;function nte(e,t){return e.stylesheets&&e.count===0&&K0(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&K0(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&f1===0&&(f1=62500*jee());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&K0(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>f1?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function H_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)K0(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var G_=null;function K0(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,G_=new Map,t.forEach(rte,e),G_=null,H_.call(e))}function rte(e,t){if(!(t.state.loading&4)){var n=G_.get(e);if(n)var r=n.get(null);else{n=new Map,G_.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var s=i[o];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=t.instance,s=i.getAttribute("data-precedence"),o=n.get(s)||r,o===r&&n.set(null,i),n.set(s,i),this.count++,r=H_.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var My={$$typeof:du,Provider:null,Consumer:null,_currentValue:Gd,_currentValue2:Gd,_threadCount:0};function ite(e,t,n,r,i,o,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=MT(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=MT(0),this.hiddenUpdates=MT(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function j6(e,t,n,r,i,o,s,a,l,u,c,d){return e=new ite(e,t,n,s,l,u,c,d,a),t=1,o===!0&&(t|=24),o=Fs(3,null,null,t),e.current=o,o.stateNode=e,t=PO(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},kO(o),e}function L6(e){return e?(e=Cp,e):Cp}function $6(e,t,n,r,i,o){i=L6(i),r.context===null?r.context=i:r.pendingContext=i,r=Lc(t),r.payload={element:n},o=o===void 0?null:o,o!==null&&(r.callback=o),n=$c(e,r,t),n!==null&&(Es(n,e,t),Wg(n,e,t))}function QN(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oD(e,t){QN(e,t),(e=e.alternate)&&QN(e,t)}function B6(e){if(e.tag===13||e.tag===31){var t=Mf(e,67108864);t!==null&&Es(t,e,67108864),oD(e,67108864)}}function JN(e){if(e.tag===13||e.tag===31){var t=Zs();t=gO(t);var n=Mf(e,t);n!==null&&Es(n,e,t),oD(e,t)}}var W_=!0;function ote(e,t,n,r){var i=xn.T;xn.T=null;var o=fr.p;try{fr.p=2,sD(e,t,n,r)}finally{fr.p=o,xn.T=i}}function ste(e,t,n,r){var i=xn.T;xn.T=null;var o=fr.p;try{fr.p=8,sD(e,t,n,r)}finally{fr.p=o,xn.T=i}}function sD(e,t,n,r){if(W_){var i=X2(r);if(i===null)c1(e,t,r,Y_,n),eM(e,r);else if(lte(i,e,t,n,r))r.stopPropagation();else if(eM(e,r),t&4&&-1<ate.indexOf(e)){for(;i!==null;){var o=am(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var s=Sd(o.pendingLanes);if(s!==0){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-Xs(s);a.entanglements[1]|=l,s&=~l}Gl(o),!(dr&6)&&(L_=Ys()+500,Nv(0))}}break;case 31:case 13:a=Mf(o,2),a!==null&&Es(a,o,2),kx(),oD(o,2)}if(o=X2(r),o===null&&c1(e,t,r,Y_,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else c1(e,t,r,null,n)}}function X2(e){return e=_O(e),aD(e)}var Y_=null;function aD(e){if(Y_=null,e=Sp(e),e!==null){var t=Ev(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=o8(t),e!==null)return e;e=null}else if(n===31){if(e=s8(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Y_=e,null}function U6(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(GQ()){case c8:return 2;case d8:return 8;case w_:case WQ:return 32;case f8:return 268435456;default:return 32}default:return 32}}var Z2=!1,Fc=null,zc=null,Vc=null,jy=new Map,Ly=new Map,xc=[],ate="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eM(e,t){switch(e){case"focusin":case"focusout":Fc=null;break;case"dragenter":case"dragleave":zc=null;break;case"mouseover":case"mouseout":Vc=null;break;case"pointerover":case"pointerout":jy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ly.delete(t.pointerId)}}function Jm(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=am(t),t!==null&&B6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lte(e,t,n,r,i){switch(t){case"focusin":return Fc=Jm(Fc,e,t,n,r,i),!0;case"dragenter":return zc=Jm(zc,e,t,n,r,i),!0;case"mouseover":return Vc=Jm(Vc,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return jy.set(o,Jm(jy.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ly.set(o,Jm(Ly.get(o)||null,e,t,n,r,i)),!0}return!1}function F6(e){var t=Sp(e.target);if(t!==null){var n=Ev(t);if(n!==null){if(t=n.tag,t===13){if(t=o8(n),t!==null){e.blockedOn=t,$k(e.priority,function(){JN(n)});return}}else if(t===31){if(t=s8(n),t!==null){e.blockedOn=t,$k(e.priority,function(){JN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function X0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=X2(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);m2=r,n.target.dispatchEvent(r),m2=null}else return t=am(n),t!==null&&B6(t),e.blockedOn=n,!1;t.shift()}return!0}function tM(e,t,n){X0(e)&&n.delete(t)}function ute(){Z2=!1,Fc!==null&&X0(Fc)&&(Fc=null),zc!==null&&X0(zc)&&(zc=null),Vc!==null&&X0(Vc)&&(Vc=null),jy.forEach(tM),Ly.forEach(tM)}function Wb(e,t){e.blockedOn===t&&(e.blockedOn=null,Z2||(Z2=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,ute)))}var Yb=null;function nM(e){Yb!==e&&(Yb=e,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,function(){Yb===e&&(Yb=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(aD(r||n)===null)continue;break}var o=am(n);o!==null&&(e.splice(t,3),t-=3,R2(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Eh(e){function t(l){return Wb(l,e)}Fc!==null&&Wb(Fc,e),zc!==null&&Wb(zc,e),Vc!==null&&Wb(Vc,e),jy.forEach(t),Ly.forEach(t);for(var n=0;n<xc.length;n++){var r=xc[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xc.length&&(n=xc[0],n.blockedOn===null);)F6(n),n.blockedOn===null&&xc.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],s=i[Ds]||null;if(typeof o=="function")s||nM(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(i=o,s=o[Ds]||null)a=s.formAction;else if(aD(i)!==null)continue}else a=s.action;typeof a=="function"?n[r+1]=a:(n.splice(r,3),r-=3),nM(n)}}}function z6(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function lD(e){this._internalRoot=e}jx.prototype.render=lD.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));var n=t.current,r=Zs();$6(n,r,e,t,null,null)};jx.prototype.unmount=lD.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$6(e.current,2,null,e,null,null),kx(),t[sm]=null}};function jx(e){this._internalRoot=e}jx.prototype.unstable_scheduleHydration=function(e){if(e){var t=y8();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xc.length&&t!==0&&t<xc[n].priority;n++);xc.splice(n,0,e),n===0&&F6(e)}};var rM=r8.version;if(rM!=="19.2.1")throw Error(ht(527,rM,"19.2.1"));fr.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=BQ(t),e=e!==null?a8(e):null,e=e===null?null:e.stateNode,e};var cte={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:xn,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kb.isDisabled&&Kb.supportsFiber)try{Av=Kb.inject(cte),Ks=Kb}catch{}}bx.createRoot=function(e,t){if(!i8(e))throw Error(ht(299));var n=!1,r="",i=k5,o=N5,s=M5;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=j6(e,1,!1,null,null,n,r,null,i,o,s,z6),e[sm]=t.current,nD(e),new lD(t)};bx.hydrateRoot=function(e,t,n){if(!i8(e))throw Error(ht(299));var r=!1,i="",o=k5,s=N5,a=M5,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(a=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),t=j6(e,1,!0,t,n??null,r,i,l,o,s,a,z6),t.context=L6(null),n=t.current,r=Zs(),r=gO(r),i=Lc(r),i.callback=null,$c(n,i,r),n=r,t.current.lanes=n,Ov(t,n),Gl(t),e[sm]=t.current,nD(e),new jx(t)};bx.version="19.2.1";function V6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V6)}catch(e){console.error(e)}}V6(),ZB.exports=bx;var dte=ZB.exports;const fte=dl(dte);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(this,arguments)}var Hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hi||(Hi={}));function pte(e){e===void 0&&(e={});let{initialEntries:t=["/"],initialIndex:n,v5Compat:r=!1}=e,i;i=t.map((m,h)=>c(m,typeof m=="string"?null:m.state,h===0?"default":void 0));let o=l(n??i.length-1),s=Hi.Pop,a=null;function l(m){return Math.min(Math.max(m,0),i.length-1)}function u(){return i[o]}function c(m,h,g){h===void 0&&(h=null);let S=Q2(i?u().pathname:"/",m,h,g);return pf(S.pathname.charAt(0)==="/","relative pathnames are not supported in memory history: "+JSON.stringify(m)),S}function d(m){return typeof m=="string"?m:Ah(m)}return{get index(){return o},get action(){return s},get location(){return u()},createHref:d,createURL(m){return new URL(d(m),"http://localhost")},encodeLocation(m){let h=typeof m=="string"?Vu(m):m;return{pathname:h.pathname||"",search:h.search||"",hash:h.hash||""}},push(m,h){s=Hi.Push;let g=c(m,h);o+=1,i.splice(o,i.length,g),r&&a&&a({action:s,location:g,delta:1})},replace(m,h){s=Hi.Replace;let g=c(m,h);i[o]=g,r&&a&&a({action:s,location:g,delta:0})},go(m){s=Hi.Pop;let h=l(o+m),g=i[h];o=h,a&&a({action:s,location:g,delta:m})},listen(m){return a=m,()=>{a=null}}}}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function pf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function hte(){return Math.random().toString(36).substr(2,8)}function Q2(e,t,n,r){return n===void 0&&(n=null),vi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vu(t):t,{state:n,key:t&&t.key||r||hte()})}function Ah(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var wr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wr||(wr={}));const mte=new Set(["lazy","caseSensitive","path","id","index","children"]);function gte(e){return e.index===!0}function K_(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if($n(i.index!==!0||!i.children,"Cannot specify children on an index route"),$n(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),gte(i)){let l=vi({},i,t(i),{id:a});return r[a]=l,l}else{let l=vi({},i,t(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=K_(i.children,t,s,r)),l}})}function Dd(e,t,n){return n===void 0&&(n="/"),Z0(e,t,n,!1)}function Z0(e,t,n,r){let i=typeof t=="string"?Vu(t):t,o=Ou(i.pathname||"/",n);if(o==null)return null;let s=q6(e);vte(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Dte(o);a=Cte(s[l],u,r)}return a}function yte(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function q6(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&($n(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yu([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&($n(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q6(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Ete(u,o.index),routesMeta:c})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of H6(o.path))i(o,s,l)}),t}function H6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=H6(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function vte(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ate(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bte=/^:[\w-]+$/,_te=3,Ste=2,xte=1,wte=10,Tte=-2,iM=e=>e==="*";function Ete(e,t){let n=e.split("/"),r=n.length;return n.some(iM)&&(r+=Tte),t&&(r+=Ste),n.filter(i=>!iM(i)).reduce((i,o)=>i+(bte.test(o)?_te:o===""?xte:wte),r)}function Ate(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Cte(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=X_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=X_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:yu([o,d.pathname]),pathnameBase:Ite(yu([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=yu([o,d.pathnameBase]))}return s}function X_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ote(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:m}=c;if(f==="*"){let g=a[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const h=a[d];return m&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Ote(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),pf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Dte(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return pf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Pte(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vu(e):e;return{pathname:n?n.startsWith("/")?n:Rte(n,t):t,search:kte(r),hash:Nte(i)}}function Rte(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function p1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G6(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Lx(e,t){let n=G6(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $x(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Vu(e):(i=vi({},e),$n(!i.pathname||!i.pathname.includes("?"),p1("?","pathname","search",i)),$n(!i.pathname||!i.pathname.includes("#"),p1("#","pathname","hash",i)),$n(!i.search||!i.search.includes("#"),p1("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=Pte(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yu=e=>e.join("/").replace(/\/\/+/g,"/"),Ite=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kte=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Nte=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class J2{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function $y(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W6=["post","put","patch","delete"],Mte=new Set(W6),jte=["get",...W6],Lte=new Set(jte),$te=new Set([301,302,303,307,308]),Bte=new Set([307,308]),h1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ute={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fte=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Y6="remix-router-transitions";function zte(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;$n(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let Ie=e.detectErrorBoundary;i=We=>({hasErrorBoundary:Ie(We)})}else i=Fte;let o={},s=K_(e.routes,i,void 0,o),a,l=e.basename||"/",u=e.dataStrategy||Gte,c=e.patchRoutesOnNavigation,d=vi({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),f=null,m=new Set,h=null,g=null,S=null,y=e.hydrationData!=null,v=Dd(s,e.history.location,l),b=!1,_=null;if(v==null&&!c){let Ie=ys(404,{pathname:e.history.location.pathname}),{matches:We,route:tt}=mM(s);v=We,_={[tt.id]:Ie}}v&&!e.hydrationData&&$e(v,s,e.history.location.pathname).active&&(v=null);let x;if(v)if(v.some(Ie=>Ie.route.lazy))x=!1;else if(!v.some(Ie=>Ie.route.loader))x=!0;else if(d.v7_partialHydration){let Ie=e.hydrationData?e.hydrationData.loaderData:null,We=e.hydrationData?e.hydrationData.errors:null;if(We){let tt=v.findIndex(at=>We[at.route.id]!==void 0);x=v.slice(0,tt+1).every(at=>!tA(at.route,Ie,We))}else x=v.every(tt=>!tA(tt.route,Ie,We))}else x=e.hydrationData!=null;else if(x=!1,v=[],d.v7_partialHydration){let Ie=$e(null,s,e.history.location.pathname);Ie.active&&Ie.matches&&(b=!0,v=Ie.matches)}let T,w={historyAction:e.history.action,location:e.history.location,matches:v,initialized:x,navigation:h1,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||_,fetchers:new Map,blockers:new Map},E=Hi.Pop,C=!1,D,O=!1,I=new Map,k=null,B=!1,q=!1,H=[],z=new Set,ne=new Map,ue=0,Q=-1,N=new Map,G=new Set,J=new Map,Y=new Map,L=new Set,K=new Map,ie=new Map,de;function ye(){if(f=e.history.listen(Ie=>{let{action:We,location:tt,delta:at}=Ie;if(de){de(),de=void 0;return}pf(ie.size===0||at!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let mt=vn({currentLocation:w.location,nextLocation:tt,historyAction:We});if(mt&&at!=null){let W=new Promise(le=>{de=le});e.history.go(at*-1),gn(mt,{state:"blocked",location:tt,proceed(){gn(mt,{state:"proceeding",proceed:void 0,reset:void 0,location:tt}),W.then(()=>e.history.go(at))},reset(){let le=new Map(w.blockers);le.set(mt,eg),ae({blockers:le})}});return}return oe(We,tt)}),n){sne(t,I);let Ie=()=>ane(t,I);t.addEventListener("pagehide",Ie),k=()=>t.removeEventListener("pagehide",Ie)}return w.initialized||oe(Hi.Pop,w.location,{initialHydration:!0}),T}function Te(){f&&f(),k&&k(),m.clear(),D&&D.abort(),w.fetchers.forEach((Ie,We)=>qe(We)),w.blockers.forEach((Ie,We)=>sn(We))}function me(Ie){return m.add(Ie),()=>m.delete(Ie)}function ae(Ie,We){We===void 0&&(We={}),w=vi({},w,Ie);let tt=[],at=[];d.v7_fetcherPersist&&w.fetchers.forEach((mt,W)=>{mt.state==="idle"&&(L.has(W)?at.push(W):tt.push(W))}),L.forEach(mt=>{!w.fetchers.has(mt)&&!ne.has(mt)&&at.push(mt)}),[...m].forEach(mt=>mt(w,{deletedFetchers:at,viewTransitionOpts:We.viewTransitionOpts,flushSync:We.flushSync===!0})),d.v7_fetcherPersist?(tt.forEach(mt=>w.fetchers.delete(mt)),at.forEach(mt=>qe(mt))):at.forEach(mt=>L.delete(mt))}function ge(Ie,We,tt){var at,mt;let{flushSync:W}=tt===void 0?{}:tt,le=w.actionData!=null&&w.navigation.formMethod!=null&&Xa(w.navigation.formMethod)&&w.navigation.state==="loading"&&((at=Ie.state)==null?void 0:at._isRedirect)!==!0,he;We.actionData?Object.keys(We.actionData).length>0?he=We.actionData:he=null:le?he=w.actionData:he=null;let ve=We.loaderData?pM(w.loaderData,We.loaderData,We.matches||[],We.errors):w.loaderData,be=w.blockers;be.size>0&&(be=new Map(be),be.forEach((Ue,rt)=>be.set(rt,eg)));let _e=C===!0||w.navigation.formMethod!=null&&Xa(w.navigation.formMethod)&&((mt=Ie.state)==null?void 0:mt._isRedirect)!==!0;a&&(s=a,a=void 0),B||E===Hi.Pop||(E===Hi.Push?e.history.push(Ie,Ie.state):E===Hi.Replace&&e.history.replace(Ie,Ie.state));let Le;if(E===Hi.Pop){let Ue=I.get(w.location.pathname);Ue&&Ue.has(Ie.pathname)?Le={currentLocation:w.location,nextLocation:Ie}:I.has(Ie.pathname)&&(Le={currentLocation:Ie,nextLocation:w.location})}else if(O){let Ue=I.get(w.location.pathname);Ue?Ue.add(Ie.pathname):(Ue=new Set([Ie.pathname]),I.set(w.location.pathname,Ue)),Le={currentLocation:w.location,nextLocation:Ie}}ae(vi({},We,{actionData:he,loaderData:ve,historyAction:E,location:Ie,initialized:!0,navigation:h1,revalidation:"idle",restoreScrollPosition:Zt(Ie,We.matches||w.matches),preventScrollReset:_e,blockers:be}),{viewTransitionOpts:Le,flushSync:W===!0}),E=Hi.Pop,C=!1,O=!1,B=!1,q=!1,H=[]}async function $(Ie,We){if(typeof Ie=="number"){e.history.go(Ie);return}let tt=eA(w.location,w.matches,l,d.v7_prependBasename,Ie,d.v7_relativeSplatPath,We==null?void 0:We.fromRouteId,We==null?void 0:We.relative),{path:at,submission:mt,error:W}=oM(d.v7_normalizeFormMethod,!1,tt,We),le=w.location,he=Q2(w.location,at,We&&We.state);he=vi({},he,e.history.encodeLocation(he));let ve=We&&We.replace!=null?We.replace:void 0,be=Hi.Push;ve===!0?be=Hi.Replace:ve===!1||mt!=null&&Xa(mt.formMethod)&&mt.formAction===w.location.pathname+w.location.search&&(be=Hi.Replace);let _e=We&&"preventScrollReset"in We?We.preventScrollReset===!0:void 0,Le=(We&&We.flushSync)===!0,Ue=vn({currentLocation:le,nextLocation:he,historyAction:be});if(Ue){gn(Ue,{state:"blocked",location:he,proceed(){gn(Ue,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),$(Ie,We)},reset(){let rt=new Map(w.blockers);rt.set(Ue,eg),ae({blockers:rt})}});return}return await oe(be,he,{submission:mt,pendingError:W,preventScrollReset:_e,replace:We&&We.replace,enableViewTransition:We&&We.viewTransition,flushSync:Le})}function te(){if(Qe(),ae({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){oe(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}oe(E||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:O===!0})}}async function oe(Ie,We,tt){D&&D.abort(),D=null,E=Ie,B=(tt&&tt.startUninterruptedRevalidation)===!0,tr(w.location,w.matches),C=(tt&&tt.preventScrollReset)===!0,O=(tt&&tt.enableViewTransition)===!0;let at=a||s,mt=tt&&tt.overrideNavigation,W=tt!=null&&tt.initialHydration&&w.matches&&w.matches.length>0&&!b?w.matches:Dd(at,We,l),le=(tt&&tt.flushSync)===!0;if(W&&w.initialized&&!q&&Qte(w.location,We)&&!(tt&&tt.submission&&Xa(tt.submission.formMethod))){ge(We,{matches:W},{flushSync:le});return}let he=$e(W,at,We.pathname);if(he.active&&he.matches&&(W=he.matches),!W){let{error:Ke,notFoundMatches:ze,route:fe}=An(We.pathname);ge(We,{matches:ze,loaderData:{},errors:{[fe.id]:Ke}},{flushSync:le});return}D=new AbortController;let ve=Qf(e.history,We,D.signal,tt&&tt.submission),be;if(tt&&tt.pendingError)be=[Pd(W).route.id,{type:wr.error,error:tt.pendingError}];else if(tt&&tt.submission&&Xa(tt.submission.formMethod)){let Ke=await Se(ve,We,tt.submission,W,he.active,{replace:tt.replace,flushSync:le});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[ze,fe]=Ke.pendingActionResult;if(Bs(fe)&&$y(fe.error)&&fe.error.status===404){D=null,ge(We,{matches:Ke.matches,loaderData:{},errors:{[ze]:fe.error}});return}}W=Ke.matches||W,be=Ke.pendingActionResult,mt=m1(We,tt.submission),le=!1,he.active=!1,ve=Qf(e.history,ve.url,ve.signal)}let{shortCircuited:_e,matches:Le,loaderData:Ue,errors:rt}=await Pe(ve,We,W,he.active,mt,tt&&tt.submission,tt&&tt.fetcherSubmission,tt&&tt.replace,tt&&tt.initialHydration===!0,le,be);_e||(D=null,ge(We,vi({matches:Le||W},hM(be),{loaderData:Ue,errors:rt})))}async function Se(Ie,We,tt,at,mt,W){W===void 0&&(W={}),Qe();let le=ine(We,tt);if(ae({navigation:le},{flushSync:W.flushSync===!0}),mt){let be=await qn(at,We.pathname,Ie.signal);if(be.type==="aborted")return{shortCircuited:!0};if(be.type==="error"){let _e=Pd(be.partialMatches).route.id;return{matches:be.partialMatches,pendingActionResult:[_e,{type:wr.error,error:be.error}]}}else if(be.matches)at=be.matches;else{let{notFoundMatches:_e,error:Le,route:Ue}=An(We.pathname);return{matches:_e,pendingActionResult:[Ue.id,{type:wr.error,error:Le}]}}}let he,ve=kg(at,We);if(!ve.route.action&&!ve.route.lazy)he={type:wr.error,error:ys(405,{method:Ie.method,pathname:We.pathname,routeId:ve.route.id})};else if(he=(await pe("action",w,Ie,[ve],at,null))[ve.route.id],Ie.signal.aborted)return{shortCircuited:!0};if(jd(he)){let be;return W&&W.replace!=null?be=W.replace:be=cM(he.response.headers.get("Location"),new URL(Ie.url),l)===w.location.pathname+w.location.search,await Ce(Ie,he,!0,{submission:tt,replace:be}),{shortCircuited:!0}}if(Ic(he))throw ys(400,{type:"defer-action"});if(Bs(he)){let be=Pd(at,ve.route.id);return(W&&W.replace)!==!0&&(E=Hi.Push),{matches:at,pendingActionResult:[be.route.id,he]}}return{matches:at,pendingActionResult:[ve.route.id,he]}}async function Pe(Ie,We,tt,at,mt,W,le,he,ve,be,_e){let Le=mt||m1(We,W),Ue=W||le||yM(Le),rt=!B&&(!d.v7_partialHydration||!ve);if(at){if(rt){let Xt=Oe(_e);ae(vi({navigation:Le},Xt!==void 0?{actionData:Xt}:{}),{flushSync:be})}let Rt=await qn(tt,We.pathname,Ie.signal);if(Rt.type==="aborted")return{shortCircuited:!0};if(Rt.type==="error"){let Xt=Pd(Rt.partialMatches).route.id;return{matches:Rt.partialMatches,loaderData:{},errors:{[Xt]:Rt.error}}}else if(Rt.matches)tt=Rt.matches;else{let{error:Xt,notFoundMatches:en,route:cn}=An(We.pathname);return{matches:en,loaderData:{},errors:{[cn.id]:Xt}}}}let Ke=a||s,[ze,fe]=aM(e.history,w,tt,Ue,We,d.v7_partialHydration&&ve===!0,d.v7_skipActionErrorRevalidation,q,H,z,L,J,G,Ke,l,_e);if(Kt(Rt=>!(tt&&tt.some(Xt=>Xt.route.id===Rt))||ze&&ze.some(Xt=>Xt.route.id===Rt)),Q=++ue,ze.length===0&&fe.length===0){let Rt=Ft();return ge(We,vi({matches:tt,loaderData:{},errors:_e&&Bs(_e[1])?{[_e[0]]:_e[1].error}:null},hM(_e),Rt?{fetchers:new Map(w.fetchers)}:{}),{flushSync:be}),{shortCircuited:!0}}if(rt){let Rt={};if(!at){Rt.navigation=Le;let Xt=Oe(_e);Xt!==void 0&&(Rt.actionData=Xt)}fe.length>0&&(Rt.fetchers=Be(fe)),ae(Rt,{flushSync:be})}fe.forEach(Rt=>{Mt(Rt.key),Rt.controller&&ne.set(Rt.key,Rt.controller)});let Ge=()=>fe.forEach(Rt=>Mt(Rt.key));D&&D.signal.addEventListener("abort",Ge);let{loaderResults:Xe,fetcherResults:ut}=await je(w,tt,ze,fe,Ie);if(Ie.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Ge),fe.forEach(Rt=>ne.delete(Rt.key));let gt=Xb(Xe);if(gt)return await Ce(Ie,gt.result,!0,{replace:he}),{shortCircuited:!0};if(gt=Xb(ut),gt)return G.add(gt.key),await Ce(Ie,gt.result,!0,{replace:he}),{shortCircuited:!0};let{loaderData:_t,errors:Tt}=fM(w,tt,Xe,_e,fe,ut,K);K.forEach((Rt,Xt)=>{Rt.subscribe(en=>{(en||Rt.done)&&K.delete(Xt)})}),d.v7_partialHydration&&ve&&w.errors&&(Tt=vi({},w.errors,Tt));let Jt=Ft(),wn=bt(Q),nn=Jt||wn||fe.length>0;return vi({matches:tt,loaderData:_t,errors:Tt},nn?{fetchers:new Map(w.fetchers)}:{})}function Oe(Ie){if(Ie&&!Bs(Ie[1]))return{[Ie[0]]:Ie[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function Be(Ie){return Ie.forEach(We=>{let tt=w.fetchers.get(We.key),at=tg(void 0,tt?tt.data:void 0);w.fetchers.set(We.key,at)}),new Map(w.fetchers)}function Z(Ie,We,tt,at){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Mt(Ie);let mt=(at&&at.flushSync)===!0,W=a||s,le=eA(w.location,w.matches,l,d.v7_prependBasename,tt,d.v7_relativeSplatPath,We,at==null?void 0:at.relative),he=Dd(W,le,l),ve=$e(he,W,le);if(ve.active&&ve.matches&&(he=ve.matches),!he){Ne(Ie,We,ys(404,{pathname:le}),{flushSync:mt});return}let{path:be,submission:_e,error:Le}=oM(d.v7_normalizeFormMethod,!0,le,at);if(Le){Ne(Ie,We,Le,{flushSync:mt});return}let Ue=kg(he,be),rt=(at&&at.preventScrollReset)===!0;if(_e&&Xa(_e.formMethod)){ce(Ie,We,be,Ue,he,ve.active,mt,rt,_e);return}J.set(Ie,{routeId:We,path:be}),xe(Ie,We,be,Ue,he,ve.active,mt,rt,_e)}async function ce(Ie,We,tt,at,mt,W,le,he,ve){Qe(),J.delete(Ie);function be(bn){if(!bn.route.action&&!bn.route.lazy){let Un=ys(405,{method:ve.formMethod,pathname:tt,routeId:We});return Ne(Ie,We,Un,{flushSync:le}),!0}return!1}if(!W&&be(at))return;let _e=w.fetchers.get(Ie);Ve(Ie,one(ve,_e),{flushSync:le});let Le=new AbortController,Ue=Qf(e.history,tt,Le.signal,ve);if(W){let bn=await qn(mt,new URL(Ue.url).pathname,Ue.signal,Ie);if(bn.type==="aborted")return;if(bn.type==="error"){Ne(Ie,We,bn.error,{flushSync:le});return}else if(bn.matches){if(mt=bn.matches,at=kg(mt,tt),be(at))return}else{Ne(Ie,We,ys(404,{pathname:tt}),{flushSync:le});return}}ne.set(Ie,Le);let rt=ue,ze=(await pe("action",w,Ue,[at],mt,Ie))[at.route.id];if(Ue.signal.aborted){ne.get(Ie)===Le&&ne.delete(Ie);return}if(d.v7_fetcherPersist&&L.has(Ie)){if(jd(ze)||Bs(ze)){Ve(Ie,cc(void 0));return}}else{if(jd(ze))if(ne.delete(Ie),Q>rt){Ve(Ie,cc(void 0));return}else return G.add(Ie),Ve(Ie,tg(ve)),Ce(Ue,ze,!1,{fetcherSubmission:ve,preventScrollReset:he});if(Bs(ze)){Ne(Ie,We,ze.error);return}}if(Ic(ze))throw ys(400,{type:"defer-action"});let fe=w.navigation.location||w.location,Ge=Qf(e.history,fe,Le.signal),Xe=a||s,ut=w.navigation.state!=="idle"?Dd(Xe,w.navigation.location,l):w.matches;$n(ut,"Didn't find any matches after fetcher action");let gt=++ue;N.set(Ie,gt);let _t=tg(ve,ze.data);w.fetchers.set(Ie,_t);let[Tt,Jt]=aM(e.history,w,ut,ve,fe,!1,d.v7_skipActionErrorRevalidation,q,H,z,L,J,G,Xe,l,[at.route.id,ze]);Jt.filter(bn=>bn.key!==Ie).forEach(bn=>{let Un=bn.key,an=w.fetchers.get(Un),Pn=tg(void 0,an?an.data:void 0);w.fetchers.set(Un,Pn),Mt(Un),bn.controller&&ne.set(Un,bn.controller)}),ae({fetchers:new Map(w.fetchers)});let wn=()=>Jt.forEach(bn=>Mt(bn.key));Le.signal.addEventListener("abort",wn);let{loaderResults:nn,fetcherResults:Rt}=await je(w,ut,Tt,Jt,Ge);if(Le.signal.aborted)return;Le.signal.removeEventListener("abort",wn),N.delete(Ie),ne.delete(Ie),Jt.forEach(bn=>ne.delete(bn.key));let Xt=Xb(nn);if(Xt)return Ce(Ge,Xt.result,!1,{preventScrollReset:he});if(Xt=Xb(Rt),Xt)return G.add(Xt.key),Ce(Ge,Xt.result,!1,{preventScrollReset:he});let{loaderData:en,errors:cn}=fM(w,ut,nn,void 0,Jt,Rt,K);if(w.fetchers.has(Ie)){let bn=cc(ze.data);w.fetchers.set(Ie,bn)}bt(gt),w.navigation.state==="loading"&&gt>Q?($n(E,"Expected pending action"),D&&D.abort(),ge(w.navigation.location,{matches:ut,loaderData:en,errors:cn,fetchers:new Map(w.fetchers)})):(ae({errors:cn,loaderData:pM(w.loaderData,en,ut,cn),fetchers:new Map(w.fetchers)}),q=!1)}async function xe(Ie,We,tt,at,mt,W,le,he,ve){let be=w.fetchers.get(Ie);Ve(Ie,tg(ve,be?be.data:void 0),{flushSync:le});let _e=new AbortController,Le=Qf(e.history,tt,_e.signal);if(W){let ze=await qn(mt,new URL(Le.url).pathname,Le.signal,Ie);if(ze.type==="aborted")return;if(ze.type==="error"){Ne(Ie,We,ze.error,{flushSync:le});return}else if(ze.matches)mt=ze.matches,at=kg(mt,tt);else{Ne(Ie,We,ys(404,{pathname:tt}),{flushSync:le});return}}ne.set(Ie,_e);let Ue=ue,Ke=(await pe("loader",w,Le,[at],mt,Ie))[at.route.id];if(Ic(Ke)&&(Ke=await cD(Ke,Le.signal,!0)||Ke),ne.get(Ie)===_e&&ne.delete(Ie),!Le.signal.aborted){if(L.has(Ie)){Ve(Ie,cc(void 0));return}if(jd(Ke))if(Q>Ue){Ve(Ie,cc(void 0));return}else{G.add(Ie),await Ce(Le,Ke,!1,{preventScrollReset:he});return}if(Bs(Ke)){Ne(Ie,We,Ke.error);return}$n(!Ic(Ke),"Unhandled fetcher deferred data"),Ve(Ie,cc(Ke.data))}}async function Ce(Ie,We,tt,at){let{submission:mt,fetcherSubmission:W,preventScrollReset:le,replace:he}=at===void 0?{}:at;We.response.headers.has("X-Remix-Revalidate")&&(q=!0);let ve=We.response.headers.get("Location");$n(ve,"Expected a Location header on the redirect Response"),ve=cM(ve,new URL(Ie.url),l);let be=Q2(w.location,ve,{_isRedirect:!0});if(n){let ze=!1;if(We.response.headers.has("X-Remix-Reload-Document"))ze=!0;else if(uD.test(ve)){const fe=e.history.createURL(ve);ze=fe.origin!==t.location.origin||Ou(fe.pathname,l)==null}if(ze){he?t.location.replace(ve):t.location.assign(ve);return}}D=null;let _e=he===!0||We.response.headers.has("X-Remix-Replace")?Hi.Replace:Hi.Push,{formMethod:Le,formAction:Ue,formEncType:rt}=w.navigation;!mt&&!W&&Le&&Ue&&rt&&(mt=yM(w.navigation));let Ke=mt||W;if(Bte.has(We.response.status)&&Ke&&Xa(Ke.formMethod))await oe(_e,be,{submission:vi({},Ke,{formAction:ve}),preventScrollReset:le||C,enableViewTransition:tt?O:void 0});else{let ze=m1(be,mt);await oe(_e,be,{overrideNavigation:ze,fetcherSubmission:W,preventScrollReset:le||C,enableViewTransition:tt?O:void 0})}}async function pe(Ie,We,tt,at,mt,W){let le,he={};try{le=await Wte(u,Ie,We,tt,at,mt,W,o,i)}catch(ve){return at.forEach(be=>{he[be.route.id]={type:wr.error,error:ve}}),he}for(let[ve,be]of Object.entries(le))if(Jte(be)){let _e=be.result;he[ve]={type:wr.redirect,response:Xte(_e,tt,ve,mt,l,d.v7_relativeSplatPath)}}else he[ve]=await Kte(be);return he}async function je(Ie,We,tt,at,mt){let W=Ie.matches,le=pe("loader",Ie,mt,tt,We,null),he=Promise.all(at.map(async _e=>{if(_e.matches&&_e.match&&_e.controller){let Ue=(await pe("loader",Ie,Qf(e.history,_e.path,_e.controller.signal),[_e.match],_e.matches,_e.key))[_e.match.route.id];return{[_e.key]:Ue}}else return Promise.resolve({[_e.key]:{type:wr.error,error:ys(404,{pathname:_e.path})}})})),ve=await le,be=(await he).reduce((_e,Le)=>Object.assign(_e,Le),{});return await Promise.all([nne(We,ve,mt.signal,W,Ie.loaderData),rne(We,be,at)]),{loaderResults:ve,fetcherResults:be}}function Qe(){q=!0,H.push(...Kt()),J.forEach((Ie,We)=>{ne.has(We)&&z.add(We),Mt(We)})}function Ve(Ie,We,tt){tt===void 0&&(tt={}),w.fetchers.set(Ie,We),ae({fetchers:new Map(w.fetchers)},{flushSync:(tt&&tt.flushSync)===!0})}function Ne(Ie,We,tt,at){at===void 0&&(at={});let mt=Pd(w.matches,We);qe(Ie),ae({errors:{[mt.route.id]:tt},fetchers:new Map(w.fetchers)},{flushSync:(at&&at.flushSync)===!0})}function Je(Ie){return Y.set(Ie,(Y.get(Ie)||0)+1),L.has(Ie)&&L.delete(Ie),w.fetchers.get(Ie)||Ute}function qe(Ie){let We=w.fetchers.get(Ie);ne.has(Ie)&&!(We&&We.state==="loading"&&N.has(Ie))&&Mt(Ie),J.delete(Ie),N.delete(Ie),G.delete(Ie),d.v7_fetcherPersist&&L.delete(Ie),z.delete(Ie),w.fetchers.delete(Ie)}function Ze(Ie){let We=(Y.get(Ie)||0)-1;We<=0?(Y.delete(Ie),L.add(Ie),d.v7_fetcherPersist||qe(Ie)):Y.set(Ie,We),ae({fetchers:new Map(w.fetchers)})}function Mt(Ie){let We=ne.get(Ie);We&&(We.abort(),ne.delete(Ie))}function Ut(Ie){for(let We of Ie){let tt=Je(We),at=cc(tt.data);w.fetchers.set(We,at)}}function Ft(){let Ie=[],We=!1;for(let tt of G){let at=w.fetchers.get(tt);$n(at,"Expected fetcher: "+tt),at.state==="loading"&&(G.delete(tt),Ie.push(tt),We=!0)}return Ut(Ie),We}function bt(Ie){let We=[];for(let[tt,at]of N)if(at<Ie){let mt=w.fetchers.get(tt);$n(mt,"Expected fetcher: "+tt),mt.state==="loading"&&(Mt(tt),N.delete(tt),We.push(tt))}return Ut(We),We.length>0}function Jn(Ie,We){let tt=w.blockers.get(Ie)||eg;return ie.get(Ie)!==We&&ie.set(Ie,We),tt}function sn(Ie){w.blockers.delete(Ie),ie.delete(Ie)}function gn(Ie,We){let tt=w.blockers.get(Ie)||eg;$n(tt.state==="unblocked"&&We.state==="blocked"||tt.state==="blocked"&&We.state==="blocked"||tt.state==="blocked"&&We.state==="proceeding"||tt.state==="blocked"&&We.state==="unblocked"||tt.state==="proceeding"&&We.state==="unblocked","Invalid blocker state transition: "+tt.state+" -> "+We.state);let at=new Map(w.blockers);at.set(Ie,We),ae({blockers:at})}function vn(Ie){let{currentLocation:We,nextLocation:tt,historyAction:at}=Ie;if(ie.size===0)return;ie.size>1&&pf(!1,"A router only supports one blocker at a time");let mt=Array.from(ie.entries()),[W,le]=mt[mt.length-1],he=w.blockers.get(W);if(!(he&&he.state==="proceeding")&&le({currentLocation:We,nextLocation:tt,historyAction:at}))return W}function An(Ie){let We=ys(404,{pathname:Ie}),tt=a||s,{matches:at,route:mt}=mM(tt);return Kt(),{notFoundMatches:at,route:mt,error:We}}function Kt(Ie){let We=[];return K.forEach((tt,at)=>{(!Ie||Ie(at))&&(tt.cancel(),We.push(at),K.delete(at))}),We}function Mn(Ie,We,tt){if(h=Ie,S=We,g=tt||null,!y&&w.navigation===h1){y=!0;let at=Zt(w.location,w.matches);at!=null&&ae({restoreScrollPosition:at})}return()=>{h=null,S=null,g=null}}function et(Ie,We){return g&&g(Ie,We.map(at=>yte(at,w.loaderData)))||Ie.key}function tr(Ie,We){if(h&&S){let tt=et(Ie,We);h[tt]=S()}}function Zt(Ie,We){if(h){let tt=et(Ie,We),at=h[tt];if(typeof at=="number")return at}return null}function $e(Ie,We,tt){if(c)if(Ie){if(Object.keys(Ie[0].params).length>0)return{active:!0,matches:Z0(We,tt,l,!0)}}else return{active:!0,matches:Z0(We,tt,l,!0)||[]};return{active:!1,matches:null}}async function qn(Ie,We,tt,at){if(!c)return{type:"success",matches:Ie};let mt=Ie;for(;;){let W=a==null,le=a||s,he=o;try{await c({signal:tt,path:We,matches:mt,fetcherKey:at,patch:(_e,Le)=>{tt.aborted||uM(_e,Le,le,he,i)}})}catch(_e){return{type:"error",error:_e,partialMatches:mt}}finally{W&&!tt.aborted&&(s=[...s])}if(tt.aborted)return{type:"aborted"};let ve=Dd(le,We,l);if(ve)return{type:"success",matches:ve};let be=Z0(le,We,l,!0);if(!be||mt.length===be.length&&mt.every((_e,Le)=>_e.route.id===be[Le].route.id))return{type:"success",matches:null};mt=be}}function gi(Ie){o={},a=K_(Ie,i,void 0,o)}function jn(Ie,We){let tt=a==null;uM(Ie,We,a||s,o,i),tt&&(s=[...s],ae({}))}return T={get basename(){return l},get future(){return d},get state(){return w},get routes(){return s},get window(){return t},initialize:ye,subscribe:me,enableScrollRestoration:Mn,navigate:$,fetch:Z,revalidate:te,createHref:Ie=>e.history.createHref(Ie),encodeLocation:Ie=>e.history.encodeLocation(Ie),getFetcher:Je,deleteFetcher:Ze,dispose:Te,getBlocker:Jn,deleteBlocker:sn,patchRoutes:jn,_internalFetchControllers:ne,_internalActiveDeferreds:K,_internalSetRoutes:gi},T}function Vte(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function eA(e,t,n,r,i,o,s,a){let l,u;if(s){l=[];for(let d of t)if(l.push(d),d.route.id===s){u=d;break}}else l=t,u=t[t.length-1];let c=$x(i||".",Lx(l,o),Ou(e.pathname,n)||e.pathname,a==="path");if(i==null&&(c.search=e.search,c.hash=e.hash),(i==null||i===""||i===".")&&u){let d=dD(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let f=new URLSearchParams(c.search),m=f.getAll("index");f.delete("index"),m.filter(g=>g).forEach(g=>f.append("index",g));let h=f.toString();c.search=h?"?"+h:""}}return r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:yu([n,c.pathname])),Ah(c)}function oM(e,t,n,r){if(!r||!Vte(r))return{path:n};if(r.formMethod&&!tne(r.formMethod))return{path:n,error:ys(405,{method:r.formMethod})};let i=()=>({path:n,error:ys(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=e?o.toUpperCase():o.toLowerCase(),a=Z6(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Xa(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((m,h)=>{let[g,S]=h;return""+m+g+"="+S+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!Xa(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}$n(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=nA(r.formData),u=r.formData;else if(r.body instanceof FormData)l=nA(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=dM(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=dM(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xa(c.formMethod))return{path:n,submission:c};let d=Vu(n);return t&&d.search&&dD(d.search)&&l.append("index",""),d.search="?"+l,{path:Ah(d),submission:c}}function sM(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(i=>i.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function aM(e,t,n,r,i,o,s,a,l,u,c,d,f,m,h,g){let S=g?Bs(g[1])?g[1].error:g[1].data:void 0,y=e.createURL(t.location),v=e.createURL(i),b=n;o&&t.errors?b=sM(n,Object.keys(t.errors)[0],!0):g&&Bs(g[1])&&(b=sM(n,g[0]));let _=g?g[1].statusCode:void 0,x=s&&_&&_>=400,T=b.filter((E,C)=>{let{route:D}=E;if(D.lazy)return!0;if(D.loader==null)return!1;if(o)return tA(D,t.loaderData,t.errors);if(qte(t.loaderData,t.matches[C],E)||l.some(k=>k===E.route.id))return!0;let O=t.matches[C],I=E;return lM(E,vi({currentUrl:y,currentParams:O.params,nextUrl:v,nextParams:I.params},r,{actionResult:S,actionStatus:_,defaultShouldRevalidate:x?!1:a||y.pathname+y.search===v.pathname+v.search||y.search!==v.search||K6(O,I)}))}),w=[];return d.forEach((E,C)=>{if(o||!n.some(B=>B.route.id===E.routeId)||c.has(C))return;let D=Dd(m,E.path,h);if(!D){w.push({key:C,routeId:E.routeId,path:E.path,matches:null,match:null,controller:null});return}let O=t.fetchers.get(C),I=kg(D,E.path),k=!1;f.has(C)?k=!1:u.has(C)?(u.delete(C),k=!0):O&&O.state!=="idle"&&O.data===void 0?k=a:k=lM(I,vi({currentUrl:y,currentParams:t.matches[t.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:S,actionStatus:_,defaultShouldRevalidate:x?!1:a})),k&&w.push({key:C,routeId:E.routeId,path:E.path,matches:D,match:I,controller:new AbortController})}),[T,w]}function tA(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function qte(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function K6(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function lM(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function uM(e,t,n,r,i){var o;let s;if(e){let u=r[e];$n(u,"No route found to patch children into: routeId = "+e),u.children||(u.children=[]),s=u.children}else s=n;let a=t.filter(u=>!s.some(c=>X6(u,c))),l=K_(a,i,[e||"_","patch",String(((o=s)==null?void 0:o.length)||"0")],r);s.push(...l)}function X6(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var i;return(i=t.children)==null?void 0:i.some(o=>X6(n,o))}):!1}async function Hte(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];$n(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";pf(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!mte.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,vi({},t(i),{lazy:void 0}))}async function Gte(e){let{matches:t}=e,n=t.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function Wte(e,t,n,r,i,o,s,a,l,u){let c=o.map(m=>m.route.lazy?Hte(m.route,l,a):void 0),d=o.map((m,h)=>{let g=c[h],S=i.some(v=>v.route.id===m.route.id);return vi({},m,{shouldLoad:S,resolve:async v=>(v&&r.method==="GET"&&(m.route.lazy||m.route.loader)&&(S=!0),S?Yte(t,r,m,g,v,u):Promise.resolve({type:wr.data,result:void 0}))})}),f=await e({matches:d,request:r,params:o[0].params,fetcherKey:s,context:u});try{await Promise.all(c)}catch{}return f}async function Yte(e,t,n,r,i,o){let s,a,l=u=>{let c,d=new Promise((h,g)=>c=g);a=()=>c(),t.signal.addEventListener("abort",a);let f=h=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):u({request:t,params:n.params,context:o},...h!==void 0?[h]:[]),m=(async()=>{try{return{type:"data",result:await(i?i(g=>f(g)):f())}}catch(h){return{type:"error",result:h}}})();return Promise.race([m,d])};try{let u=n.route[e];if(r)if(u){let c,[d]=await Promise.all([l(u).catch(f=>{c=f}),r]);if(c!==void 0)throw c;s=d}else if(await r,u=n.route[e],u)s=await l(u);else if(e==="action"){let c=new URL(t.url),d=c.pathname+c.search;throw ys(405,{method:t.method,pathname:d,routeId:n.route.id})}else return{type:wr.data,result:void 0};else if(u)s=await l(u);else{let c=new URL(t.url),d=c.pathname+c.search;throw ys(404,{pathname:d})}$n(s.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:wr.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return s}async function Kte(e){let{result:t,type:n}=e;if(Q6(t)){let d;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(f){return{type:wr.error,error:f}}return n===wr.error?{type:wr.error,error:new J2(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:wr.data,data:d,statusCode:t.status,headers:t.headers}}if(n===wr.error){if(gM(t)){var r,i;if(t.data instanceof Error){var o,s;return{type:wr.error,error:t.data,statusCode:(o=t.init)==null?void 0:o.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}}return{type:wr.error,error:new J2(((r=t.init)==null?void 0:r.status)||500,void 0,t.data),statusCode:$y(t)?t.status:void 0,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}}return{type:wr.error,error:t,statusCode:$y(t)?t.status:void 0}}if(ene(t)){var a,l;return{type:wr.deferred,deferredData:t,statusCode:(a=t.init)==null?void 0:a.status,headers:((l=t.init)==null?void 0:l.headers)&&new Headers(t.init.headers)}}if(gM(t)){var u,c;return{type:wr.data,data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(c=t.init)!=null&&c.headers?new Headers(t.init.headers):void 0}}return{type:wr.data,data:t}}function Xte(e,t,n,r,i,o){let s=e.headers.get("Location");if($n(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!uD.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=eA(new URL(t.url),a,i,!0,s,o),e.headers.set("Location",s)}return e}function cM(e,t,n){if(uD.test(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=Ou(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Qf(e,t,n,r){let i=e.createURL(Z6(t)).toString(),o={signal:n};if(r&&Xa(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=nA(r.formData):o.body=r.formData}return new Request(i,o)}function nA(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function dM(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Zte(e,t,n,r,i){let o={},s=null,a,l=!1,u={},c=n&&Bs(n[1])?n[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let f=d.route.id,m=t[f];if($n(!jd(m),"Cannot handle redirect results in processLoaderData"),Bs(m)){let h=m.error;c!==void 0&&(h=c,c=void 0),s=s||{};{let g=Pd(e,f);s[g.route.id]==null&&(s[g.route.id]=h)}o[f]=void 0,l||(l=!0,a=$y(m.error)?m.error.status:500),m.headers&&(u[f]=m.headers)}else Ic(m)?(r.set(f,m.deferredData),o[f]=m.deferredData.data,m.statusCode!=null&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers)):(o[f]=m.data,m.statusCode&&m.statusCode!==200&&!l&&(a=m.statusCode),m.headers&&(u[f]=m.headers))}),c!==void 0&&n&&(s={[n[0]]:c},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function fM(e,t,n,r,i,o,s){let{loaderData:a,errors:l}=Zte(t,n,r,s);return i.forEach(u=>{let{key:c,match:d,controller:f}=u,m=o[c];if($n(m,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Bs(m)){let h=Pd(e.matches,d==null?void 0:d.route.id);l&&l[h.route.id]||(l=vi({},l,{[h.route.id]:m.error})),e.fetchers.delete(c)}else if(jd(m))$n(!1,"Unhandled fetcher revalidation redirect");else if(Ic(m))$n(!1,"Unhandled fetcher deferred data");else{let h=cc(m.data);e.fetchers.set(c,h)}}),{loaderData:a,errors:l}}function pM(e,t,n,r){let i=vi({},t);for(let o of n){let s=o.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(i[s]=t[s]):e[s]!==void 0&&o.route.loader&&(i[s]=e[s]),r&&r.hasOwnProperty(s))break}return i}function hM(e){return e?Bs(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Pd(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function mM(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ys(e,t){let{pathname:n,routeId:r,method:i,type:o,message:s}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new J2(e||500,a,new Error(l),!0)}function Xb(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(jd(i))return{key:r,result:i}}}function Z6(e){let t=typeof e=="string"?Vu(e):e;return Ah(vi({},t,{hash:""}))}function Qte(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Jte(e){return Q6(e.result)&&$te.has(e.result.status)}function Ic(e){return e.type===wr.deferred}function Bs(e){return e.type===wr.error}function jd(e){return(e&&e.type)===wr.redirect}function gM(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function ene(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Q6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function tne(e){return Lte.has(e.toLowerCase())}function Xa(e){return Mte.has(e.toLowerCase())}async function nne(e,t,n,r,i){let o=Object.entries(t);for(let s=0;s<o.length;s++){let[a,l]=o[s],u=e.find(f=>(f==null?void 0:f.route.id)===a);if(!u)continue;let c=r.find(f=>f.route.id===u.route.id),d=c!=null&&!K6(c,u)&&(i&&i[u.route.id])!==void 0;Ic(l)&&d&&await cD(l,n,!1).then(f=>{f&&(t[a]=f)})}}async function rne(e,t,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=t[i];e.find(u=>(u==null?void 0:u.route.id)===o)&&Ic(a)&&($n(s,"Expected an AbortController for revalidating fetcher deferred result"),await cD(a,s.signal,!0).then(u=>{u&&(t[i]=u)}))}}async function cD(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:wr.data,data:e.deferredData.unwrappedData}}catch(i){return{type:wr.error,error:i}}return{type:wr.data,data:e.deferredData.data}}}function dD(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function kg(e,t){let n=typeof t=="string"?Vu(t).search:t.search;if(e[e.length-1].route.index&&dD(n||""))return e[e.length-1];let r=G6(e);return r[r.length-1]}function yM(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:s}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function m1(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ine(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function tg(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function one(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function cc(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sne(e,t){try{let n=e.sessionStorage.getItem(Y6);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function ane(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Y6,JSON.stringify(n))}catch(r){pf(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},By.apply(this,arguments)}const Lv=R.createContext(null),fD=R.createContext(null),qu=R.createContext(null),pD=R.createContext(null),Wl=R.createContext({outlet:null,matches:[],isDataRoute:!1}),J6=R.createContext(null);function lne(e,t){let{relative:n}=t===void 0?{}:t;pm()||$n(!1);let{basename:r,navigator:i}=R.useContext(qu),{hash:o,pathname:s,search:a}=Bx(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:yu([r,s])),i.createHref({pathname:l,search:a,hash:o})}function pm(){return R.useContext(pD)!=null}function sd(){return pm()||$n(!1),R.useContext(pD).location}function eU(e){R.useContext(qu).static||R.useLayoutEffect(e)}function Hu(){let{isDataRoute:e}=R.useContext(Wl);return e?xne():une()}function une(){pm()||$n(!1);let e=R.useContext(Lv),{basename:t,future:n,navigator:r}=R.useContext(qu),{matches:i}=R.useContext(Wl),{pathname:o}=sd(),s=JSON.stringify(Lx(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return eU(()=>{a.current=!0}),R.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=$x(u,JSON.parse(s),o,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:yu([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,s,o,e])}const cne=R.createContext(null);function dne(e){let t=R.useContext(Wl).outlet;return t&&R.createElement(cne.Provider,{value:e},t)}function tU(){let{matches:e}=R.useContext(Wl),t=e[e.length-1];return t?t.params:{}}function Bx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(qu),{matches:i}=R.useContext(Wl),{pathname:o}=sd(),s=JSON.stringify(Lx(i,r.v7_relativeSplatPath));return R.useMemo(()=>$x(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function fne(e,t,n,r){pm()||$n(!1);let{navigator:i}=R.useContext(qu),{matches:o}=R.useContext(Wl),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=sd(),c;c=u;let d=c.pathname||"/",f=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=Dd(e,{pathname:f});return yne(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:yu([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:yu([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r)}function pne(){let e=Sne(),t=$y(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const hne=R.createElement(pne,null);class mne extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Wl.Provider,{value:this.props.routeContext},R.createElement(J6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gne(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(Lv);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Wl.Provider,{value:t},r)}function yne(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||$n(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:m}=n,h=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||h){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,f)=>{let m,h=!1,g=null,S=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||hne,l&&(u<0&&f===0?(wne("route-fallback"),h=!0,S=null):u===f&&(h=!0,S=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,f+1)),v=()=>{let b;return m?b=g:h?b=S:d.route.Component?b=R.createElement(d.route.Component,null):d.route.element?b=d.route.element:b=c,R.createElement(gne,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:b})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?R.createElement(mne,{location:n.location,revalidation:n.revalidation,component:g,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var nU=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(nU||{}),rU=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(rU||{});function vne(e){let t=R.useContext(Lv);return t||$n(!1),t}function bne(e){let t=R.useContext(fD);return t||$n(!1),t}function _ne(e){let t=R.useContext(Wl);return t||$n(!1),t}function iU(e){let t=_ne(),n=t.matches[t.matches.length-1];return n.route.id||$n(!1),n.route.id}function Sne(){var e;let t=R.useContext(J6),n=bne(rU.UseRouteError),r=iU();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xne(){let{router:e}=vne(nU.UseNavigateStable),t=iU(),n=R.useRef(!1);return eU(()=>{n.current=!0}),R.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,By({fromRouteId:t},o)))},[e,t])}const vM={};function wne(e,t,n){vM[e]||(vM[e]=!0)}function Tne(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function oU(e){let{to:t,replace:n,state:r,relative:i}=e;pm()||$n(!1);let{future:o,static:s}=R.useContext(qu),{matches:a}=R.useContext(Wl),{pathname:l}=sd(),u=Hu(),c=$x(t,Lx(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return R.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function sU(e){return dne(e.context)}function gp(e){$n(!1)}function Ene(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Hi.Pop,navigator:o,static:s=!1,future:a}=e;pm()&&$n(!1);let l=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:l,navigator:o,static:s,future:By({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Vu(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:h="default"}=r,g=R.useMemo(()=>{let S=Ou(c,l);return S==null?null:{location:{pathname:S,search:d,hash:f,state:m,key:h},navigationType:i}},[l,c,d,f,m,h,i]);return g==null?null:R.createElement(qu.Provider,{value:u},R.createElement(pD.Provider,{children:n,value:g}))}new Promise(()=>{});function rA(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let o=[...t,i];if(r.type===R.Fragment){n.push.apply(n,rA(r.props.children,o));return}r.type!==gp&&$n(!1),!r.props.index||!r.props.children||$n(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=rA(r.props.children,o)),n.push(s)}),n}function Ane(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:R.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:R.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:R.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function Cne(e,t){return zte({basename:t==null?void 0:t.basename,future:By({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:pte({initialEntries:t==null?void 0:t.initialEntries,initialIndex:t==null?void 0:t.initialIndex}),hydrationData:t==null?void 0:t.hydrationData,routes:e,mapRouteProperties:Ane,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation}).initialize()}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z_.apply(this,arguments)}function aU(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function One(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dne(e,t){return e.button===0&&(!t||t==="_self")&&!One(e)}function iA(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Pne(e,t){let n=iA(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}const Rne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ine=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],kne="6";try{window.__reactRouterVersion=kne}catch{}const lU=R.createContext({isTransitioning:!1}),Nne=R.createContext(new Map),Mne="startTransition",bM=dO[Mne],jne="flushSync",_M=LQ[jne];function Lne(e){bM?bM(e):e()}function ng(e){_M?_M(e):e()}class $ne{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Bne(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=R.useState(n.state),[s,a]=R.useState(),[l,u]=R.useState({isTransitioning:!1}),[c,d]=R.useState(),[f,m]=R.useState(),[h,g]=R.useState(),S=R.useRef(new Map),{v7_startTransition:y}=r||{},v=R.useCallback(E=>{y?Lne(E):E()},[y]),b=R.useCallback((E,C)=>{let{deletedFetchers:D,flushSync:O,viewTransitionOpts:I}=C;E.fetchers.forEach((B,q)=>{B.data!==void 0&&S.current.set(q,B.data)}),D.forEach(B=>S.current.delete(B));let k=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!I||k){O?ng(()=>o(E)):v(()=>o(E));return}if(O){ng(()=>{f&&(c&&c.resolve(),f.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:I.currentLocation,nextLocation:I.nextLocation})});let B=n.window.document.startViewTransition(()=>{ng(()=>o(E))});B.finished.finally(()=>{ng(()=>{d(void 0),m(void 0),a(void 0),u({isTransitioning:!1})})}),ng(()=>m(B));return}f?(c&&c.resolve(),f.skipTransition(),g({state:E,currentLocation:I.currentLocation,nextLocation:I.nextLocation})):(a(E),u({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}))},[n.window,f,c,S,v]);R.useLayoutEffect(()=>n.subscribe(b),[n,b]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new $ne)},[l]),R.useEffect(()=>{if(c&&s&&n.window){let E=s,C=c.promise,D=n.window.document.startViewTransition(async()=>{v(()=>o(E)),await C});D.finished.finally(()=>{d(void 0),m(void 0),a(void 0),u({isTransitioning:!1})}),m(D)}},[v,s,c,n.window]),R.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,f,i.location,s]),R.useEffect(()=>{!l.isTransitioning&&h&&(a(h.state),u({isTransitioning:!0,flushSync:!1,currentLocation:h.currentLocation,nextLocation:h.nextLocation}),g(void 0))},[l.isTransitioning,h]),R.useEffect(()=>{},[]);let _=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:E=>n.navigate(E),push:(E,C,D)=>n.navigate(E,{state:C,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(E,C,D)=>n.navigate(E,{replace:!0,state:C,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[n]),x=n.basename||"/",T=R.useMemo(()=>({router:n,navigator:_,static:!1,basename:x}),[n,_,x]),w=R.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return R.useEffect(()=>Tne(r,n.future),[r,n.future]),R.createElement(R.Fragment,null,R.createElement(Lv.Provider,{value:T},R.createElement(fD.Provider,{value:i},R.createElement(Nne.Provider,{value:S.current},R.createElement(lU.Provider,{value:l},R.createElement(Ene,{basename:x,location:i.location,navigationType:i.historyAction,navigator:_,future:w},i.initialized||n.future.v7_partialHydration?R.createElement(Une,{routes:n.routes,future:n.future,state:i}):t))))),null)}const Une=R.memo(Fne);function Fne(e){let{routes:t,future:n,state:r}=e;return fne(t,void 0,r,n)}const zne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qne=R.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,f=aU(t,Rne),{basename:m}=R.useContext(qu),h,g=!1;if(typeof u=="string"&&Vne.test(u)&&(h=u,zne))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),x=Ou(_.pathname,m);_.origin===b.origin&&x!=null?u=x+_.search+_.hash:g=!0}catch{}let S=lne(u,{relative:i}),y=Wne(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function v(b){r&&r(b),b.defaultPrevented||y(b)}return R.createElement("a",Z_({},f,{href:h||S,onClick:g||o?r:v,ref:n,target:l}))}),Hne=R.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:o="",end:s=!1,style:a,to:l,viewTransition:u,children:c}=t,d=aU(t,Ine),f=Bx(l,{relative:d.relative}),m=sd(),h=R.useContext(fD),{navigator:g,basename:S}=R.useContext(qu),y=h!=null&&Kne(f)&&u===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,b=m.pathname,_=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;i||(b=b.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&S&&(_=Ou(_,S)||_);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let T=b===v||!s&&b.startsWith(v)&&b.charAt(x)==="/",w=_!=null&&(_===v||!s&&_.startsWith(v)&&_.charAt(v.length)==="/"),E={isActive:T,isPending:w,isTransitioning:y},C=T?r:void 0,D;typeof o=="function"?D=o(E):D=[o,T?"active":null,w?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(E):a;return R.createElement(qne,Z_({},d,{"aria-current":C,className:D,ref:n,style:O,to:l,viewTransition:u}),typeof c=="function"?c(E):c)});var oA;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(oA||(oA={}));var SM;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(SM||(SM={}));function Gne(e){let t=R.useContext(Lv);return t||$n(!1),t}function Wne(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=t===void 0?{}:t,l=Hu(),u=sd(),c=Bx(e,{relative:s});return R.useCallback(d=>{if(Dne(d,n)){d.preventDefault();let f=r!==void 0?r:Ah(u)===Ah(c);l(e,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[u,l,c,r,i,n,e,o,s,a])}function Yne(e){let t=R.useRef(iA(e)),n=R.useRef(!1),r=sd(),i=R.useMemo(()=>Pne(r.search,n.current?null:t.current),[r.search]),o=Hu(),s=R.useCallback((a,l)=>{const u=iA(typeof a=="function"?a(i):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}function Kne(e,t){t===void 0&&(t={});let n=R.useContext(lU);n==null&&$n(!1);let{basename:r}=Gne(oA.useViewTransitionState),i=Bx(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Ou(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ou(n.nextLocation.pathname,r)||n.nextLocation.pathname;return X_(i.pathname,s)!=null||X_(i.pathname,o)!=null}function Xne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uU={exports:{}},rg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM;function Zne(){if(xM)return rg;xM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return rg.Fragment=t,rg.jsx=n,rg.jsxs=n,rg}uU.exports=Zne();var It=uU.exports;const cU=R.createContext("fontawesome-solid"),Qne=()=>R.useContext(cU),Jne=(e,t)=>{const n=`${t}-icons`;if(document.getElementById(n))return;const r=document.createElement("div");r.id=n,r.style.display="none",document.body.appendChild(r);const i=new XMLHttpRequest;i.open("GET",`${e}/${t}.svg`,!0),i.onload=function(){i.status===200&&(r.innerHTML=i.responseText)},i.send()},ere=({iconSet:e="fontawesome-solid",autoLoad:t=!0,basePath:n="./ev-icons",children:r})=>(R.useEffect(()=>{t&&Jne(n,e)},[e,t,n]),It.jsx(cU.Provider,{value:e,children:r}));var dU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(dU);var tre=dU.exports;const nre=Xne(tre),jt=({icon:e,className:t,size:n=24,fill:r,ariaLabel:i})=>{const o=Qne();return It.jsx("svg",{width:n,height:n,className:nre("ev-icon",`ev-${e}-icon`,t),...i?{"aria-label":i}:{"aria-hidden":!0},xmlns:"http://www.w3.org/2000/svg",children:It.jsx("use",{href:`#${o}-${e}`,fill:r})})},rre=e=>It.jsx(jt,{icon:"add-circle",...e}),hD=e=>It.jsx(jt,{icon:"add",...e}),ire=e=>It.jsx(jt,{icon:"arrow-down",...e}),ore=e=>It.jsx(jt,{icon:"arrow-left",...e}),fU=e=>It.jsx(jt,{icon:"arrow-right",...e}),sre=e=>It.jsx(jt,{icon:"arrow-up",...e}),are=e=>It.jsx(jt,{icon:"audio-file",...e}),lre=e=>It.jsx(jt,{icon:"award",...e}),ure=e=>It.jsx(jt,{icon:"book",...e}),cre=e=>It.jsx(jt,{icon:"bookmark",...e}),dre=e=>It.jsx(jt,{icon:"box",...e}),fre=e=>It.jsx(jt,{icon:"chat",...e}),mD=e=>It.jsx(jt,{icon:"check-circle",...e}),Lf=e=>It.jsx(jt,{icon:"check",...e}),pU=e=>It.jsx(jt,{icon:"checkbox-checked",...e}),hU=e=>It.jsx(jt,{icon:"checkbox-unchecked",...e}),pre=e=>It.jsx(jt,{icon:"checklist",...e}),gD=e=>It.jsx(jt,{icon:"chevron-down",...e}),yD=e=>It.jsx(jt,{icon:"chevron-left",...e}),Ux=e=>It.jsx(jt,{icon:"chevron-right",...e}),hre=e=>It.jsx(jt,{icon:"chevron-up",...e}),mre=e=>It.jsx(jt,{icon:"clapboard",...e}),gre=e=>It.jsx(jt,{icon:"clock",...e}),yre=e=>It.jsx(jt,{icon:"contract",...e}),vre=e=>It.jsx(jt,{icon:"document",...e}),bre=e=>It.jsx(jt,{icon:"down-circle",...e}),_re=e=>It.jsx(jt,{icon:"download",...e}),Sre=e=>It.jsx(jt,{icon:"drag",...e}),xre=e=>It.jsx(jt,{icon:"exclamation-circle",...e}),wre=e=>It.jsx(jt,{icon:"exclamation",...e}),Tre=e=>It.jsx(jt,{icon:"expand",...e}),Ere=e=>It.jsx(jt,{icon:"eye",...e}),Are=e=>It.jsx(jt,{icon:"file",...e}),Cre=e=>It.jsx(jt,{icon:"flag",...e}),Ore=e=>It.jsx(jt,{icon:"graduation-hat",...e}),Dre=e=>It.jsx(jt,{icon:"heart",...e}),Pre=e=>It.jsx(jt,{icon:"highlighter",...e}),Rre=e=>It.jsx(jt,{icon:"home",...e}),Ire=e=>It.jsx(jt,{icon:"key",...e}),kre=e=>It.jsx(jt,{icon:"keyboard",...e}),Nre=e=>It.jsx(jt,{icon:"left-circle",...e}),Mre=e=>It.jsx(jt,{icon:"license",...e}),jre=e=>It.jsx(jt,{icon:"lightbulb",...e}),Lre=e=>It.jsx(jt,{icon:"line-graph",...e}),mU=e=>It.jsx(jt,{icon:"lock",...e}),$re=e=>It.jsx(jt,{icon:"medal",...e}),Bre=e=>It.jsx(jt,{icon:"megaphone",...e}),gU=e=>It.jsx(jt,{icon:"menu",...e}),yU=e=>It.jsx(jt,{icon:"minus",...e}),Ure=e=>It.jsx(jt,{icon:"mouse",...e}),Fre=e=>It.jsx(jt,{icon:"mute",...e}),zre=e=>It.jsx(jt,{icon:"notification",...e}),Vre=e=>It.jsx(jt,{icon:"open-book",...e}),vU=e=>It.jsx(jt,{icon:"page",...e}),qre=e=>It.jsx(jt,{icon:"paper-plane",...e}),Hre=e=>It.jsx(jt,{icon:"pause",...e}),Gre=e=>It.jsx(jt,{icon:"pen",...e}),Wre=e=>It.jsx(jt,{icon:"person",...e}),Yre=e=>It.jsx(jt,{icon:"pie-chart",...e}),bU=e=>It.jsx(jt,{icon:"play-circle",...e}),Fx=e=>It.jsx(jt,{icon:"question-circle",...e}),Kre=e=>It.jsx(jt,{icon:"question",...e}),_U=e=>It.jsx(jt,{icon:"radio-checked",...e}),vD=e=>It.jsx(jt,{icon:"radio-unchecked",...e}),Xre=e=>It.jsx(jt,{icon:"right-circle",...e}),Zre=e=>It.jsx(jt,{icon:"search",...e}),Qre=e=>It.jsx(jt,{icon:"speech",...e}),Jre=e=>It.jsx(jt,{icon:"speed",...e}),eie=e=>It.jsx(jt,{icon:"star-empty",...e}),tie=e=>It.jsx(jt,{icon:"star-half",...e}),nie=e=>It.jsx(jt,{icon:"star",...e}),rie=e=>It.jsx(jt,{icon:"tap-double",...e}),iie=e=>It.jsx(jt,{icon:"tap-single",...e}),oie=e=>It.jsx(jt,{icon:"thumbs-up",...e}),sie=e=>It.jsx(jt,{icon:"trophy",...e}),aie=e=>It.jsx(jt,{icon:"unlock",...e}),lie=e=>It.jsx(jt,{icon:"up-circle",...e}),uie=e=>It.jsx(jt,{icon:"volume",...e}),cie=e=>It.jsx(jt,{icon:"xmark-circle",...e}),hm=e=>It.jsx(jt,{icon:"xmark",...e}),SU=e=>It.jsx(jt,{icon:"zoom-in",...e}),xU=e=>It.jsx(jt,{icon:"zoom-out",...e}),die={"add-circle":rre,add:hD,"arrow-down":ire,"arrow-left":ore,"arrow-right":fU,"arrow-up":sre,"audio-file":are,award:lre,book:ure,bookmark:cre,box:dre,chat:fre,"check-circle":mD,check:Lf,"checkbox-checked":pU,"checkbox-unchecked":hU,checklist:pre,"chevron-down":gD,"chevron-left":yD,"chevron-right":Ux,"chevron-up":hre,clapboard:mre,clock:gre,contract:yre,document:vre,"down-circle":bre,download:_re,drag:Sre,"exclamation-circle":xre,exclamation:wre,expand:Tre,eye:Ere,file:Are,flag:Cre,"graduation-hat":Ore,heart:Dre,highlighter:Pre,home:Rre,key:Ire,keyboard:kre,"left-circle":Nre,license:Mre,lightbulb:jre,"line-graph":Lre,lock:mU,medal:$re,megaphone:Bre,menu:gU,minus:yU,mouse:Ure,mute:Fre,notification:zre,"open-book":Vre,page:vU,"paper-plane":qre,pause:Hre,pen:Gre,person:Wre,"pie-chart":Yre,"play-circle":bU,"question-circle":Fx,question:Kre,"radio-checked":_U,"radio-unchecked":vD,"right-circle":Xre,search:Zre,speech:Qre,speed:Jre,"star-empty":eie,"star-half":tie,star:nie,"tap-double":rie,"tap-single":iie,"thumbs-up":oie,trophy:sie,unlock:aie,"up-circle":lie,volume:uie,"xmark-circle":cie,xmark:hm,"zoom-in":SU,"zoom-out":xU},fie=({icon:e,...t})=>{const n=die[e];return n?R.createElement(n,t):(console.warn(`Icon "${e}" not found.`),null)};var wU={exports:{}},TU={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v=R;function pie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hie=typeof Object.is=="function"?Object.is:pie,mie=$v.useSyncExternalStore,gie=$v.useRef,yie=$v.useEffect,vie=$v.useMemo,bie=$v.useDebugValue;TU.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=gie(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=vie(function(){function l(m){if(!u){if(u=!0,c=m,m=r(m),i!==void 0&&s.hasValue){var h=s.value;if(i(h,m))return d=h}return d=m}if(h=d,hie(c,m))return h;var g=r(m);return i!==void 0&&i(h,g)?(c=m,h):(c=m,d=g)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,i]);var a=mie(e,o[0],o[1]);return yie(function(){s.hasValue=!0,s.value=a},[a]),bie(a),a};wU.exports=TU;var _ie=wU.exports,Sie=R.version.startsWith("19"),xie=Symbol.for(Sie?"react.transitional.element":"react.element"),wie=Symbol.for("react.portal"),Tie=Symbol.for("react.fragment"),Eie=Symbol.for("react.strict_mode"),Aie=Symbol.for("react.profiler"),Cie=Symbol.for("react.consumer"),Oie=Symbol.for("react.context"),EU=Symbol.for("react.forward_ref"),Die=Symbol.for("react.suspense"),Pie=Symbol.for("react.suspense_list"),bD=Symbol.for("react.memo"),Rie=Symbol.for("react.lazy"),Iie=EU,kie=bD;function Nie(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case xie:switch(e=e.type,e){case Tie:case Aie:case Eie:case Die:case Pie:return e;default:switch(e=e&&e.$$typeof,e){case Oie:case EU:case Rie:case bD:return e;case Cie:return e;default:return t}}case wie:return t}}}function Mie(e){return Nie(e)===bD}function jie(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,u,c,d,f;function m(v,b){return l=v,u=b,c=e(l,u),d=t(r,u),f=n(c,d,u),a=!0,f}function h(){return c=e(l,u),t.dependsOnOwnProps&&(d=t(r,u)),f=n(c,d,u),f}function g(){return e.dependsOnOwnProps&&(c=e(l,u)),t.dependsOnOwnProps&&(d=t(r,u)),f=n(c,d,u),f}function S(){const v=e(l,u),b=!s(v,c);return c=v,b&&(f=n(c,d,u)),f}function y(v,b){const _=!o(b,u),x=!i(v,l,b,u);return l=v,u=b,_&&x?h():_?g():x?S():f}return function(b,_){return a?y(b,_):m(b,_)}}function Lie(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),a=r(e,i);return jie(o,s,a,e,i)}function $ie(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function sA(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function wM(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function AU(e,t){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=e,o.dependsOnOwnProps=wM(e);let u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=wM(u),u=o(a,l)),u},o}}function _D(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Bie(e){return e&&typeof e=="object"?sA(t=>$ie(e,t)):e?typeof e=="function"?AU(e):_D(e,"mapDispatchToProps"):sA(t=>({dispatch:t}))}function Uie(e){return e?typeof e=="function"?AU(e):_D(e,"mapStateToProps"):sA(()=>({}))}function Fie(e,t,n){return{...n,...e,...t}}function zie(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,u,c){const d=e(l,u,c);return o?i(d,s)||(s=d):(o=!0,s=d),s}}}function Vie(e){return e?typeof e=="function"?zie(e):_D(e,"mergeProps"):()=>Fie}function qie(e){e()}function Hie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var TM={notify(){},get:()=>[]};function CU(e,t){let n,r=TM,i=0,o=!1;function s(g){c();const S=r.subscribe(g);let y=!1;return()=>{y||(y=!0,S(),d())}}function a(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return o}function c(){i++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=Hie())}function d(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=TM)}function f(){o||(o=!0,c())}function m(){o&&(o=!1,d())}const h={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return h}var Gie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wie=Gie(),Yie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Kie=Yie(),Xie=()=>Wie||Kie?R.useLayoutEffect:R.useEffect,Q_=Xie();function EM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function g1(e,t){if(EM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!EM(e[n[i]],t[n[i]]))return!1;return!0}var Zie={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Qie={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Jie={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},OU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},eoe={[Iie]:Jie,[kie]:OU};function AM(e){return Mie(e)?OU:eoe[e.$$typeof]||Zie}var toe=Object.defineProperty,noe=Object.getOwnPropertyNames,CM=Object.getOwnPropertySymbols,roe=Object.getOwnPropertyDescriptor,ioe=Object.getPrototypeOf,OM=Object.prototype;function aA(e,t){if(typeof t!="string"){if(OM){const o=ioe(t);o&&o!==OM&&aA(e,o)}let n=noe(t);CM&&(n=n.concat(CM(t)));const r=AM(e),i=AM(t);for(let o=0;o<n.length;++o){const s=n[o];if(!Qie[s]&&!(i&&i[s])&&!(r&&r[s])){const a=roe(t,s);try{toe(e,s,a)}catch{}}}}return e}var y1=Symbol.for("react-redux-context"),v1=typeof globalThis<"u"?globalThis:{};function ooe(){if(!R.createContext)return{};const e=v1[y1]??(v1[y1]=new Map);let t=e.get(R.createContext);return t||(t=R.createContext(null),e.set(R.createContext,t)),t}var Du=ooe(),soe=[null,null];function aoe(e,t,n){Q_(()=>e(...t),n)}function loe(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function uoe(e,t,n,r,i,o,s,a,l,u,c){if(!e)return()=>{};let d=!1,f=null;const m=()=>{if(d||!a.current)return;const g=t.getState();let S,y;try{S=r(g,i.current)}catch(v){y=v,f=v}y||(f=null),S===o.current?s.current||u():(o.current=S,l.current=S,s.current=!0,c())};return n.onStateChange=m,n.trySubscribe(),m(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}function coe(e,t){return e===t}function doe(e,t,n,{pure:r,areStatesEqual:i=coe,areOwnPropsEqual:o=g1,areStatePropsEqual:s=g1,areMergedPropsEqual:a=g1,forwardRef:l=!1,context:u=Du}={}){const c=u,d=Uie(e),f=Bie(t),m=Vie(n),h=!!e;return S=>{const y=S.displayName||S.name||"Component",v=`Connect(${y})`,b={shouldHandleStateChanges:h,displayName:v,wrappedComponentName:y,WrappedComponent:S,initMapStateToProps:d,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function _(w){const[E,C,D]=R.useMemo(()=>{const{reactReduxForwardedRef:ae,...ge}=w;return[w.context,ae,ge]},[w]),O=R.useMemo(()=>{let ae=c;return E!=null&&E.Consumer,ae},[E,c]),I=R.useContext(O),k=!!w.store&&!!w.store.getState&&!!w.store.dispatch,B=!!I&&!!I.store,q=k?w.store:I.store,H=B?I.getServerState:q.getState,z=R.useMemo(()=>Lie(q.dispatch,b),[q]),[ne,ue]=R.useMemo(()=>{if(!h)return soe;const ae=CU(q,k?void 0:I.subscription),ge=ae.notifyNestedSubs.bind(ae);return[ae,ge]},[q,k,I]),Q=R.useMemo(()=>k?I:{...I,subscription:ne},[k,I,ne]),N=R.useRef(void 0),G=R.useRef(D),J=R.useRef(void 0),Y=R.useRef(!1),L=R.useRef(!1),K=R.useRef(void 0);Q_(()=>(L.current=!0,()=>{L.current=!1}),[]);const ie=R.useMemo(()=>()=>J.current&&D===G.current?J.current:z(q.getState(),D),[q,D]),de=R.useMemo(()=>ge=>ne?uoe(h,q,ne,z,G,N,Y,L,J,ue,ge):()=>{},[ne]);aoe(loe,[G,N,Y,D,J,ue]);let ye;try{ye=R.useSyncExternalStore(de,ie,H?()=>z(H(),D):ie)}catch(ae){throw K.current&&(ae.message+=`
The error may be correlated with this previous error:
${K.current.stack}

`),ae}Q_(()=>{K.current=void 0,J.current=void 0,N.current=ye});const Te=R.useMemo(()=>R.createElement(S,{...ye,ref:C}),[C,S,ye]);return R.useMemo(()=>h?R.createElement(O.Provider,{value:Q},Te):Te,[O,Te,Q])}const T=R.memo(_);if(T.WrappedComponent=S,T.displayName=_.displayName=v,l){const E=R.forwardRef(function(D,O){return R.createElement(T,{...D,reactReduxForwardedRef:O})});return E.displayName=v,E.WrappedComponent=S,aA(E,S)}return aA(T,S)}}var DU=doe;function foe(e){const{children:t,context:n,serverState:r,store:i}=e,o=R.useMemo(()=>{const l=CU(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=R.useMemo(()=>i.getState(),[i]);Q_(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,s]);const a=n||Du;return R.createElement(a.Provider,{value:o},t)}var PU=foe;function SD(e=Du){return function(){return R.useContext(e)}}var RU=SD();function IU(e=Du){const t=e===Du?RU:SD(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var kU=IU();function poe(e=Du){const t=e===Du?kU:IU(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var mm=poe(),hoe=(e,t)=>e===t;function moe(e=Du){const t=e===Du?RU:SD(e),n=(r,i={})=>{const{equalityFn:o=hoe}=typeof i=="function"?{equalityFn:i}:i,s=t(),{store:a,subscription:l,getServerState:u}=s;R.useRef(!0);const c=R.useCallback({[r.name](f){return r(f)}}[r.name],[r]),d=_ie.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,u||a.getState,c,o);return R.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Cr=moe();function uo(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var goe=typeof Symbol=="function"&&Symbol.observable||"@@observable",DM=goe,b1=()=>Math.random().toString(36).substring(7).split("").join("."),yoe={INIT:`@@redux/INIT${b1()}`,REPLACE:`@@redux/REPLACE${b1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${b1()}`},J_=yoe;function xD(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function wD(e,t,n){if(typeof e!="function")throw new Error(uo(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(uo(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(uo(1));return n(wD)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((S,y)=>{s.set(y,S)}))}function c(){if(l)throw new Error(uo(3));return i}function d(S){if(typeof S!="function")throw new Error(uo(4));if(l)throw new Error(uo(5));let y=!0;u();const v=a++;return s.set(v,S),function(){if(y){if(l)throw new Error(uo(6));y=!1,u(),s.delete(v),o=null}}}function f(S){if(!xD(S))throw new Error(uo(7));if(typeof S.type>"u")throw new Error(uo(8));if(typeof S.type!="string")throw new Error(uo(17));if(l)throw new Error(uo(9));try{l=!0,i=r(i,S)}finally{l=!1}return(o=s).forEach(v=>{v()}),S}function m(S){if(typeof S!="function")throw new Error(uo(10));r=S,f({type:J_.REPLACE})}function h(){const S=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(uo(11));function v(){const _=y;_.next&&_.next(c())}return v(),{unsubscribe:S(v)}},[DM](){return this}}}return f({type:J_.INIT}),{dispatch:f,subscribe:d,getState:c,replaceReducer:m,[DM]:h}}function voe(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:J_.INIT})>"u")throw new Error(uo(12));if(typeof n(void 0,{type:J_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(uo(13))})}function eS(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{voe(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],f=n[d],m=s[d],h=f(m,a);if(typeof h>"u")throw a&&a.type,new Error(uo(14));u[d]=h,l=l||h!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function PM(e,t){return function(...n){return t(e.apply(this,n))}}function RM(e,t){if(typeof e=="function")return PM(e,t);if(typeof e!="object"||e===null)throw new Error(uo(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=PM(i,t))}return n}function Uy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function NU(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(uo(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=e.map(l=>l(s));return o=Uy(...a)(i.dispatch),{...i,dispatch:o}}}function MU(e){return xD(e)&&"type"in e&&typeof e.type=="string"}var jU=Symbol.for("immer-nothing"),IM=Symbol.for("immer-draftable"),ia=Symbol.for("immer-state");function el(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ch=Object.getPrototypeOf;function hf(e){return!!e&&!!e[ia]}function Pu(e){var t;return e?LU(e)||Array.isArray(e)||!!e[IM]||!!((t=e.constructor)!=null&&t[IM])||Vx(e)||qx(e):!1}var boe=Object.prototype.constructor.toString();function LU(e){if(!e||typeof e!="object")return!1;const t=Ch(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===boe}function tS(e,t){zx(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function zx(e){const t=e[ia];return t?t.type_:Array.isArray(e)?1:Vx(e)?2:qx(e)?3:0}function lA(e,t){return zx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function $U(e,t,n){const r=zx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function _oe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vx(e){return e instanceof Map}function qx(e){return e instanceof Set}function Td(e){return e.copy_||e.base_}function uA(e,t){if(Vx(e))return new Map(e);if(qx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=LU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ia];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Ch(e),r)}else{const r=Ch(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function TD(e,t=!1){return Hx(e)||hf(e)||!Pu(e)||(zx(e)>1&&(e.set=e.add=e.clear=e.delete=Soe),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>TD(r,!0))),e}function Soe(){el(2)}function Hx(e){return Object.isFrozen(e)}var xoe={};function mf(e){const t=xoe[e];return t||el(0,e),t}var Fy;function BU(){return Fy}function woe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function kM(e,t){t&&(mf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cA(e){dA(e),e.drafts_.forEach(Toe),e.drafts_=null}function dA(e){e===Fy&&(Fy=e.parent_)}function NM(e){return Fy=woe(Fy,e)}function Toe(e){const t=e[ia];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function MM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ia].modified_&&(cA(t),el(4)),Pu(e)&&(e=nS(t,e),t.parent_||rS(t,e)),t.patches_&&mf("Patches").generateReplacementPatches_(n[ia].base_,e,t.patches_,t.inversePatches_)):e=nS(t,n,[]),cA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jU?e:void 0}function nS(e,t,n){if(Hx(t))return t;const r=t[ia];if(!r)return tS(t,(i,o)=>jM(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return rS(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),tS(o,(a,l)=>jM(e,r,i,a,l,n,s)),rS(e,i,!1),n&&e.patches_&&mf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function jM(e,t,n,r,i,o,s){if(hf(i)){const a=o&&t&&t.type_!==3&&!lA(t.assigned_,r)?o.concat(r):void 0,l=nS(e,i,a);if($U(n,r,l),hf(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Pu(i)&&!Hx(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;nS(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&rS(e,i)}}function rS(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&TD(t,n)}function Eoe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:BU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=ED;n&&(i=[r],o=zy);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var ED={get(e,t){if(t===ia)return e;const n=Td(e);if(!lA(n,t))return Aoe(e,n,t);const r=n[t];return e.finalized_||!Pu(r)?r:r===_1(e.base_,t)?(S1(e),e.copy_[t]=pA(r,e)):r},has(e,t){return t in Td(e)},ownKeys(e){return Reflect.ownKeys(Td(e))},set(e,t,n){const r=UU(Td(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=_1(Td(e),t),o=i==null?void 0:i[ia];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(_oe(n,i)&&(n!==void 0||lA(e.base_,t)))return!0;S1(e),fA(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return _1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,S1(e),fA(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Td(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){el(11)},getPrototypeOf(e){return Ch(e.base_)},setPrototypeOf(){el(12)}},zy={};tS(ED,(e,t)=>{zy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});zy.deleteProperty=function(e,t){return zy.set.call(this,e,t,void 0)};zy.set=function(e,t,n){return ED.set.call(this,e[0],t,n,e[0])};function _1(e,t){const n=e[ia];return(n?Td(n):e)[t]}function Aoe(e,t,n){var i;const r=UU(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function UU(e,t){if(!(t in e))return;let n=Ch(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ch(n)}}function fA(e){e.modified_||(e.modified_=!0,e.parent_&&fA(e.parent_))}function S1(e){e.copy_||(e.copy_=uA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Coe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&el(6),r!==void 0&&typeof r!="function"&&el(7);let i;if(Pu(t)){const o=NM(this),s=pA(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?cA(o):dA(o)}return kM(o,r),MM(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===jU&&(i=void 0),this.autoFreeze_&&TD(i,!0),r){const o=[],s=[];mf("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else el(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Pu(e)||el(8),hf(e)&&(e=Ooe(e));const t=NM(this),n=pA(e,void 0);return n[ia].isManual_=!0,dA(t),n}finishDraft(e,t){const n=e&&e[ia];(!n||!n.isManual_)&&el(9);const{scope_:r}=n;return kM(r,t),MM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=mf("Patches").applyPatches_;return hf(e)?r(e,t):this.produce(e,i=>r(i,t))}};function pA(e,t){const n=Vx(e)?mf("MapSet").proxyMap_(e,t):qx(e)?mf("MapSet").proxySet_(e,t):Eoe(e,t);return(t?t.scope_:BU()).drafts_.push(n),n}function Ooe(e){return hf(e)||el(10,e),FU(e)}function FU(e){if(!Pu(e)||Hx(e))return e;const t=e[ia];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uA(e,t.scope_.immer_.useStrictShallowCopy_)}else n=uA(e,!0);return tS(n,(r,i)=>{$U(n,r,FU(i))}),t&&(t.finalized_=!1),n}var oa=new Coe,zU=oa.produce;oa.produceWithPatches.bind(oa);oa.setAutoFreeze.bind(oa);oa.setUseStrictShallowCopy.bind(oa);oa.applyPatches.bind(oa);oa.createDraft.bind(oa);oa.finishDraft.bind(oa);function Doe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Poe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Roe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var LM=e=>Array.isArray(e)?e:[e];function Ioe(e){const t=Array.isArray(e[0])?e[0]:e;return Roe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function koe(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Noe=class{constructor(e){this.value=e}deref(){return this.value}},Moe=typeof WeakRef<"u"?WeakRef:Noe,joe=0,$M=1;function Zb(){return{s:joe,v:void 0,o:null,p:null}}function Mr(e,t={}){let n=Zb();const{resultEqualityCheck:r}=t;let i,o=0;function s(){var d;let a=n;const{length:l}=arguments;for(let f=0,m=l;f<m;f++){const h=arguments[f];if(typeof h=="function"||typeof h=="object"&&h!==null){let g=a.o;g===null&&(a.o=g=new WeakMap);const S=g.get(h);S===void 0?(a=Zb(),g.set(h,a)):a=S}else{let g=a.p;g===null&&(a.p=g=new Map);const S=g.get(h);S===void 0?(a=Zb(),g.set(h,a)):a=S}}const u=a;let c;if(a.s===$M)c=a.v;else if(c=e.apply(null,arguments),o++,r){const f=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;f!=null&&r(f,c)&&(c=f,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Moe(c):c}return u.s=$M,u.v=c,c}return s.clearCache=()=>{n=Zb(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function Loe(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let o=0,s=0,a,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Doe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:f=[],argsMemoize:m=Mr,argsMemoizeOptions:h=[]}=c,g=LM(f),S=LM(h),y=Ioe(i),v=d(function(){return o++,u.apply(null,arguments)},...g),b=m(function(){s++;const x=koe(y,arguments);return a=v.apply(null,x),a},...S);return Object.assign(b,{resultFunc:u,memoizedResultFunc:v,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:d,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Zr=Loe(Mr),$oe=Object.assign((e,t=Zr)=>{Poe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(o=>e[o]);return t(r,(...o)=>o.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>$oe});function VU(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var Boe=VU(),Uoe=VU,Foe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uy:Uy.apply(null,arguments)},zoe=e=>e&&typeof e.match=="function";function Bo(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Qs(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>MU(r)&&r.type===e,n}var qU=class Ng extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ng.prototype)}static get[Symbol.species](){return Ng}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ng(...t[0].concat(this)):new Ng(...t.concat(this))}};function BM(e){return Pu(e)?zU(e,()=>{}):e}function Qb(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Voe(e){return typeof e=="boolean"}var qoe=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let s=new qU;return n&&(Voe(n)?s.push(Boe):s.push(Uoe(n.extraArgument))),s},HU="RTK_autoBatch",Jf=()=>e=>({payload:e,meta:{[HU]:!0}}),UM=e=>t=>{setTimeout(t,e)},Hoe=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,s=!1;const a=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:UM(10):e.type==="callback"?e.queueNotification:UM(e.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>i&&c(),f=r.subscribe(d);return a.add(c),()=>{f(),a.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[HU]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Goe=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new qU(e);return r&&i.push(Hoe(typeof r=="object"?r:void 0)),i};function Woe(e){const t=qoe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(xD(n))a=eS(n);else throw new Error(Qs(1));let l;typeof r=="function"?l=r(t):l=t();let u=Uy;i&&(u=Foe({trace:!1,...typeof i=="object"&&i}));const c=NU(...l),d=Goe(c);let f=typeof s=="function"?s(d):d();const m=u(...f);return wD(a,o,m)}function GU(e){const t={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(Qs(28));if(a in t)throw new Error(Qs(29));return t[a]=s,i},addAsyncThunk(o,s){return s.pending&&(t[o.pending.type]=s.pending),s.rejected&&(t[o.rejected.type]=s.rejected),s.fulfilled&&(t[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function Yoe(e){return typeof e=="function"}function Koe(e,t){let[n,r,i]=GU(t),o;if(Yoe(e))o=()=>BM(e());else{const a=BM(e);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(hf(c)){const m=d(c,l);return m===void 0?c:m}else{if(Pu(c))return zU(c,f=>d(f,l));{const f=d(c,l);if(f===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return c},a)}return s.getInitialState=o,s}var Xoe=(e,t)=>zoe(e)?e.match(t):e(t);function Fr(...e){return t=>e.some(n=>Xoe(n,t))}var Zoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WU=(e=21)=>{let t="",n=e;for(;n--;)t+=Zoe[Math.random()*64|0];return t},Qoe=["name","message","stack","code"],x1=class{constructor(e,t){Zo(this,"_type");this.payload=e,this.meta=t}},FM=class{constructor(e,t){Zo(this,"_type");this.payload=e,this.meta=t}},Joe=e=>{if(typeof e=="object"&&e!==null){const t={};for(const n of Qoe)typeof e[n]=="string"&&(t[n]=e[n]);return t}return{message:String(e)}},zM="External signal was aborted",ese=(()=>{function e(t,n,r){const i=Bo(t+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),o=Bo(t+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),s=Bo(t+"/rejected",(l,u,c,d,f)=>({payload:d,error:(r&&r.serializeError||Joe)(l||"Rejected"),meta:{...f||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l,{signal:u}={}){return(c,d,f)=>{const m=r!=null&&r.idGenerator?r.idGenerator(l):WU(),h=new AbortController;let g,S;function y(b){S=b,h.abort()}u&&(u.aborted?y(zM):u.addEventListener("abort",()=>y(zM),{once:!0}));const v=async function(){var x,T;let b;try{let w=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,l,{getState:d,extra:f});if(nse(w)&&(w=await w),w===!1||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((C,D)=>{g=()=>{D({name:"AbortError",message:S||"Aborted"})},h.signal.addEventListener("abort",g)});c(o(m,l,(T=r==null?void 0:r.getPendingMeta)==null?void 0:T.call(r,{requestId:m,arg:l},{getState:d,extra:f}))),b=await Promise.race([E,Promise.resolve(n(l,{dispatch:c,getState:d,extra:f,requestId:m,signal:h.signal,abort:y,rejectWithValue:(C,D)=>new x1(C,D),fulfillWithValue:(C,D)=>new FM(C,D)})).then(C=>{if(C instanceof x1)throw C;return C instanceof FM?i(C.payload,m,l,C.meta):i(C,m,l)})])}catch(w){b=w instanceof x1?s(null,m,l,w.payload,w.meta):s(w,m,l)}finally{g&&h.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&s.match(b)&&b.meta.condition||c(b),b}();return Object.assign(v,{abort:y,requestId:m,arg:l,unwrap(){return v.then(tse)}})}}return Object.assign(a,{pending:o,rejected:s,fulfilled:i,settled:Fr(s,i),typePrefix:t})}return e.withTypes=()=>e,e})();function tse(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function nse(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var rse=Symbol.for("rtk-slice-createasyncthunk");function ise(e,t){return`${e}/${t}`}function ose({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[rse];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Qs(11));const a=(typeof i.reducers=="function"?i.reducers(ase()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(_,x){const T=typeof _=="string"?_:_.type;if(!T)throw new Error(Qs(12));if(T in u.sliceCaseReducersByType)throw new Error(Qs(13));return u.sliceCaseReducersByType[T]=x,c},addMatcher(_,x){return u.sliceMatchers.push({matcher:_,reducer:x}),c},exposeAction(_,x){return u.actionCreators[_]=x,c},exposeCaseReducer(_,x){return u.sliceCaseReducersByName[_]=x,c}};l.forEach(_=>{const x=a[_],T={reducerName:_,type:ise(o,_),createNotation:typeof i.reducers=="function"};use(x)?dse(T,x,c,t):lse(T,x,c)});function d(){const[_={},x=[],T=void 0]=typeof i.extraReducers=="function"?GU(i.extraReducers):[i.extraReducers],w={..._,...u.sliceCaseReducersByType};return Koe(i.initialState,E=>{for(let C in w)E.addCase(C,w[C]);for(let C of u.sliceMatchers)E.addMatcher(C.matcher,C.reducer);for(let C of x)E.addMatcher(C.matcher,C.reducer);T&&E.addDefaultCase(T)})}const f=_=>_,m=new Map,h=new WeakMap;let g;function S(_,x){return g||(g=d()),g(_,x)}function y(){return g||(g=d()),g.getInitialState()}function v(_,x=!1){function T(E){let C=E[_];return typeof C>"u"&&x&&(C=Qb(h,T,y)),C}function w(E=f){const C=Qb(m,x,()=>new WeakMap);return Qb(C,E,()=>{const D={};for(const[O,I]of Object.entries(i.selectors??{}))D[O]=sse(I,E,()=>Qb(h,E,y),x);return D})}return{reducerPath:_,getSelectors:w,get selectors(){return w(T)},selectSlice:T}}const b={name:o,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...v(s),injectInto(_,{reducerPath:x,...T}={}){const w=x??s;return _.inject({reducerPath:w,reducer:S},T),{...b,...v(w,!0)}}};return b}}function sse(e,t,n,r){function i(o,...s){let a=t(o);return typeof a>"u"&&r&&(a=n()),e(a,...s)}return i.unwrapped=e,i}var Qr=ose();function ase(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function lse({type:e,reducerName:t,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!cse(r))throw new Error(Qs(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,s?Bo(e,s):Bo(e))}function use(e){return e._reducerDefinitionType==="asyncThunk"}function cse(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dse({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Qs(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Jb,pending:a||Jb,rejected:l||Jb,settled:u||Jb})}function Jb(){}var fse="task",YU="listener",KU="completed",AD="cancelled",pse=`task-${AD}`,hse=`task-${KU}`,hA=`${YU}-${AD}`,mse=`${YU}-${KU}`,Gx=class{constructor(e){Zo(this,"name","TaskAbortError");Zo(this,"message");this.code=e,this.message=`${fse} ${AD} (reason: ${e})`}},CD=(e,t)=>{if(typeof e!="function")throw new TypeError(Qs(32))},iS=()=>{},XU=(e,t=iS)=>(e.catch(t),e),ZU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Zd=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qd=e=>{if(e.aborted){const{reason:t}=e;throw new Gx(t)}};function QU(e,t){let n=iS;return new Promise((r,i)=>{const o=()=>i(new Gx(e.reason));if(e.aborted){o();return}n=ZU(e,o),t.finally(()=>n()).then(r,i)}).finally(()=>{n=iS})}var gse=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Gx?"cancelled":"rejected",error:n}}finally{t==null||t()}},oS=e=>t=>XU(QU(e,t).then(n=>(Qd(e),n))),JU=e=>{const t=oS(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Yp}=Object,VM={},Wx="listenerMiddleware",yse=(e,t)=>{const n=r=>ZU(e,()=>Zd(r,e.reason));return(r,i)=>{CD(r);const o=new AbortController;n(o);const s=gse(async()=>{Qd(e),Qd(o.signal);const a=await r({pause:oS(o.signal),delay:JU(o.signal),signal:o.signal});return Qd(o.signal),a},()=>Zd(o,hse));return i!=null&&i.autoJoin&&t.push(s.catch(iS)),{result:oS(e)(s),cancel(){Zd(o,pse)}}}},vse=(e,t)=>{const n=async(r,i)=>{Qd(t);let o=()=>{};const a=[new Promise((l,u)=>{let c=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),l([d,f.getState(),f.getOriginalState()])}});o=()=>{c(),u()}})];i!=null&&a.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await QU(t,Promise.race(a));return Qd(t),l}finally{o()}};return(r,i)=>XU(n(r,i))},eF=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=Bo(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Qs(21));return CD(o),{predicate:i,type:t,effect:o}},tF=Yp(e=>{const{type:t,predicate:n,effect:r}=eF(e);return{id:WU(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Qs(22))}}},{withTypes:()=>tF}),qM=(e,t)=>{const{type:n,effect:r,predicate:i}=eF(t);return Array.from(e.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},mA=e=>{e.pending.forEach(t=>{Zd(t,hA)})},bse=e=>()=>{e.forEach(mA),e.clear()},HM=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},nF=Yp(Bo(`${Wx}/add`),{withTypes:()=>nF}),_se=Bo(`${Wx}/removeAll`),rF=Yp(Bo(`${Wx}/remove`),{withTypes:()=>rF}),Sse=(...e)=>{console.error(`${Wx}/error`,...e)},xse=(e={})=>{const t=new Map,{extra:n,onError:r=Sse}=e;CD(r);const i=c=>(c.unsubscribe=()=>t.delete(c.id),t.set(c.id,c),d=>{c.unsubscribe(),d!=null&&d.cancelActive&&mA(c)}),o=c=>{const d=qM(t,c)??tF(c);return i(d)};Yp(o,{withTypes:()=>o});const s=c=>{const d=qM(t,c);return d&&(d.unsubscribe(),c.cancelActive&&mA(d)),!!d};Yp(s,{withTypes:()=>s});const a=async(c,d,f,m)=>{const h=new AbortController,g=vse(o,h.signal),S=[];try{c.pending.add(h),await Promise.resolve(c.effect(d,Yp({},f,{getOriginalState:m,condition:(y,v)=>g(y,v).then(Boolean),take:g,delay:JU(h.signal),pause:oS(h.signal),extra:n,signal:h.signal,fork:yse(h.signal,S),unsubscribe:c.unsubscribe,subscribe:()=>{t.set(c.id,c)},cancelActiveListeners:()=>{c.pending.forEach((y,v,b)=>{y!==h&&(Zd(y,hA),b.delete(y))})},cancel:()=>{Zd(h,hA),c.pending.delete(h)},throwIfCancelled:()=>{Qd(h.signal)}})))}catch(y){y instanceof Gx||HM(r,y,{raisedBy:"effect"})}finally{await Promise.all(S),Zd(h,mse),c.pending.delete(h)}},l=bse(t);return{middleware:c=>d=>f=>{if(!MU(f))return d(f);if(nF.match(f))return o(f.payload);if(_se.match(f)){l();return}if(rF.match(f))return s(f.payload);let m=c.getState();const h=()=>{if(m===VM)throw new Error(Qs(23));return m};let g;try{if(g=d(f),t.size>0){const S=c.getState(),y=Array.from(t.values());for(const v of y){let b=!1;try{b=v.predicate(f,S,m)}catch(_){b=!1,HM(r,_,{raisedBy:"predicate"})}b&&a(v,f,c,h)}}}finally{m=VM}return g},startListening:o,stopListening:s,clearListeners:l}};function Qs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const iF=e=>{var t,n;(n=top==null?void 0:(t=top.window).close)==null||n.call(t)},so=Bo("courseData/setCourseData");function wse(e,t,n){let r=i=>e(i,...t);return n===void 0?r:Object.assign(r,{lazy:n,lazyArgs:t})}function Yl(e,t,n){let r=e.length-t.length;if(r===0)return e(...t);if(r===1)return wse(e,t,n);throw Error("Wrong number of arguments")}function Bv(...e){return Yl(Tse,e)}const Tse=(e,{min:t,max:n})=>t!==void 0&&e<t?t:n!==void 0&&e>n?n:e,oF={done:!1,hasNext:!1};function Fo(e,...t){let n=e,r=t.map(o=>"lazy"in o?Ese(o):void 0),i=0;for(;i<t.length;){if(r[i]===void 0||!Ase(n)){let l=t[i];n=l(n),i+=1;continue}let o=[];for(let l=i;l<t.length;l++){let u=r[l];if(u===void 0||(o.push(u),u.isSingle))break}let s=[];for(let l of n)if(sF(l,s,o))break;let{isSingle:a}=o.at(-1);n=a?s[0]:s,i+=o.length}return n}function sF(e,t,n){if(n.length===0)return t.push(e),!1;let r=e,i=oF,o=!1;for(let[s,a]of n.entries()){let{index:l,items:u}=a;if(u.push(r),i=a(r,l,u),a.index+=1,i.hasNext){if(i.hasMany??!1){for(let c of i.next)if(sF(c,t,n.slice(s+1)))return!0;return o}r=i.next}if(!i.hasNext)break;i.done&&(o=!0)}return i.hasNext&&t.push(r),o}function Ese(e){let{lazy:t,lazyArgs:n}=e,r=t(...n);return Object.assign(r,{isSingle:t.single??!1,index:0,items:[]})}function Ase(e){return typeof e=="string"||typeof e=="object"&&!!e&&Symbol.iterator in e}function Cse(e,t){let n=t.length-e.length;if(n===1){let[r,...i]=t;return Fo(r,{lazy:e,lazyArgs:i})}if(n===0){let r={lazy:e,lazyArgs:t};return Object.assign(i=>Fo(i,r),r)}throw Error("Wrong number of arguments")}function GM(...e){return Yl(Ose,e)}const Ose=(e,t)=>e.length>=t,aF={asc:(e,t)=>e>t,desc:(e,t)=>e<t};function Dse(e,t){let[n,...r]=t;if(!Pse(n)){let o=gA(...r);return e(n,o)}let i=gA(n,...r);return o=>e(o,i)}function gA(e,t,...n){let r=typeof e=="function"?e:e[0],i=typeof e=="function"?"asc":e[1],{[i]:o}=aF,s=t===void 0?void 0:gA(t,...n);return(a,l)=>{let u=r(a),c=r(l);return o(u,c)?1:o(c,u)?-1:(s==null?void 0:s(a,l))??0}}function Pse(e){if(WM(e))return!0;if(typeof e!="object"||!Array.isArray(e))return!1;let[t,n,...r]=e;return WM(t)&&typeof n=="string"&&n in aF&&r.length===0}const WM=e=>typeof e=="function"&&e.length===1;function Rse(...e){return Yl(Ise,e)}const Ise=(e,t)=>{let n=Object.create(null);for(let r=0;r<e.length;r++){let i=e[r],o=t(i,r,e);if(o!==void 0){let s=n[o];s===void 0?n[o]=[i]:s.push(i)}}return Object.setPrototypeOf(n,Object.prototype),n};function zs(...e){return Yl(kse,e)}function kse(e,t){let n={};for(let[r,i]of e.entries()){let o=t(i,r,e);n[o]=i}return n}function Nse(e){return typeof e=="boolean"}function w1(e){return typeof e=="number"&&!Number.isNaN(e)}function Mse(e){return typeof e=="string"}function Vy(...e){return Yl(jse,e)}function jse(e,t){let n={};for(let[r,i]of Object.entries(e))n[r]=t(i,r,e);return n}function Oh(...e){return Yl(Lse,e)}function Lse(e,t){if(!GM(t,1))return{...e};if(!GM(t,2)){let{[t[0]]:r,...i}=e;return i}let n={...e};for(let r of t)delete n[r];return n}function $se(e){let t=!1,n;return()=>(t||(t=(n=e(),!0)),n)}function al(...e){return Yl(Bse,e)}function Bse(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}function lF(e,...t){return n=>Use(n,e,...t)}function Use(e,...t){let n=e;for(let r of t){if(n==null)return;n=n[r]}return n}function YM(...e){return Yl(Fse,e)}function Fse(e){let t=[...e];for(let n=0;n<e.length;n++){let r=n+Math.floor(Math.random()*(e.length-n)),i=t[r];t[r]=t[n],t[n]=i}return t}function uF(...e){return Dse(zse,e)}const zse=(e,t)=>[...e].sort(t),Vse=new Set(["-","_",...`	.
.\v.\f.\r. ...............\u2028.\u2029....\uFEFF`.split(".")]),qse=e=>{let t=[],n="",r=()=>{n.length>0&&(t.push(n),n="")};for(let i of e){if(Vse.has(i)){r();continue}if(/[a-z]$/u.test(n)&&/[A-Z]/u.test(i))r();else if(/[A-Z][A-Z]$/u.test(n)&&/[a-z]/u.test(i)){let o=n.slice(-1);n=n.slice(0,-1),r(),n=o}else/\d$/u.test(n)!==/\d/u.test(i)&&r();n+=i}return r(),t};function Hse(...e){return Yl(Gse,e)}const Gse=e=>qse(e).join("-").toLowerCase();function cF(e,t,n){return typeof e=="string"?KM(e,t,n):r=>KM(r,e,t)}function KM(e,t,{omission:n="...",separator:r}={}){if(e.length<=t)return e;if(t<=0)return"";if(t<n.length)return n.slice(0,t);let i=t-n.length;if(typeof r=="string"){let o=e.lastIndexOf(r,i);o!==-1&&(i=o)}else if(r!==void 0){let o=r.flags.includes("g")?r:new RegExp(r.source,`${r.flags}g`),s;for(let{index:a}of e.matchAll(o)){if(a>i)break;s=a}s!==void 0&&(i=s)}return`${e.slice(0,i)}${n}`}function Yx(...e){return Cse(Wse,e)}function Wse(e){let t=e,n=new Set;return(r,i,o)=>{let s=t(r,i,o);return n.has(s)?oF:(n.add(s),{done:!1,hasNext:!0,next:r})}}function jo(...e){return Yl(Object.values,e)}const co={saveCourseTracking(e,t){const{status:n,elementsCompleted:r,currentSessionBookmark:i}=t,o=this._getData(e);o.course={status:n,elementsCompleted:r,bookmark:i},this._setData(e,o)},restoreCourseTracking(e){const t=this._getData(e);if(!t.course)return null;const{status:n,elementsCompleted:r,bookmark:i}=t.course;return{status:n,elementsCompleted:r,previousSessionBookmark:i}},saveAssessmentTracking(e,t){if(!t.isEnabled)return;const n=this._getData(e);n.assessment=Oh(t,["isEnabled"]),this._setData(e,n)},restoreAssessmentTracking(e){return this._getData(e).assessment},saveElementTracking(e,t){const n=this._getData(e);n.elements=t,this._setData(e,n)},restoreElementTracking(e){return this._getData(e).elements},saveHiddenTracking(e,t){const n=this._getData(e);n.hidden=t,this._setData(e,n)},restoreHiddenTracking(e){return this._getData(e).hidden},saveTriggerTracking(e,t){const n=this._getData(e);n.triggers=t,this._setData(e,n)},restoreTriggerTracking(e){return this._getData(e).triggers},saveVariableTracking(e,t){const n=this._getData(e);n.variables=t,this._setData(e,n)},restoreVariableTracking(e){return this._getData(e).variables},_getData(e){const t=localStorage.getItem(e);return t?JSON.parse(t):{v:1,course:null,assessment:null,elements:null,hidden:null,triggers:null,variables:null}},_setData(e,t){try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch(n){console.error("LocalStorageTracking: failed to save tracking data:",n)}}};function pt(e,t,n){function r(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const c in s.prototype)c in a||Object.defineProperty(a,c,{value:s.prototype[c].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const u=n!=null&&n.Parent?new o:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,u;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(u=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class qy extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const dF={};function gf(e){return dF}function Yse(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Kse(e,t){return typeof t=="bigint"?t.toString():t}function OD(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function DD(e){return e==null}function PD(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Xse(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}function Xr(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function RD(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ig(e){return JSON.stringify(e)}const fF=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function sS(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Zse=OD(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function yA(e){if(sS(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(sS(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const Qse=new Set(["string","number","symbol"]);function Uv(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $f(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function fn(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Jse(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const eae={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function tae(e,t){const n={},r=e._zod.def;for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(n[i]=r.shape[i])}return $f(e,{...e._zod.def,shape:n,checks:[]})}function nae(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete n[i]}return $f(e,{...e._zod.def,shape:n,checks:[]})}function rae(e,t){if(!yA(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return RD(this,"shape",r),r},checks:[]};return $f(e,n)}function iae(e,t){return $f(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return RD(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function oae(e,t,n){const r=t._zod.def.shape,i={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)i[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return $f(t,{...t._zod.def,shape:i,checks:[]})}function sae(e,t,n){const r=t._zod.def.shape,i={...r};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)i[o]=new e({type:"nonoptional",innerType:r[o]});return $f(t,{...t._zod.def,shape:i,checks:[]})}function ny(e,t=0){var n;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function ID(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function e0(e){return typeof e=="string"?e:e==null?void 0:e.message}function yf(e,t,n){var i,o,s,a,l,u;const r={...e,path:e.path??[]};if(!e.message){const c=e0((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??e0((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??e0((l=n.customError)==null?void 0:l.call(n,e))??e0((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=c}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function kD(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Hy(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const pF=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,Kse,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},hF=pt("$ZodError",pF),mF=pt("$ZodError",pF,{Parent:Error});function aae(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function lae(e,t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),r}const uae=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new qy;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>yf(l,o,gf())));throw fF(a,i==null?void 0:i.callee),a}return s.value},cae=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>yf(l,o,gf())));throw fF(a,i==null?void 0:i.callee),a}return s.value},gF=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new qy;return o.issues.length?{success:!1,error:new(e??hF)(o.issues.map(s=>yf(s,i,gf())))}:{success:!0,data:o.value}},dae=gF(mF),yF=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>yf(s,i,gf())))}:{success:!0,data:o.value}},fae=yF(mF),pae=/^[cC][^\s-]{8,}$/,hae=/^[0-9a-z]+$/,mae=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,gae=/^[0-9a-vA-V]{20}$/,yae=/^[A-Za-z0-9]{27}$/,vae=/^[a-zA-Z0-9_-]{21}$/,bae=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,_ae=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,XM=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Sae=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,xae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function wae(){return new RegExp(xae,"u")}const Tae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Eae=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Aae=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Cae=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Oae=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,vF=/^[A-Za-z0-9_-]*$/,Dae=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Pae=/^\+(?:[0-9]){6,14}[0-9]$/,bF="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Rae=new RegExp(`^${bF}$`);function _F(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Iae(e){return new RegExp(`^${_F(e)}$`)}function kae(e){const t=_F({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${bF}T(?:${r})$`)}const Nae=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Mae=/^\d+$/,jae=/^-?\d+(?:\.\d+)?/i,Lae=/true|false/i,$ae=/^[^A-Z]*$/,Bae=/^[^a-z]*$/,Rs=pt("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),SF={number:"number",bigint:"bigint",object:"date"},xF=pt("$ZodCheckLessThan",(e,t)=>{Rs.init(e,t);const n=SF[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),wF=pt("$ZodCheckGreaterThan",(e,t)=>{Rs.init(e,t);const n=SF[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Uae=pt("$ZodCheckMultipleOf",(e,t)=>{Rs.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Xse(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Fae=pt("$ZodCheckNumberFormat",(e,t)=>{var s;Rs.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[i,o]=eae[t.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=i,l.maximum=o,n&&(l.pattern=Mae)}),e._zod.check=a=>{const l=a.value;if(n){if(!Number.isInteger(l)){a.issues.push({expected:r,format:t.format,code:"invalid_type",input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<i&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:e})}}),zae=pt("$ZodCheckMaxLength",(e,t)=>{var n;Rs.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!DD(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const s=kD(i);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),Vae=pt("$ZodCheckMinLength",(e,t)=>{var n;Rs.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!DD(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const s=kD(i);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),qae=pt("$ZodCheckLengthEquals",(e,t)=>{var n;Rs.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!DD(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,o=i.length;if(o===t.length)return;const s=kD(i),a=o>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Kx=pt("$ZodCheckStringFormat",(e,t)=>{var n,r;Rs.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Hae=pt("$ZodCheckRegex",(e,t)=>{Kx.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Gae=pt("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=$ae),Kx.init(e,t)}),Wae=pt("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Bae),Kx.init(e,t)}),Yae=pt("$ZodCheckIncludes",(e,t)=>{Rs.init(e,t);const n=Uv(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),Kae=pt("$ZodCheckStartsWith",(e,t)=>{Rs.init(e,t);const n=new RegExp(`^${Uv(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Xae=pt("$ZodCheckEndsWith",(e,t)=>{Rs.init(e,t);const n=new RegExp(`.*${Uv(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Zae=pt("$ZodCheckOverwrite",(e,t)=>{Rs.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Qae{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),i=Math.min(...r.map(s=>s.length-s.trimStart().length)),o=r.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...n,i.join(`
`))}}const Jae={major:4,minor:0,patch:5},hi=pt("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Jae;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const o of r)for(const s of o._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,l)=>{let u=ny(s),c;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(u)continue;const f=s.issues.length,m=d._zod.check(s);if(m instanceof Promise&&(l==null?void 0:l.async)===!1)throw new qy;if(c||m instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await m,s.issues.length!==f&&(u||(u=ny(s,f)))});else{if(s.issues.length===f)continue;u||(u=ny(s,f))}}return c?c.then(()=>s):s};e._zod.run=(s,a)=>{const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new qy;return l.then(u=>o(u,r,a))}return o(l,r,a)}}e["~standard"]={validate:o=>{var s;try{const a=dae(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return fae(e,o).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),ND=pt("$ZodString",(e,t)=>{var n;hi.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Nae(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),mi=pt("$ZodStringFormat",(e,t)=>{Kx.init(e,t),ND.init(e,t)}),ele=pt("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=_ae),mi.init(e,t)}),tle=pt("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=XM(r))}else t.pattern??(t.pattern=XM());mi.init(e,t)}),nle=pt("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Sae),mi.init(e,t)}),rle=pt("$ZodURL",(e,t)=>{mi.init(e,t),e._zod.check=n=>{try{const r=n.value,i=new URL(r),o=i.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Dae.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),ile=pt("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=wae()),mi.init(e,t)}),ole=pt("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=vae),mi.init(e,t)}),sle=pt("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=pae),mi.init(e,t)}),ale=pt("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=hae),mi.init(e,t)}),lle=pt("$ZodULID",(e,t)=>{t.pattern??(t.pattern=mae),mi.init(e,t)}),ule=pt("$ZodXID",(e,t)=>{t.pattern??(t.pattern=gae),mi.init(e,t)}),cle=pt("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=yae),mi.init(e,t)}),dle=pt("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kae(t)),mi.init(e,t)}),fle=pt("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Rae),mi.init(e,t)}),ple=pt("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Iae(t)),mi.init(e,t)}),hle=pt("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=bae),mi.init(e,t)}),mle=pt("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Tae),mi.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),gle=pt("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Eae),mi.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),yle=pt("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Aae),mi.init(e,t)}),vle=pt("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Cae),mi.init(e,t),e._zod.check=n=>{const[r,i]=n.value.split("/");try{if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function TF(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const ble=pt("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Oae),mi.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{TF(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function _le(e){if(!vF.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return TF(n)}const Sle=pt("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=vF),mi.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{_le(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),xle=pt("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Pae),mi.init(e,t)});function wle(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const Tle=pt("$ZodJWT",(e,t)=>{mi.init(e,t),e._zod.check=n=>{wle(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),EF=pt("$ZodNumber",(e,t)=>{hi.init(e,t),e._zod.pattern=e._zod.bag.pattern??jae,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),Ele=pt("$ZodNumber",(e,t)=>{Fae.init(e,t),EF.init(e,t)}),Ale=pt("$ZodBoolean",(e,t)=>{hi.init(e,t),e._zod.pattern=Lae,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),Cle=pt("$ZodAny",(e,t)=>{hi.init(e,t),e._zod.parse=n=>n}),Ole=pt("$ZodUnknown",(e,t)=>{hi.init(e,t),e._zod.parse=n=>n}),Dle=pt("$ZodNever",(e,t)=>{hi.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function ZM(e,t,n){e.issues.length&&t.issues.push(...ID(n,e.issues)),t.value[n]=e.value}const Ple=pt("$ZodArray",(e,t)=>{hi.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(u=>ZM(u,n,s))):ZM(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function t0(e,t,n){e.issues.length&&t.issues.push(...ID(n,e.issues)),t.value[n]=e.value}function QM(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...ID(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Rle=pt("$ZodObject",(e,t)=>{hi.init(e,t);const n=OD(()=>{const d=Object.keys(t.shape);for(const m of d)if(!(t.shape[m]instanceof hi))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const f=Jse(t.shape);return{shape:t.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(f)}});Xr(e._zod,"propValues",()=>{const d=t.shape,f={};for(const m in d){const h=d[m]._zod;if(h.values){f[m]??(f[m]=new Set);for(const g of h.values)f[m].add(g)}}return f});const r=d=>{const f=new Qae(["shape","payload","ctx"]),m=n.value,h=v=>{const b=ig(v);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};f.write("const input = payload.value;");const g=Object.create(null);let S=0;for(const v of m.keys)g[v]=`key_${S++}`;f.write("const newResult = {}");for(const v of m.keys)if(m.optionalKeys.has(v)){const b=g[v];f.write(`const ${b} = ${h(v)};`);const _=ig(v);f.write(`
        if (${b}.issues.length) {
          if (input[${_}] === undefined) {
            if (${_} in input) {
              newResult[${_}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${b}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${_}, ...iss.path] : [${_}],
              }))
            );
          }
        } else if (${b}.value === undefined) {
          if (${_} in input) newResult[${_}] = undefined;
        } else {
          newResult[${_}] = ${b}.value;
        }
        `)}else{const b=g[v];f.write(`const ${b} = ${h(v)};`),f.write(`
          if (${b}.issues.length) payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ig(v)}, ...iss.path] : [${ig(v)}]
          })));`),f.write(`newResult[${ig(v)}] = ${b}.value`)}f.write("payload.value = newResult;"),f.write("return payload;");const y=f.compile();return(v,b)=>y(d,v,b)};let i;const o=sS,s=!dF.jitless,l=s&&Zse.value,u=t.catchall;let c;e._zod.parse=(d,f)=>{c??(c=n.value);const m=d.value;if(!o(m))return d.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),d;const h=[];if(s&&l&&(f==null?void 0:f.async)===!1&&f.jitless!==!0)i||(i=r(t.shape)),d=i(d,f);else{d.value={};const b=c.shape;for(const _ of c.keys){const x=b[_],T=x._zod.run({value:m[_],issues:[]},f),w=x._zod.optin==="optional"&&x._zod.optout==="optional";T instanceof Promise?h.push(T.then(E=>w?QM(E,d,_,m):t0(E,d,_))):w?QM(T,d,_,m):t0(T,d,_)}}if(!u)return h.length?Promise.all(h).then(()=>d):d;const g=[],S=c.keySet,y=u._zod,v=y.def.type;for(const b of Object.keys(m)){if(S.has(b))continue;if(v==="never"){g.push(b);continue}const _=y.run({value:m[b],issues:[]},f);_ instanceof Promise?h.push(_.then(x=>t0(x,d,b))):t0(_,d,b)}return g.length&&d.issues.push({code:"unrecognized_keys",keys:g,input:m,inst:e}),h.length?Promise.all(h).then(()=>d):d}});function JM(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(o=>yf(o,r,gf())))}),t}const AF=pt("$ZodUnion",(e,t)=>{hi.init(e,t),Xr(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),Xr(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),Xr(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),Xr(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>PD(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let i=!1;const o=[];for(const s of t.options){const a=s._zod.run({value:n.value,issues:[]},r);if(a instanceof Promise)o.push(a),i=!0;else{if(a.issues.length===0)return a;o.push(a)}}return i?Promise.all(o).then(s=>JM(s,n,e,r)):JM(o,n,e,r)}}),Ile=pt("$ZodDiscriminatedUnion",(e,t)=>{AF.init(e,t);const n=e._zod.parse;Xr(e._zod,"propValues",()=>{const i={};for(const o of t.options){const s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[a,l]of Object.entries(s)){i[a]||(i[a]=new Set);for(const u of l)i[a].add(u)}}return i});const r=OD(()=>{var s;const i=t.options,o=new Map;for(const a of i){const l=(s=a._zod.propValues)==null?void 0:s[t.discriminator];if(!l||l.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const u of l){if(o.has(u))throw new Error(`Duplicate discriminator value "${String(u)}"`);o.set(u,a)}}return o});e._zod.parse=(i,o)=>{const s=i.value;if(!sS(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const a=r.value.get(s==null?void 0:s[t.discriminator]);return a?a._zod.run(i,o):t.unionFallback?n(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[t.discriminator],inst:e}),i)}}),kle=pt("$ZodIntersection",(e,t)=>{hi.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,o=t.left._zod.run({value:i,issues:[]},r),s=t.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,u])=>ej(n,l,u)):ej(n,o,s)}});function vA(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(yA(e)&&yA(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),i={...e,...t};for(const o of r){const s=vA(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=t[r],s=vA(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function ej(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ny(e))return e;const r=vA(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Nle=pt("$ZodEnum",(e,t)=>{hi.init(e,t);const n=Yse(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>Qse.has(typeof r)).map(r=>typeof r=="string"?Uv(r):r.toString()).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),Mle=pt("$ZodLiteral",(e,t)=>{hi.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Uv(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),jle=pt("$ZodTransform",(e,t)=>{hi.init(e,t),e._zod.parse=(n,r)=>{const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new qy;return n.value=i,n}}),Lle=pt("$ZodOptional",(e,t)=>{hi.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Xr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Xr(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${PD(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),$le=pt("$ZodNullable",(e,t)=>{hi.init(e,t),Xr(e._zod,"optin",()=>t.innerType._zod.optin),Xr(e._zod,"optout",()=>t.innerType._zod.optout),Xr(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${PD(n.source)}|null)$`):void 0}),Xr(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Ble=pt("$ZodDefault",(e,t)=>{hi.init(e,t),e._zod.optin="optional",Xr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>tj(o,t)):tj(i,t)}});function tj(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Ule=pt("$ZodPrefault",(e,t)=>{hi.init(e,t),e._zod.optin="optional",Xr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),Fle=pt("$ZodNonOptional",(e,t)=>{hi.init(e,t),Xr(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>nj(o,e)):nj(i,e)}});function nj(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const zle=pt("$ZodCatch",(e,t)=>{hi.init(e,t),e._zod.optin="optional",Xr(e._zod,"optout",()=>t.innerType._zod.optout),Xr(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>yf(s,r,gf()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>yf(o,r,gf()))},input:n.value}),n.issues=[]),n)}}),Vle=pt("$ZodPipe",(e,t)=>{hi.init(e,t),Xr(e._zod,"values",()=>t.in._zod.values),Xr(e._zod,"optin",()=>t.in._zod.optin),Xr(e._zod,"optout",()=>t.out._zod.optout),Xr(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(o=>rj(o,t,r)):rj(i,t,r)}});function rj(e,t,n){return ny(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const qle=pt("$ZodReadonly",(e,t)=>{hi.init(e,t),Xr(e._zod,"propValues",()=>t.innerType._zod.propValues),Xr(e._zod,"values",()=>t.innerType._zod.values),Xr(e._zod,"optin",()=>t.innerType._zod.optin),Xr(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(ij):ij(i)}});function ij(e){return e.value=Object.freeze(e.value),e}const Hle=pt("$ZodCustom",(e,t)=>{Rs.init(e,t),hi.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>oj(o,n,r,e));oj(i,n,r,e)}});function oj(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Hy(i))}}class Gle{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function Wle(){return new Gle}const n0=Wle();function Yle(e,t){return new e({type:"string",...fn(t)})}function Kle(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...fn(t)})}function sj(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...fn(t)})}function Xle(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...fn(t)})}function Zle(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...fn(t)})}function Qle(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...fn(t)})}function Jle(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...fn(t)})}function eue(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...fn(t)})}function tue(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...fn(t)})}function nue(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...fn(t)})}function rue(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...fn(t)})}function iue(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...fn(t)})}function oue(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...fn(t)})}function sue(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...fn(t)})}function aue(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...fn(t)})}function lue(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...fn(t)})}function uue(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...fn(t)})}function cue(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...fn(t)})}function due(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...fn(t)})}function fue(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...fn(t)})}function pue(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...fn(t)})}function hue(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...fn(t)})}function mue(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...fn(t)})}function gue(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...fn(t)})}function yue(e,t){return new e({type:"string",format:"date",check:"string_format",...fn(t)})}function vue(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...fn(t)})}function bue(e,t){return new e({type:"string",format:"duration",check:"string_format",...fn(t)})}function _ue(e,t){return new e({type:"number",checks:[],...fn(t)})}function Sue(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...fn(t)})}function xue(e,t){return new e({type:"boolean",...fn(t)})}function wue(e){return new e({type:"any"})}function Tue(e){return new e({type:"unknown"})}function Eue(e,t){return new e({type:"never",...fn(t)})}function aj(e,t){return new xF({check:"less_than",...fn(t),value:e,inclusive:!1})}function T1(e,t){return new xF({check:"less_than",...fn(t),value:e,inclusive:!0})}function lj(e,t){return new wF({check:"greater_than",...fn(t),value:e,inclusive:!1})}function E1(e,t){return new wF({check:"greater_than",...fn(t),value:e,inclusive:!0})}function uj(e,t){return new Uae({check:"multiple_of",...fn(t),value:e})}function CF(e,t){return new zae({check:"max_length",...fn(t),maximum:e})}function aS(e,t){return new Vae({check:"min_length",...fn(t),minimum:e})}function OF(e,t){return new qae({check:"length_equals",...fn(t),length:e})}function Aue(e,t){return new Hae({check:"string_format",format:"regex",...fn(t),pattern:e})}function Cue(e){return new Gae({check:"string_format",format:"lowercase",...fn(e)})}function Oue(e){return new Wae({check:"string_format",format:"uppercase",...fn(e)})}function Due(e,t){return new Yae({check:"string_format",format:"includes",...fn(t),includes:e})}function Pue(e,t){return new Kae({check:"string_format",format:"starts_with",...fn(t),prefix:e})}function Rue(e,t){return new Xae({check:"string_format",format:"ends_with",...fn(t),suffix:e})}function Fv(e){return new Zae({check:"overwrite",tx:e})}function Iue(e){return Fv(t=>t.normalize(e))}function kue(){return Fv(e=>e.trim())}function Nue(){return Fv(e=>e.toLowerCase())}function Mue(){return Fv(e=>e.toUpperCase())}function jue(e,t,n){return new e({type:"array",element:t,...fn(n)})}function Lue(e,t,n){return new e({type:"custom",check:"custom",fn:t,...fn(n)})}const $ue=pt("ZodISODateTime",(e,t)=>{dle.init(e,t),xi.init(e,t)});function DF(e){return gue($ue,e)}const Bue=pt("ZodISODate",(e,t)=>{fle.init(e,t),xi.init(e,t)});function Uue(e){return yue(Bue,e)}const Fue=pt("ZodISOTime",(e,t)=>{ple.init(e,t),xi.init(e,t)});function zue(e){return vue(Fue,e)}const Vue=pt("ZodISODuration",(e,t)=>{hle.init(e,t),xi.init(e,t)});function que(e){return bue(Vue,e)}const Hue=(e,t)=>{hF.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>lae(e,n)},flatten:{value:n=>aae(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Xx=pt("ZodError",Hue,{Parent:Error}),Gue=uae(Xx),Wue=cae(Xx),Yue=gF(Xx),Kue=yF(Xx),Di=pt("ZodType",(e,t)=>(hi.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>$f(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>Gue(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Yue(e,n,r),e.parseAsync=async(n,r)=>Wue(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Kue(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(zce(n,r)),e.superRefine=n=>e.check(Vce(n)),e.overwrite=n=>e.check(Fv(n)),e.optional=()=>pj(e),e.nullable=()=>hj(e),e.nullish=()=>pj(hj(e)),e.nonoptional=n=>Nce(e,n),e.array=()=>Nn(e),e.or=n=>xce([e,n]),e.and=n=>Ece(e,n),e.transform=n=>mj(e,Oce(n)),e.default=n=>Rce(e,n),e.prefault=n=>kce(e,n),e.catch=n=>jce(e,n),e.pipe=n=>mj(e,n),e.readonly=()=>Bce(e),e.describe=n=>{const r=e.clone();return n0.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=n0.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return n0.get(e);const r=e.clone();return n0.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),PF=pt("_ZodString",(e,t)=>{ND.init(e,t),Di.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Aue(...r)),e.includes=(...r)=>e.check(Due(...r)),e.startsWith=(...r)=>e.check(Pue(...r)),e.endsWith=(...r)=>e.check(Rue(...r)),e.min=(...r)=>e.check(aS(...r)),e.max=(...r)=>e.check(CF(...r)),e.length=(...r)=>e.check(OF(...r)),e.nonempty=(...r)=>e.check(aS(1,...r)),e.lowercase=r=>e.check(Cue(r)),e.uppercase=r=>e.check(Oue(r)),e.trim=()=>e.check(kue()),e.normalize=(...r)=>e.check(Iue(...r)),e.toLowerCase=()=>e.check(Nue()),e.toUpperCase=()=>e.check(Mue())}),Xue=pt("ZodString",(e,t)=>{ND.init(e,t),PF.init(e,t),e.email=n=>e.check(Kle(Zue,n)),e.url=n=>e.check(eue(Que,n)),e.jwt=n=>e.check(mue(pce,n)),e.emoji=n=>e.check(tue(Jue,n)),e.guid=n=>e.check(sj(cj,n)),e.uuid=n=>e.check(Xle(r0,n)),e.uuidv4=n=>e.check(Zle(r0,n)),e.uuidv6=n=>e.check(Qle(r0,n)),e.uuidv7=n=>e.check(Jle(r0,n)),e.nanoid=n=>e.check(nue(ece,n)),e.guid=n=>e.check(sj(cj,n)),e.cuid=n=>e.check(rue(tce,n)),e.cuid2=n=>e.check(iue(nce,n)),e.ulid=n=>e.check(oue(rce,n)),e.base64=n=>e.check(fue(cce,n)),e.base64url=n=>e.check(pue(dce,n)),e.xid=n=>e.check(sue(ice,n)),e.ksuid=n=>e.check(aue(oce,n)),e.ipv4=n=>e.check(lue(sce,n)),e.ipv6=n=>e.check(uue(ace,n)),e.cidrv4=n=>e.check(cue(lce,n)),e.cidrv6=n=>e.check(due(uce,n)),e.e164=n=>e.check(hue(fce,n)),e.datetime=n=>e.check(DF(n)),e.date=n=>e.check(Uue(n)),e.time=n=>e.check(zue(n)),e.duration=n=>e.check(que(n))});function p(e){return Yle(Xue,e)}const xi=pt("ZodStringFormat",(e,t)=>{mi.init(e,t),PF.init(e,t)}),Zue=pt("ZodEmail",(e,t)=>{nle.init(e,t),xi.init(e,t)}),cj=pt("ZodGUID",(e,t)=>{ele.init(e,t),xi.init(e,t)}),r0=pt("ZodUUID",(e,t)=>{tle.init(e,t),xi.init(e,t)}),Que=pt("ZodURL",(e,t)=>{rle.init(e,t),xi.init(e,t)}),Jue=pt("ZodEmoji",(e,t)=>{ile.init(e,t),xi.init(e,t)}),ece=pt("ZodNanoID",(e,t)=>{ole.init(e,t),xi.init(e,t)}),tce=pt("ZodCUID",(e,t)=>{sle.init(e,t),xi.init(e,t)}),nce=pt("ZodCUID2",(e,t)=>{ale.init(e,t),xi.init(e,t)}),rce=pt("ZodULID",(e,t)=>{lle.init(e,t),xi.init(e,t)}),ice=pt("ZodXID",(e,t)=>{ule.init(e,t),xi.init(e,t)}),oce=pt("ZodKSUID",(e,t)=>{cle.init(e,t),xi.init(e,t)}),sce=pt("ZodIPv4",(e,t)=>{mle.init(e,t),xi.init(e,t)}),ace=pt("ZodIPv6",(e,t)=>{gle.init(e,t),xi.init(e,t)}),lce=pt("ZodCIDRv4",(e,t)=>{yle.init(e,t),xi.init(e,t)}),uce=pt("ZodCIDRv6",(e,t)=>{vle.init(e,t),xi.init(e,t)}),cce=pt("ZodBase64",(e,t)=>{ble.init(e,t),xi.init(e,t)}),dce=pt("ZodBase64URL",(e,t)=>{Sle.init(e,t),xi.init(e,t)}),fce=pt("ZodE164",(e,t)=>{xle.init(e,t),xi.init(e,t)}),pce=pt("ZodJWT",(e,t)=>{Tle.init(e,t),xi.init(e,t)}),RF=pt("ZodNumber",(e,t)=>{EF.init(e,t),Di.init(e,t),e.gt=(r,i)=>e.check(lj(r,i)),e.gte=(r,i)=>e.check(E1(r,i)),e.min=(r,i)=>e.check(E1(r,i)),e.lt=(r,i)=>e.check(aj(r,i)),e.lte=(r,i)=>e.check(T1(r,i)),e.max=(r,i)=>e.check(T1(r,i)),e.int=r=>e.check(dj(r)),e.safe=r=>e.check(dj(r)),e.positive=r=>e.check(lj(0,r)),e.nonnegative=r=>e.check(E1(0,r)),e.negative=r=>e.check(aj(0,r)),e.nonpositive=r=>e.check(T1(0,r)),e.multipleOf=(r,i)=>e.check(uj(r,i)),e.step=(r,i)=>e.check(uj(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Bn(e){return _ue(RF,e)}const hce=pt("ZodNumberFormat",(e,t)=>{Ele.init(e,t),RF.init(e,t)});function dj(e){return Sue(hce,e)}const mce=pt("ZodBoolean",(e,t)=>{Ale.init(e,t),Di.init(e,t)});function zt(e){return xue(mce,e)}const gce=pt("ZodAny",(e,t)=>{Cle.init(e,t),Di.init(e,t)});function kc(){return wue(gce)}const yce=pt("ZodUnknown",(e,t)=>{Ole.init(e,t),Di.init(e,t)});function fj(){return Tue(yce)}const vce=pt("ZodNever",(e,t)=>{Dle.init(e,t),Di.init(e,t)});function bce(e){return Eue(vce,e)}const _ce=pt("ZodArray",(e,t)=>{Ple.init(e,t),Di.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(aS(n,r)),e.nonempty=n=>e.check(aS(1,n)),e.max=(n,r)=>e.check(CF(n,r)),e.length=(n,r)=>e.check(OF(n,r)),e.unwrap=()=>e.element});function Nn(e,t){return jue(_ce,e,t)}const Sce=pt("ZodObject",(e,t)=>{Rle.init(e,t),Di.init(e,t),Xr(e,"shape",()=>t.shape),e.keyof=()=>Ot(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:fj()}),e.loose=()=>e.clone({...e._zod.def,catchall:fj()}),e.strict=()=>e.clone({...e._zod.def,catchall:bce()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>rae(e,n),e.merge=n=>iae(e,n),e.pick=n=>tae(e,n),e.omit=n=>nae(e,n),e.partial=(...n)=>oae(NF,e,n[0]),e.required=(...n)=>sae(MF,e,n[0])});function Me(e,t){const n={type:"object",get shape(){return RD(this,"shape",{...e}),this.shape},...fn(t)};return new Sce(n)}const IF=pt("ZodUnion",(e,t)=>{AF.init(e,t),Di.init(e,t),e.options=t.options});function xce(e,t){return new IF({type:"union",options:e,...fn(t)})}const wce=pt("ZodDiscriminatedUnion",(e,t)=>{IF.init(e,t),Ile.init(e,t)});function kF(e,t,n){return new wce({type:"union",options:t,discriminator:e,...fn(n)})}const Tce=pt("ZodIntersection",(e,t)=>{kle.init(e,t),Di.init(e,t)});function Ece(e,t){return new Tce({type:"intersection",left:e,right:t})}const bA=pt("ZodEnum",(e,t)=>{Nle.init(e,t),Di.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new bA({...t,checks:[],...fn(i),entries:o})},e.exclude=(r,i)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new bA({...t,checks:[],...fn(i),entries:o})}});function Ot(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new bA({type:"enum",entries:n,...fn(t)})}const Ace=pt("ZodLiteral",(e,t)=>{Mle.init(e,t),Di.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function $t(e,t){return new Ace({type:"literal",values:Array.isArray(e)?e:[e],...fn(t)})}const Cce=pt("ZodTransform",(e,t)=>{jle.init(e,t),Di.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(Hy(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(Hy(s))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function Oce(e){return new Cce({type:"transform",transform:e})}const NF=pt("ZodOptional",(e,t)=>{Lle.init(e,t),Di.init(e,t),e.unwrap=()=>e._zod.def.innerType});function pj(e){return new NF({type:"optional",innerType:e})}const Dce=pt("ZodNullable",(e,t)=>{$le.init(e,t),Di.init(e,t),e.unwrap=()=>e._zod.def.innerType});function hj(e){return new Dce({type:"nullable",innerType:e})}const Pce=pt("ZodDefault",(e,t)=>{Ble.init(e,t),Di.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Rce(e,t){return new Pce({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Ice=pt("ZodPrefault",(e,t)=>{Ule.init(e,t),Di.init(e,t),e.unwrap=()=>e._zod.def.innerType});function kce(e,t){return new Ice({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const MF=pt("ZodNonOptional",(e,t)=>{Fle.init(e,t),Di.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Nce(e,t){return new MF({type:"nonoptional",innerType:e,...fn(t)})}const Mce=pt("ZodCatch",(e,t)=>{zle.init(e,t),Di.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function jce(e,t){return new Mce({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Lce=pt("ZodPipe",(e,t)=>{Vle.init(e,t),Di.init(e,t),e.in=t.in,e.out=t.out});function mj(e,t){return new Lce({type:"pipe",in:e,out:t})}const $ce=pt("ZodReadonly",(e,t)=>{qle.init(e,t),Di.init(e,t)});function Bce(e){return new $ce({type:"readonly",innerType:e})}const Uce=pt("ZodCustom",(e,t)=>{Hle.init(e,t),Di.init(e,t)});function Fce(e){const t=new Rs({check:"custom"});return t._zod.check=e,t}function zce(e,t={}){return Lue(Uce,e,t)}function Vce(e){const t=Fce(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Hy(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Hy(i))}},e(n.value,n)));return t}const MD=["ar","bg","bn","cs","da","de","de-AT","de-CH","el","en","en-AU","en-CA","en-GB","es","es-419","es-MX","et","fi","fr","fr-BE","fr-CA","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","kn","ko","lt","lv","mn","mr","ms","my","nb","nl","nl-BE","pl","pt-BR","pt-PT","ro","ru","si","sk","sl","sr-Cyrl","sr-Latn","sv","ta","te","th","tr","uk","vi","zh-CN","zh-TW"];Ot(MD);const jD=Me({locale:Ot(MD)}),qce=jD.extend({type:$t("scorm_12")}),Hce=jD.extend({type:$t("scorm_2004")}),Gce=jD.extend({type:$t("web"),useLocalStorage:zt()});kF("type",[qce,Hce,Gce]);const Wce=[{variant:"AccordionElement",label:"Accordion",element:"accordion",elementGroup:"reveal",category:"basic",icon:"/static-assets/element-library-images/element-basic-accordion.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:["TabsElement"]},{variant:"AssessmentDetailsElement",label:"Assessment Details",element:"assessmentDetails",elementGroup:"assessmentDetails",category:"basic",icon:"/ev/static/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"AssessmentScoreElement",label:"Assessment Score",element:"assessmentScore",elementGroup:"assessmentScore",category:"basic",icon:"/ev/static/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"AssessmentOverviewElement",label:"Assessment Overview",element:"assessmentOverview",elementGroup:"assessmentOverview",category:"basic",icon:"/ev/static/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"ButtonElement",label:"Button",element:"button",elementGroup:"button",category:"basic",icon:"/static-assets/element-library-images/element-basic-button.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"CardDropElement",label:"Card Drop",element:"cardDrop",elementGroup:"cardDrop",category:"question",icon:"/static-assets/element-library-images/element-question-card-drop.png",isAccessible:!0,isAssessable:!0,interactionType:"matching",relatedVariants:[]},{variant:"ChecklistElement",label:"Checklist",element:"checklist",elementGroup:"checklist",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-checklist.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"CodeSnippetElement",label:"Code Snippet",element:"codeSnippet",elementGroup:"codeSnippet",category:"basic",icon:"/static-assets/element-library-images/element-basic-codeSnippet.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"GraphicElement",label:"Graphic",element:"graphic",elementGroup:"graphic",category:"basic",icon:"/static-assets/element-library-images/element-basic-image.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"HotgraphicElement",label:"Hotgraphic",element:"hotgraphic",elementGroup:"hotgraphic",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-hot-graphic.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"FlipCardElement",label:"Flip Card",element:"flipCard",elementGroup:"flipCard",category:"interactive",icon:"/static-assets/element-library-images/element-basic-flipcard.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"IFrameElement",label:"iFrame",element:"iFrame",elementGroup:"iFrame",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-iFrame.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"MediaElement",label:"Media",element:"media",elementGroup:"media",category:"basic",icon:"/static-assets/element-library-images/element-basic-video.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"MultipleChoiceQuestionElement",label:"Multiple Choice",element:"multipleChoiceQuestion",elementGroup:"multipleOptionQuestion",category:"question",icon:"/static-assets/element-library-images/element-basic-multiple-choice.png",isAccessible:!0,isAssessable:!0,interactionType:"choice",relatedVariants:["MultipleResponseQuestionElement"]},{variant:"MultipleResponseQuestionElement",label:"Multiple Response",element:"multipleResponseQuestion",elementGroup:"multipleOptionQuestion",category:"question",icon:"/static-assets/element-library-images/element-basic-multiple-response.png",isAccessible:!0,isAssessable:!0,interactionType:"choice",relatedVariants:["MultipleChoiceQuestionElement"]},{variant:"NumberInputElement",label:"Number Input",element:"numberInput",elementGroup:"numberInput",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-number-input.png",isAccessible:!0,isAssessable:!1,interactionType:"numeric",relatedVariants:[]},{variant:"ProcessElement",label:"Process",element:"process",elementGroup:"process",category:"interactive",icon:"/static-assets/element-library-images/element-basic-process.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"SortingElement",label:"Sorting",element:"sorting",elementGroup:"sorting",category:"question",icon:"/static-assets/element-library-images/element-question-sorting.png",isAccessible:!0,isAssessable:!0,interactionType:"sequencing",relatedVariants:[]},{variant:"TabsElement",label:"Tabs",element:"tabs",elementGroup:"reveal",category:"basic",icon:"/static-assets/element-library-images/element-basic-tabs.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:["AccordionElement"]},{variant:"TextElement",label:"Text",element:"text",elementGroup:"text",category:"basic",icon:"/static-assets/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},{variant:"TextInputElement",label:"Text Input",element:"textInput",elementGroup:"textInput",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-text-input.png",isAccessible:!0,isAssessable:!1,interactionType:"long-fill-in",relatedVariants:[]}],Yce={AccordionElement:{variant:"AccordionElement",label:"Accordion",element:"accordion",elementGroup:"reveal",category:"basic",icon:"/static-assets/element-library-images/element-basic-accordion.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:["TabsElement"]},AssessmentDetailsElement:{variant:"AssessmentDetailsElement",label:"Assessment Details",element:"assessmentDetails",elementGroup:"assessmentDetails",category:"basic",icon:"/ev/static/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},AssessmentScoreElement:{variant:"AssessmentScoreElement",label:"Assessment Score",element:"assessmentScore",elementGroup:"assessmentScore",category:"basic",icon:"/ev/static/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},AssessmentOverviewElement:{variant:"AssessmentOverviewElement",label:"Assessment Overview",element:"assessmentOverview",elementGroup:"assessmentOverview",category:"basic",icon:"/ev/static/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},ButtonElement:{variant:"ButtonElement",label:"Button",element:"button",elementGroup:"button",category:"basic",icon:"/static-assets/element-library-images/element-basic-button.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},CardDropElement:{variant:"CardDropElement",label:"Card Drop",element:"cardDrop",elementGroup:"cardDrop",category:"question",icon:"/static-assets/element-library-images/element-question-card-drop.png",isAccessible:!0,isAssessable:!0,interactionType:"matching",relatedVariants:[]},ChecklistElement:{variant:"ChecklistElement",label:"Checklist",element:"checklist",elementGroup:"checklist",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-checklist.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},CodeSnippetElement:{variant:"CodeSnippetElement",label:"Code Snippet",element:"codeSnippet",elementGroup:"codeSnippet",category:"basic",icon:"/static-assets/element-library-images/element-basic-codeSnippet.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},GraphicElement:{variant:"GraphicElement",label:"Graphic",element:"graphic",elementGroup:"graphic",category:"basic",icon:"/static-assets/element-library-images/element-basic-image.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},HotgraphicElement:{variant:"HotgraphicElement",label:"Hotgraphic",element:"hotgraphic",elementGroup:"hotgraphic",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-hot-graphic.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},FlipCardElement:{variant:"FlipCardElement",label:"Flip Card",element:"flipCard",elementGroup:"flipCard",category:"interactive",icon:"/static-assets/element-library-images/element-basic-flipcard.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},IFrameElement:{variant:"IFrameElement",label:"iFrame",element:"iFrame",elementGroup:"iFrame",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-iFrame.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},MediaElement:{variant:"MediaElement",label:"Media",element:"media",elementGroup:"media",category:"basic",icon:"/static-assets/element-library-images/element-basic-video.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},MultipleChoiceQuestionElement:{variant:"MultipleChoiceQuestionElement",label:"Multiple Choice",element:"multipleChoiceQuestion",elementGroup:"multipleOptionQuestion",category:"question",icon:"/static-assets/element-library-images/element-basic-multiple-choice.png",isAccessible:!0,isAssessable:!0,interactionType:"choice",relatedVariants:["MultipleResponseQuestionElement"]},MultipleResponseQuestionElement:{variant:"MultipleResponseQuestionElement",label:"Multiple Response",element:"multipleResponseQuestion",elementGroup:"multipleOptionQuestion",category:"question",icon:"/static-assets/element-library-images/element-basic-multiple-response.png",isAccessible:!0,isAssessable:!0,interactionType:"choice",relatedVariants:["MultipleChoiceQuestionElement"]},NumberInputElement:{variant:"NumberInputElement",label:"Number Input",element:"numberInput",elementGroup:"numberInput",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-number-input.png",isAccessible:!0,isAssessable:!1,interactionType:"numeric",relatedVariants:[]},ProcessElement:{variant:"ProcessElement",label:"Process",element:"process",elementGroup:"process",category:"interactive",icon:"/static-assets/element-library-images/element-basic-process.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},SortingElement:{variant:"SortingElement",label:"Sorting",element:"sorting",elementGroup:"sorting",category:"question",icon:"/static-assets/element-library-images/element-question-sorting.png",isAccessible:!0,isAssessable:!0,interactionType:"sequencing",relatedVariants:[]},TabsElement:{variant:"TabsElement",label:"Tabs",element:"tabs",elementGroup:"reveal",category:"basic",icon:"/static-assets/element-library-images/element-basic-tabs.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:["AccordionElement"]},TextElement:{variant:"TextElement",label:"Text",element:"text",elementGroup:"text",category:"basic",icon:"/static-assets/element-library-images/element-basic-text.png",isAccessible:!0,isAssessable:!1,interactionType:null,relatedVariants:[]},TextInputElement:{variant:"TextInputElement",label:"Text Input",element:"textInput",elementGroup:"textInput",category:"interactive",icon:"/static-assets/element-library-images/element-interactive-text-input.png",isAccessible:!0,isAssessable:!1,interactionType:"long-fill-in",relatedVariants:[]}},Dt=p().regex(/^[a-f\d]{24}$/i),LD=Dt.nullable(),Qn=DF();Me({src:p(),from:Ot(["web","upload"]),type:$t("audio")});const i0=Me({src:p(),from:Ot(["web","upload"]),type:$t("file")}),io=Me({src:p(),from:Ot(["web","upload"]),tablet:Me({src:p(),from:Ot(["web","upload"])}).optional(),mobile:Me({src:p(),from:Ot(["web","upload"])}).optional(),type:$t("image")}),Kce=Me({src:p(),from:Ot(["web","upload"]),type:Ot(["video","audio"])});Me({src:p(),from:Ot(["web","upload"]),type:$t("video")});const jF=Me({accessControl:Me({isEnabled:zt().default(!0),collaborators:Nn(Dt)})}),xt=Me({ar:p().optional(),bg:p().optional(),bn:p().optional(),cs:p().optional(),da:p().optional(),de:p().optional(),"de-AT":p().optional(),"de-CH":p().optional(),el:p().optional(),en:p().default(""),"en-AU":p().optional(),"en-CA":p().optional(),"en-GB":p().optional(),es:p().optional(),"es-419":p().optional(),"es-MX":p().optional(),et:p().optional(),fi:p().optional(),fr:p().optional(),"fr-BE":p().optional(),"fr-CA":p().optional(),"fr-CH":p().optional(),he:p().optional(),hi:p().optional(),hr:p().optional(),hu:p().optional(),id:p().optional(),it:p().optional(),"it-CH":p().optional(),ja:p().optional(),kn:p().optional(),ko:p().optional(),lt:p().optional(),lv:p().optional(),mn:p().optional(),mr:p().optional(),ms:p().optional(),my:p().optional(),nb:p().optional(),nl:p().optional(),"nl-BE":p().optional(),pl:p().optional(),"pt-BR":p().optional(),"pt-PT":p().optional(),ro:p().optional(),ru:p().optional(),si:p().optional(),sk:p().optional(),sl:p().optional(),"sr-Cyrl":p().optional(),"sr-Latn":p().optional(),sv:p().optional(),ta:p().optional(),te:p().optional(),th:p().optional(),tr:p().optional(),uk:p().optional(),vi:p().optional(),"zh-CN":p().optional(),"zh-TW":p().optional()}),zr=Me({ar:Me({html:p().optional()}).optional(),bg:Me({html:p().optional()}).optional(),bn:Me({html:p().optional()}).optional(),cs:Me({html:p().optional()}).optional(),da:Me({html:p().optional()}).optional(),de:Me({html:p().optional()}).optional(),"de-AT":Me({html:p().optional()}).optional(),"de-CH":Me({html:p().optional()}).optional(),el:Me({html:p().optional()}).optional(),en:Me({html:p().default("")}),"en-AU":Me({html:p().optional()}).optional(),"en-CA":Me({html:p().optional()}).optional(),"en-GB":Me({html:p().optional()}).optional(),es:Me({html:p().optional()}).optional(),"es-419":Me({html:p().optional()}).optional(),"es-MX":Me({html:p().optional()}).optional(),et:Me({html:p().optional()}).optional(),fi:Me({html:p().optional()}).optional(),fr:Me({html:p().optional()}).optional(),"fr-BE":Me({html:p().optional()}).optional(),"fr-CA":Me({html:p().optional()}).optional(),"fr-CH":Me({html:p().optional()}).optional(),he:Me({html:p().optional()}).optional(),hi:Me({html:p().optional()}).optional(),hr:Me({html:p().optional()}).optional(),hu:Me({html:p().optional()}).optional(),id:Me({html:p().optional()}).optional(),it:Me({html:p().optional()}).optional(),"it-CH":Me({html:p().optional()}).optional(),ja:Me({html:p().optional()}).optional(),kn:Me({html:p().optional()}).optional(),ko:Me({html:p().optional()}).optional(),lt:Me({html:p().optional()}).optional(),lv:Me({html:p().optional()}).optional(),mn:Me({html:p().optional()}).optional(),mr:Me({html:p().optional()}).optional(),ms:Me({html:p().optional()}).optional(),my:Me({html:p().optional()}).optional(),nb:Me({html:p().optional()}).optional(),nl:Me({html:p().optional()}).optional(),"nl-BE":Me({html:p().optional()}).optional(),pl:Me({html:p().optional()}).optional(),"pt-BR":Me({html:p().optional()}).optional(),"pt-PT":Me({html:p().optional()}).optional(),ro:Me({html:p().optional()}).optional(),ru:Me({html:p().optional()}).optional(),si:Me({html:p().optional()}).optional(),sk:Me({html:p().optional()}).optional(),sl:Me({html:p().optional()}).optional(),"sr-Cyrl":Me({html:p().optional()}).optional(),"sr-Latn":Me({html:p().optional()}).optional(),sv:Me({html:p().optional()}).optional(),ta:Me({html:p().optional()}).optional(),te:Me({html:p().optional()}).optional(),th:Me({html:p().optional()}).optional(),tr:Me({html:p().optional()}).optional(),uk:Me({html:p().optional()}).optional(),vi:Me({html:p().optional()}).optional(),"zh-CN":Me({html:p().optional()}).optional(),"zh-TW":Me({html:p().optional()}).optional()}),ep=Me({text:zr,media:io.nullable().optional(),altText:xt.optional()}),Bf=Me({ungraded:Me({final:ep}),correct:Me({final:ep}),partlyCorrect:Me({interim:ep,final:ep}),incorrect:Me({interim:ep,final:ep})}),Al=Me({preset:Ot(["none","fade","slide","scale","float","custom","theme"]).default("none"),values:Me({type:Ot(["tween","spring"]).optional(),opacity:Bn().optional(),scale:Bn().optional(),x:Bn().optional(),y:Bn().optional(),rotate:Bn().optional(),ease:Ot(["linear","easeIn","easeOut","easeInOut","circIn","circOut","circInOut","backIn","backOut","backInOut","anticipate"]).optional(),bounce:Bn().optional(),duration:Bn().optional(),delay:Bn().optional()})}),LF=Me({id:p(),key:p(),name:p(),style:Ot(["normal","italic","oblique"]),weight:p(),weights:Nn(Ot(["100","200","300","400","500","600","700","800","900"])),unicodeRange:p(),isVariable:zt(),format:Ot(["truetype","woff2","woff"])}),Xce=Me({cloud:Me({isEnabled:zt().default(!1),options:Me({provider:Ot(["aws","gcp"]).default("aws")})})}),Zce=Me({type:Ot(["showHiddenPages","showHiddenSections","showHiddenRows","showHiddenElements","showLogicDialog","hidePages","hideSections","hideRows","hideElements","navigateToPage","navigateToSection","navigateToRow","navigateToElement","setCourseToComplete","setCourseToPassed","setCourseToFailed","setPageToComplete","resetCourse","resetElements","increaseVariableByValue","decreaseVariableByValue","setVariableNumber","setVariableText","setVariableBoolean","enableTrigger","disableTrigger"]),delay:Bn(),targets:Nn(p()),value:kc().optional()}),Qce=Me({operator:Ot(["AND","OR"]),type:Ot(["equalTo","notEqualTo","lessThan","lessThanOrEqualTo","greaterThan","greaterThanOrEqualTo"]),value:kc().optional(),target:p().optional()});Me({type:Ot(["stripe","enterprise","vip","portal"]),plan:Ot(["personal","team","enterprise"]),organization:p(),licenses:Bn().gte(1),isActive:zt(),isInTrial:zt(),isCanceledAtPeriodEnd:zt().optional(),trialEndsAt:Qn.optional(),currentPeriodEndsAt:Qn.optional(),hasPaymentMethod:zt(),flags:Xce,_id:Dt});Me({accountId:Dt,courseId:Dt,parentId:Dt,order:Bn().default(0),refId:p(),title:xt,label:p().default(""),card:p().default("ev-card-default"),animation:Al,variables:Me({"--ev-column-background-color":p().optional(),"--ev-column-padding-t":p().optional(),"--ev-column-padding-b":p().optional(),"--ev-column-padding-l":p().optional(),"--ev-column-padding-r":p().optional(),"--ev-column-padding-t-tablet":p().optional(),"--ev-column-padding-b-tablet":p().optional(),"--ev-column-padding-l-tablet":p().optional(),"--ev-column-padding-r-tablet":p().optional(),"--ev-column-padding-t-mobile":p().optional(),"--ev-column-padding-b-mobile":p().optional(),"--ev-column-padding-l-mobile":p().optional(),"--ev-column-padding-r-mobile":p().optional(),"--ev-element-gap":p().optional(),"--ev-element-gap-tablet":p().optional(),"--ev-element-gap-mobile":p().optional()}),verticalAlignment:Ot(["top","bottom","center"]).default("top"),_id:Dt,object:$t("column").default("column")});Me({accountId:Dt,title:p(),description:p().default(""),themeId:p().default("default"),permissions:Me({accessControl:Me({isEnabled:zt().default(!0),collaborators:Nn(Dt)}),previewLink:Me({isEnabled:zt().default(!1),key:p()})}),ownedBy:Dt,createdBy:Dt,i18n:Nn(Me({locale:p(),updatedAt:Qn})),cloud:Me({state:Ot(["active","completed","failed"]).optional(),isPaused:zt().default(!1),lastSyncedAt:Qn.optional()}),_id:Dt,createdAt:Qn,updatedAt:Qn,object:$t("course").default("course")});Me({accountId:Dt,courseId:Dt,userId:Dt,message:p().default(""),requestedAt:Qn,_id:Dt});const Gu=Me({courseId:Dt,accountId:Dt,type:Ot(["assessment","bookmarking","courseCompletion","courseOutline","exitCourseButton","footerNavigation","sectionIndicator","scrollProgress","footer"]),_id:Dt}),Jce=Gu.extend({isEnabled:zt().default(!1),allowedAttempts:Bn().default(2),allowInfiniteAttempts:zt().default(!1),passingScore:Bn().gte(0).lte(100).default(80),sections:Nn(Ot(["score","overview","details"])),feedback:Me({correct:Me({final:Me({text:zr})}),incorrect:Me({final:Me({text:zr}),interim:Me({text:zr})})}),variables:Me({"--ev-assessment-results-score-background-color":p().optional(),"--ev-assessment-results-overview-background-color":p().optional(),"--ev-assessment-results-details-background-color":p().optional(),"--ev-assessment-details-heading-text-label":p().optional(),"--ev-assessment-details-heading-text-color":p().optional(),"--ev-assessment-details-detail-icon-color":p().optional(),"--ev-assessment-details-detail-text-label":p().optional(),"--ev-assessment-details-detail-text-color":p().optional(),"--ev-assessment-score-progress-foreground-color":p().optional(),"--ev-assessment-score-progress-background-color":p().optional(),"--ev-assessment-score-progress-label-color":p().optional(),"--ev-assessment-score-message-color":p().optional(),"--ev-assessment-overview-heading-text-label":p().optional(),"--ev-assessment-overview-heading-text-color":p().optional(),"--ev-assessment-overview-stat-text-label":p().optional(),"--ev-assessment-overview-stat-text-color":p().optional(),"--ev-assessment-overview-subtitle-text-label":p().optional(),"--ev-assessment-overview-subtitle-text-color":p().optional()}),attemptDialogText:zr,type:$t("assessment")}),ede=Gu.extend({isEnabled:zt().default(!0),type:$t("bookmarking")}),tde=Gu.extend({isDialogEnabled:zt().default(!1),dialogText:zr,method:Ot(["elements","assessment","logic"]).default("elements"),type:$t("courseCompletion")}),nde=Gu.extend({isEnabled:zt().default(!0),type:$t("courseOutline")}),rde=Gu.extend({isEnabled:zt().default(!0),type:$t("exitCourseButton")}),ide=Gu.extend({isEnabled:zt().default(!0),displayNextLabel:zt().default(!0),displayPageTitle:zt().default(!0),type:$t("footerNavigation")}),ode=Gu.extend({isEnabled:zt().default(!1),variables:Me({"--ev-section-indicator-background-color":p().optional(),"--ev-section-indicator-border-style":p().optional(),"--ev-section-indicator-border-color":p().optional(),"--ev-section-indicator-border-width":p().optional(),"--ev-section-indicator-border-radius":p().optional(),"--ev-section-indicator-shadow":p().optional(),"--ev-section-indicator-spacing-x":p().optional(),"--ev-section-indicator-spacing-y":p().optional(),"--ev-section-indicator-spacing-x-tablet":p().optional(),"--ev-section-indicator-spacing-y-tablet":p().optional(),"--ev-section-indicator-gap":p().optional(),"--ev-section-indicator-gap-tablet":p().optional(),"--ev-section-indicator-dot-background-color":p().optional(),"--ev-section-indicator-dot-border-style":p().optional(),"--ev-section-indicator-dot-border-color":p().optional(),"--ev-section-indicator-dot-border-width":p().optional(),"--ev-section-indicator-dot-active-background-color":p().optional(),"--ev-section-indicator-dot-active-border-style":p().optional(),"--ev-section-indicator-dot-active-border-color":p().optional(),"--ev-section-indicator-dot-active-border-width":p().optional()}),type:$t("sectionIndicator")}),sde=Gu.extend({isEnabled:zt().default(!0),type:$t("scrollProgress")}),ade=Gu.extend({copyrightText:zr,type:$t("footer")}),Bi=Me({accountId:Dt,courseId:Dt,parentId:Dt,refId:p(),order:Bn().default(0),title:xt,label:p().default(""),isHidden:zt().default(!1),assets:Nn(p()),card:p().default("ev-card-default"),animation:Al,completionRequired:zt().default(!0),_id:Dt,object:$t("element").default("element")});Bi.extend({props:Me({items:Nn(Me({id:p().default(""),label:xt,content:zr}))}),variables:Me({"--ev-accordion-item-button-background-color":p().optional(),"--ev-accordion-item-button-color":p().optional(),"--ev-accordion-item-button-label":p().optional(),"--ev-accordion-item-button-border-style":p().optional(),"--ev-accordion-item-button-border-color":p().optional(),"--ev-accordion-item-button-border-width":p().optional(),"--ev-accordion-item-button-shadow":p().optional(),"--ev-accordion-item-button-hover":p().optional(),"--ev-accordion-item-button-border-radius":p().optional(),"--ev-accordion-item-button-spacing-x":p().optional(),"--ev-accordion-item-button-spacing-y":p().optional(),"--ev-accordion-item-button-spacing-x-tablet":p().optional(),"--ev-accordion-item-button-spacing-y-tablet":p().optional(),"--ev-accordion-item-button-spacing-x-mobile":p().optional(),"--ev-accordion-item-button-spacing-y-mobile":p().optional(),"--ev-accordion-item-button-gap":p().optional(),"--ev-accordion-item-gap":p().optional(),"--ev-accordion-item-gap-tablet":p().optional(),"--ev-accordion-item-gap-mobile":p().optional(),"--ev-accordion-item-content-background-color":p().optional(),"--ev-accordion-item-content-color":p().optional(),"--ev-accordion-item-content-border-style":p().optional(),"--ev-accordion-item-content-border-color":p().optional(),"--ev-accordion-item-content-border-width":p().optional(),"--ev-accordion-item-content-border-radius":p().optional(),"--ev-accordion-item-content-spacing-x":p().optional(),"--ev-accordion-item-content-spacing-y":p().optional(),"--ev-accordion-item-content-spacing-x-tablet":p().optional(),"--ev-accordion-item-content-spacing-y-tablet":p().optional(),"--ev-accordion-item-content-spacing-x-mobile":p().optional(),"--ev-accordion-item-content-spacing-y-mobile":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("AccordionElement")});Bi.extend({props:kc().optional(),variables:Me({"--ev-assessment-details-heading-text-label":p().optional(),"--ev-assessment-details-heading-text-color":p().optional(),"--ev-assessment-details-detail-icon-color":p().optional(),"--ev-assessment-details-detail-text-label":p().optional(),"--ev-assessment-details-detail-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("AssessmentDetailsElement")});Bi.extend({props:Me({feedback:Me({correct:Me({final:Me({text:zr})}),incorrect:Me({final:Me({text:zr}),interim:Me({text:zr})})})}),variables:Me({"--ev-assessment-score-progress-foreground-color":p().optional(),"--ev-assessment-score-progress-background-color":p().optional(),"--ev-assessment-score-progress-label-color":p().optional(),"--ev-assessment-score-message-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("AssessmentScoreElement")});Bi.extend({props:kc().optional(),variables:Me({"--ev-assessment-overview-heading-text-label":p().optional(),"--ev-assessment-overview-heading-text-color":p().optional(),"--ev-assessment-overview-stat-text-label":p().optional(),"--ev-assessment-overview-stat-text-color":p().optional(),"--ev-assessment-overview-subtitle-text-label":p().optional(),"--ev-assessment-overview-subtitle-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("AssessmentOverviewElement")});Bi.extend({props:Me({style:Ot(["button","imageButton"]).default("button"),icon:p().nullable().optional(),media:io.nullable().optional(),label:xt,ariaLabel:xt,linkType:Ot(["action","internal","url","logic"]).default("action"),actionLinkTarget:Ot(["scrollTop","restartCourse","exitCourse"]).default("scrollTop"),internalLinkTarget:Ot(["page","section"]).default("page"),urlLinkTarget:Ot(["_blank","_top"]).default("_blank"),internalLinkDestination:p().optional(),urlLinkDestination:p().default(""),completionEvent:Ot(["viewed","clicked"]).default("viewed"),horizontalAlignment:Ot(["left","right","center"]).default("center")}),variables:Me({"--ev-button-background-color":p().optional(),"--ev-button-text-color":p().optional(),"--ev-button-label":p().optional(),"--ev-button-border-style":p().optional(),"--ev-button-border-color":p().optional(),"--ev-button-border-width":p().optional(),"--ev-button-shadow":p().optional(),"--ev-button-hover":p().optional(),"--ev-button-border-radius":p().optional(),"--ev-button-spacing-x":p().optional(),"--ev-button-spacing-y":p().optional(),"--ev-button-spacing-x-tablet":p().optional(),"--ev-button-spacing-y-tablet":p().optional(),"--ev-button-spacing-x-mobile":p().optional(),"--ev-button-spacing-y-mobile":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("ButtonElement")});Bi.extend({props:Me({allowedAttempts:Bn().default(2),allowInfiniteAttempts:zt().default(!1),showAttempts:zt().default(!0),isUngraded:zt().default(!1),rejectIncorrectCards:zt().default(!1),showScore:zt().default(!0),allowShowAnswers:zt().default(!0),questionText:zr,items:Nn(Me({id:p(),label:xt,correctDropZone:p()})),dropZones:Nn(Me({id:p(),label:xt})),cardSize:Me({width:Bn().default(300),height:Bn().default(150)}),feedback:Bf}),variables:Me({"--ev-card-drop-item-background-color":p().optional(),"--ev-card-drop-item-text-color":p().optional(),"--ev-card-drop-item-label":p().optional(),"--ev-card-drop-item-drag-icon-display":p().optional(),"--ev-card-drop-item-drag-icon-color":p().optional(),"--ev-card-drop-item-border-style":p().optional(),"--ev-card-drop-item-border-color":p().optional(),"--ev-card-drop-item-border-width":p().optional(),"--ev-card-drop-item-border-radius":p().optional(),"--ev-card-drop-item-shadow":p().optional(),"--ev-card-drop-item-spacing-x":p().optional(),"--ev-card-drop-item-spacing-y":p().optional(),"--ev-card-drop-item-spacing-x-tablet":p().optional(),"--ev-card-drop-item-spacing-y-tablet":p().optional(),"--ev-card-drop-item-spacing-x-mobile":p().optional(),"--ev-card-drop-item-spacing-y-mobile":p().optional(),"--ev-card-drop-item-border-color-dragging":p().optional(),"--ev-card-drop-item-border-color-correct":p().optional(),"--ev-card-drop-item-border-color-incorrect":p().optional(),"--ev-card-drop-zone-background-color":p().optional(),"--ev-card-drop-zone-text-color":p().optional(),"--ev-card-drop-zone-label":p().optional(),"--ev-card-drop-zone-border-style":p().optional(),"--ev-card-drop-zone-border-color":p().optional(),"--ev-card-drop-zone-border-width":p().optional(),"--ev-card-drop-zone-border-radius":p().optional(),"--ev-card-drop-zone-shadow":p().optional(),"--ev-card-drop-zone-hover":p().optional(),"--ev-card-drop-question-text-color":p().optional(),"--ev-card-drop-attempts-text-color":p().optional(),"--ev-card-drop-feedback-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("CardDropElement")});Bi.extend({props:Me({instructionText:zr,items:Nn(Me({id:p(),label:xt})),requireAllItems:zt().default(!0),requiredItemsCount:Bn().default(1),feedback:Bf}),variables:Me({"--ev-checklist-item-background-color":p().optional(),"--ev-checklist-item-icon-color":p().optional(),"--ev-checklist-item-text-color":p().optional(),"--ev-checklist-item-label":p().optional(),"--ev-checklist-item-hover":p().optional(),"--ev-checklist-item-icon-size":p().optional(),"--ev-checklist-item-icon-alignment":p().optional(),"--ev-checklist-item-border-style":p().optional(),"--ev-checklist-item-border-color":p().optional(),"--ev-checklist-item-border-width":p().optional(),"--ev-checklist-item-shadow":p().optional(),"--ev-checklist-item-border-radius":p().optional(),"--ev-checklist-item-spacing-x":p().optional(),"--ev-checklist-item-spacing-y":p().optional(),"--ev-checklist-item-spacing-x-tablet":p().optional(),"--ev-checklist-item-spacing-y-tablet":p().optional(),"--ev-checklist-item-spacing-x-mobile":p().optional(),"--ev-checklist-item-spacing-y-mobile":p().optional(),"--ev-checklist-item-gap":p().optional(),"--ev-checklist-items-gap-tablet":p().optional(),"--ev-checklist-items-gap-mobile":p().optional(),"--ev-checklist-items-gap":p().optional(),"--ev-checklist-instruction-text-color":p().optional(),"--ev-checklist-feedback-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("ChecklistElement")});Bi.extend({props:Me({code:p().default("")}).optional(),variables:Me({"--ev-code-background-color":p().optional(),"--ev-code-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("CodeSnippetElement")});Bi.extend({props:Me({caption:zr.optional(),media:io.nullable().optional(),altText:xt,horizontalAlignment:Ot(["left","right","center"]).default("center"),lightbox:Me({isEnabled:zt().default(!1),media:io.nullable().optional(),altText:xt})}),variables:Me({"--ev-graphic-caption-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("GraphicElement")});Bi.extend({props:Me({image:io.nullable().optional(),altText:xt,hotspotType:Ot(["icon","number"]).default("icon"),items:Nn(Me({id:p().default(""),content:zr,position:Me({x:Bn(),y:Bn()}),media:io.nullable().optional(),altText:xt,ariaLabel:xt}))}),variables:Me({"--ev-hotgraphic-hotspot-background-color":p().optional(),"--ev-hotgraphic-hotspot-icon-color":p().optional(),"--ev-hotgraphic-hotspot-button-hover":p().optional(),"--ev-hotgraphic-hotspot-border-style":p().optional(),"--ev-hotgraphic-hotspot-border-color":p().optional(),"--ev-hotgraphic-hotspot-border-width":p().optional(),"--ev-hotgraphic-hotspot-shadow":p().optional(),"--ev-hotgraphic-hotspot-selected-background-color":p().optional(),"--ev-hotgraphic-hotspot-selected-icon-color":p().optional(),"--ev-hotgraphic-hotspot-selected-border-color":p().optional(),"--ev-hotgraphic-content-popover-background-color":p().optional(),"--ev-hotgraphic-content-popover-color":p().optional(),"--ev-hotgraphic-content-popover-border-style":p().optional(),"--ev-hotgraphic-content-popover-border-color":p().optional(),"--ev-hotgraphic-content-popover-border-width":p().optional(),"--ev-hotgraphic-content-popover-border-radius":p().optional(),"--ev-hotgraphic-content-popover-shadow":p().optional(),"--ev-hotgraphic-content-popover-spacing-x":p().optional(),"--ev-hotgraphic-content-popover-spacing-y":p().optional(),"--ev-hotgraphic-content-popover-spacing-x-tablet":p().optional(),"--ev-hotgraphic-content-popover-spacing-y-tablet":p().optional(),"--ev-hotgraphic-content-popover-spacing-x-mobile":p().optional(),"--ev-hotgraphic-content-popover-spacing-y-mobile":p().optional(),"--ev-hotgraphic-hotspot-animation":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("HotgraphicElement")});Bi.extend({props:Me({items:Nn(Me({id:p().default(""),label:xt,front:Me({media:io.nullable().optional(),altText:xt,hasText:zt().default(!0),content:zr}),back:Me({media:io.nullable().optional(),altText:xt,hasText:zt().default(!0),content:zr})})),cardSize:Me({width:Bn().default(260),height:Bn().default(320)}),cardFront:Me({media:io.nullable().optional()}).optional(),cardBack:Me({media:io.nullable().optional()}).optional(),allowOnlyOneCardFlipped:zt().default(!0),showAnimations:zt().default(!0)}),variables:Me({"--ev-flipcard-item-front-background-color":p().optional(),"--ev-flipcard-item-front-text-color":p().optional(),"--ev-flipcard-item-back-background-color":p().optional(),"--ev-flipcard-item-back-text-color":p().optional(),"--ev-flipcard-item-border-style":p().optional(),"--ev-flipcard-item-border-color":p().optional(),"--ev-flipcard-item-border-width":p().optional(),"--ev-flipcard-item-border-radius":p().optional(),"--ev-flipcard-item-shadow":p().optional(),"--ev-flipcard-item-content-spacing-x":p().optional(),"--ev-flipcard-item-content-spacing-y":p().optional(),"--ev-flipcard-item-content-spacing-x-tablet":p().optional(),"--ev-flipcard-item-content-spacing-y-tablet":p().optional(),"--ev-flipcard-item-content-spacing-x-mobile":p().optional(),"--ev-flipcard-item-content-spacing-y-mobile":p().optional(),"--ev-flipcard-item-text-alignment":p().optional(),"--ev-flipcard-item-flex-direction":p().optional(),"--ev-flipcard-item-button-display":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("FlipCardElement")});Bi.extend({props:Me({autoHeight:zt().default(!1),embed:p(),height:Bn().default(500),iFrameTitle:xt,completionEvent:Ot(["viewed","contentEvent"]).default("viewed")}),variables:Me({"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("IFrameElement")});Bi.extend({props:Me({media:Kce.nullable().optional(),poster:io.nullable().optional(),captions:Me({en:i0.nullable().optional(),es:i0.nullable().optional(),fr:i0.nullable().optional(),de:i0.nullable().optional()}).optional(),transcript:zr.optional(),autoplay:zt().default(!1),controls:zt().default(!0),loop:zt().default(!1),completionEvent:Ot(["viewed","played","ended"]).default("viewed")}),variables:Me({"--ev-media-controls-color":p().optional(),"--ev-media-controls-background-color":p().optional(),"--ev-media-big-play-background-color":p().optional(),"--ev-media-big-play-icon-color":p().optional(),"--ev-media-big-play-hover":p().optional(),"--ev-media-progress-background-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("MediaElement")});Bi.extend({props:Me({allowedAttempts:Bn().default(2),allowInfiniteAttempts:zt().default(!1),showAttempts:zt().default(!0),isUngraded:zt().default(!1),saveToVariable:Me({isEnabled:zt().default(!1),target:p().optional(),saveType:Ot(["replace","addTo"]).default("replace")}),hasAnswerImages:zt().default(!1),questionText:zr,items:Nn(Me({id:p(),label:xt,value:p().optional(),isCorrect:zt().default(!1),media:io.nullable().optional(),altText:xt})),feedback:Bf}),variables:Me({"--ev-mcq-item-option-background-color":p().optional(),"--ev-mcq-item-option-color":p().optional(),"--ev-mcq-item-option-label":p().optional(),"--ev-mcq-item-option-border-width":p().optional(),"--ev-mcq-item-option-border-style":p().optional(),"--ev-mcq-item-option-border-color":p().optional(),"--ev-mcq-item-option-shadow":p().optional(),"--ev-mcq-item-option-hover":p().optional(),"--ev-mcq-item-option-border-radius":p().optional(),"--ev-mcq-item-option-spacing-x":p().optional(),"--ev-mcq-item-option-spacing-y":p().optional(),"--ev-mcq-item-option-spacing-x-tablet":p().optional(),"--ev-mcq-item-option-spacing-y-tablet":p().optional(),"--ev-mcq-item-option-spacing-x-mobile":p().optional(),"--ev-mcq-item-option-spacing-y-mobile":p().optional(),"--ev-mcq-item-option-gap":p().optional(),"--ev-mcq-item-gap":p().optional(),"--ev-mcq-item-gap-tablet":p().optional(),"--ev-mcq-item-gap-mobile":p().optional(),"--ev-mcq-item-disabled-option-background-color":p().optional(),"--ev-mcq-item-disabled-option-color":p().optional(),"--ev-mcq-item-disabled-option-border-color":p().optional(),"--ev-mcq-question-text-color":p().optional(),"--ev-mcq-attempts-text-color":p().optional(),"--ev-mcq-feedback-text-color":p().optional(),"--ev-mcq-no-selection-text-color":p().optional(),"--ev-mcq-no-selection-error-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("MultipleChoiceQuestionElement")});Bi.extend({props:Me({allowedAttempts:Bn().default(2),allowInfiniteAttempts:zt().default(!1),showAttempts:zt().default(!0),isUngraded:zt().default(!1),hasAnswerImages:zt().default(!1),questionText:zr,items:Nn(Me({id:p(),label:xt,isCorrect:zt().default(!1),media:io.nullable().optional(),altText:xt})),feedback:Bf}),variables:Me({"--ev-mcq-item-option-background-color":p().optional(),"--ev-mcq-item-option-color":p().optional(),"--ev-mcq-item-option-label":p().optional(),"--ev-mcq-item-option-border-width":p().optional(),"--ev-mcq-item-option-border-style":p().optional(),"--ev-mcq-item-option-border-color":p().optional(),"--ev-mcq-item-option-shadow":p().optional(),"--ev-mcq-item-option-hover":p().optional(),"--ev-mcq-item-option-border-radius":p().optional(),"--ev-mcq-item-option-spacing-x":p().optional(),"--ev-mcq-item-option-spacing-y":p().optional(),"--ev-mcq-item-option-spacing-x-tablet":p().optional(),"--ev-mcq-item-option-spacing-y-tablet":p().optional(),"--ev-mcq-item-option-spacing-x-mobile":p().optional(),"--ev-mcq-item-option-spacing-y-mobile":p().optional(),"--ev-mcq-item-option-gap":p().optional(),"--ev-mcq-item-gap":p().optional(),"--ev-mcq-item-gap-tablet":p().optional(),"--ev-mcq-item-gap-mobile":p().optional(),"--ev-mcq-item-disabled-option-background-color":p().optional(),"--ev-mcq-item-disabled-option-color":p().optional(),"--ev-mcq-item-disabled-option-border-color":p().optional(),"--ev-mcq-question-text-color":p().optional(),"--ev-mcq-attempts-text-color":p().optional(),"--ev-mcq-feedback-text-color":p().optional(),"--ev-mcq-no-selection-text-color":p().optional(),"--ev-mcq-no-selection-error-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("MultipleResponseQuestionElement")});Bi.extend({props:Me({allowEditing:zt().default(!0),saveToVariable:Me({isEnabled:zt().default(!1),target:p().optional(),saveType:Ot(["replace","addTo"]).default("replace")}),questionText:zr,defaultValue:Bn(),min:Bn().nullable().optional(),max:Bn().nullable().optional(),feedback:Bf}),variables:Me({"--ev-numberinput-input-background-color":p().optional(),"--ev-numberinput-input-text-color":p().optional(),"--ev-numberinput-input-text-style":p().optional(),"--ev-numberinput-input-border-style":p().optional(),"--ev-numberinput-input-border-color":p().optional(),"--ev-numberinput-input-border-width":p().optional(),"--ev-numberinput-input-border-radius":p().optional(),"--ev-numberinput-input-shadow":p().optional(),"--ev-numberinput-input-spacing-x":p().optional(),"--ev-numberinput-input-spacing-y":p().optional(),"--ev-numberinput-input-max-width":p().optional(),"--ev-numberinput-alignment":p().optional(),"--ev-numberinput-question-text-color":p().optional(),"--ev-numberinput-feedback-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("NumberInputElement")});Bi.extend({props:Me({type:Ot(["carousel","reveal"]).default("carousel"),textPlacement:Ot(["bottom","top","left","right"]).default("bottom"),items:Nn(Me({id:p().default(""),label:xt,hasText:zt().default(!1),content:zr,media:io.nullable().optional(),altText:xt}))}),variables:Me({"--ev-process-background-color":p().optional(),"--ev-process-text-color":p().optional(),"--ev-process-progress-active":p().optional(),"--ev-process-progress-inactive":p().optional(),"--ev-process-item-border-style":p().optional(),"--ev-process-item-border-color":p().optional(),"--ev-process-item-border-width":p().optional(),"--ev-process-item-border-radius":p().optional(),"--ev-process-item-shadow":p().optional(),"--ev-process-item-content-spacing-x":p().optional(),"--ev-process-item-content-spacing-y":p().optional(),"--ev-process-item-content-spacing-x-tablet":p().optional(),"--ev-process-item-content-spacing-y-tablet":p().optional(),"--ev-process-item-content-spacing-x-mobile":p().optional(),"--ev-process-item-content-spacing-y-mobile":p().optional(),"--ev-process-item-gap":p().optional(),"--ev-process-item-gap-tablet":p().optional(),"--ev-process-item-gap-mobile":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("ProcessElement")});Bi.extend({props:Me({allowedAttempts:Bn().default(2),allowInfiniteAttempts:zt().default(!1),showAttempts:zt().default(!0),isUngraded:zt().default(!1),hasAnswerImages:zt().default(!1),questionText:zr,items:Nn(Me({id:p(),label:xt,media:io.nullable().optional(),altText:xt})),itemImageSize:Me({width:Bn().default(100),height:Bn().default(100)}),feedback:Bf}),variables:Me({"--ev-sorting-item-background-color":p().optional(),"--ev-sorting-item-text-color":p().optional(),"--ev-sorting-item-label":p().optional(),"--ev-sorting-item-drag-icon-display":p().optional(),"--ev-sorting-item-drag-icon-color":p().optional(),"--ev-sorting-item-border-style":p().optional(),"--ev-sorting-item-border-color":p().optional(),"--ev-sorting-item-border-color-dragging":p().optional(),"--ev-sorting-item-border-width":p().optional(),"--ev-sorting-item-border-radius":p().optional(),"--ev-sorting-item-shadow":p().optional(),"--ev-sorting-item-spacing-x":p().optional(),"--ev-sorting-item-spacing-y":p().optional(),"--ev-sorting-item-spacing-x-tablet":p().optional(),"--ev-sorting-item-spacing-y-tablet":p().optional(),"--ev-sorting-item-spacing-x-mobile":p().optional(),"--ev-sorting-item-spacing-y-mobile":p().optional(),"--ev-sorting-item-gap":p().optional(),"--ev-sorting-item-gap-tablet":p().optional(),"--ev-sorting-item-gap-mobile":p().optional(),"--ev-sorting-number-background-color":p().optional(),"--ev-sorting-number-text-color":p().optional(),"--ev-sorting-number-border-style":p().optional(),"--ev-sorting-number-border-color":p().optional(),"--ev-sorting-number-border-width":p().optional(),"--ev-sorting-question-text-color":p().optional(),"--ev-sorting-attempts-text-color":p().optional(),"--ev-sorting-feedback-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("SortingElement")});Bi.extend({props:Me({items:Nn(Me({id:p().default(""),label:xt,content:zr}))}),variables:Me({"--ev-tabs-item-button-background-color":p().optional(),"--ev-tabs-item-button-color":p().optional(),"--ev-tabs-item-button-label":p().optional(),"--ev-tabs-item-button-border-width":p().optional(),"--ev-tabs-item-button-border-style":p().optional(),"--ev-tabs-item-button-border-color":p().optional(),"--ev-tabs-item-button-shadow":p().optional(),"--ev-tabs-item-button-hover":p().optional(),"--ev-tabs-item-button-border-radius":p().optional(),"--ev-tabs-item-button-spacing-x":p().optional(),"--ev-tabs-item-button-spacing-y":p().optional(),"--ev-tabs-item-button-spacing-x-tablet":p().optional(),"--ev-tabs-item-button-spacing-y-tablet":p().optional(),"--ev-tabs-item-button-spacing-x-mobile":p().optional(),"--ev-tabs-item-button-spacing-y-mobile":p().optional(),"--ev-tabs-item-gap":p().optional(),"--ev-tabs-item-gap-tablet":p().optional(),"--ev-tabs-item-gap-mobile":p().optional(),"--ev-tabs-item-active-button-background-color":p().optional(),"--ev-tabs-item-active-button-color":p().optional(),"--ev-tabs-item-active-button-border-color":p().optional(),"--ev-tabs-item-content-background-color":p().optional(),"--ev-tabs-item-content-color":p().optional(),"--ev-tabs-item-content-border-width":p().optional(),"--ev-tabs-item-content-border-style":p().optional(),"--ev-tabs-item-content-border-color":p().optional(),"--ev-tabs-item-content-border-radius":p().optional(),"--ev-tabs-item-content-spacing-x":p().optional(),"--ev-tabs-item-content-spacing-y":p().optional(),"--ev-tabs-item-content-spacing-x-tablet":p().optional(),"--ev-tabs-item-content-spacing-y-tablet":p().optional(),"--ev-tabs-item-content-spacing-x-mobile":p().optional(),"--ev-tabs-item-content-spacing-y-mobile":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("TabsElement")});Bi.extend({props:Me({text:zr}),variables:Me({"--ev-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("TextElement")});Bi.extend({props:Me({allowEditing:zt().default(!0),saveToVariable:Me({isEnabled:zt().default(!1),target:p().optional(),saveType:Ot(["replace","addTo"]).default("replace")}),questionText:zr,placeholderText:xt,responseLength:Ot(["short","long"]).default("short"),feedback:Bf}),variables:Me({"--ev-textinput-input-background-color":p().optional(),"--ev-textinput-input-text-color":p().optional(),"--ev-textinput-input-placeholder-color":p().optional(),"--ev-textinput-input-text-style":p().optional(),"--ev-textinput-input-border-style":p().optional(),"--ev-textinput-input-border-color":p().optional(),"--ev-textinput-input-border-width":p().optional(),"--ev-textinput-input-border-radius":p().optional(),"--ev-textinput-input-shadow":p().optional(),"--ev-textinput-input-spacing-x":p().optional(),"--ev-textinput-input-spacing-y":p().optional(),"--ev-textinput-input-max-width":p().optional(),"--ev-textinput-alignment":p().optional(),"--ev-textinput-question-text-color":p().optional(),"--ev-textinput-feedback-text-color":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional()}),variant:$t("TextInputElement")});Me({accountId:Dt,courseId:Dt,parentId:Dt,refId:p(),order:Bn().default(0),title:xt,label:p().default(""),isHidden:zt().default(!1),animation:Al,_id:Dt,object:$t("page").default("page")});Me({accountId:Dt,courseId:Dt,parentId:Dt,order:Bn().default(0),refId:p(),title:xt,label:p().default(""),isHidden:zt().default(!1),card:p().default("ev-card-default"),columnLayout:p().optional(),responsiveColumnLayout:Me({desktop:Ot(["equal","30-70","70-30","50-25-25","25-50-25","25-25-50"]).default("equal"),tablet:Ot(["equal","stacked","2x2","30-70","70-30","50-25-25","25-50-25","25-25-50"]).default("stacked"),mobile:Ot(["equal","stacked","2x2","30-70","70-30","50-25-25","25-50-25","25-25-50"]).default("stacked")}),reverseColumnOrder:Me({desktop:zt().default(!1),tablet:zt().default(!1),mobile:zt().default(!1)}),variables:Me({"--ev-row-background-color":p().optional(),"--ev-content-max-width":p().optional(),"--ev-row-padding-t":p().optional(),"--ev-row-padding-b":p().optional(),"--ev-row-padding-l":p().optional(),"--ev-row-padding-r":p().optional(),"--ev-column-gap":p().optional(),"--ev-column-gap-tablet":p().optional(),"--ev-column-gap-mobile":p().optional(),"--ev-row-padding-t-tablet":p().optional(),"--ev-row-padding-b-tablet":p().optional(),"--ev-row-padding-l-tablet":p().optional(),"--ev-row-padding-r-tablet":p().optional(),"--ev-row-padding-t-mobile":p().optional(),"--ev-row-padding-b-mobile":p().optional(),"--ev-row-padding-l-mobile":p().optional(),"--ev-row-padding-r-mobile":p().optional()}),animation:Al,_id:Dt,object:$t("row").default("row")});Me({accountId:Dt,courseId:Dt,parentId:Dt,refId:p(),sectionStyle:p().optional(),order:Bn().default(0),title:xt,label:p().default(""),isHidden:zt().default(!1),card:p().default("ev-card-default"),animation:Al,variables:Me({"--ev-section-background-color":p().optional(),"--ev-section-padding-t":p().optional(),"--ev-section-padding-b":p().optional(),"--ev-section-padding-l":p().optional(),"--ev-section-padding-r":p().optional(),"--ev-section-padding-t-tablet":p().optional(),"--ev-section-padding-b-tablet":p().optional(),"--ev-section-padding-l-tablet":p().optional(),"--ev-section-padding-r-tablet":p().optional(),"--ev-section-padding-t-mobile":p().optional(),"--ev-section-padding-b-mobile":p().optional(),"--ev-section-padding-l-mobile":p().optional(),"--ev-section-padding-r-mobile":p().optional()}),backgroundImage:Me({media:io.nullable().optional(),desktop:Me({size:p().default("initial"),position:p().default("center"),repeat:zt().default(!1)}),tablet:Me({size:p().default("initial"),position:p().default("center"),repeat:zt().default(!1)}),mobile:Me({size:p().default("initial"),position:p().default("center"),repeat:zt().default(!1)})}),assets:Nn(p()),_id:Dt,object:$t("section").default("section")});const Zx=Me({type:Ot(["image","audio","video","file"]),accountId:Dt,name:p(),src:p(),key:p(),size:Bn(),createdBy:Dt,ownedBy:Dt,permissions:jF,_id:Dt,createdAt:Qn,updatedAt:Qn});Zx.extend({mimeType:$t("audio/mpeg"),extension:$t("mp3"),type:$t("audio")});Zx.extend({mimeType:Ot(["image/jpeg","image/png","image/svg+xml","image/gif"]),extension:Ot(["jpg","jpeg","png","svg","gif"]),width:Bn(),height:Bn(),type:$t("image")});Zx.extend({mimeType:$t("text/vtt"),extension:$t("vtt"),type:$t("file")});Zx.extend({mimeType:$t("video/mp4"),extension:$t("mp4"),type:$t("video")});Me({_id:p(),title:p(),accountId:LD,variables:Me({"--ev-heading-color":p().default("var(--ev-color-1)"),"--ev-paragraph-color":p().default("var(--ev-color-1)"),"--ev-caption-color":p().default("var(--ev-color-1)"),"--ev-list-color":p().default("var(--ev-color-1)"),"--ev-link-color":p().default("var(--ev-color-1)"),"--ev-blockquote-color":p().default("var(--ev-color-1)"),"--ev-page-background-color":p().optional(),"--ev-section-background-color":p().optional(),"--ev-row-background-color":p().optional(),"--ev-column-background-color":p().optional(),"--ev-element-background-color":p().optional(),"--ev-success-color":p().default("var(--ev-color-4)"),"--ev-error-color":p().default("var(--ev-color-5)"),"--ev-inactive-color":p().default("var(--ev-color-6)"),"--ev-table-header-background-color":p().default("var(--ev-color-8)"),"--ev-table-text-color":p().default("var(--ev-color-1)"),"--ev-table-border-color":p().default("var(--ev-color-7)"),"--ev-typography-heading-font-weight":p().default("500"),"--ev-typography-heading-line-height":p().default("138%"),"--ev-typography-heading-space-after":p().default("16px"),"--ev-typography-heading-space-after-tablet":p().default("16px"),"--ev-typography-heading-space-after-mobile":p().default("16px"),"--ev-typography-paragraph-font-weight":p().default("400"),"--ev-typography-paragraph-line-height":p().default("160%"),"--ev-typography-paragraph-space-after":p().default("16px"),"--ev-typography-paragraph-space-after-tablet":p().default("16px"),"--ev-typography-paragraph-space-after-mobile":p().default("16px"),"--ev-typography-heading1-fontSize":p().default("60px"),"--ev-typography-heading1-fontSize-tablet":p().default("60px"),"--ev-typography-heading1-fontSize-mobile":p().default("60px"),"--ev-typography-heading2-fontSize":p().default("48px"),"--ev-typography-heading2-fontSize-tablet":p().default("48px"),"--ev-typography-heading2-fontSize-mobile":p().default("48px"),"--ev-typography-heading3-fontSize":p().default("36px"),"--ev-typography-heading3-fontSize-tablet":p().default("36px"),"--ev-typography-heading3-fontSize-mobile":p().default("36px"),"--ev-typography-heading4-fontSize":p().default("30px"),"--ev-typography-heading4-fontSize-tablet":p().default("30px"),"--ev-typography-heading4-fontSize-mobile":p().default("30px"),"--ev-typography-heading5-fontSize":p().default("24px"),"--ev-typography-heading5-fontSize-tablet":p().default("24px"),"--ev-typography-heading5-fontSize-mobile":p().default("24px"),"--ev-typography-heading6-fontSize":p().default("16px"),"--ev-typography-heading6-fontSize-tablet":p().default("16px"),"--ev-typography-heading6-fontSize-mobile":p().default("16px"),"--ev-typography-paragraph-fontSize":p().default("18px"),"--ev-typography-paragraph-fontSize-tablet":p().default("18px"),"--ev-typography-paragraph-fontSize-mobile":p().default("18px"),"--ev-typography-caption-fontSize":p().default("14px"),"--ev-typography-caption-fontSize-tablet":p().default("14px"),"--ev-typography-caption-fontSize-mobile":p().default("14px"),"--ev-typography-list-fontSize":p().default("18px"),"--ev-typography-list-fontSize-tablet":p().default("18px"),"--ev-typography-list-fontSize-mobile":p().default("18px"),"--ev-typography-blockquote-fontSize":p().default("18px"),"--ev-typography-blockquote-fontSize-tablet":p().default("18px"),"--ev-typography-blockquote-fontSize-mobile":p().default("18px"),"--ev-typography-heading1-letter-spacing":p().default("0em"),"--ev-typography-heading2-letter-spacing":p().default("0em"),"--ev-typography-heading3-letter-spacing":p().default("0em"),"--ev-typography-heading4-letter-spacing":p().default("0em"),"--ev-typography-heading5-letter-spacing":p().default("0em"),"--ev-typography-heading6-letter-spacing":p().default("0em"),"--ev-typography-paragraph-letter-spacing":p().default("0em"),"--ev-typography-caption-letter-spacing":p().default("0em"),"--ev-typography-list-letter-spacing":p().default("0em"),"--ev-typography-blockquote-letter-spacing":p().default("0em"),"--ev-typography-heading1-text-transform":p().default("none"),"--ev-typography-heading2-text-transform":p().default("none"),"--ev-typography-heading3-text-transform":p().default("none"),"--ev-typography-heading4-text-transform":p().default("none"),"--ev-typography-heading5-text-transform":p().default("none"),"--ev-typography-heading6-text-transform":p().default("none"),"--ev-typography-paragraph-text-transform":p().default("none"),"--ev-typography-caption-text-transform":p().default("none"),"--ev-typography-list-text-transform":p().default("none"),"--ev-typography-blockquote-text-transform":p().default("none"),"--ev-content-max-width":p().default("1200px"),"--ev-section-padding-t":p().default("96px"),"--ev-section-padding-b":p().default("96px"),"--ev-section-padding-l":p().default("0px"),"--ev-section-padding-r":p().default("0px"),"--ev-section-padding-t-tablet":p().default("96px"),"--ev-section-padding-b-tablet":p().default("96px"),"--ev-section-padding-l-tablet":p().default("0px"),"--ev-section-padding-r-tablet":p().default("0px"),"--ev-section-padding-t-mobile":p().default("96px"),"--ev-section-padding-b-mobile":p().default("96px"),"--ev-section-padding-l-mobile":p().default("0px"),"--ev-section-padding-r-mobile":p().default("0px"),"--ev-row-padding-t":p().default("0px"),"--ev-row-padding-b":p().default("0px"),"--ev-row-padding-l":p().default("24px"),"--ev-row-padding-r":p().default("24px"),"--ev-row-padding-t-tablet":p().default("0px"),"--ev-row-padding-b-tablet":p().default("0px"),"--ev-row-padding-l-tablet":p().default("24px"),"--ev-row-padding-r-tablet":p().default("24px"),"--ev-row-padding-t-mobile":p().default("0px"),"--ev-row-padding-b-mobile":p().default("0px"),"--ev-row-padding-l-mobile":p().default("24px"),"--ev-row-padding-r-mobile":p().default("24px"),"--ev-column-padding-t":p().default("32px"),"--ev-column-padding-b":p().default("32px"),"--ev-column-padding-l":p().default("0px"),"--ev-column-padding-r":p().default("0px"),"--ev-column-padding-t-tablet":p().default("32px"),"--ev-column-padding-b-tablet":p().default("32px"),"--ev-column-padding-l-tablet":p().default("0px"),"--ev-column-padding-r-tablet":p().default("0px"),"--ev-column-padding-t-mobile":p().default("32px"),"--ev-column-padding-b-mobile":p().default("32px"),"--ev-column-padding-l-mobile":p().default("0px"),"--ev-column-padding-r-mobile":p().default("0px"),"--ev-element-padding-t":p().default("0px"),"--ev-element-padding-b":p().default("0px"),"--ev-element-padding-l":p().default("12px"),"--ev-element-padding-r":p().default("12px"),"--ev-element-padding-t-tablet":p().default("0px"),"--ev-element-padding-b-tablet":p().default("0px"),"--ev-element-padding-l-tablet":p().default("12px"),"--ev-element-padding-r-tablet":p().default("12px"),"--ev-element-padding-t-mobile":p().default("0px"),"--ev-element-padding-b-mobile":p().default("0px"),"--ev-element-padding-l-mobile":p().default("12px"),"--ev-element-padding-r-mobile":p().default("12px"),"--ev-section-gap":p().default("0px"),"--ev-section-gap-tablet":p().default("0px"),"--ev-section-gap-mobile":p().default("0px"),"--ev-row-gap":p().default("0px"),"--ev-row-gap-tablet":p().default("0px"),"--ev-row-gap-mobile":p().default("0px"),"--ev-column-gap":p().default("12px"),"--ev-column-gap-tablet":p().default("12px"),"--ev-column-gap-mobile":p().default("12px"),"--ev-element-gap":p().default("12px"),"--ev-element-gap-tablet":p().default("12px"),"--ev-element-gap-mobile":p().default("12px"),"--ev-card-solid-background-color":p().default("var(--ev-color-2)"),"--ev-card-solid-border-width":p().default("1px 1px 1px 1px"),"--ev-card-solid-border-style":p().default("none"),"--ev-card-solid-border-color":p().default("var(--ev-color-7)"),"--ev-card-solid-shadow":p().default("none"),"--ev-card-solid-border-radius":p().default("6px 6px 6px 6px"),"--ev-card-solid-padding-t":p().default("32px"),"--ev-card-solid-padding-b":p().default("32px"),"--ev-card-solid-padding-l":p().default("32px"),"--ev-card-solid-padding-r":p().default("32px"),"--ev-card-solid-padding-t-tablet":p().default("32px"),"--ev-card-solid-padding-b-tablet":p().default("32px"),"--ev-card-solid-padding-l-tablet":p().default("32px"),"--ev-card-solid-padding-r-tablet":p().default("32px"),"--ev-card-solid-padding-t-mobile":p().default("32px"),"--ev-card-solid-padding-b-mobile":p().default("32px"),"--ev-card-solid-padding-l-mobile":p().default("32px"),"--ev-card-solid-padding-r-mobile":p().default("32px"),"--ev-card-solid-gap-t":p().default("32px"),"--ev-card-solid-gap-b":p().default("32px"),"--ev-card-solid-gap-l":p().default("32px"),"--ev-card-solid-gap-r":p().default("32px"),"--ev-card-solid-gap-t-tablet":p().default("32px"),"--ev-card-solid-gap-b-tablet":p().default("32px"),"--ev-card-solid-gap-l-tablet":p().default("32px"),"--ev-card-solid-gap-r-tablet":p().default("32px"),"--ev-card-solid-gap-t-mobile":p().default("32px"),"--ev-card-solid-gap-b-mobile":p().default("32px"),"--ev-card-solid-gap-l-mobile":p().default("32px"),"--ev-card-solid-gap-r-mobile":p().default("32px"),"--ev-card-shadow-background-color":p().default("var(--ev-color-2)"),"--ev-card-shadow-border-width":p().default("1px 1px 1px 1px"),"--ev-card-shadow-border-style":p().default("none"),"--ev-card-shadow-border-color":p().default("var(--ev-color-7)"),"--ev-card-shadow-shadow":p().default("0px 4px 15px 2px #00000026"),"--ev-card-shadow-border-radius":p().default("6px 6px 6px 6px"),"--ev-card-shadow-padding-t":p().default("32px"),"--ev-card-shadow-padding-b":p().default("32px"),"--ev-card-shadow-padding-l":p().default("32px"),"--ev-card-shadow-padding-r":p().default("32px"),"--ev-card-shadow-padding-t-tablet":p().default("32px"),"--ev-card-shadow-padding-b-tablet":p().default("32px"),"--ev-card-shadow-padding-l-tablet":p().default("32px"),"--ev-card-shadow-padding-r-tablet":p().default("32px"),"--ev-card-shadow-padding-t-mobile":p().default("32px"),"--ev-card-shadow-padding-b-mobile":p().default("32px"),"--ev-card-shadow-padding-l-mobile":p().default("32px"),"--ev-card-shadow-padding-r-mobile":p().default("32px"),"--ev-card-shadow-gap-t":p().default("32px"),"--ev-card-shadow-gap-b":p().default("32px"),"--ev-card-shadow-gap-l":p().default("32px"),"--ev-card-shadow-gap-r":p().default("32px"),"--ev-card-shadow-gap-t-tablet":p().default("32px"),"--ev-card-shadow-gap-b-tablet":p().default("32px"),"--ev-card-shadow-gap-l-tablet":p().default("32px"),"--ev-card-shadow-gap-r-tablet":p().default("32px"),"--ev-card-shadow-gap-t-mobile":p().default("32px"),"--ev-card-shadow-gap-b-mobile":p().default("32px"),"--ev-card-shadow-gap-l-mobile":p().default("32px"),"--ev-card-shadow-gap-r-mobile":p().default("32px"),"--ev-card-transparent-background-color":p().default("var(--ev-color-9)"),"--ev-card-transparent-border-width":p().default("1px 1px 1px 1px"),"--ev-card-transparent-border-style":p().default("solid"),"--ev-card-transparent-border-color":p().default("var(--ev-color-7)"),"--ev-card-transparent-shadow":p().default("0px 4px 15px 2px #00000026"),"--ev-card-transparent-border-radius":p().default("6px 6px 6px 6px"),"--ev-card-transparent-padding-t":p().default("32px"),"--ev-card-transparent-padding-b":p().default("32px"),"--ev-card-transparent-padding-l":p().default("32px"),"--ev-card-transparent-padding-r":p().default("32px"),"--ev-card-transparent-padding-t-tablet":p().default("32px"),"--ev-card-transparent-padding-b-tablet":p().default("32px"),"--ev-card-transparent-padding-l-tablet":p().default("32px"),"--ev-card-transparent-padding-r-tablet":p().default("32px"),"--ev-card-transparent-padding-t-mobile":p().default("32px"),"--ev-card-transparent-padding-b-mobile":p().default("32px"),"--ev-card-transparent-padding-l-mobile":p().default("32px"),"--ev-card-transparent-padding-r-mobile":p().default("32px"),"--ev-card-transparent-gap-t":p().default("32px"),"--ev-card-transparent-gap-b":p().default("32px"),"--ev-card-transparent-gap-l":p().default("32px"),"--ev-card-transparent-gap-r":p().default("32px"),"--ev-card-transparent-gap-t-tablet":p().default("32px"),"--ev-card-transparent-gap-b-tablet":p().default("32px"),"--ev-card-transparent-gap-l-tablet":p().default("32px"),"--ev-card-transparent-gap-r-tablet":p().default("32px"),"--ev-card-transparent-gap-t-mobile":p().default("32px"),"--ev-card-transparent-gap-b-mobile":p().default("32px"),"--ev-card-transparent-gap-l-mobile":p().default("32px"),"--ev-card-transparent-gap-r-mobile":p().default("32px"),"--ev-course-outline-background-color":p().default("var(--ev-color-2)"),"--ev-course-outline-text-color":p().default("var(--ev-color-1)"),"--ev-course-outline-border-color":p().default("var(--ev-color-7)"),"--ev-course-outline-item-active-color":p().default("var(--ev-color-3)"),"--ev-course-outline-item-icon-color":p().default("var(--ev-color-6)"),"--ev-course-outline-progress-foreground-color":p().default("var(--ev-color-3)"),"--ev-course-outline-progress-background-color":p().default("var(--ev-color-8)"),"--ev-scroll-progress-background-color":p().default("var(--ev-color-8)"),"--ev-scroll-progress-progress-color":p().default("var(--ev-color-3)"),"--ev-page-footer-background-color":p().default("var(--ev-color-1)"),"--ev-page-footer-text-color":p().default("var(--ev-color-2)"),"--ev-page-footer-next-label":p().default("ev-label-heading6"),"--ev-page-footer-next-page-title-label":p().default("ev-label-heading3"),"--ev-page-footer-next-button-background-color":p().default("var(--ev-color-3)"),"--ev-page-footer-next-button-color":p().default("var(--ev-color-2)"),"--ev-page-footer-next-button-hover":p().default("var(--ev-hover-darken)"),"--ev-page-footer-next-button-width":p().default("var(--ev-width-auto)"),"--ev-page-footer-border-width":p().default("1px 1px 1px 1px"),"--ev-page-footer-border-style":p().default("none"),"--ev-page-footer-border-color":p().default("var(--ev-color-7)"),"--ev-page-footer-padding-t":p().default("32px"),"--ev-page-footer-padding-b":p().default("32px"),"--ev-page-footer-padding-l":p().default("32px"),"--ev-page-footer-padding-r":p().default("32px"),"--ev-page-footer-padding-t-tablet":p().default("32px"),"--ev-page-footer-padding-b-tablet":p().default("32px"),"--ev-page-footer-padding-l-tablet":p().default("32px"),"--ev-page-footer-padding-r-tablet":p().default("32px"),"--ev-page-footer-padding-t-mobile":p().default("32px"),"--ev-page-footer-padding-b-mobile":p().default("32px"),"--ev-page-footer-padding-l-mobile":p().default("32px"),"--ev-page-footer-padding-r-mobile":p().default("32px"),"--ev-page-footer-card-background-color":p().default("var(--ev-color-8)"),"--ev-page-footer-card-border-width":p().default("1px 1px 1px 1px"),"--ev-page-footer-card-border-style":p().default("none"),"--ev-page-footer-card-border-color":p().default("var(--ev-color-7)"),"--ev-page-footer-card-border-radius":p().default("6px 6px 6px 6px"),"--ev-page-footer-card-shadow":p().default("none"),"--ev-page-footer-card-padding-t":p().default("32px"),"--ev-page-footer-card-padding-b":p().default("32px"),"--ev-page-footer-card-padding-l":p().default("32px"),"--ev-page-footer-card-padding-r":p().default("32px"),"--ev-page-footer-card-padding-t-tablet":p().default("32px"),"--ev-page-footer-card-padding-b-tablet":p().default("32px"),"--ev-page-footer-card-padding-l-tablet":p().default("32px"),"--ev-page-footer-card-padding-r-tablet":p().default("32px"),"--ev-page-footer-card-padding-t-mobile":p().default("32px"),"--ev-page-footer-card-padding-b-mobile":p().default("32px"),"--ev-page-footer-card-padding-l-mobile":p().default("32px"),"--ev-page-footer-card-padding-r-mobile":p().default("32px"),"--ev-page-footer-card-gap":p().default("12px"),"--ev-page-footer-card-gap-tablet":p().default("12px"),"--ev-page-footer-card-gap-mobile":p().default("12px"),"--ev-dialog-background-color":p().default("var(--ev-color-2)"),"--ev-dialog-text-color":p().default("var(--ev-color-1)"),"--ev-dialog-overlay-color":p().default("#03071299"),"--ev-dialog-border-width":p().default("1px"),"--ev-dialog-border-style":p().default("none"),"--ev-dialog-border-color":p().default("var(--ev-color-7)"),"--ev-dialog-shadow":p().default("0px 4px 15px 2px #00000026"),"--ev-dialog-border-radius":p().default("6px 6px 6px 6px"),"--ev-dialog-padding-t":p().default("48px"),"--ev-dialog-padding-b":p().default("48px"),"--ev-dialog-padding-l":p().default("48px"),"--ev-dialog-padding-r":p().default("48px"),"--ev-dialog-padding-t-tablet":p().default("48px"),"--ev-dialog-padding-b-tablet":p().default("48px"),"--ev-dialog-padding-l-tablet":p().default("48px"),"--ev-dialog-padding-r-tablet":p().default("48px"),"--ev-dialog-padding-t-mobile":p().default("48px"),"--ev-dialog-padding-b-mobile":p().default("48px"),"--ev-dialog-padding-l-mobile":p().default("48px"),"--ev-dialog-padding-r-mobile":p().default("48px"),"--ev-dialog-gap":p().default("24px"),"--ev-dialog-gap-tablet":p().default("24px"),"--ev-dialog-gap-mobile":p().default("24px"),"--ev-dialog-button-background-color":p().optional(),"--ev-dialog-button-text-color":p().optional(),"--ev-loading-spinner-color":p().default("var(--ev-color-1)"),"--ev-focus-outline-color":p().default("#3168F6"),"--ev-focus-outline-width":p().default("2px"),"--ev-focus-outline-secondary-color":p().default("var(--ev-color-2)"),"--ev-tooltip-background-color":p().default("var(--ev-color-1)"),"--ev-tooltip-text-color":p().default("var(--ev-color-2)"),"--ev-tooltip-label":p().default("ev-label-caption"),"--ev-tooltip-border-width":p().default("1px 1px 1px 1px"),"--ev-tooltip-border-style":p().default("none"),"--ev-tooltip-border-color":p().default("var(--ev-color-7)"),"--ev-tooltip-border-radius":p().default("4px 4px 4px 4px"),"--ev-tooltip-shadow":p().default("none"),"--ev-tooltip-spacing-y":p().default("2px"),"--ev-tooltip-spacing-x":p().default("4px"),"--ev-accordion-item-button-background-color":p().optional(),"--ev-accordion-item-button-color":p().default("var(--ev-color-2)"),"--ev-accordion-item-button-label":p().default("ev-label-heading6"),"--ev-accordion-item-button-border-style":p().default("none"),"--ev-accordion-item-button-border-color":p().default("var(--ev-color-7)"),"--ev-accordion-item-button-border-width":p().default("1px 1px 1px 1px"),"--ev-accordion-item-button-shadow":p().default("none"),"--ev-accordion-item-button-hover":p().default("var(--ev-hover-darken)"),"--ev-accordion-item-button-border-radius":p().default("6px 6px 6px 6px"),"--ev-accordion-item-button-spacing-x":p().default("24px"),"--ev-accordion-item-button-spacing-y":p().default("18px"),"--ev-accordion-item-button-spacing-x-tablet":p().default("24px"),"--ev-accordion-item-button-spacing-y-tablet":p().default("18px"),"--ev-accordion-item-button-spacing-x-mobile":p().default("12px"),"--ev-accordion-item-button-spacing-y-mobile":p().default("18px"),"--ev-accordion-item-button-gap":p().default("8px"),"--ev-accordion-item-gap":p().default("4px"),"--ev-accordion-item-gap-tablet":p().default("4px"),"--ev-accordion-item-gap-mobile":p().default("4px"),"--ev-accordion-item-content-background-color":p().optional(),"--ev-accordion-item-content-color":p().optional(),"--ev-accordion-item-content-border-style":p().default("solid"),"--ev-accordion-item-content-border-color":p().default("var(--ev-color-7)"),"--ev-accordion-item-content-border-width":p().default("0px 1px 1px 1px"),"--ev-accordion-item-content-border-radius":p().default("0px 0px 6px 6px"),"--ev-accordion-item-content-spacing-x":p().default("24px"),"--ev-accordion-item-content-spacing-y":p().default("24px"),"--ev-accordion-item-content-spacing-x-tablet":p().default("24px"),"--ev-accordion-item-content-spacing-y-tablet":p().default("24px"),"--ev-accordion-item-content-spacing-x-mobile":p().default("12px"),"--ev-accordion-item-content-spacing-y-mobile":p().default("24px"),"--ev-assessment-details-heading-text-label":p().default("ev-label-heading5"),"--ev-assessment-details-heading-text-color":p().default("var(--ev-color-1)"),"--ev-assessment-details-detail-icon-color":p().default("var(--ev-color-3)"),"--ev-assessment-details-detail-text-label":p().default("ev-label-paragraph"),"--ev-assessment-details-detail-text-color":p().default("var(--ev-color-1)"),"--ev-assessment-score-progress-foreground-color":p().default("var(--ev-color-2)"),"--ev-assessment-score-progress-background-color":p().default("var(--ev-color-9)"),"--ev-assessment-score-progress-label-color":p().default("var(--ev-color-2)"),"--ev-assessment-score-message-color":p().default("var(--ev-color-2)"),"--ev-assessment-overview-heading-text-label":p().default("ev-label-heading5"),"--ev-assessment-overview-heading-text-color":p().default("var(--ev-color-1)"),"--ev-assessment-overview-stat-text-label":p().default("ev-label-heading5"),"--ev-assessment-overview-stat-text-color":p().default("var(--ev-color-3)"),"--ev-assessment-overview-subtitle-text-label":p().default("ev-label-paragraph"),"--ev-assessment-overview-subtitle-text-color":p().default("var(--ev-color-1)"),"--ev-button-background-color":p().optional(),"--ev-button-text-color":p().default("var(--ev-color-2)"),"--ev-button-label":p().default("ev-label-heading6"),"--ev-button-border-style":p().default("none"),"--ev-button-border-color":p().default("var(--ev-color-3)"),"--ev-button-border-width":p().default("1px 1px 1px 1px"),"--ev-button-shadow":p().default("none"),"--ev-button-hover":p().default("var(--ev-hover-darken)"),"--ev-button-border-radius":p().default("6px 6px 6px 6px"),"--ev-button-spacing-x":p().default("32px"),"--ev-button-spacing-y":p().default("16px"),"--ev-button-spacing-x-tablet":p().default("32px"),"--ev-button-spacing-y-tablet":p().default("16px"),"--ev-button-spacing-x-mobile":p().default("32px"),"--ev-button-spacing-y-mobile":p().default("16px"),"--ev-card-drop-item-background-color":p().default("var(--ev-color-2)"),"--ev-card-drop-item-text-color":p().default("var(--ev-color-1)"),"--ev-card-drop-item-label":p().default("ev-label-paragraph"),"--ev-card-drop-item-drag-icon-display":p().default("block"),"--ev-card-drop-item-drag-icon-color":p().default("var(--ev-color-1)"),"--ev-card-drop-item-border-style":p().default("solid"),"--ev-card-drop-item-border-color":p().default("var(--ev-color-7)"),"--ev-card-drop-item-border-width":p().default("1px 1px 1px 1px"),"--ev-card-drop-item-border-radius":p().default("6px 6px 6px 6px"),"--ev-card-drop-item-shadow":p().default("0px 2px 8px 0px #00000026"),"--ev-card-drop-item-spacing-x":p().default("12px"),"--ev-card-drop-item-spacing-y":p().default("12px"),"--ev-card-drop-item-spacing-x-tablet":p().default("12px"),"--ev-card-drop-item-spacing-y-tablet":p().default("12px"),"--ev-card-drop-item-spacing-x-mobile":p().default("12px"),"--ev-card-drop-item-spacing-y-mobile":p().default("12px"),"--ev-card-drop-item-border-color-dragging":p().default("var(--ev-color-3)"),"--ev-card-drop-item-border-color-correct":p().default("var(--ev-color-4)"),"--ev-card-drop-item-border-color-incorrect":p().default("var(--ev-color-5)"),"--ev-card-drop-zone-background-color":p().default("var(--ev-color-3)"),"--ev-card-drop-zone-text-color":p().default("var(--ev-color-2)"),"--ev-card-drop-zone-label":p().default("ev-label-paragraph"),"--ev-card-drop-zone-border-style":p().default("none"),"--ev-card-drop-zone-border-color":p().optional(),"--ev-card-drop-zone-border-width":p().default("0px 0px 0px 0px"),"--ev-card-drop-zone-border-radius":p().default("6px 6px 6px 6px"),"--ev-card-drop-zone-shadow":p().default("none"),"--ev-card-drop-zone-hover":p().default("var(--ev-hover-darken)"),"--ev-card-drop-question-text-color":p().optional(),"--ev-card-drop-attempts-text-color":p().optional(),"--ev-card-drop-feedback-text-color":p().optional(),"--ev-checklist-item-background-color":p().optional(),"--ev-checklist-item-icon-color":p().default("var(--ev-color-3)"),"--ev-checklist-item-text-color":p().default("var(--ev-color-1)"),"--ev-checklist-item-label":p().default("ev-label-heading6"),"--ev-checklist-item-hover":p().default("var(--ev-hover-darken)"),"--ev-checklist-item-icon-size":p().default("24px"),"--ev-checklist-item-icon-alignment":p().default("center"),"--ev-checklist-item-border-style":p().default("none"),"--ev-checklist-item-border-color":p().default("var(--ev-color-7)"),"--ev-checklist-item-border-width":p().default("1px 1px 1px 1px"),"--ev-checklist-item-shadow":p().default("none"),"--ev-checklist-item-border-radius":p().default("0px 0px 0px 0px"),"--ev-checklist-item-spacing-x":p().default("12px"),"--ev-checklist-item-spacing-y":p().default("12px"),"--ev-checklist-item-spacing-x-tablet":p().default("12px"),"--ev-checklist-item-spacing-y-tablet":p().default("12px"),"--ev-checklist-item-spacing-x-mobile":p().default("12px"),"--ev-checklist-item-spacing-y-mobile":p().default("12px"),"--ev-checklist-item-gap":p().default("8px"),"--ev-checklist-items-gap-tablet":p().default("8px"),"--ev-checklist-items-gap-mobile":p().default("8px"),"--ev-checklist-items-gap":p().default("8px"),"--ev-checklist-instruction-text-color":p().optional(),"--ev-checklist-feedback-text-color":p().optional(),"--ev-code-background-color":p().default("var(--ev-color-8)"),"--ev-code-text-color":p().default("var(--ev-color-1)"),"--ev-flipcard-item-front-background-color":p().optional(),"--ev-flipcard-item-front-text-color":p().optional(),"--ev-flipcard-item-back-background-color":p().optional(),"--ev-flipcard-item-back-text-color":p().optional(),"--ev-flipcard-item-border-style":p().default("none"),"--ev-flipcard-item-border-color":p().default("var(--ev-color-7)"),"--ev-flipcard-item-border-width":p().default("1px 1px 1px 1px"),"--ev-flipcard-item-border-radius":p().default("6px 6px 6px 6px"),"--ev-flipcard-item-shadow":p().default("none"),"--ev-flipcard-item-content-spacing-x":p().default("12px"),"--ev-flipcard-item-content-spacing-y":p().default("12px"),"--ev-flipcard-item-content-spacing-x-tablet":p().default("12px"),"--ev-flipcard-item-content-spacing-y-tablet":p().default("12px"),"--ev-flipcard-item-content-spacing-x-mobile":p().default("8px"),"--ev-flipcard-item-content-spacing-y-mobile":p().default("8px"),"--ev-flipcard-item-text-alignment":p().default("middle"),"--ev-flipcard-item-flex-direction":p().default("column"),"--ev-flipcard-item-button-display":p().default("flex"),"--ev-hotgraphic-hotspot-background-color":p().default("var(--ev-color-2)"),"--ev-hotgraphic-hotspot-icon-color":p().default("var(--ev-color-3)"),"--ev-hotgraphic-hotspot-button-hover":p().default("var(--ev-hover-darken)"),"--ev-hotgraphic-hotspot-border-style":p().default("none"),"--ev-hotgraphic-hotspot-border-color":p().default("var(--ev-color-2)"),"--ev-hotgraphic-hotspot-border-width":p().default("1px 1px 1px 1px"),"--ev-hotgraphic-hotspot-shadow":p().default("none"),"--ev-hotgraphic-hotspot-selected-background-color":p().default("var(--ev-color-3)"),"--ev-hotgraphic-hotspot-selected-icon-color":p().default("var(--ev-color-2)"),"--ev-hotgraphic-hotspot-selected-border-color":p().default("var(--ev-color-2)"),"--ev-hotgraphic-content-popover-background-color":p().default("var(--ev-color-2)"),"--ev-hotgraphic-content-popover-color":p().default("var(--ev-color-1)"),"--ev-hotgraphic-content-popover-border-style":p().default("none"),"--ev-hotgraphic-content-popover-border-color":p().default("var(--ev-color-8)"),"--ev-hotgraphic-content-popover-border-width":p().default("1px 1px 1px 1px"),"--ev-hotgraphic-content-popover-border-radius":p().default("6px 6px 6px 6px"),"--ev-hotgraphic-content-popover-shadow":p().default("0px 4px 15px 2px #00000026"),"--ev-hotgraphic-content-popover-spacing-x":p().default("24px"),"--ev-hotgraphic-content-popover-spacing-y":p().default("24px"),"--ev-hotgraphic-content-popover-spacing-x-tablet":p().default("24px"),"--ev-hotgraphic-content-popover-spacing-y-tablet":p().default("24px"),"--ev-hotgraphic-content-popover-spacing-x-mobile":p().default("12px"),"--ev-hotgraphic-content-popover-spacing-y-mobile":p().default("12px"),"--ev-hotgraphic-hotspot-animation":p().default("none"),"--ev-mcq-item-option-background-color":p().optional(),"--ev-mcq-item-option-color":p().default("var(--ev-color-2)"),"--ev-mcq-item-option-label":p().default("ev-label-heading6"),"--ev-mcq-item-option-border-width":p().default("1px 1px 1px 1px"),"--ev-mcq-item-option-border-style":p().default("none"),"--ev-mcq-item-option-border-color":p().default("var(--ev-color-7)"),"--ev-mcq-item-option-shadow":p().default("none"),"--ev-mcq-item-option-hover":p().default("var(--ev-hover-darken)"),"--ev-mcq-item-option-border-radius":p().default("6px 6px 6px 6px"),"--ev-mcq-item-option-spacing-x":p().default("24px"),"--ev-mcq-item-option-spacing-y":p().default("18px"),"--ev-mcq-item-option-spacing-x-tablet":p().default("24px"),"--ev-mcq-item-option-spacing-y-tablet":p().default("18px"),"--ev-mcq-item-option-spacing-x-mobile":p().default("12px"),"--ev-mcq-item-option-spacing-y-mobile":p().default("18px"),"--ev-mcq-item-option-gap":p().default("8px"),"--ev-mcq-item-gap":p().default("4px"),"--ev-mcq-item-gap-tablet":p().default("4px"),"--ev-mcq-item-gap-mobile":p().default("4px"),"--ev-mcq-item-disabled-option-background-color":p().optional(),"--ev-mcq-item-disabled-option-color":p().default("var(--ev-color-2)"),"--ev-mcq-item-disabled-option-border-color":p().default("var(--ev-color-2)"),"--ev-mcq-question-text-color":p().optional(),"--ev-mcq-attempts-text-color":p().optional(),"--ev-mcq-feedback-text-color":p().optional(),"--ev-mcq-no-selection-text-color":p().optional(),"--ev-mcq-no-selection-error-color":p().optional(),"--ev-media-controls-color":p().default("var(--ev-color-1)"),"--ev-media-controls-background-color":p().default("var(--ev-color-2)"),"--ev-media-big-play-background-color":p().default("var(--ev-color-2)"),"--ev-media-big-play-icon-color":p().default("var(--ev-color-3)"),"--ev-media-big-play-hover":p().default("var(--ev-hover-darken)"),"--ev-media-progress-background-color":p().default("var(--ev-color-6)"),"--ev-numberinput-input-background-color":p().default("var(--ev-color-2)"),"--ev-numberinput-input-text-color":p().default("var(--ev-color-1)"),"--ev-numberinput-input-text-style":p().default("ev-label-paragraph"),"--ev-numberinput-input-border-style":p().default("solid"),"--ev-numberinput-input-border-color":p().default("var(--ev-color-6)"),"--ev-numberinput-input-border-width":p().default("1px 1px 1px 1px"),"--ev-numberinput-input-border-radius":p().default("6px 6px 6px 6px"),"--ev-numberinput-input-shadow":p().default("none"),"--ev-numberinput-input-spacing-x":p().default("12px"),"--ev-numberinput-input-spacing-y":p().default("12px"),"--ev-numberinput-input-max-width":p().default("700px"),"--ev-numberinput-alignment":p().default("flex-start"),"--ev-numberinput-question-text-color":p().optional(),"--ev-numberinput-feedback-text-color":p().optional(),"--ev-process-background-color":p().optional(),"--ev-process-text-color":p().optional(),"--ev-process-progress-active":p().default("var(--ev-color-3)"),"--ev-process-progress-inactive":p().default("var(--ev-color-7)"),"--ev-process-item-border-style":p().default("none"),"--ev-process-item-border-color":p().default("var(--ev-color-7)"),"--ev-process-item-border-width":p().default("1px 1px 1px 1px"),"--ev-process-item-border-radius":p().default("6px 6px 6px 6px"),"--ev-process-item-shadow":p().default("0px 4px 15px 2px #00000026"),"--ev-process-item-content-spacing-x":p().default("24px"),"--ev-process-item-content-spacing-y":p().default("24px"),"--ev-process-item-content-spacing-x-tablet":p().default("24px"),"--ev-process-item-content-spacing-y-tablet":p().default("24px"),"--ev-process-item-content-spacing-x-mobile":p().default("12px"),"--ev-process-item-content-spacing-y-mobile":p().default("12px"),"--ev-process-item-gap":p().default("16px"),"--ev-process-item-gap-tablet":p().default("16px"),"--ev-process-item-gap-mobile":p().default("16px"),"--ev-section-indicator-background-color":p().default("var(--ev-color-2)"),"--ev-section-indicator-border-style":p().default("solid"),"--ev-section-indicator-border-color":p().default("var(--ev-color-2)"),"--ev-section-indicator-border-width":p().default("1px 1px 1px 1px"),"--ev-section-indicator-border-radius":p().default("24px 24px 24px 24px"),"--ev-section-indicator-shadow":p().default("0px 2px 8px 0px #00000026"),"--ev-section-indicator-spacing-x":p().default("12px"),"--ev-section-indicator-spacing-y":p().default("12px"),"--ev-section-indicator-spacing-x-tablet":p().default("12px"),"--ev-section-indicator-spacing-y-tablet":p().default("12px"),"--ev-section-indicator-gap":p().default("12px"),"--ev-section-indicator-gap-tablet":p().default("12px"),"--ev-section-indicator-dot-background-color":p().default("var(--ev-color-7)"),"--ev-section-indicator-dot-border-style":p().default("none"),"--ev-section-indicator-dot-border-color":p().default("var(--ev-color-7)"),"--ev-section-indicator-dot-border-width":p().default("1px 1px 1px 1px"),"--ev-section-indicator-dot-active-background-color":p().default("var(--ev-color-3)"),"--ev-section-indicator-dot-active-border-style":p().default("none"),"--ev-section-indicator-dot-active-border-color":p().default("var(--ev-color-3)"),"--ev-section-indicator-dot-active-border-width":p().default("1px 1px 1px 1px"),"--ev-sorting-item-background-color":p().optional(),"--ev-sorting-item-text-color":p().optional(),"--ev-sorting-item-label":p().default("ev-label-paragraph"),"--ev-sorting-item-drag-icon-display":p().default("block"),"--ev-sorting-item-drag-icon-color":p().optional(),"--ev-sorting-item-border-style":p().default("solid"),"--ev-sorting-item-border-color":p().default("var(--ev-color-7)"),"--ev-sorting-item-border-color-dragging":p().default("var(--ev-color-3)"),"--ev-sorting-item-border-width":p().default("1px 1px 1px 1px"),"--ev-sorting-item-border-radius":p().default("6px 6px 6px 6px"),"--ev-sorting-item-shadow":p().default("none"),"--ev-sorting-item-spacing-x":p().default("24px"),"--ev-sorting-item-spacing-y":p().default("18px"),"--ev-sorting-item-spacing-x-tablet":p().default("24px"),"--ev-sorting-item-spacing-y-tablet":p().default("18px"),"--ev-sorting-item-spacing-x-mobile":p().default("12px"),"--ev-sorting-item-spacing-y-mobile":p().default("18px"),"--ev-sorting-item-gap":p().default("4px"),"--ev-sorting-item-gap-tablet":p().default("4px"),"--ev-sorting-item-gap-mobile":p().default("4px"),"--ev-sorting-number-background-color":p().optional(),"--ev-sorting-number-text-color":p().optional(),"--ev-sorting-number-border-style":p().default("solid"),"--ev-sorting-number-border-color":p().default("var(--ev-color-7)"),"--ev-sorting-number-border-width":p().default("1px 1px 1px 1px"),"--ev-sorting-question-text-color":p().optional(),"--ev-sorting-attempts-text-color":p().optional(),"--ev-sorting-feedback-text-color":p().optional(),"--ev-tabs-item-button-background-color":p().optional(),"--ev-tabs-item-button-color":p().default("var(--ev-color-3)"),"--ev-tabs-item-button-label":p().default("ev-label-heading6"),"--ev-tabs-item-button-border-width":p().default("1px 1px 1px 1px"),"--ev-tabs-item-button-border-style":p().default("none"),"--ev-tabs-item-button-border-color":p().default("var(--ev-color-7)"),"--ev-tabs-item-button-shadow":p().default("none"),"--ev-tabs-item-button-hover":p().default("var(--ev-hover-darken)"),"--ev-tabs-item-button-border-radius":p().default("6px 6px 0px 0px"),"--ev-tabs-item-button-spacing-x":p().default("24px"),"--ev-tabs-item-button-spacing-y":p().default("18px"),"--ev-tabs-item-button-spacing-x-tablet":p().default("24px"),"--ev-tabs-item-button-spacing-y-tablet":p().default("18px"),"--ev-tabs-item-button-spacing-x-mobile":p().default("12px"),"--ev-tabs-item-button-spacing-y-mobile":p().default("18px"),"--ev-tabs-item-gap":p().default("0px"),"--ev-tabs-item-gap-tablet":p().default("0px"),"--ev-tabs-item-gap-mobile":p().default("0px"),"--ev-tabs-item-active-button-background-color":p().optional(),"--ev-tabs-item-active-button-color":p().default("var(--ev-color-3)"),"--ev-tabs-item-active-button-border-color":p().default("var(--ev-color-7)"),"--ev-tabs-item-content-background-color":p().optional(),"--ev-tabs-item-content-color":p().optional(),"--ev-tabs-item-content-border-width":p().default("1px 1px 1px 1px"),"--ev-tabs-item-content-border-style":p().default("solid"),"--ev-tabs-item-content-border-color":p().default("var(--ev-color-7)"),"--ev-tabs-item-content-border-radius":p().default("0px 0px 6px 6px"),"--ev-tabs-item-content-spacing-x":p().default("24px"),"--ev-tabs-item-content-spacing-y":p().default("24px"),"--ev-tabs-item-content-spacing-x-tablet":p().default("24px"),"--ev-tabs-item-content-spacing-y-tablet":p().default("24px"),"--ev-tabs-item-content-spacing-x-mobile":p().default("12px"),"--ev-tabs-item-content-spacing-y-mobile":p().default("24px"),"--ev-textinput-input-background-color":p().default("var(--ev-color-2)"),"--ev-textinput-input-text-color":p().default("var(--ev-color-1)"),"--ev-textinput-input-placeholder-color":p().default("var(--ev-color-6)"),"--ev-textinput-input-text-style":p().default("ev-label-paragraph"),"--ev-textinput-input-border-style":p().default("solid"),"--ev-textinput-input-border-color":p().default("var(--ev-color-6)"),"--ev-textinput-input-border-width":p().default("1px 1px 1px 1px"),"--ev-textinput-input-border-radius":p().default("6px 6px 6px 6px"),"--ev-textinput-input-shadow":p().default("none"),"--ev-textinput-input-spacing-x":p().default("12px"),"--ev-textinput-input-spacing-y":p().default("12px"),"--ev-textinput-input-max-width":p().default("700px"),"--ev-textinput-alignment":p().default("flex-start"),"--ev-textinput-question-text-color":p().optional(),"--ev-textinput-feedback-text-color":p().optional(),"--ev-typography-heading-font-family":p().default("Inter"),"--ev-typography-paragraph-font-family":p().default("Inter"),"--ev-header-background-color":p().default("var(--ev-color-2)"),"--ev-header-border-style":p().default("solid"),"--ev-header-border-color":p().default("var(--ev-color-7)"),"--ev-header-border-width":p().default("0px 0px 1px 0px"),"--ev-header-logo-alignment":p().default("center"),"--ev-header-border-radius":p().default("0px 0px 0px 0px"),"--ev-header-shadow":p().default("none"),"--ev-footer-background-color":p().default("var(--ev-color-2)"),"--ev-footer-text-color":p().default("var(--ev-color-1)"),"--ev-footer-border-style":p().default("solid"),"--ev-footer-border-color":p().default("var(--ev-color-7)"),"--ev-footer-border-width":p().default("1px 0px 0px 0px"),"--ev-footer-flex-direction":p().default("row"),"--ev-footer-border-radius":p().default("0px 0px 0px 0px"),"--ev-footer-shadow":p().default("none"),"--ev-footer-padding-t":p().default("12px"),"--ev-footer-padding-b":p().default("12px"),"--ev-footer-padding-l":p().default("24px"),"--ev-footer-padding-r":p().default("24px"),"--ev-footer-gap":p().default("12px")}),namedCustomVariables:Me({"--ev-color-1":Me({name:p().default("Color 1"),value:p().default("#393B3D")}),"--ev-color-2":Me({name:p().default("Color 2"),value:p().default("#FFFFFF")}),"--ev-color-3":Me({name:p().default("Color 3"),value:p().default("#4C0C4C")}),"--ev-color-4":Me({name:p().default("Color 4"),value:p().default("#26865E")}),"--ev-color-5":Me({name:p().default("Color 5"),value:p().default("#B01038")}),"--ev-color-6":Me({name:p().default("Color 6"),value:p().default("#6B7280")}),"--ev-color-7":Me({name:p().default("Color 7"),value:p().default("#E5E7EB")}),"--ev-color-8":Me({name:p().default("Color 8"),value:p().default("#F3F4F6")}),"--ev-color-9":Me({name:p().default("Color 9"),value:p().default("#FFFFFF80")}),"--ev-color-10":Me({name:p().default("Color 10"),value:p().default("#FFFFFF")}),"--ev-color-11":Me({name:p().default("Color 11"),value:p().default("#FFFFFF")}),"--ev-color-12":Me({name:p().default("Color 12"),value:p().default("#FFFFFF")}),"--ev-color-13":Me({name:p().default("Color 13"),value:p().default("#FFFFFF")}),"--ev-color-14":Me({name:p().default("Color 14"),value:p().default("#FFFFFF")}),"--ev-color-15":Me({name:p().default("Color 15"),value:p().default("#FFFFFF")})}),cards:Me({section:Ot(["ev-card-none","ev-card-solid","ev-card-shadow","ev-card-transparent"]).default("ev-card-none"),row:Ot(["ev-card-none","ev-card-solid","ev-card-shadow","ev-card-transparent"]).default("ev-card-none"),column:Ot(["ev-card-none","ev-card-solid","ev-card-shadow","ev-card-transparent"]).default("ev-card-none"),element:Ot(["ev-card-none","ev-card-solid","ev-card-shadow","ev-card-transparent"]).default("ev-card-none")}),permissions:jF,ownedBy:Dt.optional(),createdBy:Dt.optional(),fonts:Me({custom:Nn(p()),google:Nn(p()),system:Nn(p())}),footer:Me({isEnabled:zt().default(!1),logo:Me({media:io.nullable().optional()}).optional()}),animations:Me({page:Al,section:Al,row:Al,column:Al,element:Al}),assets:Nn(p()),header:Me({isEnabled:zt().default(!1),logo:Me({media:io.nullable().optional()}).optional()}),createdAt:Qn,updatedAt:Qn});Me({_id:p(),accountId:LD,label:p(),sectionStyle:p(),themeId:p(),variables:Me({"--ev-heading-color":p().optional(),"--ev-paragraph-color":p().optional(),"--ev-caption-color":p().optional(),"--ev-list-color":p().optional(),"--ev-link-color":p().optional(),"--ev-blockquote-color":p().optional(),"--ev-page-background-color":p().optional(),"--ev-section-background-color":p().optional(),"--ev-row-background-color":p().optional(),"--ev-column-background-color":p().optional(),"--ev-element-background-color":p().optional(),"--ev-success-color":p().optional(),"--ev-error-color":p().optional(),"--ev-inactive-color":p().optional(),"--ev-table-header-background-color":p().optional(),"--ev-table-text-color":p().optional(),"--ev-table-border-color":p().optional(),"--ev-typography-heading-font-weight":p().optional(),"--ev-typography-heading-line-height":p().optional(),"--ev-typography-heading-space-after":p().optional(),"--ev-typography-heading-space-after-tablet":p().optional(),"--ev-typography-heading-space-after-mobile":p().optional(),"--ev-typography-paragraph-font-weight":p().optional(),"--ev-typography-paragraph-line-height":p().optional(),"--ev-typography-paragraph-space-after":p().optional(),"--ev-typography-paragraph-space-after-tablet":p().optional(),"--ev-typography-paragraph-space-after-mobile":p().optional(),"--ev-typography-heading1-fontSize":p().optional(),"--ev-typography-heading1-fontSize-tablet":p().optional(),"--ev-typography-heading1-fontSize-mobile":p().optional(),"--ev-typography-heading2-fontSize":p().optional(),"--ev-typography-heading2-fontSize-tablet":p().optional(),"--ev-typography-heading2-fontSize-mobile":p().optional(),"--ev-typography-heading3-fontSize":p().optional(),"--ev-typography-heading3-fontSize-tablet":p().optional(),"--ev-typography-heading3-fontSize-mobile":p().optional(),"--ev-typography-heading4-fontSize":p().optional(),"--ev-typography-heading4-fontSize-tablet":p().optional(),"--ev-typography-heading4-fontSize-mobile":p().optional(),"--ev-typography-heading5-fontSize":p().optional(),"--ev-typography-heading5-fontSize-tablet":p().optional(),"--ev-typography-heading5-fontSize-mobile":p().optional(),"--ev-typography-heading6-fontSize":p().optional(),"--ev-typography-heading6-fontSize-tablet":p().optional(),"--ev-typography-heading6-fontSize-mobile":p().optional(),"--ev-typography-paragraph-fontSize":p().optional(),"--ev-typography-paragraph-fontSize-tablet":p().optional(),"--ev-typography-paragraph-fontSize-mobile":p().optional(),"--ev-typography-caption-fontSize":p().optional(),"--ev-typography-caption-fontSize-tablet":p().optional(),"--ev-typography-caption-fontSize-mobile":p().optional(),"--ev-typography-list-fontSize":p().optional(),"--ev-typography-list-fontSize-tablet":p().optional(),"--ev-typography-list-fontSize-mobile":p().optional(),"--ev-typography-blockquote-fontSize":p().optional(),"--ev-typography-blockquote-fontSize-tablet":p().optional(),"--ev-typography-blockquote-fontSize-mobile":p().optional(),"--ev-typography-heading1-letter-spacing":p().optional(),"--ev-typography-heading2-letter-spacing":p().optional(),"--ev-typography-heading3-letter-spacing":p().optional(),"--ev-typography-heading4-letter-spacing":p().optional(),"--ev-typography-heading5-letter-spacing":p().optional(),"--ev-typography-heading6-letter-spacing":p().optional(),"--ev-typography-paragraph-letter-spacing":p().optional(),"--ev-typography-caption-letter-spacing":p().optional(),"--ev-typography-list-letter-spacing":p().optional(),"--ev-typography-blockquote-letter-spacing":p().optional(),"--ev-typography-heading1-text-transform":p().optional(),"--ev-typography-heading2-text-transform":p().optional(),"--ev-typography-heading3-text-transform":p().optional(),"--ev-typography-heading4-text-transform":p().optional(),"--ev-typography-heading5-text-transform":p().optional(),"--ev-typography-heading6-text-transform":p().optional(),"--ev-typography-paragraph-text-transform":p().optional(),"--ev-typography-caption-text-transform":p().optional(),"--ev-typography-list-text-transform":p().optional(),"--ev-typography-blockquote-text-transform":p().optional(),"--ev-content-max-width":p().optional(),"--ev-section-padding-t":p().optional(),"--ev-section-padding-b":p().optional(),"--ev-section-padding-l":p().optional(),"--ev-section-padding-r":p().optional(),"--ev-section-padding-t-tablet":p().optional(),"--ev-section-padding-b-tablet":p().optional(),"--ev-section-padding-l-tablet":p().optional(),"--ev-section-padding-r-tablet":p().optional(),"--ev-section-padding-t-mobile":p().optional(),"--ev-section-padding-b-mobile":p().optional(),"--ev-section-padding-l-mobile":p().optional(),"--ev-section-padding-r-mobile":p().optional(),"--ev-row-padding-t":p().optional(),"--ev-row-padding-b":p().optional(),"--ev-row-padding-l":p().optional(),"--ev-row-padding-r":p().optional(),"--ev-row-padding-t-tablet":p().optional(),"--ev-row-padding-b-tablet":p().optional(),"--ev-row-padding-l-tablet":p().optional(),"--ev-row-padding-r-tablet":p().optional(),"--ev-row-padding-t-mobile":p().optional(),"--ev-row-padding-b-mobile":p().optional(),"--ev-row-padding-l-mobile":p().optional(),"--ev-row-padding-r-mobile":p().optional(),"--ev-column-padding-t":p().optional(),"--ev-column-padding-b":p().optional(),"--ev-column-padding-l":p().optional(),"--ev-column-padding-r":p().optional(),"--ev-column-padding-t-tablet":p().optional(),"--ev-column-padding-b-tablet":p().optional(),"--ev-column-padding-l-tablet":p().optional(),"--ev-column-padding-r-tablet":p().optional(),"--ev-column-padding-t-mobile":p().optional(),"--ev-column-padding-b-mobile":p().optional(),"--ev-column-padding-l-mobile":p().optional(),"--ev-column-padding-r-mobile":p().optional(),"--ev-element-padding-t":p().optional(),"--ev-element-padding-b":p().optional(),"--ev-element-padding-l":p().optional(),"--ev-element-padding-r":p().optional(),"--ev-element-padding-t-tablet":p().optional(),"--ev-element-padding-b-tablet":p().optional(),"--ev-element-padding-l-tablet":p().optional(),"--ev-element-padding-r-tablet":p().optional(),"--ev-element-padding-t-mobile":p().optional(),"--ev-element-padding-b-mobile":p().optional(),"--ev-element-padding-l-mobile":p().optional(),"--ev-element-padding-r-mobile":p().optional(),"--ev-section-gap":p().optional(),"--ev-section-gap-tablet":p().optional(),"--ev-section-gap-mobile":p().optional(),"--ev-row-gap":p().optional(),"--ev-row-gap-tablet":p().optional(),"--ev-row-gap-mobile":p().optional(),"--ev-column-gap":p().optional(),"--ev-column-gap-tablet":p().optional(),"--ev-column-gap-mobile":p().optional(),"--ev-element-gap":p().optional(),"--ev-element-gap-tablet":p().optional(),"--ev-element-gap-mobile":p().optional(),"--ev-card-solid-background-color":p().optional(),"--ev-card-solid-border-width":p().optional(),"--ev-card-solid-border-style":p().optional(),"--ev-card-solid-border-color":p().optional(),"--ev-card-solid-shadow":p().optional(),"--ev-card-solid-border-radius":p().optional(),"--ev-card-solid-padding-t":p().optional(),"--ev-card-solid-padding-b":p().optional(),"--ev-card-solid-padding-l":p().optional(),"--ev-card-solid-padding-r":p().optional(),"--ev-card-solid-padding-t-tablet":p().optional(),"--ev-card-solid-padding-b-tablet":p().optional(),"--ev-card-solid-padding-l-tablet":p().optional(),"--ev-card-solid-padding-r-tablet":p().optional(),"--ev-card-solid-padding-t-mobile":p().optional(),"--ev-card-solid-padding-b-mobile":p().optional(),"--ev-card-solid-padding-l-mobile":p().optional(),"--ev-card-solid-padding-r-mobile":p().optional(),"--ev-card-solid-gap-t":p().optional(),"--ev-card-solid-gap-b":p().optional(),"--ev-card-solid-gap-l":p().optional(),"--ev-card-solid-gap-r":p().optional(),"--ev-card-solid-gap-t-tablet":p().optional(),"--ev-card-solid-gap-b-tablet":p().optional(),"--ev-card-solid-gap-l-tablet":p().optional(),"--ev-card-solid-gap-r-tablet":p().optional(),"--ev-card-solid-gap-t-mobile":p().optional(),"--ev-card-solid-gap-b-mobile":p().optional(),"--ev-card-solid-gap-l-mobile":p().optional(),"--ev-card-solid-gap-r-mobile":p().optional(),"--ev-card-shadow-background-color":p().optional(),"--ev-card-shadow-border-width":p().optional(),"--ev-card-shadow-border-style":p().optional(),"--ev-card-shadow-border-color":p().optional(),"--ev-card-shadow-shadow":p().optional(),"--ev-card-shadow-border-radius":p().optional(),"--ev-card-shadow-padding-t":p().optional(),"--ev-card-shadow-padding-b":p().optional(),"--ev-card-shadow-padding-l":p().optional(),"--ev-card-shadow-padding-r":p().optional(),"--ev-card-shadow-padding-t-tablet":p().optional(),"--ev-card-shadow-padding-b-tablet":p().optional(),"--ev-card-shadow-padding-l-tablet":p().optional(),"--ev-card-shadow-padding-r-tablet":p().optional(),"--ev-card-shadow-padding-t-mobile":p().optional(),"--ev-card-shadow-padding-b-mobile":p().optional(),"--ev-card-shadow-padding-l-mobile":p().optional(),"--ev-card-shadow-padding-r-mobile":p().optional(),"--ev-card-shadow-gap-t":p().optional(),"--ev-card-shadow-gap-b":p().optional(),"--ev-card-shadow-gap-l":p().optional(),"--ev-card-shadow-gap-r":p().optional(),"--ev-card-shadow-gap-t-tablet":p().optional(),"--ev-card-shadow-gap-b-tablet":p().optional(),"--ev-card-shadow-gap-l-tablet":p().optional(),"--ev-card-shadow-gap-r-tablet":p().optional(),"--ev-card-shadow-gap-t-mobile":p().optional(),"--ev-card-shadow-gap-b-mobile":p().optional(),"--ev-card-shadow-gap-l-mobile":p().optional(),"--ev-card-shadow-gap-r-mobile":p().optional(),"--ev-card-transparent-background-color":p().optional(),"--ev-card-transparent-border-width":p().optional(),"--ev-card-transparent-border-style":p().optional(),"--ev-card-transparent-border-color":p().optional(),"--ev-card-transparent-shadow":p().optional(),"--ev-card-transparent-border-radius":p().optional(),"--ev-card-transparent-padding-t":p().optional(),"--ev-card-transparent-padding-b":p().optional(),"--ev-card-transparent-padding-l":p().optional(),"--ev-card-transparent-padding-r":p().optional(),"--ev-card-transparent-padding-t-tablet":p().optional(),"--ev-card-transparent-padding-b-tablet":p().optional(),"--ev-card-transparent-padding-l-tablet":p().optional(),"--ev-card-transparent-padding-r-tablet":p().optional(),"--ev-card-transparent-padding-t-mobile":p().optional(),"--ev-card-transparent-padding-b-mobile":p().optional(),"--ev-card-transparent-padding-l-mobile":p().optional(),"--ev-card-transparent-padding-r-mobile":p().optional(),"--ev-card-transparent-gap-t":p().optional(),"--ev-card-transparent-gap-b":p().optional(),"--ev-card-transparent-gap-l":p().optional(),"--ev-card-transparent-gap-r":p().optional(),"--ev-card-transparent-gap-t-tablet":p().optional(),"--ev-card-transparent-gap-b-tablet":p().optional(),"--ev-card-transparent-gap-l-tablet":p().optional(),"--ev-card-transparent-gap-r-tablet":p().optional(),"--ev-card-transparent-gap-t-mobile":p().optional(),"--ev-card-transparent-gap-b-mobile":p().optional(),"--ev-card-transparent-gap-l-mobile":p().optional(),"--ev-card-transparent-gap-r-mobile":p().optional(),"--ev-course-outline-background-color":p().optional(),"--ev-course-outline-text-color":p().optional(),"--ev-course-outline-border-color":p().optional(),"--ev-course-outline-item-active-color":p().optional(),"--ev-course-outline-item-icon-color":p().optional(),"--ev-course-outline-progress-foreground-color":p().optional(),"--ev-course-outline-progress-background-color":p().optional(),"--ev-scroll-progress-background-color":p().optional(),"--ev-scroll-progress-progress-color":p().optional(),"--ev-page-footer-background-color":p().optional(),"--ev-page-footer-text-color":p().optional(),"--ev-page-footer-next-label":p().optional(),"--ev-page-footer-next-page-title-label":p().optional(),"--ev-page-footer-next-button-background-color":p().optional(),"--ev-page-footer-next-button-color":p().optional(),"--ev-page-footer-next-button-hover":p().optional(),"--ev-page-footer-next-button-width":p().optional(),"--ev-page-footer-border-width":p().optional(),"--ev-page-footer-border-style":p().optional(),"--ev-page-footer-border-color":p().optional(),"--ev-page-footer-padding-t":p().optional(),"--ev-page-footer-padding-b":p().optional(),"--ev-page-footer-padding-l":p().optional(),"--ev-page-footer-padding-r":p().optional(),"--ev-page-footer-padding-t-tablet":p().optional(),"--ev-page-footer-padding-b-tablet":p().optional(),"--ev-page-footer-padding-l-tablet":p().optional(),"--ev-page-footer-padding-r-tablet":p().optional(),"--ev-page-footer-padding-t-mobile":p().optional(),"--ev-page-footer-padding-b-mobile":p().optional(),"--ev-page-footer-padding-l-mobile":p().optional(),"--ev-page-footer-padding-r-mobile":p().optional(),"--ev-page-footer-card-background-color":p().optional(),"--ev-page-footer-card-border-width":p().optional(),"--ev-page-footer-card-border-style":p().optional(),"--ev-page-footer-card-border-color":p().optional(),"--ev-page-footer-card-border-radius":p().optional(),"--ev-page-footer-card-shadow":p().optional(),"--ev-page-footer-card-padding-t":p().optional(),"--ev-page-footer-card-padding-b":p().optional(),"--ev-page-footer-card-padding-l":p().optional(),"--ev-page-footer-card-padding-r":p().optional(),"--ev-page-footer-card-padding-t-tablet":p().optional(),"--ev-page-footer-card-padding-b-tablet":p().optional(),"--ev-page-footer-card-padding-l-tablet":p().optional(),"--ev-page-footer-card-padding-r-tablet":p().optional(),"--ev-page-footer-card-padding-t-mobile":p().optional(),"--ev-page-footer-card-padding-b-mobile":p().optional(),"--ev-page-footer-card-padding-l-mobile":p().optional(),"--ev-page-footer-card-padding-r-mobile":p().optional(),"--ev-page-footer-card-gap":p().optional(),"--ev-page-footer-card-gap-tablet":p().optional(),"--ev-page-footer-card-gap-mobile":p().optional(),"--ev-dialog-background-color":p().optional(),"--ev-dialog-text-color":p().optional(),"--ev-dialog-overlay-color":p().optional(),"--ev-dialog-border-width":p().optional(),"--ev-dialog-border-style":p().optional(),"--ev-dialog-border-color":p().optional(),"--ev-dialog-shadow":p().optional(),"--ev-dialog-border-radius":p().optional(),"--ev-dialog-padding-t":p().optional(),"--ev-dialog-padding-b":p().optional(),"--ev-dialog-padding-l":p().optional(),"--ev-dialog-padding-r":p().optional(),"--ev-dialog-padding-t-tablet":p().optional(),"--ev-dialog-padding-b-tablet":p().optional(),"--ev-dialog-padding-l-tablet":p().optional(),"--ev-dialog-padding-r-tablet":p().optional(),"--ev-dialog-padding-t-mobile":p().optional(),"--ev-dialog-padding-b-mobile":p().optional(),"--ev-dialog-padding-l-mobile":p().optional(),"--ev-dialog-padding-r-mobile":p().optional(),"--ev-dialog-gap":p().optional(),"--ev-dialog-gap-tablet":p().optional(),"--ev-dialog-gap-mobile":p().optional(),"--ev-dialog-button-background-color":p().optional(),"--ev-dialog-button-text-color":p().optional(),"--ev-loading-spinner-color":p().optional(),"--ev-focus-outline-color":p().optional(),"--ev-focus-outline-width":p().optional(),"--ev-focus-outline-secondary-color":p().optional(),"--ev-tooltip-background-color":p().optional(),"--ev-tooltip-text-color":p().optional(),"--ev-tooltip-label":p().optional(),"--ev-tooltip-border-width":p().optional(),"--ev-tooltip-border-style":p().optional(),"--ev-tooltip-border-color":p().optional(),"--ev-tooltip-border-radius":p().optional(),"--ev-tooltip-shadow":p().optional(),"--ev-tooltip-spacing-y":p().optional(),"--ev-tooltip-spacing-x":p().optional(),"--ev-accordion-item-button-background-color":p().optional(),"--ev-accordion-item-button-color":p().optional(),"--ev-accordion-item-button-label":p().optional(),"--ev-accordion-item-button-border-style":p().optional(),"--ev-accordion-item-button-border-color":p().optional(),"--ev-accordion-item-button-border-width":p().optional(),"--ev-accordion-item-button-shadow":p().optional(),"--ev-accordion-item-button-hover":p().optional(),"--ev-accordion-item-button-border-radius":p().optional(),"--ev-accordion-item-button-spacing-x":p().optional(),"--ev-accordion-item-button-spacing-y":p().optional(),"--ev-accordion-item-button-spacing-x-tablet":p().optional(),"--ev-accordion-item-button-spacing-y-tablet":p().optional(),"--ev-accordion-item-button-spacing-x-mobile":p().optional(),"--ev-accordion-item-button-spacing-y-mobile":p().optional(),"--ev-accordion-item-button-gap":p().optional(),"--ev-accordion-item-gap":p().optional(),"--ev-accordion-item-gap-tablet":p().optional(),"--ev-accordion-item-gap-mobile":p().optional(),"--ev-accordion-item-content-background-color":p().optional(),"--ev-accordion-item-content-color":p().optional(),"--ev-accordion-item-content-border-style":p().optional(),"--ev-accordion-item-content-border-color":p().optional(),"--ev-accordion-item-content-border-width":p().optional(),"--ev-accordion-item-content-border-radius":p().optional(),"--ev-accordion-item-content-spacing-x":p().optional(),"--ev-accordion-item-content-spacing-y":p().optional(),"--ev-accordion-item-content-spacing-x-tablet":p().optional(),"--ev-accordion-item-content-spacing-y-tablet":p().optional(),"--ev-accordion-item-content-spacing-x-mobile":p().optional(),"--ev-accordion-item-content-spacing-y-mobile":p().optional(),"--ev-assessment-details-heading-text-label":p().optional(),"--ev-assessment-details-heading-text-color":p().optional(),"--ev-assessment-details-detail-icon-color":p().optional(),"--ev-assessment-details-detail-text-label":p().optional(),"--ev-assessment-details-detail-text-color":p().optional(),"--ev-assessment-score-progress-foreground-color":p().optional(),"--ev-assessment-score-progress-background-color":p().optional(),"--ev-assessment-score-progress-label-color":p().optional(),"--ev-assessment-score-message-color":p().optional(),"--ev-assessment-overview-heading-text-label":p().optional(),"--ev-assessment-overview-heading-text-color":p().optional(),"--ev-assessment-overview-stat-text-label":p().optional(),"--ev-assessment-overview-stat-text-color":p().optional(),"--ev-assessment-overview-subtitle-text-label":p().optional(),"--ev-assessment-overview-subtitle-text-color":p().optional(),"--ev-button-background-color":p().optional(),"--ev-button-text-color":p().optional(),"--ev-button-label":p().optional(),"--ev-button-border-style":p().optional(),"--ev-button-border-color":p().optional(),"--ev-button-border-width":p().optional(),"--ev-button-shadow":p().optional(),"--ev-button-hover":p().optional(),"--ev-button-border-radius":p().optional(),"--ev-button-spacing-x":p().optional(),"--ev-button-spacing-y":p().optional(),"--ev-button-spacing-x-tablet":p().optional(),"--ev-button-spacing-y-tablet":p().optional(),"--ev-button-spacing-x-mobile":p().optional(),"--ev-button-spacing-y-mobile":p().optional(),"--ev-card-drop-item-background-color":p().optional(),"--ev-card-drop-item-text-color":p().optional(),"--ev-card-drop-item-label":p().optional(),"--ev-card-drop-item-drag-icon-display":p().optional(),"--ev-card-drop-item-drag-icon-color":p().optional(),"--ev-card-drop-item-border-style":p().optional(),"--ev-card-drop-item-border-color":p().optional(),"--ev-card-drop-item-border-width":p().optional(),"--ev-card-drop-item-border-radius":p().optional(),"--ev-card-drop-item-shadow":p().optional(),"--ev-card-drop-item-spacing-x":p().optional(),"--ev-card-drop-item-spacing-y":p().optional(),"--ev-card-drop-item-spacing-x-tablet":p().optional(),"--ev-card-drop-item-spacing-y-tablet":p().optional(),"--ev-card-drop-item-spacing-x-mobile":p().optional(),"--ev-card-drop-item-spacing-y-mobile":p().optional(),"--ev-card-drop-item-border-color-dragging":p().optional(),"--ev-card-drop-item-border-color-correct":p().optional(),"--ev-card-drop-item-border-color-incorrect":p().optional(),"--ev-card-drop-zone-background-color":p().optional(),"--ev-card-drop-zone-text-color":p().optional(),"--ev-card-drop-zone-label":p().optional(),"--ev-card-drop-zone-border-style":p().optional(),"--ev-card-drop-zone-border-color":p().optional(),"--ev-card-drop-zone-border-width":p().optional(),"--ev-card-drop-zone-border-radius":p().optional(),"--ev-card-drop-zone-shadow":p().optional(),"--ev-card-drop-zone-hover":p().optional(),"--ev-card-drop-question-text-color":p().optional(),"--ev-card-drop-attempts-text-color":p().optional(),"--ev-card-drop-feedback-text-color":p().optional(),"--ev-checklist-item-background-color":p().optional(),"--ev-checklist-item-icon-color":p().optional(),"--ev-checklist-item-text-color":p().optional(),"--ev-checklist-item-label":p().optional(),"--ev-checklist-item-hover":p().optional(),"--ev-checklist-item-icon-size":p().optional(),"--ev-checklist-item-icon-alignment":p().optional(),"--ev-checklist-item-border-style":p().optional(),"--ev-checklist-item-border-color":p().optional(),"--ev-checklist-item-border-width":p().optional(),"--ev-checklist-item-shadow":p().optional(),"--ev-checklist-item-border-radius":p().optional(),"--ev-checklist-item-spacing-x":p().optional(),"--ev-checklist-item-spacing-y":p().optional(),"--ev-checklist-item-spacing-x-tablet":p().optional(),"--ev-checklist-item-spacing-y-tablet":p().optional(),"--ev-checklist-item-spacing-x-mobile":p().optional(),"--ev-checklist-item-spacing-y-mobile":p().optional(),"--ev-checklist-item-gap":p().optional(),"--ev-checklist-items-gap-tablet":p().optional(),"--ev-checklist-items-gap-mobile":p().optional(),"--ev-checklist-items-gap":p().optional(),"--ev-checklist-instruction-text-color":p().optional(),"--ev-checklist-feedback-text-color":p().optional(),"--ev-code-background-color":p().optional(),"--ev-code-text-color":p().optional(),"--ev-flipcard-item-front-background-color":p().optional(),"--ev-flipcard-item-front-text-color":p().optional(),"--ev-flipcard-item-back-background-color":p().optional(),"--ev-flipcard-item-back-text-color":p().optional(),"--ev-flipcard-item-border-style":p().optional(),"--ev-flipcard-item-border-color":p().optional(),"--ev-flipcard-item-border-width":p().optional(),"--ev-flipcard-item-border-radius":p().optional(),"--ev-flipcard-item-shadow":p().optional(),"--ev-flipcard-item-content-spacing-x":p().optional(),"--ev-flipcard-item-content-spacing-y":p().optional(),"--ev-flipcard-item-content-spacing-x-tablet":p().optional(),"--ev-flipcard-item-content-spacing-y-tablet":p().optional(),"--ev-flipcard-item-content-spacing-x-mobile":p().optional(),"--ev-flipcard-item-content-spacing-y-mobile":p().optional(),"--ev-flipcard-item-text-alignment":p().optional(),"--ev-flipcard-item-flex-direction":p().optional(),"--ev-flipcard-item-button-display":p().optional(),"--ev-hotgraphic-hotspot-background-color":p().optional(),"--ev-hotgraphic-hotspot-icon-color":p().optional(),"--ev-hotgraphic-hotspot-button-hover":p().optional(),"--ev-hotgraphic-hotspot-border-style":p().optional(),"--ev-hotgraphic-hotspot-border-color":p().optional(),"--ev-hotgraphic-hotspot-border-width":p().optional(),"--ev-hotgraphic-hotspot-shadow":p().optional(),"--ev-hotgraphic-hotspot-selected-background-color":p().optional(),"--ev-hotgraphic-hotspot-selected-icon-color":p().optional(),"--ev-hotgraphic-hotspot-selected-border-color":p().optional(),"--ev-hotgraphic-content-popover-background-color":p().optional(),"--ev-hotgraphic-content-popover-color":p().optional(),"--ev-hotgraphic-content-popover-border-style":p().optional(),"--ev-hotgraphic-content-popover-border-color":p().optional(),"--ev-hotgraphic-content-popover-border-width":p().optional(),"--ev-hotgraphic-content-popover-border-radius":p().optional(),"--ev-hotgraphic-content-popover-shadow":p().optional(),"--ev-hotgraphic-content-popover-spacing-x":p().optional(),"--ev-hotgraphic-content-popover-spacing-y":p().optional(),"--ev-hotgraphic-content-popover-spacing-x-tablet":p().optional(),"--ev-hotgraphic-content-popover-spacing-y-tablet":p().optional(),"--ev-hotgraphic-content-popover-spacing-x-mobile":p().optional(),"--ev-hotgraphic-content-popover-spacing-y-mobile":p().optional(),"--ev-hotgraphic-hotspot-animation":p().optional(),"--ev-mcq-item-option-background-color":p().optional(),"--ev-mcq-item-option-color":p().optional(),"--ev-mcq-item-option-label":p().optional(),"--ev-mcq-item-option-border-width":p().optional(),"--ev-mcq-item-option-border-style":p().optional(),"--ev-mcq-item-option-border-color":p().optional(),"--ev-mcq-item-option-shadow":p().optional(),"--ev-mcq-item-option-hover":p().optional(),"--ev-mcq-item-option-border-radius":p().optional(),"--ev-mcq-item-option-spacing-x":p().optional(),"--ev-mcq-item-option-spacing-y":p().optional(),"--ev-mcq-item-option-spacing-x-tablet":p().optional(),"--ev-mcq-item-option-spacing-y-tablet":p().optional(),"--ev-mcq-item-option-spacing-x-mobile":p().optional(),"--ev-mcq-item-option-spacing-y-mobile":p().optional(),"--ev-mcq-item-option-gap":p().optional(),"--ev-mcq-item-gap":p().optional(),"--ev-mcq-item-gap-tablet":p().optional(),"--ev-mcq-item-gap-mobile":p().optional(),"--ev-mcq-item-disabled-option-background-color":p().optional(),"--ev-mcq-item-disabled-option-color":p().optional(),"--ev-mcq-item-disabled-option-border-color":p().optional(),"--ev-mcq-question-text-color":p().optional(),"--ev-mcq-attempts-text-color":p().optional(),"--ev-mcq-feedback-text-color":p().optional(),"--ev-mcq-no-selection-text-color":p().optional(),"--ev-mcq-no-selection-error-color":p().optional(),"--ev-media-controls-color":p().optional(),"--ev-media-controls-background-color":p().optional(),"--ev-media-big-play-background-color":p().optional(),"--ev-media-big-play-icon-color":p().optional(),"--ev-media-big-play-hover":p().optional(),"--ev-media-progress-background-color":p().optional(),"--ev-numberinput-input-background-color":p().optional(),"--ev-numberinput-input-text-color":p().optional(),"--ev-numberinput-input-text-style":p().optional(),"--ev-numberinput-input-border-style":p().optional(),"--ev-numberinput-input-border-color":p().optional(),"--ev-numberinput-input-border-width":p().optional(),"--ev-numberinput-input-border-radius":p().optional(),"--ev-numberinput-input-shadow":p().optional(),"--ev-numberinput-input-spacing-x":p().optional(),"--ev-numberinput-input-spacing-y":p().optional(),"--ev-numberinput-input-max-width":p().optional(),"--ev-numberinput-alignment":p().optional(),"--ev-numberinput-question-text-color":p().optional(),"--ev-numberinput-feedback-text-color":p().optional(),"--ev-process-background-color":p().optional(),"--ev-process-text-color":p().optional(),"--ev-process-progress-active":p().optional(),"--ev-process-progress-inactive":p().optional(),"--ev-process-item-border-style":p().optional(),"--ev-process-item-border-color":p().optional(),"--ev-process-item-border-width":p().optional(),"--ev-process-item-border-radius":p().optional(),"--ev-process-item-shadow":p().optional(),"--ev-process-item-content-spacing-x":p().optional(),"--ev-process-item-content-spacing-y":p().optional(),"--ev-process-item-content-spacing-x-tablet":p().optional(),"--ev-process-item-content-spacing-y-tablet":p().optional(),"--ev-process-item-content-spacing-x-mobile":p().optional(),"--ev-process-item-content-spacing-y-mobile":p().optional(),"--ev-process-item-gap":p().optional(),"--ev-process-item-gap-tablet":p().optional(),"--ev-process-item-gap-mobile":p().optional(),"--ev-section-indicator-background-color":p().optional(),"--ev-section-indicator-border-style":p().optional(),"--ev-section-indicator-border-color":p().optional(),"--ev-section-indicator-border-width":p().optional(),"--ev-section-indicator-border-radius":p().optional(),"--ev-section-indicator-shadow":p().optional(),"--ev-section-indicator-spacing-x":p().optional(),"--ev-section-indicator-spacing-y":p().optional(),"--ev-section-indicator-spacing-x-tablet":p().optional(),"--ev-section-indicator-spacing-y-tablet":p().optional(),"--ev-section-indicator-gap":p().optional(),"--ev-section-indicator-gap-tablet":p().optional(),"--ev-section-indicator-dot-background-color":p().optional(),"--ev-section-indicator-dot-border-style":p().optional(),"--ev-section-indicator-dot-border-color":p().optional(),"--ev-section-indicator-dot-border-width":p().optional(),"--ev-section-indicator-dot-active-background-color":p().optional(),"--ev-section-indicator-dot-active-border-style":p().optional(),"--ev-section-indicator-dot-active-border-color":p().optional(),"--ev-section-indicator-dot-active-border-width":p().optional(),"--ev-sorting-item-background-color":p().optional(),"--ev-sorting-item-text-color":p().optional(),"--ev-sorting-item-label":p().optional(),"--ev-sorting-item-drag-icon-display":p().optional(),"--ev-sorting-item-drag-icon-color":p().optional(),"--ev-sorting-item-border-style":p().optional(),"--ev-sorting-item-border-color":p().optional(),"--ev-sorting-item-border-color-dragging":p().optional(),"--ev-sorting-item-border-width":p().optional(),"--ev-sorting-item-border-radius":p().optional(),"--ev-sorting-item-shadow":p().optional(),"--ev-sorting-item-spacing-x":p().optional(),"--ev-sorting-item-spacing-y":p().optional(),"--ev-sorting-item-spacing-x-tablet":p().optional(),"--ev-sorting-item-spacing-y-tablet":p().optional(),"--ev-sorting-item-spacing-x-mobile":p().optional(),"--ev-sorting-item-spacing-y-mobile":p().optional(),"--ev-sorting-item-gap":p().optional(),"--ev-sorting-item-gap-tablet":p().optional(),"--ev-sorting-item-gap-mobile":p().optional(),"--ev-sorting-number-background-color":p().optional(),"--ev-sorting-number-text-color":p().optional(),"--ev-sorting-number-border-style":p().optional(),"--ev-sorting-number-border-color":p().optional(),"--ev-sorting-number-border-width":p().optional(),"--ev-sorting-question-text-color":p().optional(),"--ev-sorting-attempts-text-color":p().optional(),"--ev-sorting-feedback-text-color":p().optional(),"--ev-tabs-item-button-background-color":p().optional(),"--ev-tabs-item-button-color":p().optional(),"--ev-tabs-item-button-label":p().optional(),"--ev-tabs-item-button-border-width":p().optional(),"--ev-tabs-item-button-border-style":p().optional(),"--ev-tabs-item-button-border-color":p().optional(),"--ev-tabs-item-button-shadow":p().optional(),"--ev-tabs-item-button-hover":p().optional(),"--ev-tabs-item-button-border-radius":p().optional(),"--ev-tabs-item-button-spacing-x":p().optional(),"--ev-tabs-item-button-spacing-y":p().optional(),"--ev-tabs-item-button-spacing-x-tablet":p().optional(),"--ev-tabs-item-button-spacing-y-tablet":p().optional(),"--ev-tabs-item-button-spacing-x-mobile":p().optional(),"--ev-tabs-item-button-spacing-y-mobile":p().optional(),"--ev-tabs-item-gap":p().optional(),"--ev-tabs-item-gap-tablet":p().optional(),"--ev-tabs-item-gap-mobile":p().optional(),"--ev-tabs-item-active-button-background-color":p().optional(),"--ev-tabs-item-active-button-color":p().optional(),"--ev-tabs-item-active-button-border-color":p().optional(),"--ev-tabs-item-content-background-color":p().optional(),"--ev-tabs-item-content-color":p().optional(),"--ev-tabs-item-content-border-width":p().optional(),"--ev-tabs-item-content-border-style":p().optional(),"--ev-tabs-item-content-border-color":p().optional(),"--ev-tabs-item-content-border-radius":p().optional(),"--ev-tabs-item-content-spacing-x":p().optional(),"--ev-tabs-item-content-spacing-y":p().optional(),"--ev-tabs-item-content-spacing-x-tablet":p().optional(),"--ev-tabs-item-content-spacing-y-tablet":p().optional(),"--ev-tabs-item-content-spacing-x-mobile":p().optional(),"--ev-tabs-item-content-spacing-y-mobile":p().optional(),"--ev-textinput-input-background-color":p().optional(),"--ev-textinput-input-text-color":p().optional(),"--ev-textinput-input-placeholder-color":p().optional(),"--ev-textinput-input-text-style":p().optional(),"--ev-textinput-input-border-style":p().optional(),"--ev-textinput-input-border-color":p().optional(),"--ev-textinput-input-border-width":p().optional(),"--ev-textinput-input-border-radius":p().optional(),"--ev-textinput-input-shadow":p().optional(),"--ev-textinput-input-spacing-x":p().optional(),"--ev-textinput-input-spacing-y":p().optional(),"--ev-textinput-input-max-width":p().optional(),"--ev-textinput-alignment":p().optional(),"--ev-textinput-question-text-color":p().optional(),"--ev-textinput-feedback-text-color":p().optional(),"--ev-typography-heading-font-family":p().optional(),"--ev-typography-paragraph-font-family":p().optional(),"--ev-header-background-color":p().optional(),"--ev-header-border-style":p().optional(),"--ev-header-border-color":p().optional(),"--ev-header-border-width":p().optional(),"--ev-header-logo-alignment":p().optional(),"--ev-header-border-radius":p().optional(),"--ev-header-shadow":p().optional(),"--ev-footer-background-color":p().optional(),"--ev-footer-text-color":p().optional(),"--ev-footer-border-style":p().optional(),"--ev-footer-border-color":p().optional(),"--ev-footer-border-width":p().optional(),"--ev-footer-flex-direction":p().optional(),"--ev-footer-border-radius":p().optional(),"--ev-footer-shadow":p().optional(),"--ev-footer-padding-t":p().optional(),"--ev-footer-padding-b":p().optional(),"--ev-footer-padding-l":p().optional(),"--ev-footer-padding-r":p().optional(),"--ev-footer-gap":p().optional()}),createdAt:Qn,updatedAt:Qn});Me({_id:p(),accountId:LD,labels:Me({courseExit:xt,courseOutlineAria:xt,courseProgress:xt,pageProgressAria:xt,pageNotStartedAria:xt,pageCompletedAria:xt,courseCompletionDialogCloseButton:xt,courseCompletionDialogViewResultsButton:xt,assessmentPassedAria:xt,assessmentFailedAria:xt,assessmentAttemptDialogViewResultsButton:xt,cardDropCompleted:xt,cardDropScore:xt,cardDropShowAnswers:xt,cardDropHideAnswers:xt,cardDropDescriptionAria:xt,cardDropInstructionAria:xt,cardDropDragStartAria:xt,cardDropCardOverDropZoneAria:xt,cardDropCardOffDropZoneAria:xt,cardDropCardDroppedOnDropZoneAria:xt,cardDropCardDroppedAria:xt,cardDropDragCancelledAria:xt,flipCardAria:xt,flipCardButtonTooltip:xt,footerNextLabel:xt,footerNextButton:xt,processCarouselPrevButtonAria:xt,processCarouselPrevCountAria:xt,processCarouselNextButtonAria:xt,processCarouselNextCountAria:xt,processRevealButtonAria:xt,processRevealCompletedAria:xt,questionAnswerRequired:xt,questionAttempt:xt,questionAttemptInfinite:xt,questionSubmit:xt,questionReset:xt,ungradedReset:xt,correctIconAriaLabel:xt,incorrectIconAriaLabel:xt,transcript:xt,assessmentResultsTitle:xt,assessmentOverview:xt,assessmentScore:xt,assessmentQuestionsCorrect:xt,assessmentAttempts:xt,assessmentRetakeButton:xt,assessmentDetails:xt,assessmentPassingGrade:xt,assessmentMaxAttempts:xt,assessmentInfiniteAttempts:xt,assessmentQuestions:xt,hotgraphicPrevButtonAria:xt,hotgraphicNextButtonAria:xt,hotgraphicCloseButtonAria:xt,sortingInstructionAria:xt,sortingCurrentPositionAria:xt,sortingIncorrectPositionAria:xt,sortingDragStartAria:xt,sortingDragUpdateAria:xt,sortingDragCancelledAria:xt,sortingDragEndMovedAria:xt,sortingDragEndNotMovedAria:xt,lightboxZoomInAriaLabel:xt,lightboxZoomOutAriaLabel:xt,lightboxCloseAriaLabel:xt}),createdAt:Qn,updatedAt:Qn});Me({accountId:Dt,email:p(),firstName:p(),lastName:p(),role:Ot(["superAdmin","owner","admin","editor","graphicDesigner","reviewer"]),_id:Dt});const $F=Me({text:p(),accountId:Dt,courseId:Dt,createdBy:Dt,_id:Dt,createdAt:Qn,updatedAt:Qn});$F.extend({blockId:Dt,blockType:Ot(["section","row","column","element"]),device:Ot(["desktop","tablet","mobile"]),position:Me({x:Bn(),y:Bn()}),isResolved:zt().default(!1),type:$t("Comment")});$F.extend({commentId:Dt,type:$t("Reply")});Me({accountId:Dt,courseId:Dt,userId:Dt,_id:Dt});Me({accountId:Dt,courseId:Dt,createdBy:Dt.optional(),data:p(),type:Ot(["automatic","manual"]),assets:Nn(p()),locales:Nn(p()),name:p().optional(),_id:Dt,createdAt:Qn});Me({accountId:Dt,courseId:Dt,userId:Dt,lastViewedAt:Qn.optional(),lastUpdatedAt:Qn.optional(),_id:Dt});Me({stage:Ot(["upload","preview"]).default("upload"),familyName:p().default(""),fontStyles:Nn(LF),keys:Nn(p()),accountId:Dt,_id:Dt,createdAt:Qn,updatedAt:Qn});Me({familyName:p().min(3),fontStyles:Nn(LF),fontStyleWeights:Me({normal:Nn(Ot(["100","200","300","400","500","600","700","800","900"])),italic:Nn(Ot(["100","200","300","400","500","600","700","800","900"])),oblique:Nn(Ot(["100","200","300","400","500","600","700","800","900"]))}),slug:p(),key:p(),accountId:Dt,ownedBy:Dt,_id:Dt,createdAt:Qn,updatedAt:Qn});Me({queueName:p(),name:p(),jobId:p(),status:Ot(["active","completed","failed"]),progress:kc().optional(),data:kc().optional(),returnValue:kc().optional(),error:kc().optional(),_id:Dt,createdAt:Qn,updatedAt:Qn});Me({accountId:Dt,keyHash:p(),keyPrefix:p(),name:p(),revokedAt:Qn,revokedBy:p().optional(),lastUsedAt:Qn,createdBy:p(),createdAt:Qn,_id:Dt});Me({accountId:Dt,userId:Dt,keys:Nn(p()),assets:Nn(Dt),rejections:Nn(p()),_id:Dt,createdAt:Qn,updatedAt:Qn});Me({refId:p(),accountId:Dt,courseId:Dt,name:p(),body:zr,media:io.nullable().optional(),altText:xt,mediaPlacement:Me({side:Ot(["top","bottom"]).default("top"),align:Ot(["start","center","end"]).default("start")}),button:Me({isEnabled:zt().default(!1),label:xt,linkType:Ot(["internal","url","close"]).default("internal"),internalLinkTarget:Ot(["page","section"]).default("page"),urlLinkTarget:Ot(["_blank","_top"]).default("_blank"),internalLinkDestination:p().optional(),urlLinkDestination:p().default("")}),assets:Nn(p()),_id:Dt,createdAt:Qn,updatedAt:Qn});const $D=Me({name:p(),type:Ot(["boolean","number","string"]).default("string"),refId:p(),accountId:Dt,courseId:Dt,_id:Dt,createdAt:Qn,updatedAt:Qn});$D.extend({defaultValue:p().optional(),type:$t("string")});$D.extend({defaultValue:Bn().optional(),type:$t("number")});$D.extend({defaultValue:zt().optional(),type:$t("boolean")});const la=Me({accountId:Dt,actions:Nn(Zce),courseId:Dt,isActive:zt().default(!0),label:p().optional(),refId:p(),target:Dt,type:Ot(["pageTrigger","variableTrigger","assessmentTrigger","deviceSizeTrigger","sectionTrigger","rowTrigger","elementTrigger","actionButtonTrigger","questionTrigger","pagesTrigger","sectionsTrigger","rowsTrigger","elementsTrigger"]),_id:Dt,createdAt:Qn,updatedAt:Qn});la.extend({condition:Ot(["clicked","completed","started","viewed"]),type:$t("actionButtonTrigger")});la.extend({condition:Ot(["attempted","passed","failed","reset"]),type:$t("assessmentTrigger")});la.extend({condition:Ot(["desktop","mobile","tablet"]),type:$t("deviceSizeTrigger")});la.extend({condition:Ot(["completed","started","viewed"]),type:$t("elementTrigger")});la.extend({condition:Ot(["completed","viewed","loaded","unloaded"]),type:$t("pageTrigger")});la.extend({condition:Ot(["completed","started","viewed","passed","failed"]),type:$t("questionTrigger")});la.extend({condition:Ot(["completed","viewed"]),type:$t("rowTrigger")});la.extend({condition:Ot(["completed","viewed"]),type:$t("sectionTrigger")});la.extend({comparisons:Nn(Qce),condition:$t("changed"),type:$t("variableTrigger")});la.extend({condition:$t("multi"),conditions:Nn(Me({condition:Ot(["completed","viewed"]),target:p().optional(),operator:Ot(["AND","OR"])})),type:$t("pagesTrigger")});la.extend({condition:$t("multi"),conditions:Nn(Me({condition:Ot(["completed","viewed"]),target:p().optional(),operator:Ot(["AND","OR"])})),type:$t("sectionsTrigger")});la.extend({condition:$t("multi"),conditions:Nn(Me({condition:Ot(["completed","viewed"]),target:p().optional(),operator:Ot(["AND","OR"])})),type:$t("rowsTrigger")});la.extend({condition:$t("multi"),conditions:Nn(Me({condition:Ot(["completed","started","viewed","passed","failed","clicked"]),target:p().optional(),operator:Ot(["AND","OR"])})),type:$t("elementsTrigger")});const lde=[{type:"image",mimeType:"image/jpeg",extensions:[".jpg",".jpeg"]},{type:"image",mimeType:"image/png",extensions:[".png"]},{type:"image",mimeType:"image/svg+xml",extensions:[".svg"]},{type:"image",mimeType:"image/gif",extensions:[".gif"]},{type:"audio",mimeType:"audio/mpeg",extensions:[".mp3"]},{type:"video",mimeType:"video/mp4",extensions:[".mp4"]},{type:"file",mimeType:"text/vtt",extensions:[".vtt"]}];lde.map(e=>e.mimeType);const o0={Backup:"backup",Course:"course",Share:"share",Theme:"theme"};function BF(e,t){return function(){return e.apply(t,arguments)}}const{toString:ude}=Object.prototype,{getPrototypeOf:BD}=Object,{iterator:Qx,toStringTag:UF}=Symbol,Jx=(e=>t=>{const n=ude.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),pl=e=>(e=e.toLowerCase(),t=>Jx(t)===e),ew=e=>t=>typeof t===e,{isArray:gm}=Array,Gy=ew("undefined");function zv(e){return e!==null&&!Gy(e)&&e.constructor!==null&&!Gy(e.constructor)&&As(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const FF=pl("ArrayBuffer");function cde(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&FF(e.buffer),t}const dde=ew("string"),As=ew("function"),zF=ew("number"),Vv=e=>e!==null&&typeof e=="object",fde=e=>e===!0||e===!1,Q0=e=>{if(Jx(e)!=="object")return!1;const t=BD(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(UF in e)&&!(Qx in e)},pde=e=>{if(!Vv(e)||zv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hde=pl("Date"),mde=pl("File"),gde=pl("Blob"),yde=pl("FileList"),vde=e=>Vv(e)&&As(e.pipe),bde=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||As(e.append)&&((t=Jx(e))==="formdata"||t==="object"&&As(e.toString)&&e.toString()==="[object FormData]"))},_de=pl("URLSearchParams"),[Sde,xde,wde,Tde]=["ReadableStream","Request","Response","Headers"].map(pl),Ede=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),gm(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(zv(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function VF(e,t){if(zv(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const Ld=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qF=e=>!Gy(e)&&e!==Ld;function _A(){const{caseless:e}=qF(this)&&this||{},t={},n=(r,i)=>{const o=e&&VF(t,i)||i;Q0(t[o])&&Q0(r)?t[o]=_A(t[o],r):Q0(r)?t[o]=_A({},r):gm(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&qv(arguments[r],n);return t}const Ade=(e,t,n,{allOwnKeys:r}={})=>(qv(t,(i,o)=>{n&&As(i)?e[o]=BF(i,n):e[o]=i},{allOwnKeys:r}),e),Cde=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ode=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Dde=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&BD(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Pde=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Rde=e=>{if(!e)return null;if(gm(e))return e;let t=e.length;if(!zF(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Ide=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&BD(Uint8Array)),kde=(e,t)=>{const r=(e&&e[Qx]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},Nde=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Mde=pl("HTMLFormElement"),jde=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),gj=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Lde=pl("RegExp"),HF=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};qv(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},$de=e=>{HF(e,(t,n)=>{if(As(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(As(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Bde=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return gm(e)?r(e):r(String(e).split(t)),n},Ude=()=>{},Fde=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function zde(e){return!!(e&&As(e.append)&&e[UF]==="FormData"&&e[Qx])}const Vde=e=>{const t=new Array(10),n=(r,i)=>{if(Vv(r)){if(t.indexOf(r)>=0)return;if(zv(r))return r;if(!("toJSON"in r)){t[i]=r;const o=gm(r)?[]:{};return qv(r,(s,a)=>{const l=n(s,i+1);!Gy(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},qde=pl("AsyncFunction"),Hde=e=>e&&(Vv(e)||As(e))&&As(e.then)&&As(e.catch),GF=((e,t)=>e?setImmediate:t?((n,r)=>(Ld.addEventListener("message",({source:i,data:o})=>{i===Ld&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ld.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",As(Ld.postMessage)),Gde=typeof queueMicrotask<"u"?queueMicrotask.bind(Ld):typeof process<"u"&&process.nextTick||GF,Wde=e=>e!=null&&As(e[Qx]),st={isArray:gm,isArrayBuffer:FF,isBuffer:zv,isFormData:bde,isArrayBufferView:cde,isString:dde,isNumber:zF,isBoolean:fde,isObject:Vv,isPlainObject:Q0,isEmptyObject:pde,isReadableStream:Sde,isRequest:xde,isResponse:wde,isHeaders:Tde,isUndefined:Gy,isDate:hde,isFile:mde,isBlob:gde,isRegExp:Lde,isFunction:As,isStream:vde,isURLSearchParams:_de,isTypedArray:Ide,isFileList:yde,forEach:qv,merge:_A,extend:Ade,trim:Ede,stripBOM:Cde,inherits:Ode,toFlatObject:Dde,kindOf:Jx,kindOfTest:pl,endsWith:Pde,toArray:Rde,forEachEntry:kde,matchAll:Nde,isHTMLForm:Mde,hasOwnProperty:gj,hasOwnProp:gj,reduceDescriptors:HF,freezeMethods:$de,toObjectSet:Bde,toCamelCase:jde,noop:Ude,toFiniteNumber:Fde,findKey:VF,global:Ld,isContextDefined:qF,isSpecCompliantForm:zde,toJSONObject:Vde,isAsyncFn:qde,isThenable:Hde,setImmediate:GF,asap:Gde,isIterable:Wde};function In(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}st.inherits(In,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:st.toJSONObject(this.config),code:this.code,status:this.status}}});const WF=In.prototype,YF={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{YF[e]={value:e}});Object.defineProperties(In,YF);Object.defineProperty(WF,"isAxiosError",{value:!0});In.from=(e,t,n,r,i,o)=>{const s=Object.create(WF);return st.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),In.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Yde=null;function SA(e){return st.isPlainObject(e)||st.isArray(e)}function KF(e){return st.endsWith(e,"[]")?e.slice(0,-2):e}function yj(e,t,n){return e?e.concat(t).map(function(i,o){return i=KF(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function Kde(e){return st.isArray(e)&&!e.some(SA)}const Xde=st.toFlatObject(st,{},null,function(t){return/^is[A-Z]/.test(t)});function tw(e,t,n){if(!st.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=st.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,S){return!st.isUndefined(S[g])});const r=n.metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&st.isSpecCompliantForm(t);if(!st.isFunction(i))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(st.isDate(h))return h.toISOString();if(st.isBoolean(h))return h.toString();if(!l&&st.isBlob(h))throw new In("Blob is not supported. Use a Buffer instead.");return st.isArrayBuffer(h)||st.isTypedArray(h)?l&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function c(h,g,S){let y=h;if(h&&!S&&typeof h=="object"){if(st.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(st.isArray(h)&&Kde(h)||(st.isFileList(h)||st.endsWith(g,"[]"))&&(y=st.toArray(h)))return g=KF(g),y.forEach(function(b,_){!(st.isUndefined(b)||b===null)&&t.append(s===!0?yj([g],_,o):s===null?g:g+"[]",u(b))}),!1}return SA(h)?!0:(t.append(yj(S,g,o),u(h)),!1)}const d=[],f=Object.assign(Xde,{defaultVisitor:c,convertValue:u,isVisitable:SA});function m(h,g){if(!st.isUndefined(h)){if(d.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(h),st.forEach(h,function(y,v){(!(st.isUndefined(y)||y===null)&&i.call(t,y,st.isString(v)?v.trim():v,g,f))===!0&&m(y,g?g.concat(v):[v])}),d.pop()}}if(!st.isObject(e))throw new TypeError("data must be an object");return m(e),t}function vj(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function UD(e,t){this._pairs=[],e&&tw(e,this,t)}const XF=UD.prototype;XF.append=function(t,n){this._pairs.push([t,n])};XF.toString=function(t){const n=t?function(r){return t.call(this,r,vj)}:vj;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Zde(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZF(e,t,n){if(!t)return e;const r=n&&n.encode||Zde;st.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=st.isURLSearchParams(t)?t.toString():new UD(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class bj{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){st.forEach(this.handlers,function(r){r!==null&&t(r)})}}const QF={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qde=typeof URLSearchParams<"u"?URLSearchParams:UD,Jde=typeof FormData<"u"?FormData:null,efe=typeof Blob<"u"?Blob:null,tfe={isBrowser:!0,classes:{URLSearchParams:Qde,FormData:Jde,Blob:efe},protocols:["http","https","file","blob","url","data"]},FD=typeof window<"u"&&typeof document<"u",xA=typeof navigator=="object"&&navigator||void 0,nfe=FD&&(!xA||["ReactNative","NativeScript","NS"].indexOf(xA.product)<0),rfe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ife=FD&&window.location.href||"http://localhost",ofe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:FD,hasStandardBrowserEnv:nfe,hasStandardBrowserWebWorkerEnv:rfe,navigator:xA,origin:ife},Symbol.toStringTag,{value:"Module"})),Vo={...ofe,...tfe};function sfe(e,t){return tw(e,new Vo.classes.URLSearchParams,{visitor:function(n,r,i,o){return Vo.isNode&&st.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function afe(e){return st.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lfe(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function JF(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&st.isArray(i)?i.length:s,l?(st.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!st.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&st.isArray(i[s])&&(i[s]=lfe(i[s])),!a)}if(st.isFormData(e)&&st.isFunction(e.entries)){const n={};return st.forEachEntry(e,(r,i)=>{t(afe(r),i,n,0)}),n}return null}function ufe(e,t,n){if(st.isString(e))try{return(t||JSON.parse)(e),st.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Hv={transitional:QF,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=st.isObject(t);if(o&&st.isHTMLForm(t)&&(t=new FormData(t)),st.isFormData(t))return i?JSON.stringify(JF(t)):t;if(st.isArrayBuffer(t)||st.isBuffer(t)||st.isStream(t)||st.isFile(t)||st.isBlob(t)||st.isReadableStream(t))return t;if(st.isArrayBufferView(t))return t.buffer;if(st.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sfe(t,this.formSerializer).toString();if((a=st.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tw(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),ufe(t)):t}],transformResponse:[function(t){const n=this.transitional||Hv.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(st.isResponse(t)||st.isReadableStream(t))return t;if(t&&st.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?In.from(a,In.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vo.classes.FormData,Blob:Vo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};st.forEach(["delete","get","head","post","put","patch"],e=>{Hv.headers[e]={}});const cfe=st.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dfe=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&cfe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},_j=Symbol("internals");function og(e){return e&&String(e).trim().toLowerCase()}function J0(e){return e===!1||e==null?e:st.isArray(e)?e.map(J0):String(e)}function ffe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const pfe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function A1(e,t,n,r,i){if(st.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!st.isString(t)){if(st.isString(r))return t.indexOf(r)!==-1;if(st.isRegExp(r))return r.test(t)}}function hfe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function mfe(e,t){const n=st.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let Cs=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,u){const c=og(l);if(!c)throw new Error("header name must be a non-empty string");const d=st.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=J0(a))}const s=(a,l)=>st.forEach(a,(u,c)=>o(u,c,l));if(st.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(st.isString(t)&&(t=t.trim())&&!pfe(t))s(dfe(t),n);else if(st.isObject(t)&&st.isIterable(t)){let a={},l,u;for(const c of t){if(!st.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?st.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}s(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=og(t),t){const r=st.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return ffe(i);if(st.isFunction(n))return n.call(this,i,r);if(st.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=og(t),t){const r=st.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||A1(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=og(s),s){const a=st.findKey(r,s);a&&(!n||A1(r,r[a],a,n))&&(delete r[a],i=!0)}}return st.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||A1(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return st.forEach(this,(i,o)=>{const s=st.findKey(r,o);if(s){n[s]=J0(i),delete n[o];return}const a=t?hfe(o):String(o).trim();a!==o&&delete n[o],n[a]=J0(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return st.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&st.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[_j]=this[_j]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=og(s);r[a]||(mfe(i,s),r[a]=!0)}return st.isArray(t)?t.forEach(o):o(t),this}};Cs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);st.reduceDescriptors(Cs.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});st.freezeMethods(Cs);function C1(e,t){const n=this||Hv,r=t||n,i=Cs.from(r.headers);let o=r.data;return st.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function e7(e){return!!(e&&e.__CANCEL__)}function ym(e,t,n){In.call(this,e??"canceled",In.ERR_CANCELED,t,n),this.name="CanceledError"}st.inherits(ym,In,{__CANCEL__:!0});function t7(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new In("Request failed with status code "+n.status,[In.ERR_BAD_REQUEST,In.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gfe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function yfe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[o];s||(s=u),n[i]=l,r[i]=u;let d=o,f=0;for(;d!==i;)f+=n[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),u-s<t)return;const m=c&&u-c;return m?Math.round(f*1e3/m):void 0}}function vfe(e,t){let n=0,r=1e3/t,i,o;const s=(u,c=Date.now())=>{n=c,i=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?s(u,c):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-d)))},()=>i&&s(i)]}const lS=(e,t,n=3)=>{let r=0;const i=yfe(50,250);return vfe(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,u=i(l),c=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-s)/u:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Sj=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},xj=e=>(...t)=>st.asap(()=>e(...t)),bfe=Vo.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Vo.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Vo.origin),Vo.navigator&&/(msie|trident)/i.test(Vo.navigator.userAgent)):()=>!0,_fe=Vo.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];st.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),st.isString(r)&&s.push("path="+r),st.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sfe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function xfe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function n7(e,t,n){let r=!Sfe(t);return e&&(r||n==!1)?xfe(e,t):t}const wj=e=>e instanceof Cs?{...e}:e;function vf(e,t){t=t||{};const n={};function r(u,c,d,f){return st.isPlainObject(u)&&st.isPlainObject(c)?st.merge.call({caseless:f},u,c):st.isPlainObject(c)?st.merge({},c):st.isArray(c)?c.slice():c}function i(u,c,d,f){if(st.isUndefined(c)){if(!st.isUndefined(u))return r(void 0,u,d,f)}else return r(u,c,d,f)}function o(u,c){if(!st.isUndefined(c))return r(void 0,c)}function s(u,c){if(st.isUndefined(c)){if(!st.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in t)return r(u,c);if(d in e)return r(void 0,u)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(u,c,d)=>i(wj(u),wj(c),d,!0)};return st.forEach(Object.keys({...e,...t}),function(c){const d=l[c]||i,f=d(e[c],t[c],c);st.isUndefined(f)&&d!==a||(n[c]=f)}),n}const r7=e=>{const t=vf({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=Cs.from(s),t.url=ZF(n7(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(st.isFormData(n)){if(Vo.hasStandardBrowserEnv||Vo.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Vo.hasStandardBrowserEnv&&(r&&st.isFunction(r)&&(r=r(t)),r||r!==!1&&bfe(t.url))){const u=i&&o&&_fe.read(o);u&&s.set(i,u)}return t},wfe=typeof XMLHttpRequest<"u",Tfe=wfe&&function(e){return new Promise(function(n,r){const i=r7(e);let o=i.data;const s=Cs.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,m,h;function g(){m&&m(),h&&h(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function y(){if(!S)return;const b=Cs.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:b,config:e,request:S};t7(function(w){n(w),g()},function(w){r(w),g()},x),S=null}"onloadend"in S?S.onloadend=y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(y)},S.onabort=function(){S&&(r(new In("Request aborted",In.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new In("Network Error",In.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||QF;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),r(new In(_,x.clarifyTimeoutError?In.ETIMEDOUT:In.ECONNABORTED,e,S)),S=null},o===void 0&&s.setContentType(null),"setRequestHeader"in S&&st.forEach(s.toJSON(),function(_,x){S.setRequestHeader(x,_)}),st.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),a&&a!=="json"&&(S.responseType=i.responseType),u&&([f,h]=lS(u,!0),S.addEventListener("progress",f)),l&&S.upload&&([d,m]=lS(l),S.upload.addEventListener("progress",d),S.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(c=b=>{S&&(r(!b||b.type?new ym(null,e,S):b),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=gfe(i.url);if(v&&Vo.protocols.indexOf(v)===-1){r(new In("Unsupported protocol "+v+":",In.ERR_BAD_REQUEST,e));return}S.send(o||null)})},Efe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof In?c:new ym(c instanceof Error?c.message:c))}};let s=t&&setTimeout(()=>{s=null,o(new In(`timeout ${t} of ms exceeded`,In.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>st.asap(a),l}},Afe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Cfe=async function*(e,t){for await(const n of Ofe(e))yield*Afe(n,t)},Ofe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Tj=(e,t,n,r)=>{const i=Cfe(e,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let f=o+=d;n(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},nw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",i7=nw&&typeof ReadableStream=="function",Dfe=nw&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),o7=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Pfe=i7&&o7(()=>{let e=!1;const t=new Request(Vo.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ej=64*1024,wA=i7&&o7(()=>st.isReadableStream(new Response("").body)),uS={stream:wA&&(e=>e.body)};nw&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!uS[t]&&(uS[t]=st.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new In(`Response type '${t}' is not supported`,In.ERR_NOT_SUPPORT,r)})})})(new Response);const Rfe=async e=>{if(e==null)return 0;if(st.isBlob(e))return e.size;if(st.isSpecCompliantForm(e))return(await new Request(Vo.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(st.isArrayBufferView(e)||st.isArrayBuffer(e))return e.byteLength;if(st.isURLSearchParams(e)&&(e=e+""),st.isString(e))return(await Dfe(e)).byteLength},Ife=async(e,t)=>{const n=st.toFiniteNumber(e.getContentLength());return n??Rfe(t)},kfe=nw&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=r7(e);u=u?(u+"").toLowerCase():"text";let m=Efe([i,o&&o.toAbortSignal()],s),h;const g=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let S;try{if(l&&Pfe&&n!=="get"&&n!=="head"&&(S=await Ife(c,r))!==0){let x=new Request(t,{method:"POST",body:r,duplex:"half"}),T;if(st.isFormData(r)&&(T=x.headers.get("content-type"))&&c.setContentType(T),x.body){const[w,E]=Sj(S,lS(xj(l)));r=Tj(x.body,Ej,w,E)}}st.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;h=new Request(t,{...f,signal:m,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let v=await fetch(h,f);const b=wA&&(u==="stream"||u==="response");if(wA&&(a||b&&g)){const x={};["status","statusText","headers"].forEach(C=>{x[C]=v[C]});const T=st.toFiniteNumber(v.headers.get("content-length")),[w,E]=a&&Sj(T,lS(xj(a),!0))||[];v=new Response(Tj(v.body,Ej,w,()=>{E&&E(),g&&g()}),x)}u=u||"text";let _=await uS[st.findKey(uS,u)||"text"](v,e);return!b&&g&&g(),await new Promise((x,T)=>{t7(x,T,{data:_,headers:Cs.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:h})})}catch(y){throw g&&g(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new In("Network Error",In.ERR_NETWORK,e,h),{cause:y.cause||y}):In.from(y,y&&y.code,e,h)}}),TA={http:Yde,xhr:Tfe,fetch:kfe};st.forEach(TA,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Aj=e=>`- ${e}`,Nfe=e=>st.isFunction(e)||e===null||e===!1,s7={getAdapter:e=>{e=st.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!Nfe(n)&&(r=TA[(s=String(n)).toLowerCase()],r===void 0))throw new In(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(Aj).join(`
`):" "+Aj(o[0]):"as no adapter specified";throw new In("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:TA};function O1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ym(null,e)}function Cj(e){return O1(e),e.headers=Cs.from(e.headers),e.data=C1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),s7.getAdapter(e.adapter||Hv.adapter)(e).then(function(r){return O1(e),r.data=C1.call(e,e.transformResponse,r),r.headers=Cs.from(r.headers),r},function(r){return e7(r)||(O1(e),r&&r.response&&(r.response.data=C1.call(e,e.transformResponse,r.response),r.response.headers=Cs.from(r.response.headers))),Promise.reject(r)})}const a7="1.11.0",rw={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{rw[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Oj={};rw.transitional=function(t,n,r){function i(o,s){return"[Axios v"+a7+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new In(i(s," has been removed"+(n?" in "+n:"")),In.ERR_DEPRECATED);return n&&!Oj[s]&&(Oj[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};rw.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function Mfe(e,t,n){if(typeof e!="object")throw new In("options must be an object",In.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new In("option "+o+" must be "+l,In.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new In("Unknown option "+o,In.ERR_BAD_OPTION)}}const e_={assertOptions:Mfe,validators:rw},_l=e_.validators;let Jd=class{constructor(t){this.defaults=t||{},this.interceptors={request:new bj,response:new bj}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=vf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&e_.assertOptions(r,{silentJSONParsing:_l.transitional(_l.boolean),forcedJSONParsing:_l.transitional(_l.boolean),clarifyTimeoutError:_l.transitional(_l.boolean)},!1),i!=null&&(st.isFunction(i)?n.paramsSerializer={serialize:i}:e_.assertOptions(i,{encode:_l.function,serialize:_l.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),e_.assertOptions(n,{baseUrl:_l.spelling("baseURL"),withXsrfToken:_l.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&st.merge(o.common,o[n.method]);o&&st.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=Cs.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const h=[Cj.bind(this),void 0];for(h.unshift(...a),h.push(...u),f=h.length,c=Promise.resolve(n);d<f;)c=c.then(h[d++],h[d++]);return c}f=a.length;let m=n;for(d=0;d<f;){const h=a[d++],g=a[d++];try{m=h(m)}catch(S){g.call(this,S);break}}try{c=Cj.call(this,m)}catch(h){return Promise.reject(h)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=vf(this.defaults,t);const n=n7(t.baseURL,t.url,t.allowAbsoluteUrls);return ZF(n,t.params,t.paramsSerializer)}};st.forEach(["delete","get","head","options"],function(t){Jd.prototype[t]=function(n,r){return this.request(vf(r||{},{method:t,url:n,data:(r||{}).data}))}});st.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(vf(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Jd.prototype[t]=n(),Jd.prototype[t+"Form"]=n(!0)});let jfe=class l7{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new ym(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new l7(function(i){t=i}),cancel:t}}};function Lfe(e){return function(n){return e.apply(null,n)}}function $fe(e){return st.isObject(e)&&e.isAxiosError===!0}const EA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(EA).forEach(([e,t])=>{EA[t]=e});function u7(e){const t=new Jd(e),n=BF(Jd.prototype.request,t);return st.extend(n,Jd.prototype,t,{allOwnKeys:!0}),st.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return u7(vf(e,i))},n}const $i=u7(Hv);$i.Axios=Jd;$i.CanceledError=ym;$i.CancelToken=jfe;$i.isCancel=e7;$i.VERSION=a7;$i.toFormData=tw;$i.AxiosError=In;$i.Cancel=$i.CanceledError;$i.all=function(t){return Promise.all(t)};$i.spread=Lfe;$i.isAxiosError=$fe;$i.mergeConfig=vf;$i.AxiosHeaders=Cs;$i.formToJSON=e=>JF(st.isHTMLForm(e)?new FormData(e):e);$i.getAdapter=s7.getAdapter;$i.HttpStatusCode=EA;$i.default=$i;const{Axios:l4e,AxiosError:u4e,CanceledError:c4e,isCancel:d4e,CancelToken:f4e,VERSION:p4e,all:h4e,Cancel:m4e,isAxiosError:g4e,spread:y4e,toFormData:v4e,AxiosHeaders:b4e,HttpStatusCode:_4e,formToJSON:S4e,getAdapter:x4e,mergeConfig:w4e}=$i;var Dj={EU:"eu",US:"us"},sg={baseUrl:""},Bfe=$i.create({});Bfe.interceptors.request.use(e=>(e.baseURL=sg.baseUrl,sg.apiKey&&(e.headers.Authorization=sg.apiKey),typeof sg.withCredentials=="boolean"&&(e.withCredentials=sg.withCredentials),e));const s0=Me({region:Ot([Dj.EU,Dj.US])}),Ufe=kF("mode",[s0.extend({mode:$t(o0.Course),courseId:Dt}),s0.extend({mode:$t(o0.Theme),themeId:p(),courseId:Dt.optional()}),s0.extend({mode:$t(o0.Backup),backupId:Dt,courseId:Dt}),s0.extend({mode:$t(o0.Share),courseId:Dt,shareKey:p()})]),nu={courseId:!0,accountId:!0,_id:!0,type:!0};Me({assessment:Jce.omit(nu),bookmarking:ede.omit(nu),courseOutline:nde.omit(nu),courseCompletion:tde.omit(nu),footerNavigation:ide.omit(nu),sectionIndicator:ode.omit(nu),exitCourseButton:rde.omit(nu),scrollProgress:sde.omit(nu),footer:ade.omit(nu)});const Dh={truetype:{MimeType:"font/ttf",Format:"truetype",Extension:"ttf",ExtensionWithDot:".ttf"},woff2:{MimeType:"font/woff2",Format:"woff2",Extension:"woff2",ExtensionWithDot:".woff2"},woff:{MimeType:"font/woff",Format:"woff",Extension:"woff",ExtensionWithDot:".woff"}};Object.keys(Dh).map(e=>Dh[e].Format);Object.keys(Dh).map(e=>Dh[e].MimeType);Object.keys(Dh).map(e=>Dh[e].Extension);var c7={exports:{}};/*! For license information please see browser.umd.js.LICENSE.txt */(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:cu,()=>(()=>{var n={118:o=>{o.exports=function(s){return s!=s}},170:(o,s,a)=>{function l(D){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},l(D)}var u=a(3609),c=a(8995),d=a(7768),f=a(7236),m=new Set(["$and","$or"]),h=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),g=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),S=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),y=new Set(["$arrayElemAt","$first","$last"]),v=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),b=new Set(["$not"]);function _(D,O,I){if(E(D)||D===null)return D;D.$cond!=null?Array.isArray(D.$cond)?D.$cond=D.$cond.map(function(z){return _(z,O,I)}):(D.$cond.if=_(D.$cond.if,O,I),D.$cond.then=_(D.$cond.then,O,I),D.$cond.else=_(D.$cond.else,O,I)):D.$ifNull!=null?D.$ifNull.map(function(z){return _(z,O,I)}):D.$switch!=null&&(Array.isArray(D.$switch.branches)&&(D.$switch.branches=D.$switch.branches.map(function(z){return _(z,O,I)})),"default"in D.$switch&&(D.$switch.default=_(D.$switch.default,O,I)));for(var k=0,B=Object.keys(D);k<B.length;k++){var q=B[k];m.has(q)?D[q]=D[q].map(function(z){return _(z,O,I)}):h.has(q)?D[q]=w(D[q],O,I):g.has(q)?D[q]=T(D[q]):S.has(q)?D[q]=x(D[q]):b.has(q)&&(D[q]=_(D[q],O,I))}if(D.$in&&(D.$in=function(z,ne,ue){var Q=z[1];if(!E(Q))return z;var N=z[0],G=ne.path(Q.slice(1));if(G!==null){if(!G.$isMongooseArray)throw new Error("Path must be an array for $in");return[G.$isMongooseDocumentArray?G.$embeddedSchemaType.cast(N):G.caster.cast(N),Q]}if(ue===!1)return z;if(ue==="throw")throw new c("$in")}(D.$in,O,I)),D.$size&&(D.$size=x(D.$size)),D.$round){var H=D.$round;if(!Array.isArray(H)||H.length<1||H.length>2)throw new u("Array",H,"$round");D.$round=H.map(function(z){return x(z)})}return f(D),D}function x(D){if(!C(D))return D;try{return d(D)}catch{throw new u("Number",D)}}function T(D){if(!Array.isArray(D)){if(!C(D))return D;try{return d(D)}catch{throw new u("Number",D)}}return D.map(function(O){if(!C(O))return O;try{return d(O)}catch{throw new u("Number",O)}})}function w(D,O,I){if(!Array.isArray(D)||D.length!==2)throw new Error("Comparison operator must be an array of length 2");D[0]=_(D[0],O,I);var k=D[0];if(C(D[1])){var B=null,q=null,H=null;if(E(k))B=k.slice(1),q=O.path(B);else if(l(k)==="object"&&k!=null)for(var z=0,ne=Object.keys(k);z<ne.length;z++){var ue=ne[z];v.has(ue)&&E(k[ue])?(B=k[ue].slice(1)+"."+ue,H=d):y.has(ue)&&E(k[ue])&&(B=k[ue].slice(1)+"."+ue,(q=O.path(k[ue].slice(1)))!=null&&(q.$isMongooseDocumentArray?q=q.$embeddedSchemaType:q.$isMongooseArray&&(q=q.caster)))}var Q=l(D[1])==="object"&&D[1]!=null&&D[1].$literal!=null;if(q!=null)D[1]=Q?{$literal:q.cast(D[1].$literal)}:q.cast(D[1]);else if(H!=null)if(Q)try{D[1]={$literal:H(D[1].$literal)}}catch{throw new u(H.name.replace(/^cast/,""),D[1],B+".$literal")}else try{D[1]=H(D[1])}catch{throw new u(H.name.replace(/^cast/,""),D[1],B)}else{if(B!=null&&I===!0)return;if(B!=null&&I==="throw")throw new c(B)}}else D[1]=_(D[1]);return D}function E(D){return typeof D=="string"&&D[0]==="$"}function C(D){return!(typeof D=="string"&&D[0]==="$"||l(D)==="object"&&D!==null&&Object.keys(D).find(function(O){return O[0]==="$"})&&D.$literal==null)}o.exports=function(D,O,I){if(typeof D=="boolean")return D;if(l(D)!=="object"||D===null)throw new Error("`$expr` must be an object or boolean literal");return _(D,O,I)}},209:(o,s,a)=>{function l(f){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(f)}var u=a(2403),c=a(5825),d=a(6583);o.exports=u?function(f){return u(f)}:c?function(f){if(!f||l(f)!=="object"&&typeof f!="function")throw new TypeError("getProto: not an object");return c(f)}:d?function(f){return d(f)}:null},241:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"of",m),o.exports=f},354:o=>{function s(m){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},s(m)}var a=1e3,l=60*a,u=60*l,c=24*u,d=7*c;function f(m,h,g,S){var y=h>=1.5*g;return Math.round(m/g)+" "+S+(y?"s":"")}o.exports=function(m,h){h=h||{};var g,S,y=s(m);if(y==="string"&&m.length>0)return function(v){if(!((v=String(v)).length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(v);if(b){var _=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*_;case"weeks":case"week":case"w":return _*d;case"days":case"day":case"d":return _*c;case"hours":case"hour":case"hrs":case"hr":case"h":return _*u;case"minutes":case"minute":case"mins":case"min":case"m":return _*l;case"seconds":case"second":case"secs":case"sec":case"s":return _*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}(m);if(y==="number"&&isFinite(m))return h.long?(g=m,(S=Math.abs(g))>=c?f(g,S,c,"day"):S>=u?f(g,S,u,"hour"):S>=l?f(g,S,l,"minute"):S>=a?f(g,S,a,"second"):g+" ms"):function(v){var b=Math.abs(v);return b>=c?Math.round(v/c)+"d":b>=u?Math.round(v/u)+"h":b>=l?Math.round(v/l)+"m":b>=a?Math.round(v/a)+"s":v+"ms"}(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))}},433:(o,s,a)=>{function l(_){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},l(_)}function u(_,x){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);x&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),T.push.apply(T,w)}return T}function c(_){for(var x=1;x<arguments.length;x++){var T=arguments[x]!=null?arguments[x]:{};x%2?u(Object(T),!0).forEach(function(w){d(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function d(_,x,T){return(x=function(w){var E=function(C){if(l(C)!="object"||!C)return C;var D=C[Symbol.toPrimitive];if(D!==void 0){var O=D.call(C,"string");if(l(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(w);return l(E)=="symbol"?E:E+""}(x))in _?Object.defineProperty(_,x,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[x]=T,_}var f=a(3609),m=a(6426),h=a(5413),g=a(4327),S=a(9460);function y(_,x){m.call(this,_,x,"Int32")}y.schemaName="Int32",y.defaultOptions={},y.prototype=Object.create(m.prototype),y.prototype.constructor=y,y._cast=h,y.set=m.set,y.setters=[],y.get=m.get,y._defaultCaster=function(_){if(_!=null&&(typeof _!="number"||_!==(0|_)||_<-2147483648||_>2147483647))throw new Error;return _},y.cast=function(_){return arguments.length===0||(_===!1&&(_=this._defaultCaster),this._cast=_),this._cast},y._checkRequired=function(_){return _!=null},y.checkRequired=m.checkRequired,y.prototype.checkRequired=function(_){return this.constructor._checkRequired(_)},y.prototype.cast=function(_){var x;x=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():y.cast();try{return x(_)}catch(T){throw new f("Int32",_,this.path,T,this)}};var v=c(c({},m.prototype.$conditionalHandlers),{},{$gt:b,$gte:b,$lt:b,$lte:b,$bitsAllClear:S,$bitsAnyClear:S,$bitsAllSet:S,$bitsAnySet:S});function b(_,x){return this.castForQuery(null,_,x)}Object.defineProperty(y.prototype,"$conditionalHandlers",{enumerable:!1,value:v}),y.prototype.castForQuery=function(_,x,T){var w;if(_!=null)return(w=this.$conditionalHandlers[_])?w.call(this,x):this.applySetters(x,T);try{return this.applySetters(x,T)}catch(E){throw E instanceof f&&E.path===this.path&&this.$fullPath!=null&&(E.path=this.$fullPath),E}},y.prototype.toJSONSchema=function(_){var x=this.options.required&&typeof this.options.required!="function";return g("number","int",_==null?void 0:_.useBsonType,x)},y.prototype.autoEncryptionType=function(){return"int"},o.exports=y},486:o=>{o.exports=function(s){var a={_id:{auto:!0}};a._id[s.options.typeKey]="ObjectId",s.add(a)}},533:(o,s,a)=>{var l=a(8213),u=a(7352);o.exports=function(c,d){if(typeof c!="string"&&typeof c!="function")throw new l('Invalid ref at path "'+d+'". Got '+u.inspect(c,{depth:0}))}},542:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){return!!a&&(s(a)==="object"||typeof a=="function")&&typeof a.then=="function"}},608:(o,s,a)=>{var l=a(5832).hp;o.exports=function(u){return l.isBuffer(u)||Object.prototype.toString.call(u)==="[object Object]"}},622:(o,s,a)=>{function l(h,g){var S=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!S){if(Array.isArray(h)||(S=function(T,w){if(T){if(typeof T=="string")return u(T,w);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?u(T,w):void 0}}(h))||g){S&&(h=S);var y=0,v=function(){};return{s:v,n:function(){return y>=h.length?{done:!0}:{done:!1,value:h[y++]}},e:function(T){throw T},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,_=!0,x=!1;return{s:function(){S=S.call(h)},n:function(){var T=S.next();return _=T.done,T},e:function(T){x=!0,b=T},f:function(){try{_||S.return==null||S.return()}finally{if(x)throw b}}}}function u(h,g){(g==null||g>h.length)&&(g=h.length);for(var S=0,y=Array(g);S<g;S++)y[S]=h[S];return y}var c=a(4009),d=a(8768),f=a(7930).modelSymbol;function m(h,g){this.path=g,this.getters=[],this.setters=[],this.options=Object.assign({},h)}m.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var h="$"+this.path;this.getters.push(function(){return this.$locals[h]}),this.setters.push(function(g){this.$locals[h]=g})}},m.prototype.clone=function(){var h=new m(this.options,this.path);return h.getters=[].concat(this.getters),h.setters=[].concat(this.setters),h},m.prototype.get=function(h){return this.getters.push(h),this},m.prototype.set=function(h){return this.setters.push(h),this},m.prototype.applyGetters=function(h,g){d.hasUserDefinedProperty(this.options,["ref","refPath"])&&g.$$populatedVirtuals&&g.$$populatedVirtuals.hasOwnProperty(this.path)&&(h=g.$$populatedVirtuals[this.path]);var S,y=h,v=l(this.getters);try{for(v.s();!(S=v.n()).done;)y=S.value.call(g,y,this,g)}catch(b){v.e(b)}finally{v.f()}return y},m.prototype.applySetters=function(h,g){var S,y=h,v=l(this.setters);try{for(v.s();!(S=v.n()).done;)y=S.value.call(g,y,this,g)}catch(b){v.e(b)}finally{v.f()}return y},m.prototype._getModelNamesForPopulate=function(h){if(this.options.refPath)return c(this.options.refPath,h,this.path);var g;return(g=typeof this.options.ref!="function"||this.options.ref[f]?this.options.ref:this.options.ref.call(h,h))==null||Array.isArray(g)?g:[g]},o.exports=m},668:(o,s,a)=>{var l=Array.prototype.slice,u=a(6312),c=Object.keys,d=c?function(m){return c(m)}:a(6544),f=Object.keys;d.shim=function(){if(Object.keys){var m=function(){var h=Object.keys(arguments);return h&&h.length===arguments.length}(1,2);m||(Object.keys=function(h){return u(h)?f(l.call(h)):f(h)})}else Object.keys=d;return Object.keys||d},o.exports=d},674:(o,s,a)=>{var l=a(3414);o.exports=function(u){return l(u)||u===0?u:u<0?-1:1}},766:(o,s)=>{var a=o.exports={};a.DocumentNotFoundError=null,a.general={},a.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",a.general.required="Path `{PATH}` is required.",a.Number={},a.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",a.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",a.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",a.Date={},a.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",a.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",a.String={},a.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",a.String.match="Path `{PATH}` is invalid ({VALUE}).",a.String.minlength="Path `{PATH}` (`{VALUE}`, length {LENGTH}) is shorter than the minimum allowed length ({MINLENGTH}).",a.String.maxlength="Path `{PATH}` (`{VALUE}`, length {LENGTH}) is longer than the maximum allowed length ({MAXLENGTH})."},783:o=>{o.exports=ReferenceError},791:(o,s,a)=>{function l(d,f){var m=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!m){if(Array.isArray(d)||(m=function(b,_){if(b){if(typeof b=="string")return u(b,_);var x={}.toString.call(b).slice(8,-1);return x==="Object"&&b.constructor&&(x=b.constructor.name),x==="Map"||x==="Set"?Array.from(b):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?u(b,_):void 0}}(d))||f){m&&(d=m);var h=0,g=function(){};return{s:g,n:function(){return h>=d.length?{done:!0}:{done:!1,value:d[h++]}},e:function(b){throw b},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var S,y=!0,v=!1;return{s:function(){m=m.call(d)},n:function(){var b=m.next();return y=b.done,b},e:function(b){v=!0,S=b},f:function(){try{y||m.return==null||m.return()}finally{if(v)throw S}}}}function u(d,f){(f==null||f>d.length)&&(f=d.length);for(var m=0,h=Array(f);m<f;m++)h[m]=d[m];return h}var c=a(3703);o.exports=function(d,f,m){var h,g=m!=null?Object.keys(c(d.tree,m,{})):Object.keys(d.tree),S=new Set(Object.keys(f));if(S.size>1){h=new Set;var y,v=l(g);try{for(v.s();!(y=v.n()).done;){var b=y.value;S.has(b)&&h.add(b)}}catch(w){v.e(w)}finally{v.f()}var _,x=l(S);try{for(x.s();!(_=x.n()).done;){var T=_.value;h.has(T)||h.add(T)}}catch(w){x.e(w)}finally{x.f()}h=Array.from(h)}else h=Array.from(S);return h}},863:(o,s,a)=>{var l=a(3305),u=a(5549);o.exports=function(c){if(c==null||l(c,"ObjectId"))return c;if(c._id){if(l(c._id,"ObjectId"))return c._id;if(c._id.toString instanceof Function)return new u(c._id.toString())}return c.toString instanceof Function?new u(c.toString()):new u(c)}},953:(o,s,a)=>{var l=a(5484);o.exports=function(){return l()&&!!Symbol.toStringTag}},988:o=>{var s=Object.defineProperty||!1;if(s)try{s({},"a",{value:1})}catch{s=!1}o.exports=s},1007:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"min",m),Object.defineProperty(f.prototype,"max",m),Object.defineProperty(f.prototype,"enum",m),Object.defineProperty(f.prototype,"populate",m),o.exports=f},1058:(o,s,a)=>{var l=a(2696);o.exports=function(u,c){if(u==null)return null;for(var d=0,f=Object.keys(u);d<f.length;d++){var m=u[f[d]];if(m.schema&&m.schema.discriminatorMapping&&l(m.schema.discriminatorMapping.value,c))return m}return null}},1091:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){return a!=null&&s(a)==="object"&&a.$slice==null&&a.$elemMatch==null&&a.$meta==null&&a.$==null}},1129:(o,s,a)=>{function l(g){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},l(g)}function u(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!g})()}function c(g){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},c(g)}function d(g,S){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,v){return y.__proto__=v,y},d(g,S)}var f=a(8213),m=a(7352),h=function(g){function S(v,b,_,x){var T;(function(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")})(this,S);var w=f.messages;return(T=function(E,C,D){return C=c(C),function(O,I){if(I&&(l(I)=="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(O)}(E,u()?Reflect.construct(C,D||[],c(E).constructor):C.apply(E,D))}(this,S,[w.DocumentNotFoundError!=null?typeof w.DocumentNotFoundError=="function"?w.DocumentNotFoundError(v,b):w.DocumentNotFoundError:'No document found for query "'+m.inspect(v)+'" on model "'+b+'"'])).result=x,T.numAffected=_,T.filter=v,T.query=v,T}return function(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),b&&d(v,b)}(S,g),y=S,Object.defineProperty(y,"prototype",{writable:!1}),y;var y}(f);Object.defineProperty(h.prototype,"name",{value:"DocumentNotFoundError"}),o.exports=h},1199:o=>{o.exports=function(s,a){var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(var c=0;c<l.length;c++){var d=l[c];if(d!==u[c]||s[d]!==a[d])return!1}return!0}},1226:o=>{o.exports=function(s){return s==null?null:Object.keys(s)[0]}},1243:(o,s)=>{s.isMongooseArray=function(a){return Array.isArray(a)&&a.isMongooseArray}},1244:(o,s,a)=>{var l=a(3609);o.exports=function(u,c){if(u==null)return u;if(u._id&&typeof u._id=="string")return u._id;if(u.toString&&u.toString!==Object.prototype.toString&&!Array.isArray(u))return u.toString();throw new l("string",u,c)}},1260:(o,s)=>{var a=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"]).concat(["validate"]);s.Ut=a},1313:(o,s,a)=>{var l=a(486);o.exports=function(u,c){return c==null||c._id==null||(u=u.clone(),c._id?u.paths._id||(l(u),u.options._id=!0):(u.remove("_id"),u.options._id=!1)),u}},1344:(o,s,a)=>{o.exports=a(6353).UUID},1347:(o,s)=>{s.isMongooseDocumentArray=function(a){return Array.isArray(a)&&a.isMongooseDocumentArray}},1350:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y,v){return function(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}(this,h),function(b,_,x){return _=c(_),function(T,w){if(w&&(l(w)=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(T)}(b,u()?Reflect.construct(_,x||[],c(b).constructor):_.apply(b,x))}(this,h,['Parameter "'+y+'" to '+v+'() must be an object, got "'+S.toString()+'" (type '+l(S)+")"])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"ObjectParameterError"}),o.exports=f},1417:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,h),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,h,["For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+S.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"DivergentArrayError"}),o.exports=f},1464:(o,s,a)=>{var l=a(5807);if(l)try{l([],"length")}catch{l=null}o.exports=l},1469:(o,s,a)=>{function l(C){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l(C)}function u(C,D){var O=Object.keys(C);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(C);D&&(I=I.filter(function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable})),O.push.apply(O,I)}return O}function c(C,D,O){return(D=function(I){var k=function(B){if(l(B)!="object"||!B)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var H=q.call(B,"string");if(l(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(I);return l(k)=="symbol"?k:k+""}(D))in C?Object.defineProperty(C,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[D]=O,C}function d(){var C,D,O=typeof Symbol=="function"?Symbol:{},I=O.iterator||"@@iterator",k=O.toStringTag||"@@toStringTag";function B(G,J,Y,L){var K=J&&J.prototype instanceof H?J:H,ie=Object.create(K.prototype);return f(ie,"_invoke",function(de,ye,Te){var me,ae,ge,$=0,te=Te||[],oe=!1,Se={p:0,n:0,v:C,a:Pe,f:Pe.bind(C,4),d:function(Oe,Be){return me=Oe,ae=0,ge=C,Se.n=Be,q}};function Pe(Oe,Be){for(ae=Oe,ge=Be,D=0;!oe&&$&&!Z&&D<te.length;D++){var Z,ce=te[D],xe=Se.p,Ce=ce[2];Oe>3?(Z=Ce===Be)&&(ge=ce[(ae=ce[4])?5:(ae=3,3)],ce[4]=ce[5]=C):ce[0]<=xe&&((Z=Oe<2&&xe<ce[1])?(ae=0,Se.v=Be,Se.n=ce[1]):xe<Ce&&(Z=Oe<3||ce[0]>Be||Be>Ce)&&(ce[4]=Oe,ce[5]=Be,Se.n=Ce,ae=0))}if(Z||Oe>1)return q;throw oe=!0,Be}return function(Oe,Be,Z){if($>1)throw TypeError("Generator is already running");for(oe&&Be===1&&Pe(Be,Z),ae=Be,ge=Z;(D=ae<2?C:ge)||!oe;){me||(ae?ae<3?(ae>1&&(Se.n=-1),Pe(ae,ge)):Se.n=ge:Se.v=ge);try{if($=2,me){if(ae||(Oe="next"),D=me[Oe]){if(!(D=D.call(me,ge)))throw TypeError("iterator result is not an object");if(!D.done)return D;ge=D.value,ae<2&&(ae=0)}else ae===1&&(D=me.return)&&D.call(me),ae<2&&(ge=TypeError("The iterator does not provide a '"+Oe+"' method"),ae=1);me=C}else if((D=(oe=Se.n<0)?ge:de.call(ye,Se))!==q)break}catch(ce){me=C,ae=1,ge=ce}finally{$=1}}return{value:D,done:oe}}}(G,Y,L),!0),ie}var q={};function H(){}function z(){}function ne(){}D=Object.getPrototypeOf;var ue=[][I]?D(D([][I]())):(f(D={},I,function(){return this}),D),Q=ne.prototype=H.prototype=Object.create(ue);function N(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,ne):(G.__proto__=ne,f(G,k,"GeneratorFunction")),G.prototype=Object.create(Q),G}return z.prototype=ne,f(Q,"constructor",ne),f(ne,"constructor",z),z.displayName="GeneratorFunction",f(ne,k,"GeneratorFunction"),f(Q),f(Q,k,"Generator"),f(Q,I,function(){return this}),f(Q,"toString",function(){return"[object Generator]"}),(d=function(){return{w:B,m:N}})()}function f(C,D,O,I){var k=Object.defineProperty;try{k({},"",{})}catch{k=0}f=function(B,q,H,z){function ne(ue,Q){f(B,ue,function(N){return this._invoke(ue,Q,N)})}q?k?k(B,q,{value:H,enumerable:!z,configurable:!z,writable:!z}):B[q]=H:(ne("next",0),ne("throw",1),ne("return",2))},f(C,D,O,I)}function m(C){return function(D){if(Array.isArray(D))return S(D)}(C)||function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}(C)||g(C)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function h(C,D){var O=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!O){if(Array.isArray(C)||(O=g(C))||D){O&&(C=O);var I=0,k=function(){};return{s:k,n:function(){return I>=C.length?{done:!0}:{done:!1,value:C[I++]}},e:function(z){throw z},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,q=!0,H=!1;return{s:function(){O=O.call(C)},n:function(){var z=O.next();return q=z.done,z},e:function(z){H=!0,B=z},f:function(){try{q||O.return==null||O.return()}finally{if(H)throw B}}}}function g(C,D){if(C){if(typeof C=="string")return S(C,D);var O={}.toString.call(C).slice(8,-1);return O==="Object"&&C.constructor&&(O=C.constructor.name),O==="Map"||O==="Set"?Array.from(C):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?S(C,D):void 0}}function S(C,D){(D==null||D>C.length)&&(D=C.length);for(var O=0,I=Array(D);O<D;O++)I[O]=C[O];return I}var y=a(5022),v=a(8442),b=a(4450),_=a(2068).X,x=a(3703),T=a(8768),w=a(4301),E={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0,statics:!0};o.exports=function(C,D,O,I,k,B,q){if(!O||!O.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(B=B==null||B,C.schema.discriminatorMapping&&!C.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+D+'" can only be a discriminator of the root model');if(k){var H=x(C.base,"options.applyPluginsToDiscriminators",!1)||!B;C.base._applyPlugins(O,{skipTopLevel:!H})}else B||v(O);var z=C.schema.options.discriminatorKey,ne=C.schema.path(z);if(ne!=null)T.hasUserDefinedProperty(ne.options,"select")||(ne.options.select=!0),ne.options.$skipDiscriminatorCheck=!0;else{var ue={};ue[z]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},ue[z][C.schema.options.typeKey]=String,C.schema.add(ue),_({prop:z,prototype:C.prototype,options:C.schema.options})}if(O.path(z)&&O.path(z).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+D+'" cannot have field with name "'+z+'"');var Q=D;if((typeof I=="string"&&I.length||I!=null)&&(Q=I),function(N,G){var J=d().m(de);if(N.encryptionType()!=null||G.encryptionType()!=null){var Y,L=h(de(ie(N),ie(G)));try{for(L.s();!(Y=L.n()).done;){var K=Y.value;if(N._hasEncryptedField(K)&&G._hasEncryptedField(K))throw new Error("encrypted fields cannot be declared on both the base schema and the child schema in a discriminator. path=".concat(K));if(N._hasEncryptedField(K)||G._hasEncryptedField(K))throw new Error("encrypted fields cannot have the same path as a non-encrypted field for discriminators. path=".concat(K))}}catch(ye){L.e(ye)}finally{L.f()}}function ie(ye){return[].concat(m(Object.keys(ye.paths)),m(Object.keys(ye.singleNestedPaths)))}function de(ye,Te){var me,ae,ge,$,te;return d().w(function(oe){for(;;)switch(oe.p=oe.n){case 0:me=new Set(ye),ae=h(Te),oe.p=1,ae.s();case 2:if((ge=ae.n()).done){oe.n=4;break}if($=ge.value,!me.has($)){oe.n=3;break}return oe.n=3,$;case 3:oe.n=2;break;case 4:oe.n=6;break;case 5:oe.p=5,te=oe.v,ae.e(te);case 6:return oe.p=6,ae.f(),oe.f(6);case 7:return oe.a(2)}},J,null,[[1,5,6,7]])}}(C.schema,O),function(N,G){N._baseSchema=G,G.paths._id&&G.paths._id.options&&!G.paths._id.options.auto&&N.remove("_id");for(var J=[],Y=0,L=Object.keys(G.paths);Y<L.length;Y++){var K=L[Y];if(N.nested[K])J.push(K);else if(K.indexOf(".")!==-1){var ie,de="",ye=h(K.split(".").slice(0,-1));try{for(ye.s();!(ie=ye.n()).done;){var Te=ie.value;de+=(de.length?".":"")+Te,(N.paths[de]instanceof y||N.singleNestedPaths[de]instanceof y)&&J.push(K)}}catch(Qe){ye.e(Qe)}finally{ye.f()}}}N.obj=function(Qe){for(var Ve=1;Ve<arguments.length;Ve++){var Ne=arguments[Ve]!=null?arguments[Ve]:{};Ve%2?u(Object(Ne),!0).forEach(function(Je){c(Qe,Je,Ne[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Qe,Object.getOwnPropertyDescriptors(Ne)):u(Object(Ne)).forEach(function(Je){Object.defineProperty(Qe,Je,Object.getOwnPropertyDescriptor(Ne,Je))})}return Qe}({},N.obj),w(N,G),N._gatherChildSchemas();for(var me=0,ae=J;me<ae.length;me++){var ge=ae[me];delete N.paths[ge]}N.childSchemas.forEach(function(Qe){Qe.model.prototype.$__setSchema(Qe.schema)});var $={};$[z]={default:Q,select:!0,set:function(Qe){if(Qe===Q||Array.isArray(Q)&&T.deepEqual(Qe,Q))return Q;throw new Error(`Can't set discriminator key "`+z+'"')},$skipDiscriminatorCheck:!0},$[z][N.options.typeKey]=ne?ne.options[N.options.typeKey]:String,N.add($),N.discriminatorMapping={key:z,value:Q,isRoot:!1},G.options.collection&&(N.options.collection=G.options.collection);var te=N.options.toJSON,oe=N.options.toObject,Se=N.options._id,Pe=N.options.id,Oe=Object.keys(N.options);N.options.discriminatorKey=G.options.discriminatorKey;for(var Be=N._userProvidedOptions,Z=0,ce=Oe;Z<ce.length;Z++){var xe=ce[Z];if(!E[xe]&&xe in Be&&!T.deepEqual(N.options[xe],G.options[xe]))throw new Error("Can't customize discriminator option "+xe+" (can only modify "+Object.keys(E).join(", ")+")")}N.options=b(G.options);for(var Ce=0,pe=Object.keys(Be);Ce<pe.length;Ce++){var je=pe[Ce];N.options[je]=Be[je]}te&&(N.options.toJSON=te),oe&&(N.options.toObject=oe),Se!==void 0&&(N.options._id=Se),N.options.id=Pe,B&&(N.s.hooks=C.schema.s.hooks.merge(N.s.hooks)),k&&(N.plugins=Array.prototype.slice.call(G.plugins)),N.callQueue=G.callQueue.concat(N.callQueue),delete N._requiredpaths}(O,C.schema),C.discriminators||(C.discriminators={}),C.schema.discriminatorMapping||(C.schema.discriminatorMapping={key:z,value:null,isRoot:!0}),C.schema.discriminators||(C.schema.discriminators={}),C.schema.discriminators[D]=O,C.discriminators[D]&&!O.options.overwriteModels&&!q)throw new Error('Discriminator with name "'+D+'" already exists');return O}},1505:o=>{o.exports=function(s,a,l,u,c){var d=a!=null&&a.updatedAt===!1,f=a!=null&&a.createdAt===!1,m=l!=null?l():s.ownerDocument().constructor.base.now();if(!f&&(s.isNew||s.$isSubdocument)&&u&&!s.$__getValue(u)&&s.$__isSelected(u)&&s.$set(u,m,void 0,{overwriteImmutable:!0}),!d&&c&&(s.isNew||s.$isModified())){var h=m;s.isNew&&u!=null&&(h=s.$__getValue(u)),s.$set(c,h)}}},1635:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,h),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,h,["Can't validate() the same doc multiple times in parallel. Document: "+S._doc._id])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"ParallelValidateError"}),o.exports=f},1679:o=>{typeof Object.create=="function"?o.exports=function(s,a){a&&(s.super_=a,s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(s,a){if(a){s.super_=a;var l=function(){};l.prototype=a.prototype,s.prototype=new l,s.prototype.constructor=s}}},1697:o=>{o.exports=Math.max},1732:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function u(b,_){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);_&&(T=T.filter(function(w){return Object.getOwnPropertyDescriptor(b,w).enumerable})),x.push.apply(x,T)}return x}function c(b){for(var _=1;_<arguments.length;_++){var x=arguments[_]!=null?arguments[_]:{};_%2?u(Object(x),!0).forEach(function(T){d(b,T,x[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):u(Object(x)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(x,T))})}return b}function d(b,_,x){return(_=function(T){var w=function(E){if(l(E)!="object"||!E)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var D=C.call(E,"string");if(l(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(T);return l(w)=="symbol"?w:w+""}(_))in b?Object.defineProperty(b,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[_]=x,b}var f=a(3609),m=a(6426),h=a(3704),g=a(4327);function S(b,_){m.call(this,b,_,"Double")}function y(b){return this.cast(b)}S.schemaName="Double",S.defaultOptions={},S.prototype=Object.create(m.prototype),S.prototype.constructor=S,S._cast=h,S.set=m.set,S.setters=[],S.get=m.get,S._defaultCaster=function(b){if(b!=null&&b._bsontype!=="Double")throw new Error;return b},S.cast=function(b){return arguments.length===0||(b===!1&&(b=this._defaultCaster),this._cast=b),this._cast},S._checkRequired=function(b){return b!=null},S.checkRequired=m.checkRequired,S.prototype.checkRequired=function(b){return this.constructor._checkRequired(b)},S.prototype.cast=function(b){var _;_=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():S.cast();try{return _(b)}catch(x){throw new f("Double",b,this.path,x,this)}};var v=c(c({},m.prototype.$conditionalHandlers),{},{$gt:y,$gte:y,$lt:y,$lte:y});Object.defineProperty(S.prototype,"$conditionalHandlers",{enumerable:!1,value:v}),S.prototype.toJSONSchema=function(b){var _=this.options.required&&typeof this.options.required!="function";return g("number","double",b==null?void 0:b.useBsonType,_)},S.prototype.autoEncryptionType=function(){return"double"},o.exports=S},1793:(o,s,a)=>{var l=a(7300),u=a(2789);o.exports=function c(d){if(d==null)return null;var f=Object.keys(d),m=null;if(f.length===1&&f[0]==="_id")m=!d._id;else for(var h=0;h<f.length;++h){var g,S=f[h];if(S!=="_id"&&l(d[S])&&(m=u(d[S])?(g=c(d[S]))!==null&&g!==void 0?g:m:!d[S])!=null)break}return m}},1824:(o,s,a)=>{function l(c){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},l(c)}var u=a(3703);o.exports=function(c,d,f,m,h,g){var S=m,y=S,v=u(h,"timestamps",!0);if(!v||S==null)return m;var b,_,x,T=v!=null&&v.createdAt===!1,w=v!=null&&v.updatedAt===!1;if(g)return m&&m.$set&&(m=m.$set,S.$set={},y=S.$set),w||!f||m[f]||(y[f]=c),T||!d||m[d]||(y[d]=c),S;if(m=m||{},Array.isArray(S))return f==null||S.push({$set:(b={},_=f,x=c,(_=function(ne){var ue=function(Q){if(l(Q)!="object"||!Q)return Q;var N=Q[Symbol.toPrimitive];if(N!==void 0){var G=N.call(Q,"string");if(l(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Q)}(ne);return l(ue)=="symbol"?ue:ue+""}(_))in b?Object.defineProperty(b,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[_]=x,b)}),S;if(S.$set=S.$set||{},!w&&f&&(!m.$currentDate||!m.$currentDate[f])){var E=!1;if(f.indexOf(".")!==-1)for(var C=f.split("."),D=1;D<C.length;++D){var O=C.slice(-D).join("."),I=C.slice(0,-D).join(".");if(m[I]!=null){m[I][O]=c,E=!0;break}if(m.$set&&m.$set[I]){m.$set[I][O]=c,E=!0;break}}E||(S.$set[f]=c),S.hasOwnProperty(f)&&delete S[f]}if(!T&&d){m[d]&&delete m[d],m.$set&&m.$set[d]&&delete m.$set[d];var k=!1;if(d.indexOf(".")!==-1)for(var B=d.split("."),q=1;q<B.length;++q){var H=B.slice(-q).join("."),z=B.slice(0,-q).join(".");if(m[z]!=null){m[z][H]=c,k=!0;break}if(m.$set&&m.$set[z]){m.$set[z][H]=c,k=!0;break}}k||(S.$setOnInsert=S.$setOnInsert||{},S.$setOnInsert[d]=c)}return Object.keys(S.$set).length===0&&delete S.$set,S}},1849:(o,s,a)=>{function l(c,d){(d==null||d>c.length)&&(d=c.length);for(var f=0,m=Array(d);f<d;f++)m[f]=c[f];return m}var u=a(8768);o.exports=function(c,d){if(c._doc._id!=null&&d!=null&&d.length!==0){var f,m=String(c._doc._id),h=function(T,w){var E=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!E){if(Array.isArray(T)||(E=function(B,q){if(B){if(typeof B=="string")return l(B,q);var H={}.toString.call(B).slice(8,-1);return H==="Object"&&B.constructor&&(H=B.constructor.name),H==="Map"||H==="Set"?Array.from(B):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?l(B,q):void 0}}(T))||w){E&&(T=E);var C=0,D=function(){};return{s:D,n:function(){return C>=T.length?{done:!0}:{done:!1,value:T[C++]}},e:function(B){throw B},f:D}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O,I=!0,k=!1;return{s:function(){E=E.call(T)},n:function(){var B=E.next();return I=B.done,B},e:function(B){k=!0,O=B},f:function(){try{I||E.return==null||E.return()}finally{if(k)throw O}}}}(d);try{for(h.s();!(f=h.n()).done;){var g=f.value;if(!g.isVirtual)for(var S=g.path.split("."),y=0;y<S.length-1;++y){var v=S.slice(0,y+1).join("."),b=S.slice(y+1).join("."),_=c.get(v);if(_!=null&&u.isMongooseDocumentArray(_)){for(var x=0;x<_.length;++x)_[x]&&_[x].populated(b,g._docs[m]==null?void 0:g._docs[m][x],g);break}}}}catch(T){h.e(T)}finally{h.f()}}}},1875:o=>{o.exports=function(s){for(var a,l=Object.keys(s.errors||{}),u=l.length,c=[],d=0;d<u;++d)a=l[d],s!==s.errors[a]&&c.push(a+": "+s.errors[a].message);return c.join(", ")}},1898:(o,s,a)=>{s.saveSubdocs=a(4432),s.sharding=a(2824),s.trackTransaction=a(5889),s.validateBeforeSave=a(9848)},1905:(o,s,a)=>{var l=a(3071),u=a(2724)(/^\s*(?:function)?\*/),c=a(953)(),d=a(209),f=l("Object.prototype.toString"),m=l("Function.prototype.toString"),h=a(8690);o.exports=function(g){if(typeof g!="function")return!1;if(u(m(g)))return!0;if(!c)return f(g)==="[object GeneratorFunction]";if(!d)return!1;var S=h();return S&&d(g)===S.prototype}},2003:(o,s,a)=>{var l=a(3703),u=a(608),c=a(2423);o.exports=function(d){var f=[],m=new WeakMap,h=d.constructor.indexTypes,g=new Map;return function S(y,v,b){if(!m.has(y)){m.set(y,!0),v=v||"";for(var _=0,x=Object.keys(y.paths);_<x.length;_++){var T=x[_],w=y.paths[T];if(b==null||!b.paths[T]){if(w._duplicateKeyErrorMessage!=null&&(y._duplicateKeyErrorMessagesByPath=y._duplicateKeyErrorMessagesByPath||{},y._duplicateKeyErrorMessagesByPath[T]=w._duplicateKeyErrorMessage),w.$isMongooseDocumentArray||w.$isSingleNested){if(l(w,"options.excludeIndexes")!==!0&&l(w,"schemaOptions.excludeIndexes")!==!0&&l(w,"schema.options.excludeIndexes")!==!0&&S(w.schema,v+T+"."),w.schema.discriminators!=null)for(var E=w.schema.discriminators,C=0,D=Object.keys(E);C<D.length;C++)S(E[D[C]],v+T+".",w.schema);if(w.$isMongooseDocumentArray)continue}var O=w._index||w.caster&&w.caster._index;if(O!==!1&&O!=null){var I={},k=u(O),B=k?O:{},q=typeof O=="string"?O:!!k&&O.type;if(q&&h.indexOf(q)!==-1)I[v+T]=q;else if(B.text)I[v+T]="text",delete B.text;else{var H;H=O==="descending"||O==="desc"||O!=="ascending"&&O!=="asc"&&Number(O)===-1,I[v+T]=H?-1:1}delete B.type,"background"in B||(B.background=!0),y.options.autoIndex!=null&&(B._autoIndex=y.options.autoIndex);var z=B&&B.name;typeof z=="string"&&g.has(z)?Object.assign(g.get(z),I):(f.push([I,B]),g.set(z,I))}}}m.delete(y),v?function(ne,ue){for(var Q=ne._indexes,N=Q.length,G=0;G<N;++G){for(var J=Q[G][0],Y=Q[G][1],L=Object.keys(J),K=L.length,ie={},de=0;de<K;++de){var ye=L[de];ie[ue+ye]=J[ye]}var Te=Object.assign({},Y);if(Y!=null&&Y.partialFilterExpression!=null){Te.partialFilterExpression={};for(var me=Y.partialFilterExpression,ae=0,ge=Object.keys(me);ae<ge.length;ae++){var $=ge[ae];Te.partialFilterExpression[ue+$]=me[$]}}f.push([ie,Te])}}(y,v):(y._indexes.forEach(function(ne){var ue=ne[1];"background"in ue||(ue.background=!0),c(y,ue)}),f=f.concat(y._indexes))}}(d),f}},2064:(o,s,a)=>{var l=a(2273),u=a(9122),c=a(4756),d=a(2481),f=a(9247),m=u(d(),Object);l(m,{getPolyfill:d,implementation:c,shim:f}),o.exports=m},2068:(o,s,a)=>{var l,u=a(4450),c=a(7930).documentSchemaSymbol,d=a(3303)._,f=a(8768),m=a(7930).getSymbol,h=a(7930).scopeSymbol,g=f.isPOJO;s.w=v,s.X=b;var S=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),y=Object.freeze({noDottedPath:!0});function v(_,x,T,w){l=l||a(2400);for(var E=w.typeKey,C=0,D=Object.keys(_);C<D.length;C++){var O=D[C],I=_[O];b({prop:O,subprops:g(I)&&Object.keys(I).length>0&&(!I[E]||E==="type"&&g(I.type)&&I.type.type)?I:null,prototype:x,prefix:T,options:w})}}function b(_){var x=_.prop,T=_.subprops,w=_.prototype,E=_.prefix,C=_.options;l=l||a(2400);var D=(E?E+".":"")+x,O=(E=E||"")?Object.freeze({}):y;T?Object.defineProperty(w,x,{enumerable:!0,configurable:!0,get:function(){var I,k,B=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[D]){var q=Object.create(l.prototype,(I=this,k={},Object.getOwnPropertyNames(I).forEach(function(H){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(H)===-1||(k[H]=Object.getOwnPropertyDescriptor(I,H),k[H].enumerable=!1)}),k));E||(q.$__[h]=this),q.$__.nestedPath=D,Object.defineProperty(q,"schema",{enumerable:!1,configurable:!0,writable:!1,value:w.schema}),Object.defineProperty(q,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:w.schema}),Object.defineProperty(q,c,{enumerable:!1,configurable:!0,writable:!1,value:w.schema}),Object.defineProperty(q,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return u(B.get(D,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(q,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return B.get(D,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(q,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return B.get(D,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(q,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(q,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(D,null,S)||{}).length===0}}),Object.defineProperty(q,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),v(T,q,D,C),this.$__.getters[D]=q}return this.$__.getters[D]},set:function(I){I!=null&&I.$__isNested?I=I.$__get():I instanceof l&&!I.$__isNested&&(I=I.$toObject(d)),(this.$__[h]||this).$set(D,I)}}):Object.defineProperty(w,x,{enumerable:!0,configurable:!0,get:function(){return this[m].call(this.$__[h]||this,D,null,O)},set:function(I){this.$set.call(this.$__[h]||this,D,I)}})}},2069:(o,s,a)=>{function l(d,f,m){return Object.defineProperty(d,"prototype",{writable:!1}),d}var u=a(5761),c=l(function d(f){(function(m,h){if(!(m instanceof h))throw new TypeError("Cannot call a class as a function")})(this,d),Object.assign(this,f),f!=null&&f.options!=null&&(this.options=Object.assign({},f.options))});Object.defineProperty(c.prototype,"ref",u),Object.defineProperty(c.prototype,"refPath",u),Object.defineProperty(c.prototype,"localField",u),Object.defineProperty(c.prototype,"foreignField",u),Object.defineProperty(c.prototype,"justOne",u),Object.defineProperty(c.prototype,"count",u),Object.defineProperty(c.prototype,"match",u),Object.defineProperty(c.prototype,"options",u),Object.defineProperty(c.prototype,"skip",u),Object.defineProperty(c.prototype,"limit",u),Object.defineProperty(c.prototype,"perDocumentLimit",u),o.exports=c},2073:o=>{o.exports=function s(a){if(!Array.isArray(a))return{min:0,max:0,containsNonArrayItem:!0};if(a.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(a.length===1&&!Array.isArray(a[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var l=s(a[0]),u=1;u<a.length;++u){var c=s(a[u]);c.min<l.min&&(l.min=c.min),c.max>l.max&&(l.max=c.max),l.containsNonArrayItem=l.containsNonArrayItem||c.containsNonArrayItem}return l.min=l.min+1,l.max=l.max+1,l}},2081:(o,s,a)=>{function l(H){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},l(H)}function u(H,z){var ne=typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(!ne){if(Array.isArray(H)||(ne=function(Y,L){if(Y){if(typeof Y=="string")return c(Y,L);var K={}.toString.call(Y).slice(8,-1);return K==="Object"&&Y.constructor&&(K=Y.constructor.name),K==="Map"||K==="Set"?Array.from(Y):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?c(Y,L):void 0}}(H))||z){ne&&(H=ne);var ue=0,Q=function(){};return{s:Q,n:function(){return ue>=H.length?{done:!0}:{done:!1,value:H[ue++]}},e:function(Y){throw Y},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,G=!0,J=!1;return{s:function(){ne=ne.call(H)},n:function(){var Y=ne.next();return G=Y.done,Y},e:function(Y){J=!0,N=Y},f:function(){try{G||ne.return==null||ne.return()}finally{if(J)throw N}}}}function c(H,z){(z==null||z>H.length)&&(z=H.length);for(var ne=0,ue=Array(z);ne<z;ne++)ue[ne]=H[ne];return ue}function d(H,z){for(var ne=0;ne<z.length;ne++){var ue=z[ne];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(H,f(ue.key),ue)}}function f(H){var z=function(ne){if(l(ne)!="object"||!ne)return ne;var ue=ne[Symbol.toPrimitive];if(ue!==void 0){var Q=ue.call(ne,"string");if(l(Q)!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ne)}(H);return l(z)=="symbol"?z:z+""}function m(H,z,ne,ue){var Q=h(v(H.prototype),z,ne);return 2&ue&&typeof Q=="function"?function(N){return Q.apply(ne,N)}:Q}function h(){return h=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(H,z,ne){var ue=function(N,G){for(;!{}.hasOwnProperty.call(N,G)&&(N=v(N))!==null;);return N}(H,z);if(ue){var Q=Object.getOwnPropertyDescriptor(ue,z);return Q.get?Q.get.call(arguments.length<3?H:ne):Q.value}},h.apply(null,arguments)}function g(H){var z=typeof Map=="function"?new Map:void 0;return g=function(ne){if(ne===null||!function(Q){try{return Function.toString.call(Q).indexOf("[native code]")!==-1}catch{return typeof Q=="function"}}(ne))return ne;if(typeof ne!="function")throw new TypeError("Super expression must either be null or a function");if(z!==void 0){if(z.has(ne))return z.get(ne);z.set(ne,ue)}function ue(){return function(Q,N,G){if(S())return Reflect.construct.apply(null,arguments);var J=[null];J.push.apply(J,N);var Y=new(Q.bind.apply(Q,J));return G&&y(Y,G.prototype),Y}(ne,arguments,v(this).constructor)}return ue.prototype=Object.create(ne.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),y(ue,ne)},g(H)}function S(){try{var H=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!H})()}function y(H,z){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,ue){return ne.__proto__=ue,ne},y(H,z)}function v(H){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)},v(H)}var b=a(5022),_=a(8213),x=a(4450),T=a(8768).deepEqual,w=a(8260),E=a(3216),C=a(7352),D=a(2793),O=a(3305),I=a(4473),k=a(7930).populateModelSymbol,B=function(H){function z(Q,N,G,J,Y){var L,K;return function(ie,de){if(!(ie instanceof de))throw new TypeError("Cannot call a class as a function")}(this,z),w(Q)==="Object"&&(Q=Object.keys(Q).reduce(function(ie,de){return ie.concat([[de,Q[de]]])},[])),(K=function(ie,de,ye){return de=v(de),function(Te,me){if(me&&(l(me)=="object"||typeof me=="function"))return me;if(me!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}(Te)}(ie,S()?Reflect.construct(de,ye||[],v(ie).constructor):de.apply(ie,ye))}(this,z,[Q])).$__parent=G!=null&&G.$__!=null?G:null,(L=K.$__parent)!==null&&L!==void 0&&L.$isSingleNested&&K.$__parent.$basePath?(K.$__path=K.$__parent.$basePath+"."+N,K.$__pathRelativeToParent=N):Y!=null&&Y.path?(K.$__path=Y.path,K.$__pathRelativeToParent=null):(K.$__path=N,K.$__pathRelativeToParent=null),K.$__schemaType=J??new b(N),K.$__runDeferred(),K}return function(Q,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(N&&N.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),Object.defineProperty(Q,"prototype",{writable:!1}),N&&y(Q,N)}(z,H),ne=z,ue=[{key:"$init",value:function(Q,N){q(Q),m(z,"set",this,3)([Q,N]),N!=null&&N.$isSingleNested&&(N.$basePath=this.$__path+"."+Q,this.$__pathRelativeToParent!=null?N.$pathRelativeToParent=this.$__pathRelativeToParent+"."+Q:N.$pathRelativeToParent=this.$__path+"."+Q)}},{key:"$__set",value:function(Q,N){m(z,"set",this,3)([Q,N])}},{key:"get",value:function(Q,N){return O(Q,"ObjectId")&&(Q=Q.toString()),(N=N||{}).getters===!1?m(z,"get",this,3)([Q]):this.$__schemaType.applyGetters(m(z,"get",this,3)([Q]),this.$__parent)}},{key:"set",value:function(Q,N){if(O(Q,"ObjectId")&&(Q=Q.toString()),q(Q),N=E(N),this.$__schemaType==null)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:Q,value:N});var G,J,Y=this.$__parent,L=Y!=null&&Y.$__&&Y.$__.populated?Y.$populated(de.call(this),!0)||Y.$populated(this.$__path,!0):null,K=this.get(Q);if(L!=null){if(this.$__schemaType.$isSingleNested)throw new _("Cannot manually populate single nested subdoc underneath Map "+'at path "'.concat(this.$__path,'". Try using an array instead of a Map.'));Array.isArray(N)&&this.$__schemaType.$isMongooseArray?N=N.map(function(ye){return ye.$__==null&&(ye=new L.options[k](ye)),ye.$__.wasPopulated={value:ye._doc._id},ye}):N!=null&&(N.$__==null&&(N=new L.options[k](N)),N.$__.wasPopulated={value:N._doc._id})}else try{var ie=null;(this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested||this.$__schemaType.$isMongooseArray||this.$__schemaType.$isSchemaMap)&&(ie={path:de.call(this)},this.$__schemaType.$isSingleNested&&(ie.pathRelativeToParent=this.$__pathRelativeToParent!=null?this.$__pathRelativeToParent+"."+Q:this.$__path+"."+Q)),N=this.$__schemaType.applySetters(N,this.$__parent,!1,this.get(Q),ie)}catch(ye){if(this.$__parent!=null&&this.$__parent.$__!=null)return void this.$__parent.invalidate(de.call(this),ye);throw ye}function de(){return G||(G=this.$__path+"."+Q)}m(z,"set",this,3)([Q,N]),N!=null&&N.$isSingleNested&&(this.$__pathRelativeToParent!=null?N.$pathRelativeToParent=this.$__pathRelativeToParent+"."+Q:N.$pathRelativeToParent=this.$__path+"."+Q),Y==null||Y.$__==null||T(N,K)||(J=this.$__pathRelativeToParent!=null?this.$__pathRelativeToParent+"."+Q:de.call(this),Y.markModified(J),(this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested)&&I(Y,J))}},{key:"clear",value:function(){m(z,"clear",this,3)([]);var Q=this.$__parent;Q!=null&&Q.markModified(this.$__path)}},{key:"delete",value:function(Q){return O(Q,"ObjectId")&&(Q=Q.toString()),this.set(Q,void 0),m(z,"delete",this,3)([Q])}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(Q){if(Q&&Q.flattenMaps){var N,G={},J=u(this.keys());try{for(J.s();!(N=J.n()).done;){var Y=N.value;G[Y]=x(this.get(Y),Q)}}catch(L){J.e(L)}finally{J.f()}return G}return new Map(this)}},{key:"$toObject",value:function(){return this.constructor.prototype.toObject.apply(this,arguments)}},{key:"toJSON",value:function(Q){if(typeof(Q&&Q.flattenMaps)!="boolean"||Q.flattenMaps){var N,G={},J=u(this.keys());try{for(J.s();!(N=J.n()).done;){var Y=N.value;G[Y]=x(this.get(Y),Q)}}catch(L){J.e(L)}finally{J.f()}return G}return new Map(this)}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var Q,N=u(this.$__deferred);try{for(N.s();!(Q=N.n()).done;){var G=Q.value;this.set(G.key,G.value)}}catch(J){N.e(J)}finally{N.f()}this.$__deferred=null}}}],ue&&d(ne.prototype,ue),Object.defineProperty(ne,"prototype",{writable:!1}),ne;var ne,ue}(g(Map));function q(H){var z=l(H);if(z!=="string")throw new TypeError("Mongoose maps only support string keys, got ".concat(z));if(H.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(H,'"'));if(H.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(H,'"'));if(D.has(H))throw new Error('Mongoose maps do not support reserved key name "'.concat(H,'"'))}C.inspect.custom&&Object.defineProperty(B.prototype,C.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:B.prototype.inspect}),Object.defineProperty(B.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(B.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(B.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),o.exports=B},2097:(o,s,a)=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l(v)}function u(v,b){(b==null||b>v.length)&&(b=v.length);for(var _=0,x=Array(b);_<b;_++)x[_]=v[_];return x}function c(v,b,_){return(b=function(x){var T=function(w){if(l(w)!="object"||!w)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var C=E.call(w,"string");if(l(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(x);return l(T)=="symbol"?T:T+""}(b))in v?Object.defineProperty(v,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[b]=_,v}var d=a(9166),f=a(1824),m=a(3703),h=a(3696),g=a(1505),S=a(7160),y=new Set(["replaceOne","findOneAndReplace"]);o.exports=function(v,b){var _=v.childSchemas.find(function(k){return!!k.schema.options.timestamps});if(b||_){var x=h(b,"createdAt"),T=h(b,"updatedAt"),w=b!=null&&b.hasOwnProperty("currentTime")?b.currentTime:null,E={};if(v.$timestamps={createdAt:x,updatedAt:T},x&&!v.paths[x]){var C=v.base!=null?v.base.get("timestamps.createdAt.immutable"):null,D=C==null||C;E[x]=c(c({},v.options.typeKey||"type",Date),"immutable",D)}T&&!v.paths[T]&&(E[T]=Date),v.add(E),v.pre("save",function(k){var B=m(this,"$__.saveOptions.timestamps");if(B===!1)return k();g(this,B,w,x,T),k()}),v.methods.initializeTimestamps=function(){var k=w!=null?w():this.constructor.base.now();if(x&&!this.get(x)&&this.$set(x,k),T&&!this.get(T)&&this.$set(T,k),this.$isSubdocument)return this;var B,q=function(z,ne){var ue=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!ue){if(Array.isArray(z)||(ue=function(L,K){if(L){if(typeof L=="string")return u(L,K);var ie={}.toString.call(L).slice(8,-1);return ie==="Object"&&L.constructor&&(ie=L.constructor.name),ie==="Map"||ie==="Set"?Array.from(L):ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie)?u(L,K):void 0}}(z))||ne){ue&&(z=ue);var Q=0,N=function(){};return{s:N,n:function(){return Q>=z.length?{done:!0}:{done:!1,value:z[Q++]}},e:function(L){throw L},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,J=!0,Y=!1;return{s:function(){ue=ue.call(z)},n:function(){var L=ue.next();return J=L.done,L},e:function(L){Y=!0,G=L},f:function(){try{J||ue.return==null||ue.return()}finally{if(Y)throw G}}}}(this.$getAllSubdocs());try{for(q.s();!(B=q.n()).done;){var H=B.value;H.initializeTimestamps&&H.initializeTimestamps()}}catch(z){q.e(z)}finally{q.f()}return this},I[S.builtInMiddleware]=!0;var O={query:!0,model:!1};v.pre("findOneAndReplace",O,I),v.pre("findOneAndUpdate",O,I),v.pre("replaceOne",O,I),v.pre("update",O,I),v.pre("updateOne",O,I),v.pre("updateMany",O,I)}function I(k){var B=w!=null?w():this.model.base.now();y.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),f(B,x,T,this.getUpdate(),this._mongooseOptions,y.has(this.op)),d(B,this.getUpdate(),this.model.schema),k()}}},2134:(o,s,a)=>{var l=a(5832).hp;function u(O){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},u(O)}function c(O,I){var k=Object.keys(O);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(O);I&&(B=B.filter(function(q){return Object.getOwnPropertyDescriptor(O,q).enumerable})),k.push.apply(k,B)}return k}function d(O){for(var I=1;I<arguments.length;I++){var k=arguments[I]!=null?arguments[I]:{};I%2?c(Object(k),!0).forEach(function(B){f(O,B,k[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(k)):c(Object(k)).forEach(function(B){Object.defineProperty(O,B,Object.getOwnPropertyDescriptor(k,B))})}return O}function f(O,I,k){return(I=function(B){var q=function(H){if(u(H)!="object"||!H)return H;var z=H[Symbol.toPrimitive];if(z!==void 0){var ne=z.call(H,"string");if(u(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(B);return u(q)=="symbol"?q:q+""}(I))in O?Object.defineProperty(O,I,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[I]=k,O}var m=a(6365),h=a(6426),g=h.CastError,S=a(8250),y=a(4327),v=a(8768),b=a(9460),_=S.UUID_FORMAT,x=m.Binary;function T(O){var I;return typeof O!="string"&&O!=null?(I=O.toString("hex")).substring(0,8)+"-"+I.substring(8,12)+"-"+I.substring(12,16)+"-"+I.substring(16,20)+"-"+I.substring(20,32):O}function w(O,I){h.call(this,O,I,"UUID"),this.getters.push(function(k){return k!=null&&k.$__!=null?k:l.isBuffer(k)?T(k):k instanceof x?T(k.buffer):v.isPOJO(k)&&k.type==="Buffer"&&Array.isArray(k.data)?T(l.from(k.data)):k})}function E(O){return this.cast(O)}function C(O){var I=this;return O.map(function(k){return I.cast(k)})}w.schemaName="UUID",w.defaultOptions={},w.prototype=Object.create(h.prototype),w.prototype.constructor=w,w._cast=S,w.get=h.get,w.set=h.set,w.setters=[],w.cast=function(O){return arguments.length===0||(O===!1&&(O=this._defaultCaster),this._cast=O),this._cast},w._checkRequired=function(O){return O!=null},w.checkRequired=h.checkRequired,w.prototype.checkRequired=function(O){return l.isBuffer(O)&&(O=T(O)),O!=null&&_.test(O)},w.prototype.cast=function(O,I,k,B,q){if(v.isNonBuiltinObject(O)&&h._isRef(this,O,I,k))return this._castRef(O,I,k,q);var H;H=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():w.cast();try{return H(O)}catch(z){throw new g(w.schemaName,O,this.path,z,this)}};var D=d(d({},h.prototype.$conditionalHandlers),{},{$bitsAllClear:b,$bitsAnyClear:b,$bitsAllSet:b,$bitsAnySet:b,$all:C,$gt:E,$gte:E,$in:C,$lt:E,$lte:E,$ne:E,$nin:C});Object.defineProperty(w.prototype,"$conditionalHandlers",{enumerable:!1,value:D}),w.prototype.castForQuery=function(O,I,k){var B;if(O!=null){if(!(B=this.$conditionalHandlers[O]))throw new Error("Can't use "+O+" with UUID.");return B.call(this,I,k)}try{return this.applySetters(I,k)}catch(q){throw q instanceof g&&q.path===this.path&&this.$fullPath!=null&&(q.path=this.$fullPath),q}},w.prototype.toJSONSchema=function(O){var I=this.options.required&&typeof this.options.required!="function";return y("string","binData",O==null?void 0:O.useBsonType,I)},w.prototype.autoEncryptionType=function(){return"binData"},o.exports=w},2151:o=>{o.exports=Math.round},2268:o=>{o.exports=TypeError},2273:(o,s,a)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(y)}var u=a(668),c=typeof Symbol=="function"&&l(Symbol("foo"))==="symbol",d=Object.prototype.toString,f=Array.prototype.concat,m=a(6750),h=a(3191)(),g=function(y,v,b,_){if(v in y){if(_===!0){if(y[v]===b)return}else if(typeof(x=_)!="function"||d.call(x)!=="[object Function]"||!_())return}var x;h?m(y,v,b,!0):m(y,v,b)},S=function(y,v){var b=arguments.length>2?arguments[2]:{},_=u(v);c&&(_=f.call(_,Object.getOwnPropertySymbols(v)));for(var x=0;x<_.length;x+=1)g(y,_[x],v[_[x]],b[_[x]])};S.supportsDescriptors=!!h,o.exports=S},2307:(o,s,a)=>{var l=a(5832).hp;function u(E,C){var D=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);C&&(O=O.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),D.push.apply(D,O)}return D}function c(E){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?u(Object(D),!0).forEach(function(O){d(E,O,D[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(D)):u(Object(D)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(D,O))})}return E}function d(E,C,D){return(C=function(O){var I=function(k){if(f(k)!="object"||!k)return k;var B=k[Symbol.toPrimitive];if(B!==void 0){var q=B.call(k,"string");if(f(q)!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(k)}(O);return f(I)=="symbol"?I:I+""}(C))in E?Object.defineProperty(E,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[C]=D,E}function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(E)}var m=a(6365),h=a(2945),g=a(6426),S=a(4327),y=a(9460),v=a(8768),b=m.Binary,_=g.CastError;function x(E,C){g.call(this,E,C,"Buffer")}function T(E,C){return this.castForQuery(null,E,C)}x.schemaName="Buffer",x.defaultOptions={},x.prototype=Object.create(g.prototype),x.prototype.constructor=x,x.prototype.OptionsConstructor=h,x._checkRequired=function(E){return!(!E||!E.length)},x.set=g.set,x.setters=[],x.get=g.get,x.checkRequired=g.checkRequired,x.prototype.checkRequired=function(E,C){return g._isRef(this,E,C,!0)?!!E:this.constructor._checkRequired(E)},x.prototype.cast=function(E,C,D,O,I){var k;if(g._isRef(this,E,C,D)){if(E&&E.isMongooseBuffer)return E;if(l.isBuffer(E))return E&&E.isMongooseBuffer||(E=new m(E,[this.path,C]),this.options.subtype!=null&&(E._subtype=this.options.subtype)),E;if(E instanceof b){if(k=new m(E.value(!0),[this.path,C]),typeof E.sub_type!="number")throw new _("Buffer",E,this.path,null,this);return k._subtype=E.sub_type,k}if(E==null||v.isNonBuiltinObject(E))return this._castRef(E,C,D,I)}if(E&&E._id&&(E=E._id),E&&E.isMongooseBuffer)return E;if(l.isBuffer(E))return E&&E.isMongooseBuffer||(E=new m(E,[this.path,C]),this.options.subtype!=null&&(E._subtype=this.options.subtype)),E;if(E instanceof b){if(k=new m(E.value(!0),[this.path,C]),typeof E.sub_type!="number")throw new _("Buffer",E,this.path,null,this);return k._subtype=E.sub_type,k}if(E===null)return E;var B=f(E);if(B==="string"||B==="number"||Array.isArray(E)||B==="object"&&E.type==="Buffer"&&Array.isArray(E.data))return B==="number"&&(E=[E]),k=new m(E,[this.path,C]),this.options.subtype!=null&&(k._subtype=this.options.subtype),k;if(v.isPOJO(E)&&(E.$binary instanceof b||typeof E.$binary=="string")){var q=this.cast(l.from(E.$binary,"base64"));if(E.$type!=null)return q._subtype=E.$type,q}throw new _("Buffer",E,this.path,null,this)},x.prototype.subtype=function(E){return this.options.subtype=E,this};var w=c(c({},g.prototype.$conditionalHandlers),{},{$bitsAllClear:y,$bitsAnyClear:y,$bitsAllSet:y,$bitsAnySet:y,$gt:T,$gte:T,$lt:T,$lte:T});Object.defineProperty(x.prototype,"$conditionalHandlers",{enumerable:!1,value:w}),x.prototype.castForQuery=function(E,C,D){var O,I;if(E!=null){if(!(O=this.$conditionalHandlers[E]))throw new Error("Can't use "+E+" with Buffer.");return O.call(this,C)}try{I=this.applySetters(C,D)}catch(k){throw k instanceof _&&k.path===this.path&&this.$fullPath!=null&&(k.path=this.$fullPath),k}return I&&I.toObject({transform:!1,virtuals:!1})},x.prototype.toJSONSchema=function(E){var C=this.options.required&&typeof this.options.required!="function";return S("string","binData",E==null?void 0:E.useBsonType,C)},x.prototype.autoEncryptionType=function(){return"binData"},o.exports=x},2345:(o,s,a)=>{function l(w,E){var C=Object.keys(w);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(w);E&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(w,O).enumerable})),C.push.apply(C,D)}return C}function u(w){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?l(Object(C),!0).forEach(function(D){c(w,D,C[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(D){Object.defineProperty(w,D,Object.getOwnPropertyDescriptor(C,D))})}return w}function c(w,E,C){return(E=function(D){var O=function(I){if(d(I)!="object"||!I)return I;var k=I[Symbol.toPrimitive];if(k!==void 0){var B=k.call(I,"string");if(d(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(D);return d(O)=="symbol"?O:O+""}(E))in w?Object.defineProperty(w,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[E]=C,w}function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},d(w)}var f=a(3672),m=a(3731),h=a(6426),g=a(2477),S=a(4327),y=a(8260),v=a(8768),b=h.CastError;function _(w,E){h.call(this,w,E,"Date")}function x(w){return this.cast(w)}_.schemaName="Date",_.defaultOptions={},_.prototype=Object.create(h.prototype),_.prototype.constructor=_,_.prototype.OptionsConstructor=m,_._cast=g,_.set=h.set,_.setters=[],_.get=h.get,_.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},_._defaultCaster=function(w){if(w!=null&&!(w instanceof Date))throw new Error;return w},_.prototype.expires=function(w){return y(this._index)!=="Object"&&(this._index={}),this._index.expires=w,v.expires(this._index),this},_._checkRequired=function(w){return w instanceof Date},_.checkRequired=h.checkRequired,_.prototype.checkRequired=function(w,E){return d(w)==="object"&&h._isRef(this,w,E,!0)?w!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():_.checkRequired())(w)},_.prototype.min=function(w,E){if(this.minValidator&&(this.validators=this.validators.filter(function(O){return O.validator!==this.minValidator},this)),w){var C=E||f.messages.Date.min;typeof C=="string"&&(C=C.replace(/{MIN}/,w===Date.now?"Date.now()":w.toString()));var D=this;this.validators.push({validator:this.minValidator=function(O){var I=w;typeof w=="function"&&w!==Date.now&&(I=I.call(this));var k=I===Date.now?I():D.cast(I);return O===null||O.valueOf()>=k.valueOf()},message:C,type:"min",min:w})}return this},_.prototype.max=function(w,E){if(this.maxValidator&&(this.validators=this.validators.filter(function(O){return O.validator!==this.maxValidator},this)),w){var C=E||f.messages.Date.max;typeof C=="string"&&(C=C.replace(/{MAX}/,w===Date.now?"Date.now()":w.toString()));var D=this;this.validators.push({validator:this.maxValidator=function(O){var I=w;typeof I=="function"&&I!==Date.now&&(I=I.call(this));var k=I===Date.now?I():D.cast(I);return O===null||O.valueOf()<=k.valueOf()},message:C,type:"max",max:w})}return this},_.prototype.cast=function(w){var E;E=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();try{return E(w)}catch(C){throw new b("date",w,this.path,C,this)}};var T=u(u({},h.prototype.$conditionalHandlers),{},{$gt:x,$gte:x,$lt:x,$lte:x});Object.defineProperty(_.prototype,"$conditionalHandlers",{enumerable:!1,value:T}),_.prototype.castForQuery=function(w,E,C){if(w==null)try{return this.applySetters(E,C)}catch(O){throw O instanceof b&&O.path===this.path&&this.$fullPath!=null&&(O.path=this.$fullPath),O}var D=this.$conditionalHandlers[w];if(!D)throw new Error("Can't use "+w+" with Date.");return D.call(this,E)},_.prototype.toJSONSchema=function(w){var E=this.options.required&&typeof this.options.required!="function";return S("string","date",w==null?void 0:w.useBsonType,E)},_.prototype.autoEncryptionType=function(){return"date"},o.exports=_},2354:(o,s,a)=>{var l=a(6730);o.exports=Function.prototype.bind||l},2400:(o,s,a)=>{var l=a(5832).hp;function u(W){return function(le){if(Array.isArray(le))return b(le)}(W)||function(le){if(typeof Symbol<"u"&&le[Symbol.iterator]!=null||le["@@iterator"]!=null)return Array.from(le)}(W)||v(W)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(){var W,le,he=typeof Symbol=="function"?Symbol:{},ve=he.iterator||"@@iterator",be=he.toStringTag||"@@toStringTag";function _e(Xe,ut,gt,_t){var Tt=ut&&ut.prototype instanceof Ue?ut:Ue,Jt=Object.create(Tt.prototype);return d(Jt,"_invoke",function(wn,nn,Rt){var Xt,en,cn,bn=0,Un=Rt||[],an=!1,Pn={p:0,n:0,v:W,a:yt,f:yt.bind(W,4),d:function(_n,Fn){return Xt=_n,en=0,cn=W,Pn.n=Fn,Le}};function yt(_n,Fn){for(en=_n,cn=Fn,le=0;!an&&bn&&!zn&&le<Un.length;le++){var zn,Hn=Un[le],Or=Pn.p,Dr=Hn[2];_n>3?(zn=Dr===Fn)&&(cn=Hn[(en=Hn[4])?5:(en=3,3)],Hn[4]=Hn[5]=W):Hn[0]<=Or&&((zn=_n<2&&Or<Hn[1])?(en=0,Pn.v=Fn,Pn.n=Hn[1]):Or<Dr&&(zn=_n<3||Hn[0]>Fn||Fn>Dr)&&(Hn[4]=_n,Hn[5]=Fn,Pn.n=Dr,en=0))}if(zn||_n>1)return Le;throw an=!0,Fn}return function(_n,Fn,zn){if(bn>1)throw TypeError("Generator is already running");for(an&&Fn===1&&yt(Fn,zn),en=Fn,cn=zn;(le=en<2?W:cn)||!an;){Xt||(en?en<3?(en>1&&(Pn.n=-1),yt(en,cn)):Pn.n=cn:Pn.v=cn);try{if(bn=2,Xt){if(en||(_n="next"),le=Xt[_n]){if(!(le=le.call(Xt,cn)))throw TypeError("iterator result is not an object");if(!le.done)return le;cn=le.value,en<2&&(en=0)}else en===1&&(le=Xt.return)&&le.call(Xt),en<2&&(cn=TypeError("The iterator does not provide a '"+_n+"' method"),en=1);Xt=W}else if((le=(an=Pn.n<0)?cn:wn.call(nn,Pn))!==Le)break}catch(Hn){Xt=W,en=1,cn=Hn}finally{bn=1}}return{value:le,done:an}}}(Xe,gt,_t),!0),Jt}var Le={};function Ue(){}function rt(){}function Ke(){}le=Object.getPrototypeOf;var ze=[][ve]?le(le([][ve]())):(d(le={},ve,function(){return this}),le),fe=Ke.prototype=Ue.prototype=Object.create(ze);function Ge(Xe){return Object.setPrototypeOf?Object.setPrototypeOf(Xe,Ke):(Xe.__proto__=Ke,d(Xe,be,"GeneratorFunction")),Xe.prototype=Object.create(fe),Xe}return rt.prototype=Ke,d(fe,"constructor",Ke),d(Ke,"constructor",rt),rt.displayName="GeneratorFunction",d(Ke,be,"GeneratorFunction"),d(fe),d(fe,be,"Generator"),d(fe,ve,function(){return this}),d(fe,"toString",function(){return"[object Generator]"}),(c=function(){return{w:_e,m:Ge}})()}function d(W,le,he,ve){var be=Object.defineProperty;try{be({},"",{})}catch{be=0}d=function(_e,Le,Ue,rt){function Ke(ze,fe){d(_e,ze,function(Ge){return this._invoke(ze,fe,Ge)})}Le?be?be(_e,Le,{value:Ue,enumerable:!rt,configurable:!rt,writable:!rt}):_e[Le]=Ue:(Ke("next",0),Ke("throw",1),Ke("return",2))},d(W,le,he,ve)}function f(W,le,he,ve,be,_e,Le){try{var Ue=W[_e](Le),rt=Ue.value}catch(Ke){return void he(Ke)}Ue.done?le(rt):Promise.resolve(rt).then(ve,be)}function m(W){return function(){var le=this,he=arguments;return new Promise(function(ve,be){var _e=W.apply(le,he);function Le(rt){f(_e,ve,be,Le,Ue,"next",rt)}function Ue(rt){f(_e,ve,be,Le,Ue,"throw",rt)}Le(void 0)})}}function h(W,le){var he=Object.keys(W);if(Object.getOwnPropertySymbols){var ve=Object.getOwnPropertySymbols(W);le&&(ve=ve.filter(function(be){return Object.getOwnPropertyDescriptor(W,be).enumerable})),he.push.apply(he,ve)}return he}function g(W){for(var le=1;le<arguments.length;le++){var he=arguments[le]!=null?arguments[le]:{};le%2?h(Object(he),!0).forEach(function(ve){S(W,ve,he[ve])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(he)):h(Object(he)).forEach(function(ve){Object.defineProperty(W,ve,Object.getOwnPropertyDescriptor(he,ve))})}return W}function S(W,le,he){return(le=function(ve){var be=function(_e){if(_(_e)!="object"||!_e)return _e;var Le=_e[Symbol.toPrimitive];if(Le!==void 0){var Ue=Le.call(_e,"string");if(_(Ue)!="object")return Ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}(ve);return _(be)=="symbol"?be:be+""}(le))in W?Object.defineProperty(W,le,{value:he,enumerable:!0,configurable:!0,writable:!0}):W[le]=he,W}function y(W,le){var he=typeof Symbol<"u"&&W[Symbol.iterator]||W["@@iterator"];if(!he){if(Array.isArray(W)||(he=v(W))||le){he&&(W=he);var ve=0,be=function(){};return{s:be,n:function(){return ve>=W.length?{done:!0}:{done:!1,value:W[ve++]}},e:function(rt){throw rt},f:be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,Le=!0,Ue=!1;return{s:function(){he=he.call(W)},n:function(){var rt=he.next();return Le=rt.done,rt},e:function(rt){Ue=!0,_e=rt},f:function(){try{Le||he.return==null||he.return()}finally{if(Ue)throw _e}}}}function v(W,le){if(W){if(typeof W=="string")return b(W,le);var he={}.toString.call(W).slice(8,-1);return he==="Object"&&W.constructor&&(he=W.constructor.name),he==="Map"||he==="Set"?Array.from(W):he==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he)?b(W,le):void 0}}function b(W,le){(le==null||le>W.length)&&(le=W.length);for(var he=0,ve=Array(le);he<le;he++)ve[he]=W[he];return ve}function _(W){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},_(W)}var x,T,w,E=a(1417),C=a(3550).EventEmitter,D=a(4224),O=a(6365),I=a(3672),k=a(5022),B=a(6140),q=a(3441),H=a(1350),z=a(1635),ne=a(7058),ue=a(8995),Q=a(6949),N=a(9538),G=a(6814),J=a(5335),Y=a(4473),L=a(4450),K=a(2068).w,ie=a(2068).X,de=a(1226),ye=a(7430).B,Te=a(5152),me=a(791),ae=a(2692),ge=a(3216),$=a(2746),te=a(3305),oe=a(7300),Se=a(1793),Pe=a(5188),Oe=a(7352).inspect,Be=a(3303)._,Z=a(1849),ce=a(6451),xe=a(5678),Ce=a(6223),pe=a(3892),je=a(8768),Qe=a(542),Ve=je.deepEqual,Ne=je.isMongooseObject,Je=a(7930).arrayAtomicsBackupSymbol,qe=a(7930).arrayAtomicsSymbol,Ze=a(7930).documentArrayParent,Mt=a(7930).documentIsModified,Ut=a(7930).documentModifiedPaths,Ft=a(7930).documentSchemaSymbol,bt=a(7930).getSymbol,Jn=a(7930).modelSymbol,sn=a(7930).populateModelSymbol,gn=a(7930).scopeSymbol,vn=a(7160).schemaMixedSymbol,An=a(5346),Kt=a(7930).sessionNewDocuments,Mn=je.specialProperties;function et(W,le,he,ve){if(_(he)==="object"&&he!=null&&(he=(ve=he).skipId),ve=Object.assign({},ve),this.$__schema==null){var be=je.isObject(le)&&!le.instanceOfSchema?new ne(le):le;this.$__setSchema(be),le=he,he=ve,ve=arguments[4]||{}}if(this.$__=new D,ve.isNew!=null&&ve.isNew!==!0&&(this.$isNew=ve.isNew),ve.priorDoc!=null&&(this.$__.priorDoc=ve.priorDoc),he&&(this.$__.skipId=he),W!=null&&_(W)!=="object")throw new H(W,"obj","Document");var _e=!0;ve.defaults!==void 0&&(this.$__.defaults=ve.defaults,_e=ve.defaults);var Le=this.$__schema;typeof le=="boolean"||le==="throw"?(le!==!0&&(this.$__.strictMode=le),le=void 0):Le.options.strict!==!0&&(this.$__.strictMode=Le.options.strict);var Ue,rt=y(Le.requiredPaths(!0));try{for(rt.s();!(Ue=rt.n()).done;){var Ke=Ue.value;this.$__.activePaths.require(Ke)}}catch(Xe){rt.e(Xe)}finally{rt.f()}var ze=null;je.isPOJO(le)&&Object.keys(le).length>0&&(ze=Se(le),this.$__.selected=le,this.$__.exclude=ze);var fe=ze===!1&&le?G(le):null;if(this._doc==null&&(this.$__buildDoc(W,le,he,ze,fe,!1),_e&&J(this,le,ze,fe,!0,null,{skipParentChangeTracking:!0})),W&&(this.$__original_set?this.$__original_set(W,void 0,!0,ve):this.$set(W,void 0,!0,ve),W instanceof et&&(this.$isNew=W.$isNew)),ve.willInit&&_e?ve.skipDefaults&&(this.$__.skipDefaults=ve.skipDefaults):_e&&J(this,le,ze,fe,!1,ve.skipDefaults),!this.$__.strictMode&&W){var Ge=this;Object.keys(this._doc).forEach(function(Xe){Xe in Le.tree||Xe in Le.methods||Xe in Le.virtuals||Xe.startsWith("$")||ie({prop:Xe,subprops:null,prototype:Ge})})}(function(Xe){var ut=Xe.$__schema&&Xe.$__schema.callQueue;if(ut.length){var gt,_t=y(ut);try{for(_t.s();!(gt=_t.n()).done;){var Tt=gt.value;Tt[0]!=="pre"&&Tt[0]!=="post"&&Tt[0]!=="on"&&Xe[Tt[0]].apply(Xe,Tt[1])}}catch(Jt){_t.e(Jt)}finally{_t.f()}}})(this)}for(var tr in et.prototype.$isMongooseDocumentPrototype=!0,Object.defineProperty(et.prototype,"isNew",{get:function(){return this.$isNew},set:function(W){this.$isNew=W}}),Object.defineProperty(et.prototype,"errors",{get:function(){return this.$errors},set:function(W){this.$errors=W}}),et.prototype.$isNew=!0,je.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(W){et.prototype[W]=function(){if(!this.$__.emitter){if(W==="emit")return;this.$__.emitter=new C,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[W].apply(this.$__.emitter,arguments)},et.prototype["$".concat(W)]=et.prototype[W]}),et.prototype.constructor=et,C.prototype)et[tr]=C.prototype[tr];function Zt(W,le,he){if(W!=null)for(var ve=Object.keys(he.$__schema.paths),be=ve.length,_e=le.indexOf(".")===-1?[le]:le.split("."),Le=0;Le<be;++Le){var Ue="",rt=ve[Le];if(rt.startsWith(le+".")){var Ke=he.$__schema.paths[rt],ze=Ke.splitPath().slice(_e.length),fe=ze.length;if(Ke.defaultValue!==void 0)for(var Ge=W,Xe=0;Xe<fe&&Ge!=null;++Xe){var ut=ze[Xe];if(Xe===fe-1){if(Ge[ut]!==void 0)break;try{var gt=Ke.getDefault(he,!1);gt!==void 0&&(Ge[ut]=gt)}catch(_t){he.invalidate(le+"."+Ue,_t);break}break}Ue+=(Ue.length?".":"")+ut,Ge[ut]=Ge[ut]||{},Ge=Ge[ut]}}}}function $e(W,le,he,ve,be){be=be||"",le.$__!=null&&(le=le._doc);for(var _e,Le,Ue,rt=Object.keys(le),Ke=rt.length,ze=W.$__.strictMode,fe=W.$__schema,Ge=0;Ge<Ke;++Ge)if(Ue=rt[Ge],!Mn.has(Ue)&&(Le=be?be+Ue:Ue,_e=fe.path(Le),!fe.$isRootDiscriminator||W.$__isSelected(Le))){var Xe=le[Ue];if(!_e&&je.isPOJO(Xe))he[Ue]||(he[Ue]={},ze||Ue in fe.tree||Ue in fe.methods||Ue in fe.virtuals?ve!=null&&ve.virtuals&&Ue in fe.virtuals&&(W[Ue]=he[Ue]):W[Ue]=he[Ue]),$e(W,Xe,he[Ue],ve,Le+".");else if(_e){if(he.hasOwnProperty(Ue)&&Xe!==void 0&&!ve.hydratedPopulatedDocs&&delete he[Ue],Xe===null)he[Ue]=_e._castNullish(null);else if(Xe!==void 0){var ut=Xe.$__==null?null:Xe.$__.wasPopulated;if(!_e||ut||ve.hydratedPopulatedDocs)if(_e&&ve.hydratedPopulatedDocs){var gt;he[Ue]=_e.cast(Xe,W,!0,void 0,{hydratedPopulatedDocs:!0}),he[Ue]&&he[Ue].$__&&he[Ue].$__.wasPopulated?W.$populated(Le,he[Ue].$__.wasPopulated.value,he[Ue].$__.wasPopulated.options):Array.isArray(he[Ue])&&he[Ue].length&&(gt=he[Ue][0])!==null&&gt!==void 0&&(gt=gt.$__)!==null&&gt!==void 0&&gt.wasPopulated&&W.$populated(Le,he[Ue].map(function(_t){var Tt;return _t==null||(Tt=_t.$__)===null||Tt===void 0||(Tt=Tt.wasPopulated)===null||Tt===void 0?void 0:Tt.value}).filter(function(_t){return _t!=null}),he[Ue][0].$__.wasPopulated.options)}else he[Ue]=Xe;else try{ve&&ve.setters?he[Ue]=_e.applySetters(Xe,W,!1,null,ve):he[Ue]=_e.cast(Xe,W,!0,void 0,ve)}catch(_t){W.invalidate(_t.path,new N({path:_t.path,message:_t.message,type:"cast",value:_t.value,reason:_t}))}}W.$isModified(Le)||W.$__.activePaths.init(Le)}else he[Ue]=Xe,ze||be?ve!=null&&ve.virtuals&&Ue in fe.virtuals&&(W[Ue]=Xe):W[Ue]=Xe}}function qn(W){if(W==null)return!0;if(_(W)!=="object"||Array.isArray(W))return!1;for(var le=0,he=Object.keys(W);le<he.length;le++)if(!qn(W[he[le]]))return!1;return!0}function gi(W,le,he,ve){var be={};(function(Gt){var Pr=Object.keys(Gt.$__.activePaths.getStatePaths("require")),hr=0,nr=Pr.length;for(hr=0;hr<nr;++hr){var Rn=Pr[hr],Tn=Gt.$__schema.path(Rn);if(Tn!=null&&typeof Tn.originalRequiredValue=="function"){Gt.$__.cachedRequired=Gt.$__.cachedRequired||{};try{Gt.$__.cachedRequired[Rn]=Tn.originalRequiredValue.call(Gt,Gt)}catch(yi){Gt.invalidate(Rn,yi)}}}})(W);var _e=new Set(Object.keys(W.$__.activePaths.getStatePaths("require")).filter(function(Gt){return!(!W.$__isSelected(Gt)&&!W.$isModified(Gt))&&!Gt.endsWith(".$*")&&(W.$__.cachedRequired==null||!(Gt in W.$__.cachedRequired)||W.$__.cachedRequired[Gt])}));function Le(Gt){Gt.endsWith(".$*")||_e.add(Gt)}if(Object.keys(W.$__.activePaths.getStatePaths("init")).forEach(Le),Object.keys(W.$__.activePaths.getStatePaths("modify")).forEach(Le),Object.keys(W.$__.activePaths.getStatePaths("default")).forEach(Le),!ve){for(var Ue=[],rt=0,Ke=Object.keys(W.$__schema.paths);rt<Ke.length;rt++){var ze=Ke[rt],fe=W.$__schema.path(ze);if(fe.$isSingleNested){var Ge=W.$get(ze);Ge&&Ue.push(Ge)}else if(fe.$isMongooseDocumentArray){var Xe=W.$get(ze);if(Xe&&Xe.length){var ut,gt=y(Xe);try{for(gt.s();!(ut=gt.n()).done;){var _t=ut.value;_t&&Ue.push(_t)}}catch(Gt){gt.e(Gt)}finally{gt.f()}}}}for(var Tt=W.modifiedPaths(),Jt=0,wn=Ue;Jt<wn.length;Jt++){var nn=wn[Jt];if(nn.$basePath){var Rt,Xt=nn.$__pathRelativeToParent(),en=y(nn.modifiedPaths());try{for(en.s();!(Rt=en.n()).done;){var cn=Rt.value;_e.delete(Xt+"."+cn)}}catch(Gt){en.e(Gt)}finally{en.f()}var bn=nn.$parent();if(bn==null)throw new Error("Cannot validate subdocument that does not have a parent");!W.$isModified(Xt,null,Tt)||bn.$__.activePaths.getStatePaths("modify").hasOwnProperty(Xt)||bn.$isDefault(Xt)||(_e.add(Xt),W.$__.pathsToScopes==null&&(W.$__.pathsToScopes={}),W.$__.pathsToScopes[Xt]=nn.$isDocumentArrayElement?nn.__parentArray:nn.$parent(),be[Xt]={skipSchemaValidators:!0},nn.$isDocumentArrayElement&&nn.__index!=null&&(be[Xt].index=nn.__index))}}}var Un,an=y(_e);try{for(an.s();!(Un=an.n()).done;){var Pn=Un.value,yt=W.$__schema.path(Pn);if(yt){if(yt.$isMongooseDocumentArray){var _n,Fn=y(_e);try{for(Fn.s();!(_n=Fn.n()).done;){var zn=_n.value;(zn==null||zn.startsWith(yt.path+"."))&&_e.delete(zn)}}catch(Gt){Fn.e(Gt)}finally{Fn.f()}}(yt.caster||yt.validators.length!==0||yt.$parentSchemaDocArray)&&(!yt.$isMongooseArray||yt.$isMongooseDocumentArray||yt.$embeddedSchemaType.$isMongooseArray||yt.validators.length!==0||yt.$embeddedSchemaType.validators.length!==0)||_e.delete(Pn)}}}catch(Gt){an.e(Gt)}finally{an.f()}Array.isArray(le)?_e=function(Gt,Pr){var hr,nr=new Set(Pr),Rn=new Map([]),Tn=y(Pr);try{for(Tn.s();!(hr=Tn.n()).done;){var yi=hr.value;if(yi.indexOf(".")!==-1)for(var Br=yi.split("."),Ko=Br[0],eo=1;eo<Br.length;++eo)Rn.set(Ko,yi),Ko=Ko+"."+Br[eo]}}catch(gl){Tn.e(gl)}finally{Tn.f()}var Co,Pi=new Set,Hr=y(Gt);try{for(Hr.s();!(Co=Hr.n()).done;){var Oo=Co.value;nr.has(Oo)?Pi.add(Oo):Rn.has(Oo)&&Pi.add(Rn.get(Oo))}}catch(gl){Hr.e(gl)}finally{Hr.f()}return Pi}(_e,le):Array.isArray(he)&&(_e=function(Gt,Pr){return Pr=new Set(Pr),Gt=Array.from(Gt).filter(function(hr){return!Pr.has(hr)}),new Set(Gt)}(_e,he)),function(Gt,Pr){var hr,nr=y(Pr);try{for(nr.s();!(hr=nr.n()).done;){var Rn=hr.value,Tn=Gt.$__schema.path(Rn);Tn&&Tn.$isMongooseArray&&(Array.isArray(Tn)||!Tn.$isMongooseDocumentArray||Tn&&Tn.schemaOptions&&Tn.schemaOptions.required)&&(!Tn.$isMongooseArray||Tn.$isMongooseDocumentArray||Tn.$embeddedSchemaType.$isMongooseArray||Tn.$embeddedSchemaType.validators.length!==0)&&jn(Gt.$__getValue(Rn),Pr,Rn)}}catch(yi){nr.e(yi)}finally{nr.f()}}(W,_e);var Hn,Or={skipArrays:!0},Dr=y(_e);try{for(Dr.s();!(Hn=Dr.n()).done;){var Yo=Hn.value;if(W.$__schema.nested[Yo]){var Ji=W.$__getValue(Yo);Ne(Ji)&&(Ji=Ji.toObject({transform:!1}));var Ao=ye(Ji,Yo,Or,W.$__schema);Object.keys(Ao).filter(function(Gt){return!W.$__schema.singleNestedPaths.hasOwnProperty(Gt)}).forEach(Le)}}}catch(Gt){Dr.e(Gt)}finally{Dr.f()}var qr,cr=y(_e);try{for(cr.s();!(qr=cr.n()).done;){var Lr=qr.value,pr=W.$__schema.path(Lr);if(pr&&(pr.$parentSchemaDocArray&&typeof pr.$parentSchemaDocArray.path=="string"&&_e.add(pr.$parentSchemaDocArray.path),pr.$isSchemaMap)){var $r=W.$__getValue(Lr);if($r!=null){var Wn,br=y($r.keys());try{for(br.s();!(Wn=br.n()).done;){var wi=Wn.value;_e.add(Lr+"."+wi)}}catch(Gt){br.e(Gt)}finally{br.f()}}}}}catch(Gt){cr.e(Gt)}finally{cr.f()}return[_e=Array.from(_e),be]}function jn(W,le,he){if(W!=null)for(var ve=W.length,be=0;be<ve;++be)Array.isArray(W[be])?jn(W[be],le,he+"."+be):le.add(he+"."+be)}function Ie(W,le,he,ve){var be,_e,Le,Ue=W.$__schema,rt=Ue.virtuals,Ke=Object.keys(rt),ze=Ke.length,fe=ze,Ge=W._doc,Xe=typeof(ve&&ve.aliases)!="boolean"||ve.aliases;he=he||{};var ut=null;if(Array.isArray(he.virtuals))ut=new Set(he.virtuals);else if(he.virtuals&&he.virtuals.pathsToSkip){ut=new Set(Ke);for(var gt=0;gt<he.virtuals.pathsToSkip.length;gt++)ut.has(he.virtuals.pathsToSkip[gt])&&ut.delete(he.virtuals.pathsToSkip[gt])}if(!Ge)return le;for(ze=0;ze<fe;++ze)if(be=Ke[ze],(ut==null||ut.has(be))&&(Xe||!Ue.aliases.hasOwnProperty(be))){if(_e=be,he.path!=null){if(!be.startsWith(he.path+"."))continue;_e=be.substring(he.path.length+1)}if(_e.indexOf(".")!==-1||_e!==be){var _t=_e.split(".");if((Le=L(W.get(be),he))!==void 0){var Tt=_t.length;Ge=le;for(var Jt=0;Jt<Tt-1;++Jt)Ge[_t[Jt]]=Ge[_t[Jt]]||{},Ge=Ge[_t[Jt]];Ge[_t[Tt-1]]=Le}}else{if((Le=rt[be].applyGetters(void 0,W))===void 0)continue;Le=L(Le,he),le[_e]=Le}}return le}function We(W,le){if(Qe(le))throw new Error("`transform` function must be synchronous, but the transform on path `"+W+"` returned a promise.")}function tt(W,le,he){var ve=W.$populated(le,!0);if(!ve&&W.$__.selected){var be=le.split(".")[0];if(W.$__.selected[be+".$"])return be}if(ve&&je.isMongooseArray(he)&&(ve.options.match||ve.options.options&&je.object.hasOwnProperty(ve.options.options,"limit")||ve.options.options&&ve.options.options.skip||ve.options.select&&(ve.options.select._id===0||/\s?-_id\s?/.test(ve.options.select)))){var _e=he[qe];if(Object.keys(_e).length===0||_e.$set||_e.$pop)return le}}function at(W,le,he,ve,be,_e){if(_e||(_e="$set"),he[_e]||(he[_e]={}),he[_e][ve.path]=be,W.$__schema.options.versionKey!==!1&&!function(Le,Ue){var rt=Le.$__schema.options.skipVersioning;return!!rt&&rt[Ue=Ue.replace(/\.\d+\./,".")]}(W,ve.path)&&3&~W.$__.version&&!W.$__schema.options.optimisticConcurrency){switch(_e){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}_e==="$push"||_e==="$addToSet"||_e==="$pullAll"||_e==="$pull"?/\.\d+\.|\.\d+$/.test(ve.path)?W.$__.version=3:W.$__.version=2:/^\$p/.test(_e)||Array.isArray(be)?W.$__.version=3:/\.\d+\.|\.\d+$/.test(ve.path)&&(W.$__.version=1)}}function mt(W,le,he,ve,be){if(!he.$set||!he.$set[ve.path])if(typeof be.$__getAtomics!="function"){var _e,Le,Ue=be[qe],rt=Object.keys(Ue),Ke=rt.length;if(Ke===0)return je.isMongooseObject(be)?be=be.toObject({depopulate:1,_isNested:!0}):be.valueOf&&(be=be.valueOf()),at(W,0,he,ve,be);for(;Ke--;)_e=Ue[Le=rt[Ke]],je.isMongooseObject(_e)?_e=_e.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(_e)?_e=_e.map(ze):_e.valueOf&&(_e=_e.valueOf()),Le==="$addToSet"&&(_e={$each:_e}),at(W,0,he,ve,_e,Le)}else be.$__getAtomics().forEach(function(fe){var Ge=fe[0],Xe=fe[1];at(W,0,he,ve,Xe,Ge)});function ze(fe){return je.isMongooseObject(fe)?fe.toObject({depopulate:1,_isNested:!0}):fe}}et.prototype.$__schema,et.prototype.schema,Object.defineProperty(et.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(W){this.$__.locals=W}}),et.prototype.isNew,Object.defineProperty(et.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),et.prototype.id,et.prototype.$errors,Object.defineProperty(et.prototype,"$op",{get:function(){return this.$__.op||null},set:function(W){this.$__.op=W}}),et.prototype.$__buildDoc=function(W,le,he,ve,be){for(var _e={},Le=Object.keys(this.$__schema.paths).filter(function(Jt){return!Jt.includes("$*")}),Ue=Le.length,rt=0;rt<Ue;++rt){var Ke=Le[rt];if(!(Ke==="_id"&&(he||W&&"_id"in W)))for(var ze=this.$__schema.paths[Ke].splitPath(),fe=ze.length,Ge=fe-1,Xe="",ut=_e,gt=!1,_t=0;_t<fe;++_t){var Tt=ze[_t];if(Xe.length?Xe+="."+Tt:Xe=Tt,ve===!0){if(Xe in le)break}else if(ve===!1&&le&&!gt){if(Xe in le)gt=!0;else if(!be[Xe])break}_t<Ge&&(ut=ut[Tt]||(ut[Tt]={}))}}this._doc=_e},et.prototype.toBSON=function(){return this.toObject(Be)},et.prototype.init=function(W,le,he){return typeof le=="function"&&(he=le,le=null),this.$__init(W,le),he&&he(null,this),this},et.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)},et.prototype.$__init=function(W,le){if(this.$isNew=!1,le=le||{},W._id!=null&&le.populated&&le.populated.length){var he,ve=String(W._id),be=y(le.populated);try{for(be.s();!(he=be.n()).done;){var _e=he.value;if(_e.isVirtual?this.$populated(_e.path,je.getValue(_e.path,W),_e):this.$populated(_e.path,_e._docs[ve],_e),_e._childDocs!=null){var Le,Ue=y(_e._childDocs);try{for(Ue.s();!(Le=Ue.n()).done;){var rt=Le.value;rt!=null&&rt.$__!=null&&(rt.$__.parent=this)}}catch(ze){Ue.e(ze)}finally{Ue.f()}_e._childDocs=[]}}}catch(ze){be.e(ze)}finally{be.f()}}$e(this,W,this._doc,le),Z(this,le.populated),this.$emit("init",this),this.constructor.emit("init",this);var Ke=this.$__.exclude===!1&&this.$__.selected?G(this.$__.selected):null;return J(this,this.$__.selected,this.$__.exclude,Ke,!1,this.$__.skipDefaults),this},et.prototype.updateOne=function(W,le,he){var ve=this.constructor.updateOne({_id:this._doc._id},W,le),be=this;return ve.pre(function(_e){be.constructor._middleware.execPre("updateOne",be,[be],_e)}),ve.post(function(_e){be.constructor._middleware.execPost("updateOne",be,[be],{},_e)}),this.$session()!=null&&("session"in ve.options||(ve.options.session=this.$session())),he!=null?ve.exec(he):ve},et.prototype.replaceOne=function(){var W=Array.prototype.slice.call(arguments);return W.unshift({_id:this._doc._id}),this.constructor.replaceOne.apply(this.constructor,W)},et.prototype.$session=function(W){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(W!=null&&W.hasEnded)throw new I("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(W!=null||this.$__.session!=null){if(this.$__.session=W,!this.$isSubdocument){var le,he=y(this.$getAllSubdocs());try{for(he.s();!(le=he.n()).done;)le.value.$session(W)}catch(ve){he.e(ve)}finally{he.f()}}return W}},et.prototype.$timestamps=function(W){return arguments.length===0?this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0:(W!==this.$timestamps()&&(this.$__.timestamps=W),this)},et.prototype.overwrite=function(W){for(var le=0,he=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(W))));le<he.length;le++){var ve=he[le];ve!=="_id"&&(this.$__schema.options.versionKey&&ve===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&ve===this.$__schema.options.discriminatorKey||this.$set(ve,W[ve]))}return this},et.prototype.$set=function(W,le,he,ve){var be=this;je.isPOJO(he)&&(ve=he,he=void 0);var _e,Le,Ue,rt,Ke=ve&&ve.merge,ze=he&&he!==!0,fe=he===!0,Ge=0,Xe=ve&&"strict"in ve,ut=Xe?ve.strict:this.$__.strictMode;if(ze&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[W]=this.$__schema.interpretAsType(W,he,this.$__schema.options)),W==null){var gt=[le,W];W=gt[0],le=gt[1]}else if(typeof W!="string"){if(W instanceof et&&(W=W.$__isNested?W.toObject():W.$__schema===this.$__schema?Ie(W,g({},W._doc)):W._doc),W==null){var _t=[le,W];W=_t[0],le=_t[1]}rt=le?le+".":"";var Tt=(_e=me(this.$__schema,W)).length,Jt=ve&&ve._skipMinimizeTopLevel||!1;if(Tt===0&&Jt)return delete ve._skipMinimizeTopLevel,le&&this.$set(le,{}),this;ve=Object.assign({},ve,{_skipMinimizeTopLevel:!1});for(var wn=0;wn<Tt;++wn){Ue=_e[wn];var nn=rt?rt+Ue:Ue;Le=this.$__schema.pathType(nn);var Rt=W[Ue];if(he!==!0||rt||Rt==null||Le!=="nested"||this._doc[Ue]==null||delete this._doc[Ue],je.isNonBuiltinObject(Rt)&&Le==="nested")this.$set(nn,Rt,fe,ve),Zt(this.$get(nn),nn,this);else if(ut){if(fe&&Rt===void 0&&this.$get(nn)!==void 0)continue;if(Le==="adhocOrUndefined"&&(Le=Te(this,nn,{typeOnly:!0})),Le==="real"||Le==="virtual")this.$set(nn,Rt,fe,ve);else if(Le==="nested"&&Rt instanceof et)this.$set(nn,Rt.toObject({transform:!1}),fe,ve);else{if(ut==="throw")throw Le==="nested"?new q(Ue,Rt):new ue(Ue);Le==="nested"&&Rt==null&&this.$set(nn,Rt,fe,ve)}}else this.$set(nn,Rt,fe,ve)}for(var Xt={},en=Object.keys(this.$__schema.tree),cn=0,bn=en.length;cn<bn;++cn)(Ue=en[cn])&&this._doc.hasOwnProperty(Ue)&&(Xt[Ue]=void 0);return this._doc=Object.assign(Xt,this._doc),this}var Un=this.$__schema.pathType(W),an=null;if(Un==="adhocOrUndefined"&&(an=W.indexOf(".")===-1?[W]:W.split("."),Un=Te(this,an,{typeOnly:!0})),Un==="adhocOrUndefined"&&!Xe){an==null&&(an=W.indexOf(".")===-1?[W]:W.split("."));var Pn=ae(this.$__schema,an);Pn!==void 0&&(ut=Pn)}le=ge(le,!0);var yt,_n=be.$__.priorDoc!=null?be.$__.priorDoc.$__getValue(W):fe?void 0:be.$__getValue(W);if(Un==="nested"&&le){if(_(le)==="object"&&le!=null){if(le.$__!=null&&(le=le.toObject(Be)),le==null)return this.invalidate(W,new I.CastError("Object",le,W)),this;var Fn=this.$isModified(W),zn=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(W);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(W)){var Hn=this.$__getValue(W);this.$__.savedState[W]=Hn;for(var Or=0,Dr=Object.keys(Hn||{});Or<Dr.length;Or++){var Yo=Dr[Or];this.$__.savedState[W+"."+Yo]=Hn[Yo]}}if(Ke)return this.$set(le,W,fe,ve);this.$__setValue(W,null),Y(this,W);var Ji=me(this.$__schema,le,W);this.$__setValue(W,{});var Ao,qr=y(Ji);try{for(qr.s();!(Ao=qr.n()).done;){var cr=Ao.value;this.$set(W+"."+cr,le[cr],fe,g(g({},ve),{},{_skipMarkModified:!0}))}}catch(Ae){qr.e(Ae)}finally{qr.f()}return _n==null||Fn&&!zn||!je.deepEqual(zn?this.$__.savedState[W]:_n,le)?this.markModified(W):this.unmarkModified(W),this}return this.invalidate(W,new I.CastError("Object",le,W)),this}if(an==null&&(an=W.indexOf(".")===-1?[W]:W.split(".")),typeof this.$__schema.aliases[an[0]]=="string"&&(an[0]=this.$__schema.aliases[an[0]]),Un==="adhocOrUndefined"&&ut){var Lr;for(Ge=0;Ge<an.length;++Ge){var pr=an.slice(0,Ge+1).join(".");if(Ge+1<an.length&&this.$__schema.pathType(pr)==="virtual")return xe.set(W,le,this),this;if((yt=this.$__schema.path(pr))!=null){if(yt instanceof k){Lr=!0;break}if(yt.$isSchemaMap&&yt.$__schemaType instanceof k&&Ge<an.length-1){Lr=!0,yt=yt.$__schemaType;break}}}if(yt==null&&(yt=Te(this,W)),!Lr&&!yt){if(ut==="throw")throw new ue(W);return this}}else{if(Un==="virtual")return(yt=this.$__schema.virtualpath(W)).applySetters(le,this),this;yt=this.$__path(W)}var $r,Wn=this._doc,br="";for(Ge=0;Ge<an.length-1;++Ge)Wn=Wn instanceof Map?Wn.get(an[Ge]):Wn[an[Ge]],br+=(br.length!==0?".":"")+an[Ge],Wn||(this.$set(br,{}),this.$__isSelected(br)||this.unmarkModified(br),Wn=this.$__getValue(br));if(an.length<=1)$r=W;else{var wi=an.length;for(Ge=0;Ge<wi;++Ge){var Gt=an.slice(0,Ge+1).join(".");if(this.$get(Gt,null,{getters:!1})===null){$r=Gt;break}}$r||($r=W)}if(!yt)return this.$__set($r,W,ve,fe,an,yt,le,_n),Un==="nested"&&le==null&&Y(this,W),this;if((yt.$isSingleNested||yt.$isMongooseArray)&&function(Ae,Fe){if(Ae.$__.validationError){for(var dt=0,ct=Object.keys(Ae.$__.validationError.errors);dt<ct.length;dt++){var He=ct[dt];He.startsWith(Fe+".")&&delete Ae.$__.validationError.errors[He]}Object.keys(Ae.$__.validationError.errors).length===0&&(Ae.$__.validationError=null)}}(this,W),le!=null&&Ke&&yt.$isSingleNested){le instanceof et&&(le=le.toObject({virtuals:!1,transform:!1}));for(var Pr=0,hr=Object.keys(le);Pr<hr.length;Pr++){var nr=hr[Pr];this.$set(W+"."+nr,le[nr],fe,ve)}return this}var Rn=!0;try{var Tn,yi=function(){if(yt.options==null||!(le instanceof et))return!1;var Ae=le.constructor,Fe=typeof yt.options.ref!="function"||yt.options.ref[Jn]?yt.options.ref:yt.options.ref.call(be,be),dt=(Fe==null?void 0:Fe.modelName)||Fe;if(dt!=null&&(dt===Ae.modelName||dt===Ae.baseModelName))return!0;var ct=yt.options.refPath;if(ct==null)return!1;var He=le.get(ct);return He===Ae.modelName||He===Ae.baseModelName}(),Br=!1;if(yi&&le instanceof et&&(!le.$__.wasPopulated||je.deepEqual(le.$__.wasPopulated.value,le._doc._id))){var Ko=yt&&yt.$isSingleNested?yt.cast(le,this):le._doc._id;this.$populated(W,Ko,S({},sn,le.constructor)),le.$__.wasPopulated={value:Ko},Br=!0}var eo=this.$__schema.options.typeKey;if(yt.options&&Array.isArray(yt.options[eo])&&yt.options[eo].length&&yt.options[eo][0]&&yt.options[eo][0].ref&&function(Ae,Fe){if(!Array.isArray(Ae)||Ae.length===0)return!1;var dt,ct=y(Ae);try{for(ct.s();!(dt=ct.n()).done;){var He=dt.value;if(!(He instanceof et)||He.constructor.modelName==null||He.constructor.modelName!=Fe&&He.constructor.baseModelName!=Fe)return!1}}catch(Vt){ct.e(Vt)}finally{ct.f()}return!0}(le,yt.options[eo][0].ref)){Tn=S({},sn,le[0].constructor),this.$populated(W,le.map(function(Ae){return Ae._doc._id}),Tn);var Co,Pi=y(le);try{for(Pi.s();!(Co=Pi.n()).done;){var Hr=Co.value;Hr.$__.wasPopulated={value:Hr._doc._id}}}catch(Ae){Pi.e(Ae)}finally{Pi.f()}Br=!0}if(!yi||!yt.$isSingleNested||!le.$__){var Oo=this;this.$__schema.singleNestedPaths[W]!=null&&an.length>1&&(Oo=An(this,an,this.schema)),le=ve!=null&&ve.overwriteImmutable?yt.applySetters(le,Oo,!1,_n,{path:W,overwriteImmutable:!0}):yt.applySetters(le,Oo,!1,_n,{path:W})}if(Array.isArray(le)&&!Array.isArray(yt)&&yt.$isMongooseDocumentArray&&le.length!==0&&le[0]!=null&&le[0].$__!=null&&le[0].$__.populated!=null){for(var gl=Object.keys(le[0].$__.populated),Gf=function(){var Ae=Xu[Xl];be.$populated(W+"."+Ae,le.map(function(Fe){return Fe.$populated(Ae)}),le[0].$__.populated[Ae].options)},Xl=0,Xu=gl;Xl<Xu.length;Xl++)Gf();Br=!0}if(!Br&&this.$__.populated){if(Array.isArray(le)&&this.$__.populated[W])for(var yl=0;yl<le.length;++yl)le[yl]instanceof et&&le.set(yl,le[yl]._doc._id,!0);delete this.$__.populated[W]}le!=null&&yt.$isSingleNested&&function(Ae,Fe,dt){var ct=Fe.schema;if(ct!=null)for(var He=0,Vt=Object.keys(ct.paths);He<Vt.length;He++){var St=Vt[He],it=ct.paths[St];if(it.$immutableSetter!=null){var vt=dt==null?void 0:dt.$__getValue(St);it.$immutableSetter.call(Ae,vt)}}}(le,yt,_n),this.$markValid(W)}catch(Ae){Ae instanceof I.StrictModeError&&Ae.isImmutableError?this.invalidate(W,Ae):Ae instanceof I.CastError?(this.invalidate(Ae.path,Ae),Ae.$originalErrorPath&&this.invalidate(W,new I.CastError(yt.instance,le,W,Ae.$originalErrorPath))):this.invalidate(W,new I.CastError(yt.instance,le,W,Ae)),Rn=!1}if(Rn){var Zu,Zl=null,j=null;if(!fe){var A=this.$isSubdocument?this.ownerDocument():this;Zl=A.$__.savedState,j=this.$isSubdocument?this.$__.fullPath+"."+W:W,A.$__saveInitialState(j)}this.$__set($r,W,ve,fe,an,yt,le,_n);var re=!((Zu=this.$__.session)===null||Zu===void 0||!Zu.transaction),ee=this.$__.session&&this.$__.session[Kt]&&this.$__.session[Kt].has(this)&&this.$__.session[Kt].get(this).modifiedPaths&&!this.$__.session[Kt].get(this).modifiedPaths.has(j);Zl!=null&&Zl.hasOwnProperty(j)&&(!re||ee)&&je.deepEqual(le,Zl[j])&&this.unmarkModified(W)}return(yt.$isSingleNested&&(this.isDirectModified(W)||le==null)||yt.$isSchemaMap&&le==null)&&Y(this,W),this},et.prototype.set=et.prototype.$set,et.prototype.$__shouldModify=function(W,le,he,ve,be,_e,Le,Ue){return!(he&&he._skipMarkModified||!this.$isNew&&!(le in this.$__.activePaths.getStatePaths("modify"))&&(Le!==void 0||this.$__isSelected(le))&&(Le===void 0&&le in this.$__.activePaths.getStatePaths("default")||this.$populated(le)&&Le instanceof et&&Ve(Le._doc._id,Ue)||Ve(Le,Ue!==void 0?Ue:je.getValue(le,this))&&(ve||Le==null||!(le in this.$__.activePaths.getStatePaths("default"))||!Ve(Le,_e.getDefault(this,ve)))))},et.prototype.$__set=function(W,le,he,ve,be,_e,Le,Ue){w=w||a(6547);var rt=this.$__shouldModify(W,le,he,ve,be,_e,Le,Ue);rt?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[le]&&(delete this.$__.primitiveAtomics[le],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(W),T||(T=a(7557)),Le&&je.isMongooseArray(Le)&&(Le._registerAtomic("$set",Le),je.isMongooseDocumentArray(Le)&&Le.forEach(function(_t){_t&&_t.__parentArray&&(_t.__parentArray=Le)}))):Array.isArray(Le)&&Array.isArray(Ue)&&je.isMongooseArray(Le)&&je.isMongooseArray(Ue)&&(Le[qe]=Ue[qe],Le[Je]=Ue[Je],je.isMongooseDocumentArray(Le)&&Le.forEach(function(_t){_t!=null&&(_t.$isNew=!1)}));for(var Ke=this._doc,ze=0,fe=be.length,Ge="";ze<fe;ze++){var Xe=ze+1===fe;if(Ge+=Ge?"."+be[ze]:be[ze],!Mn.has(be[ze]))if(Xe)Ke instanceof Map?Ke.set(be[ze],Le):Ke.$isSingleNested?(be[ze]in Ke||(Ke[be[ze]]=Le),Ke._doc[be[ze]]=Le,rt&&Ke.markModified(be[ze])):Ke[be[ze]]=Le;else{var ut=Ke instanceof Map,gt=ut?Ke.get(be[ze]):Ke[be[ze]];je.isPOJO(gt)||gt&&gt instanceof w||gt&&!Array.isArray(gt)&&gt.$isSingleNested||gt&&Array.isArray(gt)||gt==null&&(gt={},ut?Ke.set(be[ze],gt):Ke[be[ze]]=gt),Ke=gt}}},et.prototype.$__getValue=function(W){if(typeof W!="string"&&!Array.isArray(W))throw new TypeError('Invalid `path`. Must be either string or array. Got "'.concat(W,'" (type ').concat(_(W),")"));return je.getValue(W,this._doc)},et.prototype.$inc=function(W,le){var he=this;if(le==null&&(le=1),Array.isArray(W))return W.forEach(function(rt){return he.$inc(rt,le)}),this;var ve=this.$__path(W);if(ve==null){if(this.$__.strictMode==="throw")throw new ue(W);if(this.$__.strictMode===!0)return this}else if(ve.instance!=="Number")return this.invalidate(W,new I.CastError(ve.instance,le,W)),this;var be=this.$__getValue(W)||0,_e=!1,Le=null,Ue=le;try{le=ve.cast(le),Ue=(Le=ve.applySetters(be+le,this))-be,_e=!0}catch(rt){this.invalidate(W,new I.CastError("number",le,W,rt))}return _e&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[W]==null?this.$__.primitiveAtomics[W]={$inc:Ue}:this.$__.primitiveAtomics[W].$inc+=Ue,this.markModified(W),this.$__setValue(W,Le)),this},et.prototype.$__setValue=function(W,le){return je.setValue(W,le,this._doc),this},et.prototype.get=function(W,le,he){var ve;he==null&&(he={}),le&&(ve=this.$__schema.interpretAsType(W,le,this.$__schema.options));var be=he.noDottedPath,_e=be?this.$__schema.paths[W]:this.$__path(W);if(_e==null&&(_e=this.$__schema.virtualpath(W))!=null)return _e.applyGetters(void 0,this);if(be){var Le=this._doc[W];return ve&&(Le=ve.cast(Le)),_e!=null&&he.getters!==!1?_e.applyGetters(Le,this):Le}if(_e!=null&&_e.instance==="Mixed"){var Ue=this.$__schema.virtualpath(W);Ue!=null&&(_e=Ue)}var rt=W.indexOf(".")!==-1,Ke=this._doc,ze=rt?W.split("."):[W];typeof this.$__schema.aliases[ze[0]]=="string"&&(ze[0]=this.$__schema.aliases[ze[0]]);for(var fe=0,Ge=ze.length;fe<Ge;fe++)Ke&&Ke._doc&&(Ke=Ke._doc),Ke=Ke==null?void 0:Ke instanceof Map?Ke.get(ze[fe],{getters:!1}):fe===Ge-1?je.getValue(ze[fe],Ke):Ke[ze[fe]];if(ve&&(Ke=ve.cast(Ke)),_e!=null&&he.getters!==!1)Ke=_e.applyGetters(Ke,this);else if(this.$__schema.nested[W]&&he.virtuals)return Ie(this,L(Ke)||{},{path:W});return Ke},et.prototype[bt]=et.prototype.get,et.prototype.$get=et.prototype.get,et.prototype.$__path=function(W){var le=this.$__.adhocPaths;return(le&&le.hasOwnProperty(W)?le[W]:null)||this.$__schema.path(W)},et.prototype.markModified=function(W,le){this.$__saveInitialState(W),this.$__.activePaths.modify(W),le==null||this.$isSubdocument||(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[W]=le)},et.prototype.$__saveInitialState=function(W){var le=this.$__.savedState,he=W;if(le!=null){var ve=he.indexOf("."),be=ve===-1?he:he.slice(0,ve);le.hasOwnProperty(be)||(le[be]=L(this.$__getValue(be)))}},et.prototype.unmarkModified=function(W){this.$__.activePaths.init(W),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[W]},et.prototype.$ignore=function(W){this.$__.activePaths.ignore(W)},et.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))},et.prototype.$isEmpty=function(W){var le={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){var he=this.$get(W);return he==null||_(he)==="object"&&(je.isPOJO(he)?qn(he):Object.keys(he.toObject(le)).length===0)}return Object.keys(this.toObject(le)).length===0},et.prototype.modifiedPaths=function(W){W=W||{};var le=Object.keys(this.$__.activePaths.getStatePaths("modify")),he=new Set,ve=0,be=0,_e=le.length;for(ve=0;ve<_e;++ve){var Le=le[ve],Ue=Ce(Le),rt=Ue.length;for(be=0;be<rt;++be)he.add(Ue[be]);if(W.includeChildren){var Ke=0,ze=this.$get(Le);if(_(ze)==="object"&&ze!==null){ze._doc&&(ze=ze._doc);var fe=ze.length;if(Array.isArray(ze))for(Ke=0;Ke<fe;++Ke){var Ge=Le+"."+Ke;if(!he.has(Ge)&&(he.add(Ge),ze[Ke]!=null&&ze[Ke].$__)){var Xe=ze[Ke].modifiedPaths(),ut=0,gt=Xe.length;for(ut=0;ut<gt;++ut)he.add(Ge+"."+Xe[ut])}}else{var _t=Object.keys(ze),Tt=0,Jt=_t.length;for(Tt=0;Tt<Jt;++Tt)he.add(Le+"."+_t[Tt])}}}}return Array.from(he)},et.prototype[Ut]=et.prototype.modifiedPaths,et.prototype.isModified=function(W,le,he){var ve=this;if(W){var be=le&&le.ignoreAtomics,_e=this.$__.activePaths.states.modify;if(_e==null)return!1;typeof W=="string"&&(W=W.indexOf(" ")===-1?[W]:W.split(" "));var Le,Ue=y(W);try{for(Ue.s();!(Le=Ue.n()).done;)if(_e[Le.value]!=null)return!0}catch(fe){Ue.e(fe)}finally{Ue.f()}var rt=he||this[Ut](),Ke=W.some(function(fe){return!!~rt.indexOf(fe)}),ze=Object.keys(_e);return be&&(ze=ze.filter(function(fe){var Ge=ve.$__getValue(fe);return Ge==null||Ge[qe]==null||Ge[qe].$set!==void 0})),Ke||W.some(function(fe){return ze.some(function(Ge){return Ge===fe||fe.startsWith(Ge+".")})})}return this.$__.activePaths.some("modify")},et.prototype.$isModified=et.prototype.isModified,et.prototype[Mt]=et.prototype.isModified,et.prototype.$isDefault=function(W){var le=this;if(W==null)return this.$__.activePaths.some("default");if(typeof W=="string"&&W.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(W);var he=W;return Array.isArray(he)||(he=he.split(" ")),he.some(function(ve){return le.$__.activePaths.getStatePaths("default").hasOwnProperty(ve)})},et.prototype.$isDeleted=function(W){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!W,this)},et.prototype.isDirectModified=function(W){var le=this;if(W==null)return this.$__.activePaths.some("modify");if(typeof W=="string"&&W.indexOf(" ")===-1){var he=this.$__.activePaths.getStatePaths("modify").hasOwnProperty(W);if(he||W.indexOf(".")===-1)return he;for(var ve=W.split("."),be=0;be<ve.length-1;++be){var _e=ve.slice(0,be+1).join("."),Le=this.$get(_e);if(Le!=null&&Le.$__!=null&&Le.isDirectModified(ve.slice(be+1).join(".")))return!0}return!1}var Ue=W;return typeof Ue=="string"&&(Ue=Ue.split(" ")),Ue.some(function(rt){return le.isDirectModified(rt)})},et.prototype.isInit=function(W){var le=this;if(W==null)return this.$__.activePaths.some("init");if(typeof W=="string"&&W.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(W);var he=W;return Array.isArray(he)||(he=he.split(" ")),he.some(function(ve){return le.$__.activePaths.getStatePaths("init").hasOwnProperty(ve)})},et.prototype.isSelected=function(W){var le=this;if(this.$__.selected==null)return!0;if(!W)return!1;if(W==="_id")return this.$__.selected._id!==0;if(W.indexOf(" ")!==-1&&(W=W.split(" ")),Array.isArray(W))return W.some(function(fe){return le.$__isSelected(fe)});var he=Object.keys(this.$__.selected),ve=null;if(he.length===1&&he[0]==="_id")return this.$__.selected._id===0;for(var be=0,_e=he;be<_e.length;be++){var Le=_e[be];if(Le!=="_id"&&oe(this.$__.selected[Le])){ve=!!this.$__.selected[Le];break}}if(ve===null)return!0;if(W in this.$__.selected)return ve;for(var Ue=W+".",rt=0,Ke=he;rt<Ke.length;rt++){var ze=Ke[rt];if(ze!=="_id"){if(ze.startsWith(Ue))return ve||ze!==Ue;if(Ue.startsWith(ze+"."))return ve}}return!ve},et.prototype.$__isSelected=et.prototype.isSelected,et.prototype.isDirectSelected=function(W){var le=this;if(this.$__.selected==null)return!0;if(W==="_id")return this.$__.selected._id!==0;if(W.indexOf(" ")!==-1&&(W=W.split(" ")),Array.isArray(W))return W.some(function(Ue){return le.isDirectSelected(Ue)});var he=Object.keys(this.$__.selected),ve=null;if(he.length===1&&he[0]==="_id")return this.$__.selected._id===0;for(var be=0,_e=he;be<_e.length;be++){var Le=_e[be];if(Le!=="_id"&&oe(this.$__.selected[Le])){ve=!!this.$__.selected[Le];break}}return ve===null||(this.$__.selected.hasOwnProperty(W)?ve:!ve)},et.prototype.validate=function(){var W=m(c().m(function le(he,ve){var be,_e,Le=this,Ue=arguments;return c().w(function(rt){for(;;)switch(rt.n){case 0:if(typeof he!="function"&&typeof ve!="function"&&typeof Ue[2]!="function"){rt.n=1;break}throw new I("Document.prototype.validate() no longer accepts a callback");case 1:if(this.$op="validate",Ue.length===1&&(_(Ue[0])!=="object"||Array.isArray(Ue[0])||(ve=Ue[0],he=null)),ve&&typeof ve.pathsToSkip=="string"&&(be=ve.pathsToSkip.indexOf(" ")===-1,ve.pathsToSkip=be?[ve.pathsToSkip]:ve.pathsToSkip.split(" ")),_e=ve&&ve._skipParallelValidateCheck,this.$isSubdocument==null){rt.n=2;break}rt.n=4;break;case 2:if(!this.$__.validating||_e){rt.n=3;break}throw new z(this);case 3:_e||(this.$__.validating=!0);case 4:return rt.a(2,new Promise(function(Ke,ze){Le.$__validate(he,ve,function(fe){if(Le.$op=null,Le.$__.validating=null,fe!=null)return ze(fe);Ke()})}))}},le,this)}));return function(le,he){return W.apply(this,arguments)}}(),et.prototype.$validate=et.prototype.validate,et.prototype.$__validate=function(W,le,he){var ve,be=this;this.$__.saveOptions&&this.$__.saveOptions.pathsToSave&&!W?W=u(this.$__.saveOptions.pathsToSave):typeof W=="function"?(he=W,le=null,W=null):typeof le=="function"&&(he=le,le=null);var _e,Le=le&&_(le)==="object"&&"validateModifiedOnly"in le,Ue=le&&le.pathsToSkip||null;_e=Le?!!le.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var rt=le&&le.validateAllPaths;if(rt){if(Ue)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(W)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");if(Le&&_e)throw new TypeError("Cannot set both `validateAllPaths` and `validateModifiedOnly`")}var Ke,ze,fe=this,Ge=function(){var yt=be.$__.validationError;if(be.$__.validationError=null,be.$__.validating=null,_e&&yt!=null){for(var _n=0,Fn=Object.keys(yt.errors);_n<Fn.length;_n++){var zn=Fn[_n];be.$isModified(zn)||delete yt.errors[zn]}Object.keys(yt.errors).length===0&&(yt=void 0)}if(be.$__.cachedRequired={},be.$emit("validate",fe),be.constructor.emit("validate",fe),yt){for(var Hn in yt.errors)!be[Ze]&&yt.errors[Hn]instanceof I.CastError&&be.invalidate(Hn,yt.errors[Hn]);return yt}};if(rt){var Xe,ut=y(Ke=new Set(Object.keys(this.$__schema.paths)));try{for(ut.s();!(Xe=ut.n()).done;){var gt=Xe.value,_t=this.$__schema.path(gt);if(_t&&_t.$isMongooseArray){var Tt=this.$__getValue(gt);Tt&&jn(Tt,Ke,gt)}}}catch(yt){ut.e(yt)}finally{ut.f()}Ke=u(Ke),ze={}}else{var Jt=gi(this,W,Ue,le&&le._nestedValidate);Ke=_e?Jt[0].filter(function(yt){return be.$isModified(yt)}):Jt[0],ze=Jt[1]}if(typeof W=="string"&&(W=W.split(" ")),Ke.length===0)return $(function(){var yt=Ge();if(yt)return fe.$__schema.s.hooks.execPost("validate:error",fe,[fe],{error:yt},function(_n){he(_n)});he(null,fe)});var wn={},nn=0,Rt=(ve=this.$__.saveOptions)===null||ve===void 0?void 0:ve.pathsToSave;if(Array.isArray(Rt)){Rt=new Set(Rt);var Xt,en=y(Ke);try{for(en.s();!(Xt=en.n()).done;){var cn=Xt.value;Rt.has(cn)&&an(cn)}}catch(yt){en.e(yt)}finally{en.f()}}else{var bn,Un=y(Ke);try{for(Un.s();!(bn=Un.n()).done;)an(bn.value)}catch(yt){Un.e(yt)}finally{Un.f()}}function an(yt){yt==null||wn[yt]||(wn[yt]=!0,nn++,$(function(){var _n=fe.$__schema.path(yt);if(!_n)return--nn||Pn();if(fe.$isValid(yt)){if(_n[vn]!=null&&yt!==_n.path)return--nn||Pn();var Fn,zn=fe.$__getValue(yt);(Fn=fe.$populated(yt))?zn=Fn:zn!=null&&zn.$__!=null&&zn.$__.wasPopulated&&(zn=zn._doc._id);var Hn=fe.$__.pathsToScopes!=null&&yt in fe.$__.pathsToScopes?fe.$__.pathsToScopes[yt]:fe,Or=g(g({},ze[yt]),{},{path:yt,validateAllPaths:rt,_nestedValidate:!0});_n.doValidate(zn,function(Dr){if(Dr){if((_n.$isSingleNested||_n.$isArraySubdocument||_n.$isMongooseDocumentArray)&&Dr instanceof Q)return--nn||Pn();fe.invalidate(yt,Dr,void 0,!0)}--nn||Pn()},Hn,Or)}else--nn||Pn()}))}function Pn(){var yt=Ge();if(yt)return fe.$__schema.s.hooks.execPost("validate:error",fe,[fe],{error:yt},function(_n){he(_n)});he(null,fe)}},et.prototype.validateSync=function(W,le){var he,ve=this,be=this;arguments.length!==1||_(arguments[0])!=="object"||Array.isArray(arguments[0])||(le=arguments[0],W=null),he=le&&_(le)==="object"&&"validateModifiedOnly"in le?!!le.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var _e,Le,Ue=le&&le.pathsToSkip,rt=le&&le.validateAllPaths;if(rt){if(Ue)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(W)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`")}if(typeof W=="string"){var Ke=W.indexOf(" ")===-1;W=Ke?[W]:W.split(" ")}else typeof Ue=="string"&&Ue.indexOf(" ")!==-1&&(Ue=Ue.split(" "));if(rt){var ze,fe=y(_e=new Set(Object.keys(this.$__schema.paths)));try{for(fe.s();!(ze=fe.n()).done;){var Ge=ze.value,Xe=this.$__schema.path(Ge);if(Xe&&Xe.$isMongooseArray){var ut=this.$__getValue(Ge);ut&&jn(ut,_e,Ge)}}}catch(bn){fe.e(bn)}finally{fe.f()}_e=u(_e),Le={}}else{var gt=gi(this,W,Ue);_e=he?gt[0].filter(function(bn){return ve.$isModified(bn)}):gt[0],Le=gt[1]}for(var _t={},Tt=0,Jt=_e.length;Tt<Jt;++Tt){var wn=_e[Tt];if(!_t[wn]){_t[wn]=!0;var nn=be.$__schema.path(wn);if(nn&&be.$isValid(wn)){var Rt=be.$__getValue(wn),Xt=nn.doValidateSync(Rt,be,{skipSchemaValidators:Le[wn],path:wn,validateModifiedOnly:he,validateAllPaths:rt});if(Xt){if((nn.$isSingleNested||nn.$isArraySubdocument||nn.$isMongooseDocumentArray)&&Xt instanceof Q)continue;be.invalidate(wn,Xt,void 0,!0)}}}}var en=be.$__.validationError;if(be.$__.validationError=void 0,be.$emit("validate",be),be.constructor.emit("validate",be),en)for(var cn in en.errors)en.errors[cn]instanceof I.CastError&&be.invalidate(cn,en.errors[cn]);return en},et.prototype.invalidate=function(W,le,he,ve){if(this.$__.validationError||(this.$__.validationError=new Q(this)),!this.$__.validationError.errors[W])return le&&typeof le!="string"||(le=new N({path:W,message:le,type:ve||"user defined",value:he})),this.$__.validationError===le||this.$__.validationError.addError(W,le),this.$__.validationError},et.prototype.$markValid=function(W){this.$__.validationError&&this.$__.validationError.errors[W]&&(delete this.$__.validationError.errors[W],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))},et.prototype.$isValid=function(W){var le=this;return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0||W!=null&&(W.indexOf(" ")!==-1&&(W=W.split(" ")),Array.isArray(W)?W.some(function(he){return le.$__.validationError.errors[he]==null}):this.$__.validationError.errors[W]==null)},et.prototype.$__reset=function(){var W,le=this.$isSubdocument?null:this.$getAllSubdocs({useCache:!0});if(le&&le.length>0){var he,ve=y(le);try{for(ve.s();!(he=ve.n()).done;)he.value.$__reset()}catch(be){ve.e(be)}finally{ve.f()}}return this.$__dirty().forEach(function(be){var _e=be.value;_e&&_e[qe]&&(_e[Je]=_e[qe],_e[qe]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,W=this,this.$__schema.requiredPaths().forEach(function(be){W.$__.activePaths.require(be)}),this},et.prototype.$__undoReset=function(){if(this.$__.backup!=null&&this.$__.backup.activePaths!=null){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;var W,le=y(this.$__dirty());try{for(le.s();!(W=le.n()).done;){var he=W.value.value;he&&he[qe]&&he[Je]&&(he[qe]=he[Je])}}catch(_e){le.e(_e)}finally{le.f()}if(!this.$isSubdocument){var ve,be=y(this.$getAllSubdocs());try{for(be.s();!(ve=be.n()).done;)ve.value.$__undoReset()}catch(_e){be.e(_e)}finally{be.f()}}}},et.prototype.$__dirty=function(){var W=this,le=this.$__.activePaths.map("modify",function(be){return{path:be,value:W.$__getValue(be),schema:W.$__path(be)}});le=le.concat(this.$__.activePaths.map("default",function(be){if(be!=="_id"&&W.$__getValue(be)!=null)return{path:be,value:W.$__getValue(be),schema:W.$__path(be)}}));var he=new Map(le.filter(function(be){return be!=null}).map(function(be){return[be.path,be.value]})),ve=[];return le.forEach(function(be){if(be){for(var _e=null,Le=Ce(be.path),Ue=0;Ue<Le.length-1;Ue++)if(he.has(Le[Ue])){_e=he.get(Le[Ue]);break}_e==null?ve.push(be):_e!=null&&_e[qe]!=null&&_e.hasAtomics()&&(_e[qe]={},_e[qe].$set=_e)}}),ve},et.prototype.$__setSchema=function(W){K(W.tree,this,void 0,W.options);for(var le=0,he=Object.keys(W.virtuals);le<he.length;le++){var ve=he[le];W.virtuals[ve]._applyDefaultGetters()}W.path("schema")==null&&(this.schema=W),this.$__schema=W,this[Ft]=W},et.prototype.$__getArrayPathsToValidate=function(){return x||(x=a(4878)),this.$__.activePaths.map("init","modify",(function(W){return this.$__getValue(W)}).bind(this)).filter(function(W){return W&&Array.isArray(W)&&je.isMongooseDocumentArray(W)&&W.length}).reduce(function(W,le){return W.concat(le)},[]).filter(function(W){return W})},et.prototype.$getAllSubdocs=function(W){var le;if(W!=null&&W.useCache&&(le=this.$__.saveOptions)!==null&&le!==void 0&&le.__subdocs)return this.$__.saveOptions.__subdocs;x||(x=a(4878)),w=w||a(6547);var he=[];return function ve(be){var _e,Le=[],Ue=y(be.$__schema.childSchemas);try{for(Ue.s();!(_e=Ue.n()).done;){var rt=_e.value.model,Ke=be.$__getValue(rt.path);if(Ke!=null){if(Ke.$__&&Le.push(Ke),Array.isArray(Ke)){var ze,fe=y(Ke);try{for(fe.s();!(ze=fe.n()).done;){var Ge=ze.value;Ge!=null&&Ge.$__&&Le.push(Ge)}}catch(Jt){fe.e(Jt)}finally{fe.f()}}if(Ke instanceof Map){var Xe,ut=y(Ke.values());try{for(ut.s();!(Xe=ut.n()).done;){var gt=Xe.value;gt!=null&&gt.$__&&Le.push(gt)}}catch(Jt){ut.e(Jt)}finally{ut.f()}}}}}catch(Jt){Ue.e(Jt)}finally{Ue.f()}for(var _t=0,Tt=Le;_t<Tt.length;_t++)ve(Tt[_t]);he.push.apply(he,Le)}(this),this.$__.saveOptions&&(this.$__.saveOptions.__subdocs=he),he},et.prototype.$__handleReject=function(W){this.$listeners("error").length?this.$emit("error",W):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",W)},et.prototype.$toObject=function(W,le){var he,ve,be,_e,Le,Ue,rt,Ke,ze,fe,Ge,Xe,ut,gt,_t,Tt=this.$__schema._defaultToObjectOptions(le),Jt=this.$__hasOnlyPrimitiveValues();(W=je.isPOJO(W)?g({},W):{})._calledWithOptions=W._calledWithOptions||g({},W),_t=W._calledWithOptions.minimize!=null?W.minimize:((he=this.$__schemaTypeOptions)===null||he===void 0?void 0:he.minimize)!=null?this.$__schemaTypeOptions.minimize:Tt!=null&&Tt.minimize!=null?Tt.minimize:this.$__schema.options.minimize,W.minimize=_t,Jt||(W._seen=W._seen||new Map);var wn=(ve=(be=(_e=W._calledWithOptions.depopulate)!==null&&_e!==void 0?_e:Tt==null?void 0:Tt.depopulate)!==null&&be!==void 0?be:W.depopulate)!==null&&ve!==void 0&&ve;if(wn&&W._isNested&&this.$__.wasPopulated)return L(this.$__.wasPopulated.value||this._doc._id,W);if(wn&&(W.depopulate=!0),Tt!=null)for(var nn=0,Rt=Object.keys(Tt);nn<Rt.length;nn++){var Xt=Rt[nn];W[Xt]==null&&(W[Xt]=Tt[Xt])}W._isNested=!0,W.json=le,W.minimize=_t;var en=W._parentOptions;W._parentOptions=this.$isSubdocument?W:null;var cn,bn=(Le=(Ue=(rt=W._calledWithOptions.schemaFieldsOnly)!==null&&rt!==void 0?rt:W.schemaFieldsOnly)!==null&&Ue!==void 0?Ue:Tt.schemaFieldsOnly)!==null&&Le!==void 0&&Le;if(Jt&&!W.flattenObjectIds)cn=this.$__toObjectShallow(bn);else if(bn){cn={};for(var Un=0,an=Object.keys(this.$__schema.paths);Un<an.length;Un++){var Pn=an[Un],yt=this.$__getValue(Pn);if(yt!==void 0){var _n=Pn,Fn=cn;if(Pn.indexOf(".")!==-1){var zn=Pn.split(".");_n=zn[zn.length-1];for(var Hn=0;Hn<zn.length-1;++Hn){var Or;Fn[zn[Hn]]=(Or=Fn[zn[Hn]])!==null&&Or!==void 0?Or:{},Fn=Fn[zn[Hn]]}}Fn[_n]=yt!==null?L(yt,W):null}}}else cn=L(this._doc,W)||{};var Dr=(Ke=(ze=(fe=W._calledWithOptions.getters)!==null&&fe!==void 0?fe:W.getters)!==null&&ze!==void 0?ze:Tt.getters)!==null&&Ke!==void 0&&Ke;Dr&&(function(cr,Lr){var pr,$r,Wn=cr.$__schema,br=Object.keys(Wn.paths),wi=br.length,Gt=cr._doc;if(!Gt)return Lr;for(;wi--;){var Pr=(pr=br[wi]).split("."),hr=Pr.length,nr=hr-1,Rn=Lr,Tn=void 0;if(Gt=cr._doc,cr.$__isSelected(pr))for(var yi=0;yi<hr&&($r=Gt[Tn=Pr[yi]],Rn==null||_(Rn)==="object");++yi){if(yi===nr){if(Rn[Tn]=Wn.paths[pr].applyGetters(Rn[Tn],cr),Array.isArray(Rn[Tn])&&Wn.paths[pr].$embeddedSchemaType)for(var Br=0;Br<Rn[Tn].length;++Br)Rn[Tn][Br]=Wn.paths[pr].$embeddedSchemaType.applyGetters(Rn[Tn][Br],cr)}else{if($r==null){Tn in Gt&&(Rn[Tn]=$r);break}Rn=Rn[Tn]||(Rn[Tn]={})}Gt=$r}}}(this,cn),W.minimize&&(cn=ce(cn)||{}));var Yo=(Ge=(Xe=(ut=W._calledWithOptions.virtuals)!==null&&ut!==void 0?ut:Tt.virtuals)!==null&&Xe!==void 0?Xe:en==null?void 0:en.virtuals)!==null&&Ge!==void 0?Ge:void 0;(Yo||Dr&&Yo!==!1)&&Ie(this,cn,W,W),W.versionKey===!1&&this.$__schema.options.versionKey&&delete cn[this.$__schema.options.versionKey];var Ji=(gt=W._calledWithOptions.transform)===null||gt===void 0||gt,Ao=void 0;if(Ji===!0?Ao=Tt.transform:typeof Ji=="function"&&(Ao=Ji),Ji&&function(cr,Lr){var pr=cr.$__schema,$r=Object.keys(pr.paths||{});if(!cr._doc)return Lr;for(var Wn=0,br=$r;Wn<br.length;Wn++){var wi,Gt,Pr,hr,nr,Rn=br[Wn],Tn=pr.paths[Rn],yi=(wi=Tn.options.transform)!==null&&wi!==void 0?wi:(Gt=Tn.constructor)===null||Gt===void 0||(Gt=Gt.defaultOptions)===null||Gt===void 0?void 0:Gt.transform,Br=(Pr=(hr=Tn.$embeddedSchemaType)===null||hr===void 0||(hr=hr.options)===null||hr===void 0?void 0:hr.transform)!==null&&Pr!==void 0?Pr:(nr=Tn.$embeddedSchemaType)===null||nr===void 0||(nr=nr.constructor)===null||nr===void 0||(nr=nr.defaultOptions)===null||nr===void 0?void 0:nr.transform;if(typeof yi=="function"){var Ko=cr.$get(Rn);if(Ko===void 0)continue;var eo=yi.call(cr,Ko);We(Rn,eo),je.setValue(Rn,eo,Lr)}else if(typeof Br=="function"){var Co=cr.$get(Rn);if(Co===void 0)continue;for(var Pi=[].concat(Co),Hr=0;Hr<Pi.length;++Hr){var Oo=Br.call(cr,Pi[Hr]);Pi[Hr]=Oo,We(Rn,Oo)}Lr[Rn]=Pi}}}(this,cn),W.useProjection&&function(cr,Lr){var pr=cr.$__schema,$r=Object.keys(pr.paths||{});if(!cr._doc)return Lr;var Wn=cr.$__.selected;if(Wn===void 0&&(Wn={},pe.applyPaths(Wn,pr)),Wn==null||Object.keys(Wn).length===0)return Lr;for(var br=0,wi=$r;br<wi.length;br++){var Gt=wi[br];Wn[Gt]==null||Wn[Gt]||delete Lr[Gt]}}(this,cn),typeof Ao=="function"){var qr=Ao(this,cn,W);qr!==void 0&&(cn=qr)}return cn},et.prototype.$__toObjectShallow=function(W){var le={};if(this._doc!=null){var he,ve=y(Object.keys(W?this.$__schema.paths:this._doc));try{for(ve.s();!(he=ve.n()).done;){var be=he.value,_e=this._doc[be];_e instanceof Date?le[be]=new Date(_e):_e!==void 0&&(le[be]=_e)}}catch(Le){ve.e(Le)}finally{ve.f()}}return le},et.prototype.toObject=function(W){return this.$toObject(W)},et.prototype.toJSON=function(W){return this.$toObject(W,!0)},et.prototype.ownerDocument=function(){return this},et.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this},et.prototype.$parent=et.prototype.parent,et.prototype.inspect=function(W){var le;je.isPOJO(W)&&((le=W).minimize=!1);var he=arguments.length>0?this.toObject(le):this.toObject();return he??"MongooseDocument { "+he+" }"},Oe.custom&&(et.prototype[Oe.custom]=et.prototype.inspect),et.prototype.toString=function(){var W=this.inspect();return typeof W=="string"?W:Oe(W)},et.prototype.equals=function(W){if(!W)return!1;var le=this.$__getValue("_id"),he=W.$__!=null?W.$__getValue("_id"):W;return le||he?le&&le.equals?le.equals(he):le===he:Ve(this,W)},et.prototype.populate=function(){var W=m(c().m(function le(){var he,ve,be,_e,Le,Ue,rt,Ke,ze,fe,Ge=arguments;return c().w(function(Xe){for(;;)switch(Xe.n){case 0:if(he={},typeof(ve=Array.prototype.slice.call(Ge))[ve.length-1]!="function"){Xe.n=1;break}throw new I("Document.prototype.populate() no longer accepts a callback");case 1:if(ve.length!==0){be=je.populate.apply(null,ve),_e=y(be);try{for(_e.s();!(Le=_e.n()).done;)Ue=Le.value,he[Ue.path]=Ue}catch(ut){_e.e(ut)}finally{_e.f()}}return rt=je.object.vals(he),Ke=this.constructor,this.$__isNested&&(Ke=this.$__[gn].constructor,ze=this.$__.nestedPath,rt.forEach(function(ut){ut.path=ze+"."+ut.path})),this.$session()!=null&&(fe=this.$session(),rt.forEach(function(ut){ut.options!=null?"session"in ut.options||(ut.options.session=fe):ut.options={session:fe}})),rt.forEach(function(ut){ut._localModel=Ke}),Xe.a(2,Ke.populate(this,rt))}},le,this)}));return function(){return W.apply(this,arguments)}}(),et.prototype.$getPopulatedDocs=function(){var W=[];this.$__.populated!=null&&(W=W.concat(Object.keys(this.$__.populated)));var le,he=[],ve=y(W);try{for(ve.s();!(le=ve.n()).done;){var be=le.value,_e=this.$get(be);Array.isArray(_e)?he=he.concat(_e):_e instanceof et&&he.push(_e)}}catch(Le){ve.e(Le)}finally{ve.f()}return he},et.prototype.populated=function(W,le,he){if(le==null||le===!0){if(!this.$__.populated||typeof W!="string")return;var ve=W.endsWith(".$*")?W.replace(/\.\$\*$/,""):W,be=this.$__.populated[ve];return be?le===!0?be:be.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[W]={value:le,options:he};for(var _e=W.split("."),Le=0;Le<_e.length-1;++Le){var Ue=_e.slice(0,Le+1).join("."),rt=this.$get(Ue);if(rt!=null&&rt.$__!=null&&this.$populated(Ue)){var Ke=_e.slice(Le+1).join(".");rt.$populated(Ke,le,he);break}}return le},et.prototype.$populated=et.prototype.populated,et.prototype.$assertPopulated=function(W,le){var he=this;if(Array.isArray(W))return W.forEach(function(ve){return he.$assertPopulated(ve,le)}),this;if(arguments.length>1&&this.$set(le),!this.$populated(W))throw new I('Expected path "'.concat(W,'" to be populated'));return this},et.prototype.depopulate=function(W){var le;typeof W=="string"&&(W=W.indexOf(" ")===-1?[W]:W.split(" "));var he=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],ve=this.$__&&this.$__.populated||{};if(arguments.length===0){var be,_e=y(he);try{for(_e.s();!(be=_e.n()).done;){var Le=be.value;delete this.$$populatedVirtuals[Le],delete this._doc[Le],delete ve[Le]}}catch(Rt){_e.e(Rt)}finally{_e.f()}for(var Ue=0,rt=Object.keys(ve);Ue<rt.length;Ue++){var Ke=rt[Ue];if(le=this.$populated(Ke))if(delete ve[Ke],Array.isArray(le)){var ze=je.getValue(Ke,this._doc);if(ze.isMongooseArray)for(var fe=ze.__array,Ge=0;Ge<fe.length;++Ge){var Xe=fe[Ge];Xe!=null&&(fe[Ge]=Xe instanceof et?Xe._doc._id:Xe._id)}else je.setValue(Ke,le,this._doc)}else je.setValue(Ke,le,this._doc)}return this}var ut,gt=y(W);try{for(gt.s();!(ut=gt.n()).done;){var _t=ut.value;if(le=this.$populated(_t),delete ve[_t],he.indexOf(_t)!==-1)delete this.$$populatedVirtuals[_t],delete this._doc[_t];else if(le)if(Array.isArray(le)){var Tt=je.getValue(_t,this._doc);if(Tt.isMongooseArray)for(var Jt=Tt.__array,wn=0;wn<Jt.length;++wn){var nn=Jt[wn];nn!=null&&(Jt[wn]=nn instanceof et?nn._doc._id:nn._id)}else je.setValue(_t,le,this._doc)}else je.setValue(_t,le,this._doc)}}catch(Rt){gt.e(Rt)}finally{gt.f()}return this},et.prototype.$__fullPath=function(W){return W||""},et.prototype.getChanges=function(){var W=this.$__delta();return W?W[1]:{}},et.prototype.$__delta=function(){var W=this,le=this.$__dirty(),he=this.$__schema.options.optimisticConcurrency;if(he)if(Array.isArray(he)){var ve=new Set(he);this.modifiedPaths().find(function(_t){return ve.has(_t)})&&(this.$__.version=le.length?3:1)}else this.$__.version=le.length?3:1;if(le.length||this.$__.version===3){var be={},_e={},Le=le.length,Ue=[],rt=0;for(be._id=this._doc._id,(be&&be._id&&be._id.$__||null)!=null&&(be._id=be._id.toObject({transform:!1,depopulate:!0}));rt<Le;++rt){var Ke=le[rt],ze=Ke.value,fe=tt(this,Ke.path,ze);if(fe)Ue.push(fe);else{if(!this.$populated(Ke.path,!0)&&this.$__.selected){var Ge=Ke.path.split("."),Xe=Ge[0];if(this.$__.selected[Xe]&&this.$__.selected[Xe].$elemMatch){if(!(Ge.length>1&&Ge[1]==0&&be[Xe]===void 0)){Ue.push(Ke.path);continue}be[Xe]=this.$__.selected[Xe],Ge[1]="$",Ke.path=Ge.join(".")}}if(this.$isDefault(Ke.path)&&this.$__.selected&&(Ke.path.indexOf(".")===-1&&Pe(this.$__.selected,Ke.path)||Ce(Ke.path).find(function(_t){return Pe(W.$__.isSelected,_t)})))continue;if(!Ue.length)if(ze===void 0)at(this,0,_e,Ke,1,"$unset");else if(ze===null)at(this,0,_e,Ke,null);else if(je.isMongooseArray(ze)&&ze.$path()&&ze[qe])mt(this,0,_e,Ke,ze);else if(ze[O.pathSymbol]&&l.isBuffer(ze))at(this,0,_e,Ke,ze=ze.toObject());else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Ke.path]!=null){var ut=this.$__.primitiveAtomics[Ke.path],gt=de(ut);at(this,0,_e,Ke,ut[gt],gt)}else at(this,0,_e,Ke,ze=L(ze,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}))}}return Ue.length?new E(Ue):(this.$__.version&&this.$__version(be,_e),Object.keys(_e).length===0?[be,null]:[be,_e])}},et.prototype.$clone=function(){var W=new this.constructor;if(W.$isNew=this.$isNew,this._doc&&(W._doc=L(this._doc,{retainDocuments:!0})),this.$__){var le,he=new this.$__.constructor,ve=y(Object.getOwnPropertyNames(this.$__));try{for(ve.s();!(le=ve.n()).done;){var be=le.value;be!=="activePaths"&&(he[be]=L(this.$__[be]))}}catch(_e){ve.e(_e)}finally{ve.f()}Object.assign(he.activePaths,L(g({},this.$__.activePaths))),W.$__=he}return W},et.prototype.$createModifiedPathsSnapshot=function(){var W=new WeakMap;if(!this.$isSubdocument){var le,he=y(this.$getAllSubdocs());try{for(he.s();!(le=he.n()).done;){var ve=le.value;W.set(ve,ve.$__.activePaths.clone())}}catch(be){he.e(be)}finally{he.f()}}return new B(W,this.$__.activePaths.clone(),this.$__.version)},et.prototype.$restoreModifiedPathsSnapshot=function(W){if(this.$__.activePaths=W.activePaths.clone(),this.$__.version=W.version,!this.$isSubdocument){var le,he=y(this.$getAllSubdocs());try{for(he.s();!(le=he.n()).done;){var ve=le.value;W.subdocSnapshot.has(ve)&&(ve.$__.activePaths=W.subdocSnapshot.get(ve))}}catch(be){he.e(be)}finally{he.f()}}return this},et.prototype.$clearModifiedPaths=function(){if(this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("init"),this.$__.version=0,!this.$isSubdocument){var W,le=y(this.$getAllSubdocs());try{for(le.s();!(W=le.n()).done;)W.value.$clearModifiedPaths()}catch(he){le.e(he)}finally{le.f()}}return this},et.prototype.$__hasOnlyPrimitiveValues=function(){return!this.$__.populated&&!this.$__.wasPopulated&&(this._doc==null||Object.values(this._doc).every(function(W){return W==null||_(W)!=="object"||je.isNativeObject(W)&&!Array.isArray(W)||te(W,"ObjectId")||te(W,"Decimal128")}))},et.VERSION_WHERE=1,et.VERSION_INC=2,et.VERSION_ALL=3,et.ValidationError=Q,o.exports=et},2401:o=>{o.exports=Math.floor},2402:(o,s,a)=>{function l(Y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},l(Y)}function u(Y){return u=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(L){return l(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":l(L)},u(Y)}var c,d,f=a(3743).codes,m=f.ERR_AMBIGUOUS_ARGUMENT,h=f.ERR_INVALID_ARG_TYPE,g=f.ERR_INVALID_ARG_VALUE,S=f.ERR_INVALID_RETURN_VALUE,y=f.ERR_MISSING_ARGS,v=a(9068),b=a(7352).inspect,_=a(7352).types,x=_.isPromise,T=_.isRegExp,w=Object.assign?Object.assign:a(6182).assign,E=Object.is?Object.is:a(2064);function C(){var Y=a(6193);c=Y.isDeepEqual,d=Y.isDeepStrictEqual}var D=!1,O=o.exports=q,I={};function k(Y){throw Y.message instanceof Error?Y.message:new v(Y)}function B(Y,L,K,ie){if(!K){var de=!1;if(L===0)de=!0,ie="No value argument passed to `assert.ok()`";else if(ie instanceof Error)throw ie;var ye=new v({actual:K,expected:!0,message:ie,operator:"==",stackStartFn:Y});throw ye.generatedMessage=de,ye}}function q(){for(var Y=arguments.length,L=new Array(Y),K=0;K<Y;K++)L[K]=arguments[K];B.apply(void 0,[q,L.length].concat(L))}O.fail=function Y(L,K,ie,de,ye){var Te,me=arguments.length;if(me===0?Te="Failed":me===1?(ie=L,L=void 0):(D===!1&&(D=!0,({}.emitWarning?{}.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),me===2&&(de="!=")),ie instanceof Error)throw ie;var ae={actual:L,expected:K,operator:de===void 0?"fail":de,stackStartFn:ye||Y};ie!==void 0&&(ae.message=ie);var ge=new v(ae);throw Te&&(ge.message=Te,ge.generatedMessage=!0),ge},O.AssertionError=v,O.ok=q,O.equal=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");L!=K&&k({actual:L,expected:K,message:ie,operator:"==",stackStartFn:Y})},O.notEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");L==K&&k({actual:L,expected:K,message:ie,operator:"!=",stackStartFn:Y})},O.deepEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");c===void 0&&C(),c(L,K)||k({actual:L,expected:K,message:ie,operator:"deepEqual",stackStartFn:Y})},O.notDeepEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");c===void 0&&C(),c(L,K)&&k({actual:L,expected:K,message:ie,operator:"notDeepEqual",stackStartFn:Y})},O.deepStrictEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");c===void 0&&C(),d(L,K)||k({actual:L,expected:K,message:ie,operator:"deepStrictEqual",stackStartFn:Y})},O.notDeepStrictEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");c===void 0&&C(),d(L,K)&&k({actual:L,expected:K,message:ie,operator:"notDeepStrictEqual",stackStartFn:Y})},O.strictEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");E(L,K)||k({actual:L,expected:K,message:ie,operator:"strictEqual",stackStartFn:Y})},O.notStrictEqual=function Y(L,K,ie){if(arguments.length<2)throw new y("actual","expected");E(L,K)&&k({actual:L,expected:K,message:ie,operator:"notStrictEqual",stackStartFn:Y})};var H=function Y(L,K,ie){var de=this;(function(ye,Te){if(!(ye instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,Y),K.forEach(function(ye){ye in L&&(ie!==void 0&&typeof ie[ye]=="string"&&T(L[ye])&&L[ye].test(ie[ye])?de[ye]=ie[ye]:de[ye]=L[ye])})};function z(Y,L,K,ie){if(typeof L!="function"){if(T(L))return L.test(Y);if(arguments.length===2)throw new h("expected",["Function","RegExp"],L);if(u(Y)!=="object"||Y===null){var de=new v({actual:Y,expected:L,message:K,operator:"deepStrictEqual",stackStartFn:ie});throw de.operator=ie.name,de}var ye=Object.keys(L);if(L instanceof Error)ye.push("name","message");else if(ye.length===0)throw new g("error",L,"may not be an empty object");return c===void 0&&C(),ye.forEach(function(Te){typeof Y[Te]=="string"&&T(L[Te])&&L[Te].test(Y[Te])||function(me,ae,ge,$,te,oe){if(!(ge in me)||!d(me[ge],ae[ge])){if(!$){var Se=new H(me,te),Pe=new H(ae,te,me),Oe=new v({actual:Se,expected:Pe,operator:"deepStrictEqual",stackStartFn:oe});throw Oe.actual=me,Oe.expected=ae,Oe.operator=oe.name,Oe}k({actual:me,expected:ae,message:$,operator:oe.name,stackStartFn:oe})}}(Y,L,Te,K,ye,ie)}),!0}return L.prototype!==void 0&&Y instanceof L||!Error.isPrototypeOf(L)&&L.call({},Y)===!0}function ne(Y){if(typeof Y!="function")throw new h("fn","Function",Y);try{Y()}catch(L){return L}return I}function ue(Y){return x(Y)||Y!==null&&u(Y)==="object"&&typeof Y.then=="function"&&typeof Y.catch=="function"}function Q(Y){return Promise.resolve().then(function(){var L;if(typeof Y=="function"){if(!ue(L=Y()))throw new S("instance of Promise","promiseFn",L)}else{if(!ue(Y))throw new h("promiseFn",["Function","Promise"],Y);L=Y}return Promise.resolve().then(function(){return L}).then(function(){return I}).catch(function(K){return K})})}function N(Y,L,K,ie){if(typeof K=="string"){if(arguments.length===4)throw new h("error",["Object","Error","Function","RegExp"],K);if(u(L)==="object"&&L!==null){if(L.message===K)throw new m("error/message",'The error message "'.concat(L.message,'" is identical to the message.'))}else if(L===K)throw new m("error/message",'The error "'.concat(L,'" is identical to the message.'));ie=K,K=void 0}else if(K!=null&&u(K)!=="object"&&typeof K!="function")throw new h("error",["Object","Error","Function","RegExp"],K);if(L===I){var de="";K&&K.name&&(de+=" (".concat(K.name,")")),de+=ie?": ".concat(ie):".";var ye=Y.name==="rejects"?"rejection":"exception";k({actual:void 0,expected:K,operator:Y.name,message:"Missing expected ".concat(ye).concat(de),stackStartFn:Y})}if(K&&!z(L,K,ie,Y))throw L}function G(Y,L,K,ie){if(L!==I){if(typeof K=="string"&&(ie=K,K=void 0),!K||z(L,K)){var de=ie?": ".concat(ie):".",ye=Y.name==="doesNotReject"?"rejection":"exception";k({actual:L,expected:K,operator:Y.name,message:"Got unwanted ".concat(ye).concat(de,`
`)+'Actual message: "'.concat(L&&L.message,'"'),stackStartFn:Y})}throw L}}function J(){for(var Y=arguments.length,L=new Array(Y),K=0;K<Y;K++)L[K]=arguments[K];B.apply(void 0,[J,L.length].concat(L))}O.throws=function Y(L){for(var K=arguments.length,ie=new Array(K>1?K-1:0),de=1;de<K;de++)ie[de-1]=arguments[de];N.apply(void 0,[Y,ne(L)].concat(ie))},O.rejects=function Y(L){for(var K=arguments.length,ie=new Array(K>1?K-1:0),de=1;de<K;de++)ie[de-1]=arguments[de];return Q(L).then(function(ye){return N.apply(void 0,[Y,ye].concat(ie))})},O.doesNotThrow=function Y(L){for(var K=arguments.length,ie=new Array(K>1?K-1:0),de=1;de<K;de++)ie[de-1]=arguments[de];G.apply(void 0,[Y,ne(L)].concat(ie))},O.doesNotReject=function Y(L){for(var K=arguments.length,ie=new Array(K>1?K-1:0),de=1;de<K;de++)ie[de-1]=arguments[de];return Q(L).then(function(ye){return G.apply(void 0,[Y,ye].concat(ie))})},O.ifError=function Y(L){if(L!=null){var K="ifError got unwanted exception: ";u(L)==="object"&&typeof L.message=="string"?L.message.length===0&&L.constructor?K+=L.constructor.name:K+=L.message:K+=b(L);var ie=new v({actual:L,expected:null,operator:"ifError",message:K,stackStartFn:Y}),de=L.stack;if(typeof de=="string"){var ye=de.split(`
`);ye.shift();for(var Te=ie.stack.split(`
`),me=0;me<ye.length;me++){var ae=Te.indexOf(ye[me]);if(ae!==-1){Te=Te.slice(0,ae);break}}ie.stack="".concat(Te.join(`
`),`
`).concat(ye.join(`
`))}throw ie}},O.strict=w(J,O,{equal:O.strictEqual,deepEqual:O.deepStrictEqual,notEqual:O.notStrictEqual,notDeepEqual:O.notDeepStrictEqual}),O.strict.strict=O.strict},2403:o=>{o.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},2423:o=>{o.exports=function(s,a){var l=s.discriminatorMapping&&s.discriminatorMapping.value;if(l&&!("sparse"in a)){var u=s.options.discriminatorKey;a.partialFilterExpression=a.partialFilterExpression||{},a.partialFilterExpression[u]=l}return a}},2477:(o,s,a)=>{var l=a(2402);o.exports=function(u){return u==null||u===""?null:u instanceof Date?(l.ok(!isNaN(u.valueOf())),u):(l.ok(typeof u!="boolean"),c=u instanceof Number||typeof u=="number"?new Date(u):typeof u=="string"&&!isNaN(Number(u))&&(Number(u)>=275761||Number(u)<-271820)?new Date(Number(u)):typeof u.valueOf=="function"?new Date(u.valueOf()):new Date(u),isNaN(c.valueOf())?void l.ok(!1):c);var c}},2481:(o,s,a)=>{var l=a(4756);o.exports=function(){return typeof Object.is=="function"?Object.is:l}},2486:(o,s)=>{s.read=function(a,l,u,c,d){var f,m,h=8*d-c-1,g=(1<<h)-1,S=g>>1,y=-7,v=u?d-1:0,b=u?-1:1,_=a[l+v];for(v+=b,f=_&(1<<-y)-1,_>>=-y,y+=h;y>0;f=256*f+a[l+v],v+=b,y-=8);for(m=f&(1<<-y)-1,f>>=-y,y+=c;y>0;m=256*m+a[l+v],v+=b,y-=8);if(f===0)f=1-S;else{if(f===g)return m?NaN:1/0*(_?-1:1);m+=Math.pow(2,c),f-=S}return(_?-1:1)*m*Math.pow(2,f-c)},s.write=function(a,l,u,c,d,f){var m,h,g,S=8*f-d-1,y=(1<<S)-1,v=y>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=c?0:f-1,x=c?1:-1,T=l<0||l===0&&1/l<0?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(h=isNaN(l)?1:0,m=y):(m=Math.floor(Math.log(l)/Math.LN2),l*(g=Math.pow(2,-m))<1&&(m--,g*=2),(l+=m+v>=1?b/g:b*Math.pow(2,1-v))*g>=2&&(m++,g/=2),m+v>=y?(h=0,m=y):m+v>=1?(h=(l*g-1)*Math.pow(2,d),m+=v):(h=l*Math.pow(2,v-1)*Math.pow(2,d),m=0));d>=8;a[u+_]=255&h,_+=x,h/=256,d-=8);for(m=m<<d|h,S+=d;S>0;a[u+_]=255&m,_+=x,m/=256,S-=8);a[u+_-x]|=128*T}},2497:(o,s,a)=>{var l=a(1243).isMongooseArray;o.exports=function(u){return u!=null&&(l(u)||u.$__!=null||u.isMongooseBuffer||u.$isMongooseMap)}},2555:o=>{o.exports=function(s){if(Array.isArray(s)){if(!s.every(function(a){return typeof a=="number"||typeof a=="string"}))throw new Error("$type array values must be strings or numbers");return s}if(typeof s!="number"&&typeof s!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return s}},2580:(o,s,a)=>{var l=a(2400),u=a(3550).EventEmitter,c=a(3672),d=a(7058),f=a(5549),m=c.ValidationError,h=a(4957),g=a(608);function S(y,v,b,_,x){if(!(this instanceof S))return new S(y,v,b,_,x);if(g(v)&&!v.instanceOfSchema&&(v=new d(v)),v=this.schema||v,!this.schema&&v.options._id&&(y=y||{})._id===void 0&&(y._id=new f),!v)throw new c.MissingSchemaError;for(var T in this.$__setSchema(v),l.call(this,y,b,_,x),h(this,v,{decorateDoc:!0}),v.methods)this[T]=v.methods[T];for(var w in v.statics)this[w]=v.statics[w]}S.prototype=Object.create(l.prototype),S.prototype.constructor=S,S.events=new u,S.$emitter=new u,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(y){S[y]=function(){return S.$emitter[y].apply(S.$emitter,arguments)}}),S.ValidationError=m,o.exports=S},2653:o=>{o.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},2692:o=>{o.exports=function(s,a){if(a.length!==1){for(var l=a[0],u=void 0,c=0;c<a.length-1;++c){var d=s.path(l);d&&d.schema?(u=d.schema.options.strict,s=d.schema,l=d.$isMongooseDocumentArray&&!isNaN(a[c+1])?"":a[c+1]):l+=l.length?"."+a[c+1]:a[c+1]}return u}}},2696:(o,s,a)=>{var l=a(3305);o.exports=function(u,c){return typeof u=="string"&&typeof c=="string"||typeof u=="number"&&typeof c=="number"?u===c:!(!l(u,"ObjectId")||!l(c,"ObjectId"))&&u.toString()===c.toString()}},2724:(o,s,a)=>{var l=a(3071),u=a(9344),c=l("RegExp.prototype.exec"),d=a(2268);o.exports=function(f){if(!u(f))throw new d("`regex` must be a RegExp");return function(m){return c(f,m)!==null}}},2746:o=>{var s=typeof{}.nextTick=="function"?{}.nextTick.bind({env:{}}):function(a){return setTimeout(a,0)};o.exports=function(a){return s(a)}},2789:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){if(a==null||s(a)!=="object")return!1;var l=Object.getPrototypeOf(a);return!l||l.constructor.name==="Object"}},2793:o=>{o.exports=new Set(["__proto__","constructor","prototype"])},2822:(o,s,a)=>{o.exports=a(6353).Double},2824:(o,s,a)=>{var l=a(7930).objectIdSymbol,u=a(8768);function c(){var f,m;if(this.$__.shardval){m=(f=Object.keys(this.$__.shardval)).length,this.$where=this.$where||{};for(var h=0;h<m;++h)this.$where[f[h]]=this.$__.shardval[f[h]]}}function d(){var f=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(u.isPOJO(f))for(var m,h=this.$__.shardval={},g=Object.keys(f),S=g.length,y=0;y<S;++y)(m=this.$__getValue(g[y]))==null?h[g[y]]=m:u.isMongooseObject(m)?h[g[y]]=m.toObject({depopulate:!0,_isNested:!0}):m instanceof Date||m[l]?h[g[y]]=m:typeof m.valueOf=="function"?h[g[y]]=m.valueOf():h[g[y]]=m}o.exports=function(f){f.post("init",function(){return d.call(this),this}),f.pre("save",function(m){c.call(this),m()}),f.pre("remove",function(m){c.call(this),m()}),f.post("save",function(){d.call(this)})},o.exports.storeShard=d},2900:(o,s,a)=>{var l=a(8260);o.exports=function(u){if(l(u)!=="TopologyDescription")return!1;var c=Array.from(u.servers.values());return c.length>0&&c.every(function(d){return d.type==="Unknown"})}},2914:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}var u=a(7860),c=["__proto__","constructor","prototype"];function d(m,h,g,S,y,v){for(var b,_=0;_<m.length&&_<h.length;++_)b=m[_],Array.isArray(b)&&Array.isArray(h[_])?d(b,h[_],g,S,y,v):b&&(S?S(b,g,v(h[_])):(b[y]&&(b=b[y]),b[g]=v(h[_])))}function f(m){return m}s.get=function(m,h,g,S){var y;typeof g=="function"&&(g.length<2?(S=g,g=void 0):(y=g,g=void 0)),S||(S=f);var v=typeof m=="string"?u(m):m;if(!Array.isArray(v))throw new TypeError("Invalid `path`. Must be either string or array");for(var b,_=h,x=0;x<v.length;++x){if(b=v[x],typeof v[x]!="string"&&typeof v[x]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+l(v[x]));if(Array.isArray(_)&&!/^\d+$/.test(b)){var T=v.slice(x);return[].concat(_).map(function(E){return E?s.get(T,E,g||y,S):S(void 0)})}if(y)_=y(_,b);else{var w=g&&_[g]?_[g]:_;_=w instanceof Map?w.get(b):w[b]}if(!_)return S(_)}return S(_)},s.has=function(m,h){var g=typeof m=="string"?u(m):m;if(!Array.isArray(g))throw new TypeError("Invalid `path`. Must be either string or array");for(var S=g.length,y=h,v=0;v<S;++v){if(typeof g[v]!="string"&&typeof g[v]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+l(g[v]));if(y==null||l(y)!=="object"||!(g[v]in y))return!1;y=y[g[v]]}return!0},s.unset=function(m,h){var g=typeof m=="string"?u(m):m;if(!Array.isArray(g))throw new TypeError("Invalid `path`. Must be either string or array");for(var S=g.length,y=h,v=0;v<S;++v){if(y==null||l(y)!=="object"||!(g[v]in y))return!1;if(typeof g[v]!="string"&&typeof g[v]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+l(g[v]));if(c.indexOf(g[v])!==-1)return!1;if(v===S-1)return delete y[g[v]],!0;y=y instanceof Map?y.get(g[v]):y[g[v]]}return!0},s.set=function(m,h,g,S,y,v){var b;typeof S=="function"&&(S.length<2?(y=S,S=void 0):(b=S,S=void 0)),y||(y=f);var _=typeof m=="string"?u(m):m;if(!Array.isArray(_))throw new TypeError("Invalid `path`. Must be either string or array");if(g!=null){for(var x=0;x<_.length;++x){if(typeof _[x]!="string"&&typeof _[x]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+l(_[x]));if(c.indexOf(_[x])!==-1)return}for(var T,w=v||/\$/.test(m)&&v!==!1,E=g,C=(x=0,_.length-1);x<C;++x)if((T=_[x])!="$"){if(Array.isArray(E)&&!/^\d+$/.test(T)){var D=_.slice(x);if(!w&&Array.isArray(h))for(var O=0;O<E.length&&O<h.length;++O)s.set(D,h[O],E[O],S||b,y,w);else for(O=0;O<E.length;++O)s.set(D,h,E[O],S||b,y,w);return}if(b)E=b(E,T);else{var I=S&&E[S]?E[S]:E;E=I instanceof Map?I.get(T):I[T]}if(!E)return}else if(x==C-1)break;if(T=_[C],S&&E[S]&&(E=E[S]),Array.isArray(E)&&!/^\d+$/.test(T))if(!w&&Array.isArray(h))d(E,h,T,b,S,y);else for(O=0;O<E.length;++O){var k=E[O];k&&(b?b(k,T,y(h)):(k[S]&&(k=k[S]),k[T]=y(h)))}else b?b(E,T,y(h)):E instanceof Map?E.set(T,y(h)):E[T]=y(h)}},s.stringToParts=u},2945:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"subtype",m),o.exports=f},3071:(o,s,a)=>{var l=a(6400),u=a(8863),c=u([l("%String.prototype.indexOf%")]);o.exports=function(d,f){var m=l(d,!!f);return typeof m=="function"&&c(d,".prototype.")>-1?u([m]):m}},3091:(o,s,a)=>{function l(O){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},l(O)}function u(O,I){var k=Object.keys(O);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(O);I&&(B=B.filter(function(q){return Object.getOwnPropertyDescriptor(O,q).enumerable})),k.push.apply(k,B)}return k}function c(O){for(var I=1;I<arguments.length;I++){var k=arguments[I]!=null?arguments[I]:{};I%2?u(Object(k),!0).forEach(function(B){d(O,B,k[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(k)):u(Object(k)).forEach(function(B){Object.defineProperty(O,B,Object.getOwnPropertyDescriptor(k,B))})}return O}function d(O,I,k){return(I=function(B){var q=function(H){if(l(H)!="object"||!H)return H;var z=H[Symbol.toPrimitive];if(z!==void 0){var ne=z.call(H,"string");if(l(ne)!="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(B);return l(q)=="symbol"?q:q+""}(I))in O?Object.defineProperty(O,I,{value:k,enumerable:!0,configurable:!0,writable:!0}):O[I]=k,O}var f,m=a(4625),h=a(6426),g=a(863),S=a(4327),y=a(8260),v=a(5549),b=a(3305),_=a(8768),x=h.CastError;function T(O,I){var k=typeof O=="string"&&O.length===24&&/^[a-f0-9]+$/i.test(O),B=I&&I.suppressWarning;!k&&O!==void 0||B||_.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),h.call(this,O,I,"ObjectId")}function w(O){return this.cast(O)}T.schemaName="ObjectId",T.defaultOptions={},T.prototype=Object.create(h.prototype),T.prototype.constructor=T,T.prototype.OptionsConstructor=m,T.get=h.get,T.set=h.set,T.setters=[],T.prototype.auto=function(O){return O&&(this.default(C),this.set(D)),this},T._checkRequired=function(O){return b(O,"ObjectId")},T._cast=g,T.cast=function(O){return arguments.length===0||(O===!1&&(O=this._defaultCaster),this._cast=O),this._cast},T._defaultCaster=function(O){if(!b(O,"ObjectId"))throw new Error(O+" is not an instance of ObjectId");return O},T.checkRequired=h.checkRequired,T.prototype.checkRequired=function(O,I){return h._isRef(this,O,I,!0)?!!O:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():T.checkRequired())(O)},T.prototype.cast=function(O,I,k,B,q){if(!b(O,"ObjectId")&&h._isRef(this,O,I,k)){if((y(O)||"").toLowerCase()==="objectid")return new v(O.toHexString());if(O==null||_.isNonBuiltinObject(O))return this._castRef(O,I,k,q)}var H;H=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():T.cast();try{return H(O)}catch(z){throw new x("ObjectId",O,this.path,z,this)}};var E=c(c({},h.prototype.$conditionalHandlers),{},{$gt:w,$gte:w,$lt:w,$lte:w});function C(){return new v}function D(O){return f||(f=a(2400)),this instanceof f&&O===void 0?new v:O}Object.defineProperty(T.prototype,"$conditionalHandlers",{enumerable:!1,value:E}),C.$runBeforeSetters=!0,T.prototype.toJSONSchema=function(O){var I=this.options.required&&typeof this.options.required!="function"||this.path==="_id";return S("string","objectId",O==null?void 0:O.useBsonType,I)},T.prototype.autoEncryptionType=function(){return"objectId"},o.exports=T},3123:o=>{o.exports=Function.prototype.call},3191:(o,s,a)=>{var l=a(988),u=function(){return!!l};u.hasArrayLengthDefineBug=function(){if(!l)return null;try{return l([],"length",{value:1}).length!==1}catch{return!0}},o.exports=u},3216:(o,s,a)=>{function l(h,g){var S=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);g&&(y=y.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),S.push.apply(S,y)}return S}function u(h){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?l(Object(S),!0).forEach(function(y){c(h,y,S[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(S)):l(Object(S)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(S,y))})}return h}function c(h,g,S){return(g=function(y){var v=function(b){if(d(b)!="object"||!b)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var x=_.call(b,"string");if(d(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(y);return d(v)=="symbol"?v:v+""}(g))in h?Object.defineProperty(h,g,{value:S,enumerable:!0,configurable:!0,writable:!0}):h[g]=S,h}function d(h){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},d(h)}var f=a(8768),m=new Set(["__index","__parentArray","_doc"]);o.exports=function(h,g){if(f.isPOJO(h)&&h.$__!=null&&h._doc!=null){if(g){for(var S={},y=0,v=Object.keys(h);y<v.length;y++){var b=v[y];d(b)!=="symbol"&&b[0]!=="$"&&(m.has(b)||(S[b]=h[b]))}return u(u({},h._doc),S)}return h._doc}return h}},3279:o=>{o.exports=Function.prototype.apply},3303:(o,s)=>{s._={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1,versionKey:!0,flattenObjectIds:!1}},3305:o=>{o.exports=function(s,a){return s!=null&&s._bsontype===a}},3318:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function u(b,_){var x=Object.keys(b);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(b);_&&(T=T.filter(function(w){return Object.getOwnPropertyDescriptor(b,w).enumerable})),x.push.apply(x,T)}return x}function c(b){for(var _=1;_<arguments.length;_++){var x=arguments[_]!=null?arguments[_]:{};_%2?u(Object(x),!0).forEach(function(T){d(b,T,x[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(x)):u(Object(x)).forEach(function(T){Object.defineProperty(b,T,Object.getOwnPropertyDescriptor(x,T))})}return b}function d(b,_,x){return(_=function(T){var w=function(E){if(l(E)!="object"||!E)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var D=C.call(E,"string");if(l(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(T);return l(w)=="symbol"?w:w+""}(_))in b?Object.defineProperty(b,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[_]=x,b}var f=a(3609),m=a(6426),h=a(4058),g=a(4327);function S(b,_){m.call(this,b,_,"BigInt")}S.schemaName="BigInt",S.defaultOptions={},S.prototype=Object.create(m.prototype),S.prototype.constructor=S,S._cast=h,S.set=m.set,S.setters=[],S.get=m.get,S.cast=function(b){return arguments.length===0||(b===!1&&(b=this._defaultCaster),this._cast=b),this._cast},S._checkRequired=function(b){return b!=null},S.checkRequired=m.checkRequired,S.prototype.checkRequired=function(b){return this.constructor._checkRequired(b)},S.prototype.cast=function(b){var _;_=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():S.cast();try{return _(b)}catch(x){throw new f("BigInt",b,this.path,x,this)}};var y=c(c({},m.prototype.$conditionalHandlers),{},{$gt:v,$gte:v,$lt:v,$lte:v});function v(b,_){return this.castForQuery(null,b,_)}Object.defineProperty(S.prototype,"$conditionalHandlers",{enumerable:!1,value:y}),S.prototype.castForQuery=function(b,_,x){var T;if(b!=null)return(T=this.$conditionalHandlers[b])?T.call(this,_):this.applySetters(_,x);try{return this.applySetters(_,x)}catch(w){throw w instanceof f&&w.path===this.path&&this.$fullPath!=null&&(w.path=this.$fullPath),w}},S.prototype._castNullish=function(b){return b===void 0||(typeof this.constructor.cast=="function"?this.constructor.cast():S.cast()),b},S.prototype.toJSONSchema=function(b){var _=this.options.required&&typeof this.options.required!="function";return g("string","long",b==null?void 0:b.useBsonType,_)},S.prototype.autoEncryptionType=function(){return"long"},o.exports=S},3381:o=>{function s(){return this._id!=null?this._id.toString():null}o.exports=function(a){return!a.paths.id&&a.paths._id&&a.options.id&&(a.aliases&&a.aliases.id||a.virtual("id").get(s)),a}},3388:o=>{o.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},3414:o=>{o.exports=Number.isNaN||function(s){return s!=s}},3426:(o,s,a)=>{var l=a(2653),u=typeof globalThis>"u"?a.g:globalThis;o.exports=function(){for(var c=[],d=0;d<l.length;d++)typeof u[l[d]]=="function"&&(c[c.length]=l[d]);return c}},3441:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y){var v;(function(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")})(this,h);var b=Array.isArray(y)?"array":"primitive value";return(v=function(_,x,T){return x=c(x),function(w,E){if(E&&(l(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(w)}(_,u()?Reflect.construct(x,T||[],c(_).constructor):x.apply(_,T))}(this,h,["Tried to set nested object field `"+S+"` to ".concat(b," `")+y+"`"])).path=S,v}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"ObjectExpectedError"}),o.exports=f},3550:o=>{function s(T){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s(T)}var a,l=(typeof Reflect>"u"?"undefined":s(Reflect))==="object"?Reflect:null,u=l&&typeof l.apply=="function"?l.apply:function(T,w,E){return Function.prototype.apply.call(T,w,E)};a=l&&typeof l.ownKeys=="function"?l.ownKeys:Object.getOwnPropertySymbols?function(T){return Object.getOwnPropertyNames(T).concat(Object.getOwnPropertySymbols(T))}:function(T){return Object.getOwnPropertyNames(T)};var c=Number.isNaN||function(T){return T!=T};function d(){d.init.call(this)}o.exports=d,o.exports.once=function(T,w){return new Promise(function(E,C){function D(I){T.removeListener(w,O),C(I)}function O(){typeof T.removeListener=="function"&&T.removeListener("error",D),E([].slice.call(arguments))}x(T,w,O,{once:!0}),w!=="error"&&function(I,k){typeof I.on=="function"&&x(I,"error",k,{once:!0})}(T,D)})},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var f=10;function m(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+s(T))}function h(T){return T._maxListeners===void 0?d.defaultMaxListeners:T._maxListeners}function g(T,w,E,C){var D,O,I,k;if(m(E),(O=T._events)===void 0?(O=T._events=Object.create(null),T._eventsCount=0):(O.newListener!==void 0&&(T.emit("newListener",w,E.listener?E.listener:E),O=T._events),I=O[w]),I===void 0)I=O[w]=E,++T._eventsCount;else if(typeof I=="function"?I=O[w]=C?[E,I]:[I,E]:C?I.unshift(E):I.push(E),(D=h(T))>0&&I.length>D&&!I.warned){I.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=T,B.type=w,B.count=I.length,k=B,console&&console.warn&&console.warn(k)}return T}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function y(T,w,E){var C={fired:!1,wrapFn:void 0,target:T,type:w,listener:E},D=S.bind(C);return D.listener=E,C.wrapFn=D,D}function v(T,w,E){var C=T._events;if(C===void 0)return[];var D=C[w];return D===void 0?[]:typeof D=="function"?E?[D.listener||D]:[D]:E?function(O){for(var I=new Array(O.length),k=0;k<I.length;++k)I[k]=O[k].listener||O[k];return I}(D):_(D,D.length)}function b(T){var w=this._events;if(w!==void 0){var E=w[T];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}function _(T,w){for(var E=new Array(w),C=0;C<w;++C)E[C]=T[C];return E}function x(T,w,E,C){if(typeof T.on=="function")C.once?T.once(w,E):T.on(w,E);else{if(typeof T.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+s(T));T.addEventListener(w,function D(O){C.once&&T.removeEventListener(w,D),E(O)})}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(T){if(typeof T!="number"||T<0||c(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");f=T}}),d.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(T){if(typeof T!="number"||T<0||c(T))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+T+".");return this._maxListeners=T,this},d.prototype.getMaxListeners=function(){return h(this)},d.prototype.emit=function(T){for(var w=[],E=1;E<arguments.length;E++)w.push(arguments[E]);var C=T==="error",D=this._events;if(D!==void 0)C=C&&D.error===void 0;else if(!C)return!1;if(C){var O;if(w.length>0&&(O=w[0]),O instanceof Error)throw O;var I=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw I.context=O,I}var k=D[T];if(k===void 0)return!1;if(typeof k=="function")u(k,this,w);else{var B=k.length,q=_(k,B);for(E=0;E<B;++E)u(q[E],this,w)}return!0},d.prototype.addListener=function(T,w){return g(this,T,w,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(T,w){return g(this,T,w,!0)},d.prototype.once=function(T,w){return m(w),this.on(T,y(this,T,w)),this},d.prototype.prependOnceListener=function(T,w){return m(w),this.prependListener(T,y(this,T,w)),this},d.prototype.removeListener=function(T,w){var E,C,D,O,I;if(m(w),(C=this._events)===void 0)return this;if((E=C[T])===void 0)return this;if(E===w||E.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete C[T],C.removeListener&&this.emit("removeListener",T,E.listener||w));else if(typeof E!="function"){for(D=-1,O=E.length-1;O>=0;O--)if(E[O]===w||E[O].listener===w){I=E[O].listener,D=O;break}if(D<0)return this;D===0?E.shift():function(k,B){for(;B+1<k.length;B++)k[B]=k[B+1];k.pop()}(E,D),E.length===1&&(C[T]=E[0]),C.removeListener!==void 0&&this.emit("removeListener",T,I||w)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(T){var w,E,C;if((E=this._events)===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[T]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[T]),this;if(arguments.length===0){var D,O=Object.keys(E);for(C=0;C<O.length;++C)(D=O[C])!=="removeListener"&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(w=E[T])=="function")this.removeListener(T,w);else if(w!==void 0)for(C=w.length-1;C>=0;C--)this.removeListener(T,w[C]);return this},d.prototype.listeners=function(T){return v(this,T,!0)},d.prototype.rawListeners=function(T){return v(this,T,!1)},d.listenerCount=function(T,w){return typeof T.listenerCount=="function"?T.listenerCount(w):b.call(T,w)},d.prototype.listenerCount=b,d.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]}},3609:(o,s,a)=>{function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(w)}function u(w,E){for(var C=0;C<E.length;C++){var D=E[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,c(D.key),D)}}function c(w){var E=function(C){if(l(C)!="object"||!C)return C;var D=C[Symbol.toPrimitive];if(D!==void 0){var O=D.call(C,"string");if(l(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(w);return l(E)=="symbol"?E:E+""}function d(w,E,C){return E=h(E),function(D,O){if(O&&(l(O)=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(D)}(w,m()?Reflect.construct(E,C||[],h(w).constructor):E.apply(w,C))}function f(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function m(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m=function(){return!!w})()}function h(w){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},h(w)}function g(w,E){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,D){return C.__proto__=D,C},g(w,E)}var S=a(8213),y=a(7352),v=function(w){function E(O,I,k,B,q){var H;if(function(ne,ue){if(!(ne instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,E),arguments.length>0){var z=_(I);(H=d(this,E,[T(null,O,I,k,x(q),z,B)])).init(O,I,k,B,q)}else H=d(this,E,[T()]);return f(H)}return function(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),I&&g(O,I)}(E,w),C=E,(D=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(O,I,k,B,q){this.stringValue=b(I),this.messageFormat=x(q),this.kind=O,this.value=I,this.path=k,this.reason=B,this.valueType=_(I)}},{key:"copy",value:function(O){this.messageFormat=O.messageFormat,this.stringValue=O.stringValue,this.kind=O.kind,this.value=O.value,this.path=O.path,this.reason=O.reason,this.message=O.message,this.valueType=O.valueType}},{key:"setModel",value:function(O){this.message=T(O,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}])&&u(C.prototype,D),Object.defineProperty(C,"prototype",{writable:!1}),C;var C,D}(S);function b(w){var E=y.inspect(w);return(E=E.replace(/^'|'$/g,'"')).startsWith('"')||(E='"'+E+'"'),E}function _(w){if(w==null)return""+w;var E=l(w);return E!=="object"||typeof w.constructor!="function"?E:w.constructor.name}function x(w){var E=w&&w._castErrorMessage||null;if(typeof E=="string"||typeof E=="function")return E}function T(w,E,C,D,O,I,k){if(typeof O=="string"){var B=b(C),q=O.replace("{KIND}",E).replace("{VALUE}",B).replace("{PATH}",D);return w!=null&&(q=q.replace("{MODEL}",w.modelName)),q}if(typeof O=="function")return O(C,D,w,E);var H="Cast to "+E+" failed for value "+b(C)+(I?" (type "+I+")":"")+' at path "'+D+'"';return w!=null&&(H+=' for model "'+w.modelName+'"'),k!=null&&typeof k.constructor=="function"&&k.constructor.name!=="AssertionError"&&k.constructor.name!=="Error"&&(H+=' because of "'+k.constructor.name+'"'),H}Object.defineProperty(v.prototype,"name",{value:"CastError"}),o.exports=v},3622:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a,l,u){return a==null?a:(a._doc!=null&&(a=a._doc),arguments.length>=3?s(a)!=="object"||u===void 0?void 0:(a instanceof Map?a.set(l,u):a[l]=u,u):l==="$*"?a instanceof Map?Array.from(a.values()):Object.keys(a).map(function(c){return a[c]}):a instanceof Map?a.get(l):a[l])}},3644:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,h),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,h,["Cannot overwrite `"+S+"` model once compiled."])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"OverwriteModelError"}),o.exports=f},3660:(o,s,a)=>{function l(w,E){var C=Object.keys(w);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(w);E&&(D=D.filter(function(O){return Object.getOwnPropertyDescriptor(w,O).enumerable})),C.push.apply(C,D)}return C}function u(w){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?l(Object(C),!0).forEach(function(D){c(w,D,C[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(D){Object.defineProperty(w,D,Object.getOwnPropertyDescriptor(C,D))})}return w}function c(w,E,C){return(E=function(D){var O=function(I){if(d(I)!="object"||!I)return I;var k=I[Symbol.toPrimitive];if(k!==void 0){var B=k.call(I,"string");if(d(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(D);return d(O)=="symbol"?O:O+""}(E))in w?Object.defineProperty(w,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[E]=C,w}function d(w){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},d(w)}var f=a(3672),m=a(1007),h=a(6426),g=a(7768),S=a(4327),y=a(9460),v=a(8768),b=h.CastError;function _(w,E){h.call(this,w,E,"Number")}function x(w){return this.cast(w)}_.get=h.get,_.set=h.set,_.setters=[],_._cast=g,_.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},_._defaultCaster=function(w){if(typeof w!="number")throw new Error;return w},_.schemaName="Number",_.defaultOptions={},_.prototype=Object.create(h.prototype),_.prototype.constructor=_,_.prototype.OptionsConstructor=m,_._checkRequired=function(w){return typeof w=="number"||w instanceof Number},_.checkRequired=h.checkRequired,_.prototype.checkRequired=function(w,E){return d(w)==="object"&&h._isRef(this,w,E,!0)?w!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():_.checkRequired())(w)},_.prototype.min=function(w,E){if(this.minValidator&&(this.validators=this.validators.filter(function(D){return D.validator!==this.minValidator},this)),w!=null){var C=E||f.messages.Number.min;C=C.replace(/{MIN}/,w),this.validators.push({validator:this.minValidator=function(D){return D==null||D>=w},message:C,type:"min",min:w})}return this},_.prototype.max=function(w,E){if(this.maxValidator&&(this.validators=this.validators.filter(function(D){return D.validator!==this.maxValidator},this)),w!=null){var C=E||f.messages.Number.max;C=C.replace(/{MAX}/,w),this.validators.push({validator:this.maxValidator=function(D){return D==null||D<=w},message:C,type:"max",max:w})}return this},_.prototype.enum=function(w,E){return this.enumValidator&&(this.validators=this.validators.filter(function(C){return C.validator!==this.enumValidator},this)),Array.isArray(w)||(v.isPOJO(w)&&w.values!=null?(E=w.message,w=w.values):typeof w=="number"&&(w=Array.prototype.slice.call(arguments),E=null),v.isPOJO(w)&&(w=Object.values(w)),E=E||f.messages.Number.enum),E=E??f.messages.Number.enum,this.enumValidator=function(C){return C==null||w.indexOf(C)!==-1},this.validators.push({validator:this.enumValidator,message:E,type:"enum",enumValues:w}),this},_.prototype.cast=function(w,E,C,D,O){if(typeof w!="number"&&h._isRef(this,w,E,C)&&(w==null||v.isNonBuiltinObject(w)))return this._castRef(w,E,C,O);var I,k=w&&w._id!==void 0?w._id:w;I=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();try{return I(k)}catch(B){throw new b("Number",k,this.path,B,this)}};var T=u(u({},h.prototype.$conditionalHandlers),{},{$bitsAllClear:y,$bitsAnyClear:y,$bitsAllSet:y,$bitsAnySet:y,$gt:x,$gte:x,$lt:x,$lte:x,$mod:function(w){var E=this;return Array.isArray(w)?w.map(function(C){return E.cast(C)}):[this.cast(w)]}});Object.defineProperty(_.prototype,"$conditionalHandlers",{enumerable:!1,value:T}),_.prototype.castForQuery=function(w,E,C){var D;if(w!=null){if(!(D=this.$conditionalHandlers[w]))throw new b("number",E,this.path,null,this);return D.call(this,E,C)}try{E=this.applySetters(E,C)}catch(O){throw O instanceof b&&O.path===this.path&&this.$fullPath!=null&&(O.path=this.$fullPath),O}return E},_.prototype.toJSONSchema=function(w){var E=this.options.required&&typeof this.options.required!="function"||this.path==="_id";return S("number","number",w==null?void 0:w.useBsonType,E)},o.exports=_},3672:(o,s,a)=>{var l=a(8213);o.exports=l,l.messages=a(766),l.Messages=l.messages,l.CastError=a(3609),l.DocumentNotFoundError=a(1129),l.ValidationError=a(6949),l.ValidatorError=a(9538),l.VersionError=a(6996),l.ParallelSaveError=a(3940),l.OverwriteModelError=a(3644),l.MissingSchemaError=a(8063),l.MongooseBulkSaveIncompleteError=a(8517),l.MongooseServerSelectionError=a(7219),l.DivergentArrayError=a(1417),l.StrictModeError=a(8995),l.StrictPopulateError=a(6801)},3696:o=>{o.exports=function(s,a){return s==null?null:typeof s=="boolean"?a:typeof s[a]=="boolean"?s[a]?a:null:a in s?s[a]:a}},3703:o=>{function s(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,d=Array(u);c<u;c++)d[c]=l[c];return d}function a(l,u){return l==null?l:l instanceof Map?l.get(u):l[u]}o.exports=function(l,u,c){var d,f=!1;if(typeof u=="string"){if(u.indexOf(".")===-1){var m=a(l,u);return m??c}d=u.split(".")}else if(f=!0,(d=u).length===1){var h=a(l,d[0]);return h??c}var g,S=u,y=l,v=function(_,x){var T=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!T){if(Array.isArray(_)||(T=function(I,k){if(I){if(typeof I=="string")return s(I,k);var B={}.toString.call(I).slice(8,-1);return B==="Object"&&I.constructor&&(B=I.constructor.name),B==="Map"||B==="Set"?Array.from(I):B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B)?s(I,k):void 0}}(_))||x){T&&(_=T);var w=0,E=function(){};return{s:E,n:function(){return w>=_.length?{done:!0}:{done:!1,value:_[w++]}},e:function(I){throw I},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,D=!0,O=!1;return{s:function(){T=T.call(_)},n:function(){var I=T.next();return D=I.done,I},e:function(I){O=!0,C=I},f:function(){try{D||T.return==null||T.return()}finally{if(O)throw C}}}}(d);try{for(v.s();!(g=v.n()).done;){var b=g.value;if(y==null)return c;if(!f&&y[S]!=null)return y[S];y=a(y,b),f||(S=S.substr(b.length+1))}}catch(_){v.e(_)}finally{v.f()}return y??c}},3704:(o,s,a)=>{function l(f){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(f)}var u=a(2402),c=a(6353),d=a(3305);o.exports=function(f){if(f==null||f==="")return null;var m;if(d(f,"Long"))m=f.toNumber();else if(typeof f=="string")try{return c.Double.fromString(f)}catch{u.ok(!1)}else if(l(f)==="object"){var h,g=(h=f.valueOf())!==null&&h!==void 0?h:f.toString();if(typeof g=="string")try{return c.Double.fromString(f)}catch{u.ok(!1)}else m=Number(g)}else m=Number(f);return new c.Double(m)}},3731:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"min",m),Object.defineProperty(f.prototype,"max",m),Object.defineProperty(f.prototype,"expires",m),o.exports=f},3743:(o,s,a)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(y)}function u(y){return u=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(v){return l(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":l(v)},u(y)}function c(y){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},c(y)}function d(y,v){return d=Object.setPrototypeOf||function(b,_){return b.__proto__=_,b},d(y,v)}var f,m,h={};function g(y,v,b){b||(b=Error);var _=function(x){function T(w,E,C){var D;return function(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,T),D=function(O,I){return!I||u(I)!=="object"&&typeof I!="function"?function(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}(O):I}(this,c(T).call(this,function(O,I,k){return typeof v=="string"?v:v(O,I,k)}(w,E,C))),D.code=y,D}return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),E&&d(w,E)}(T,x),T}(b);h[y]=_}function S(y,v){if(Array.isArray(y)){var b=y.length;return y=y.map(function(_){return String(_)}),b>2?"one of ".concat(v," ").concat(y.slice(0,b-1).join(", "),", or ")+y[b-1]:b===2?"one of ".concat(v," ").concat(y[0]," or ").concat(y[1]):"of ".concat(v," ").concat(y[0])}return"of ".concat(v," ").concat(String(y))}g("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),g("ERR_INVALID_ARG_TYPE",function(y,v,b){var _,x,T,w,E;if(f===void 0&&(f=a(2402)),f(typeof y=="string","'name' must be a string"),typeof v=="string"&&(x="not ",v.substr(0,4)===x)?(_="must not be",v=v.replace(/^not /,"")):_="must be",function(D,O,I){return(I===void 0||I>D.length)&&(I=D.length),D.substring(I-9,I)===O}(y," argument"))T="The ".concat(y," ").concat(_," ").concat(S(v,"type"));else{var C=(typeof E!="number"&&(E=0),E+1>(w=y).length||w.indexOf(".",E)===-1?"argument":"property");T='The "'.concat(y,'" ').concat(C," ").concat(_," ").concat(S(v,"type"))}return T+". Received type ".concat(u(b))},TypeError),g("ERR_INVALID_ARG_VALUE",function(y,v){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";m===void 0&&(m=a(7352));var _=m.inspect(v);return _.length>128&&(_="".concat(_.slice(0,128),"...")),"The argument '".concat(y,"' ").concat(b,". Received ").concat(_)},TypeError),g("ERR_INVALID_RETURN_VALUE",function(y,v,b){var _;return _=b&&b.constructor&&b.constructor.name?"instance of ".concat(b.constructor.name):"type ".concat(u(b)),"Expected ".concat(y,' to be returned from the "').concat(v,'"')+" function but got ".concat(_,".")},TypeError),g("ERR_MISSING_ARGS",function(){for(var y=arguments.length,v=new Array(y),b=0;b<y;b++)v[b]=arguments[b];f===void 0&&(f=a(2402)),f(v.length>0,"At least one arg needs to be specified");var _="The ",x=v.length;switch(v=v.map(function(T){return'"'.concat(T,'"')}),x){case 1:_+="".concat(v[0]," argument");break;case 2:_+="".concat(v[0]," and ").concat(v[1]," arguments");break;default:_+=v.slice(0,x-1).join(", "),_+=", and ".concat(v[x-1]," arguments")}return"".concat(_," must be specified")},TypeError),o.exports.codes=h},3777:(o,s,a)=>{var l=a(9809),u=Object.prototype.toString,c=Object.prototype.hasOwnProperty;o.exports=function(d,f,m){if(!l(f))throw new TypeError("iterator must be a function");var h,g;arguments.length>=3&&(h=m),g=d,u.call(g)==="[object Array]"?function(S,y,v){for(var b=0,_=S.length;b<_;b++)c.call(S,b)&&(v==null?y(S[b],b,S):y.call(v,S[b],b,S))}(d,f,h):typeof d=="string"?function(S,y,v){for(var b=0,_=S.length;b<_;b++)v==null?y(S.charAt(b),b,S):y.call(v,S.charAt(b),b,S)}(d,f,h):function(S,y,v){for(var b in S)c.call(S,b)&&(v==null?y(S[b],b,S):y.call(v,S[b],b,S))}(d,f,h)}},3892:(o,s,a)=>{function l(x){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},l(x)}function u(x,T){var w=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!w){if(Array.isArray(x)||(w=function(k,B){if(k){if(typeof k=="string")return c(k,B);var q={}.toString.call(k).slice(8,-1);return q==="Object"&&k.constructor&&(q=k.constructor.name),q==="Map"||q==="Set"?Array.from(k):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?c(k,B):void 0}}(x))||T){w&&(x=w);var E=0,C=function(){};return{s:C,n:function(){return E>=x.length?{done:!0}:{done:!1,value:x[E++]}},e:function(k){throw k},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,O=!0,I=!1;return{s:function(){w=w.call(x)},n:function(){var k=w.next();return O=k.done,k},e:function(k){I=!0,D=k},f:function(){try{O||w.return==null||w.return()}finally{if(I)throw D}}}}function c(x,T){(T==null||T>x.length)&&(T=x.length);for(var w=0,E=Array(T);w<T;w++)E[w]=x[w];return E}function d(x,T){var w=Object.keys(x);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(x);T&&(E=E.filter(function(C){return Object.getOwnPropertyDescriptor(x,C).enumerable})),w.push.apply(w,E)}return w}function f(x){for(var T=1;T<arguments.length;T++){var w=arguments[T]!=null?arguments[T]:{};T%2?d(Object(w),!0).forEach(function(E){m(x,E,w[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(w)):d(Object(w)).forEach(function(E){Object.defineProperty(x,E,Object.getOwnPropertyDescriptor(w,E))})}return x}function m(x,T,w){return(T=function(E){var C=function(D){if(l(D)!="object"||!D)return D;var O=D[Symbol.toPrimitive];if(O!==void 0){var I=O.call(D,"string");if(l(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(E);return l(C)=="symbol"?C:C+""}(T))in x?Object.defineProperty(x,T,{value:w,enumerable:!0,configurable:!0,writable:!0}):x[T]=w,x}var h=a(6948),g=a(3916),S=a(3703),y=a(1058),v=a(7300),b=a(4450),_=a(6665);s.preparePopulationOptionsMQ=function(x,T){var w,E=x._mongooseOptions.populate,C=Object.keys(E).reduce(function(k,B){return k.concat([E[B]])},[]);T.lean!=null&&C.filter(function(k){return(k&&k.options&&k.options.lean)==null}).forEach((w=T.lean,function(k){k.options||(k.options={}),w!=null&&Array.isArray(w.virtuals)&&((w=Object.assign({},w)).virtuals=w.virtuals.filter(function(B){return typeof B=="string"&&B.startsWith(k.path+".")}).map(function(B){return B.slice(k.path.length+1)})),k.options.lean=w}));var D=x&&x.options&&x.options.session||null;D!=null&&C.forEach(function(k){k.options!=null?"session"in k.options||(k.options.session=D):k.options={session:D}});for(var O=x._fieldsForExec(),I=0;I<C.length;++I)C[I]instanceof h?C[I]=new h(f(f({},C[I]),{},{_queryProjection:O,_localModel:x.model})):(C[I]._queryProjection=O,C[I]._localModel=x.model);return C},s.createModel=function(x,T,w,E,C){x.hooks.execPreSync("createModel",T);var D=x.schema?x.schema.discriminatorMapping:null,O=D&&D.isRoot?D.key:null,I=T[O];if(O&&I&&x.discriminators){var k=x.discriminators[I]||y(x.discriminators,I);if(k){var B=b(E);return s.applyPaths(B,k.schema),new k(void 0,B,!0)}}var q={skipId:!0,isNew:!1,willInit:!0};return C!=null&&"defaults"in C&&(q.defaults=C.defaults),new x(void 0,w,q)},s.createModelAndInit=function(x,T,w,E,C,D,O){var I=D?{populated:D}:void 0,k=s.createModel(x,T,w,E,C);try{k.$init(T,I,O)}catch(B){O(B,k)}},s.applyPaths=function(x,T,w){var E,C,D=new Set;if(x){C=Object.keys(x);for(var O=[],I=0;I<C.length;++I){var k=C[I];C[I][0]==="-"&&(delete x[k],k==="-_id"?x._id=0:O.push(k.slice(1)))}C=Object.keys(x);for(var B=0;B<C.length;++B)if(C[B][0]!=="+"){var q=x[C[B]];if(v(q)&&!(C[B]==="_id"&&C.length>1)&&(!(C[B]===T.options.discriminatorKey&&C.length>1&&q!=null)||q)){E=!q;break}}for(var H=0,z=O;H<z.length;H++){var ne=z[H],ue=T.path(ne);ue&&ue.selected&&E===!1?ue&&ue.selected&&E===!1&&D.add(ne):(x[ne]=0,E=!0)}}var Q=[],N=[],G=[];switch(function oe(Se,Pe){if(Pe||(Pe=""),G.indexOf(Se)!==-1)return[];G.push(Se);var Oe=[];return Se.eachPath(function(Be,Z){if(Pe&&(Be=Pe+"."+Be),Z.$isSchemaMap||Be.endsWith(".$*")){var ce=x&&"+"+Be in x;Z.options&&Z.options.select===!1&&!ce&&N.push(Be)}else{var xe=te(Be,Z);if(xe!=null||Array.isArray(Z)||!Z.$isMongooseArray||Z.$isMongooseDocumentArray||(xe=te(Be,Z.caster)),xe!=null&&Oe.push(xe),Z.schema){var Ce=oe(Z.schema,Be);E===!1&&g(x,Be,Z.schema,Q,Ce)}}}),G.pop(),Oe}(T),E){case!0:var J,Y=u(N);try{for(Y.s();!(J=Y.n()).done;){var L=J.value;x[L]=0}}catch(oe){Y.e(oe)}finally{Y.f()}break;case!1:T&&T.paths._id&&T.paths._id.options&&T.paths._id.options.select===!1&&(x._id=0);var K,ie=u(Q);try{for(ie.s();!(K=ie.n()).done;){var de=K.value;D.has(de)||_(x,de)||(x[de]=x[de]||1)}}catch(oe){ie.e(oe)}finally{ie.f()}break;case void 0:if(x==null)break;for(var ye=0,Te=Object.keys(x||{});ye<Te.length;ye++){var me=Te[ye];me.startsWith("+")&&delete x[me]}var ae,ge=u(N);try{for(ge.s();!(ae=ge.n()).done;){var $=ae.value;x[$]==null&&(x[$]=0)}}catch(oe){ge.e(oe)}finally{ge.f()}}function te(oe,Se){if(x!=null&&typeof Se.selected=="boolean")if(Se.selected===!1&&x[oe])w&&(x[oe]=0);else if(E||!Se.selected||oe!==T.options.discriminatorKey||x[oe]==null||x[oe]){if(E!==!1||!Se.selected||x[oe]==null||x[oe]){var Pe="+"+oe;if(x&&Pe in x)return delete x[Pe],void(E===!1&&C.length>1&&!~C.indexOf(oe)&&!w?x[oe]=1:E==null&&w&&Se.selected===!1&&(x[oe]=0));for(var Oe=oe.split("."),Be="",Z=0;Z<Oe.length;++Z)if(Be+=Be.length?"."+Oe[Z]:Oe[Z],N.indexOf(Be)!==-1)return;if(!E&&Se&&Se.options&&Se.options.$skipDiscriminatorCheck)for(var ce="",xe=0;xe<Oe.length;++xe){ce+=(ce.length===0?"":".")+Oe[xe];var Ce=S(x,ce,!1)||S(x,ce+".$",!1);if(Ce&&l(Ce)!=="object")return}return(Se.selected?Q:N).push(oe),oe}delete x[oe]}else delete x[oe]}}},3900:(o,s,a)=>{var l=a(6400),u=a(6750),c=a(3191)(),d=a(1464),f=a(2268),m=l("%Math.floor%");o.exports=function(h,g){if(typeof h!="function")throw new f("`fn` is not a function");if(typeof g!="number"||g<0||g>4294967295||m(g)!==g)throw new f("`length` must be a positive 32-bit integer");var S=arguments.length>2&&!!arguments[2],y=!0,v=!0;if("length"in h&&d){var b=d(h,"length");b&&!b.configurable&&(y=!1),b&&!b.writable&&(v=!1)}return(y||v||!S)&&(c?u(h,"length",g,!0,!0):u(h,"length",g)),h}},3916:o=>{o.exports=function(s,a,l,u,c){var d=Object.keys(s).reduce(function(m,h){return m||h.startsWith(a+".")},!1),f=a+"."+l.options.discriminatorKey;d||c.length!==1||c[0]!==f||u.splice(u.indexOf(f),1)}},3940:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,h),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,h,["Can't save() the same doc multiple times in parallel. Document: "+S._doc._id])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"ParallelSaveError"}),o.exports=f},4009:(o,s,a)=>{var l=a(8213),u=a(5188),c=a(3622),d=a(5678),f=a(7352),m=a(8768),h=/(\.\d+$|\.\d+\.)/g;o.exports=function(g,S,y,v,b){if(g==null)return[];if(typeof g=="string"&&b!=null&&u(b,g))throw new l("refPath `"+g+"` must not be excluded in projection, got "+f.inspect(b));if(h.test(y)){var _=y.split(h);if(_[_.length-1]==="")throw new Error("Can't populate individual element in an array");for(var x="",T=g,w=0;w<_.length;w+=2){var E=_[w];if(!T.startsWith(E+".")){if(w===_.length-1){x+=T,T="";break}throw new Error("Could not normalize ref path, chunk "+E+" not in populated path")}x+=T.substring(0,E.length)+_[w+1],T=T.substring(E.length+1)}var C=d.get(x,S,c),D=Array.isArray(C)?C:[C];return m.array.flatten(D)}var O=d.get(g,S,c);return v!=null&&v.virtuals.hasOwnProperty(g)?[v.virtuals[g].applyGetters(void 0,S)]:Array.isArray(O)?O:[O]}},4026:(o,s)=>{s.Collection=function(){throw new Error("Cannot create a collection from browser library")},s.Connection=function(){throw new Error("Cannot create a connection from browser library")},s.BulkWriteResult=function(){}},4058:(o,s,a)=>{var l=a(6353).Long,u=9223372036854775807n,c=-9223372036854775808n,d="Mongoose only supports BigInts between ".concat(c," and ").concat(u," because MongoDB does not support arbitrary precision integers");o.exports=function(f){if(f==null)return f;if(f==="")return null;if(typeof f=="bigint"){if(f>u||f<c)throw new Error(d);return f}if(f instanceof l)return f.toBigInt();if(typeof f=="string"||typeof f=="number"){if((f=BigInt(f))>u||f<c)throw new Error(d);return f}throw new Error('Cannot convert value to BigInt: "'.concat(f,'"'))}},4070:(o,s,a)=>{function l(c,d){(d==null||d>c.length)&&(d=c.length);for(var f=0,m=Array(d);f<d;f++)m[f]=c[f];return m}var u=a(8260);o.exports=function(c){if(u(c)!=="TopologyDescription"||c.servers.size===0)return!1;var d,f=function(h,g){var S=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!S){if(Array.isArray(h)||(S=function(T,w){if(T){if(typeof T=="string")return l(T,w);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?l(T,w):void 0}}(h))||g){S&&(h=S);var y=0,v=function(){};return{s:v,n:function(){return y>=h.length?{done:!0}:{done:!1,value:h[y++]}},e:function(T){throw T},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,_=!0,x=!1;return{s:function(){S=S.call(h)},n:function(){var T=S.next();return _=T.done,T},e:function(T){x=!0,b=T},f:function(){try{_||S.return==null||S.return()}finally{if(x)throw b}}}}(c.servers.values());try{for(f.s();!(d=f.n()).done;){var m=d.value;if(m.host.endsWith(".mongodb.net")===!1||m.port!==27017)return!1}}catch(h){f.e(h)}finally{f.f()}return!0}},4183:(o,s,a)=>{var l=a(118);o.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:l}},4224:(o,s,a)=>{var l=a(6511).ctor("require","modify","init","default","ignore");function u(){this.activePaths=new l}o.exports=u,u.prototype.strictMode=!0,u.prototype.fullPath=void 0,u.prototype.selected=void 0,u.prototype.shardval=void 0,u.prototype.saveError=void 0,u.prototype.validationError=void 0,u.prototype.adhocPaths=void 0,u.prototype.removing=void 0,u.prototype.inserting=void 0,u.prototype.saving=void 0,u.prototype.version=void 0,u.prototype._id=void 0,u.prototype.ownerDocument=void 0,u.prototype.populate=void 0,u.prototype.populated=void 0,u.prototype.primitiveAtomics=void 0,u.prototype.wasPopulated=!1,u.prototype.scope=void 0,u.prototype.session=null,u.prototype.pathsToScopes=null,u.prototype.cachedRequired=null},4301:(o,s,a)=>{var l=a(9539),u=a(2793),c=a(3305),d=a(5549),f=a(608);o.exports=function m(h,g,S,y){var v,b=Object.keys(g),_=0,x=b.length;if(S=S||"",!(y=y||new WeakSet).has(g)){for(y.add(g);_<x;)if(v=b[_++],(S||v!=="discriminators"&&v!=="base"&&v!=="_applyDiscriminators"&&v!=="_userProvidedOptions"&&v!=="options"&&v!=="tree")&&!(S==="tree"&&g!=null&&g.instanceOfSchema||u.has(v))){if(h[v]==null)h[v]=g[v];else if(f(g[v])){if(f(h[v])||(h[v]={}),g[v]!=null){if(g[v].$isSingleNested&&h[v].$isMongooseDocumentArray||g[v].$isMongooseDocumentArray&&h[v].$isSingleNested||g[v].$isMongooseDocumentArrayElement&&h[v].$isMongooseDocumentArrayElement)continue;if(g[v].instanceOfSchema){h[v].instanceOfSchema?l(h[v],g[v].clone(),!0):h[v]=g[v].clone();continue}if(c(g[v],"ObjectId")){h[v]=new d(g[v]);continue}}m(h[v],g[v],S?S+"."+v:v,y)}}g!=null&&g.instanceOfSchema&&(h.tree=Object.assign({},g.tree,h.tree))}}},4327:o=>{o.exports=function(s,a,l,u){return l?u?{bsonType:a}:{bsonType:[a,"null"]}:u?{type:s}:{type:[s,"null"]}}},4432:(o,s,a)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(y)}function u(y){if(y!=null){var v=y[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],b=0;if(v)return v.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length))return{next:function(){return y&&b>=y.length&&(y=void 0),{value:y&&y[b++],done:!y}}}}throw new TypeError(l(y)+" is not iterable")}function c(){var y,v,b=typeof Symbol=="function"?Symbol:{},_=b.iterator||"@@iterator",x=b.toStringTag||"@@toStringTag";function T(B,q,H,z){var ne=q&&q.prototype instanceof E?q:E,ue=Object.create(ne.prototype);return d(ue,"_invoke",function(Q,N,G){var J,Y,L,K=0,ie=G||[],de=!1,ye={p:0,n:0,v:y,a:Te,f:Te.bind(y,4),d:function(me,ae){return J=me,Y=0,L=y,ye.n=ae,w}};function Te(me,ae){for(Y=me,L=ae,v=0;!de&&K&&!ge&&v<ie.length;v++){var ge,$=ie[v],te=ye.p,oe=$[2];me>3?(ge=oe===ae)&&(L=$[(Y=$[4])?5:(Y=3,3)],$[4]=$[5]=y):$[0]<=te&&((ge=me<2&&te<$[1])?(Y=0,ye.v=ae,ye.n=$[1]):te<oe&&(ge=me<3||$[0]>ae||ae>oe)&&($[4]=me,$[5]=ae,ye.n=oe,Y=0))}if(ge||me>1)return w;throw de=!0,ae}return function(me,ae,ge){if(K>1)throw TypeError("Generator is already running");for(de&&ae===1&&Te(ae,ge),Y=ae,L=ge;(v=Y<2?y:L)||!de;){J||(Y?Y<3?(Y>1&&(ye.n=-1),Te(Y,L)):ye.n=L:ye.v=L);try{if(K=2,J){if(Y||(me="next"),v=J[me]){if(!(v=v.call(J,L)))throw TypeError("iterator result is not an object");if(!v.done)return v;L=v.value,Y<2&&(Y=0)}else Y===1&&(v=J.return)&&v.call(J),Y<2&&(L=TypeError("The iterator does not provide a '"+me+"' method"),Y=1);J=y}else if((v=(de=ye.n<0)?L:Q.call(N,ye))!==w)break}catch($){J=y,Y=1,L=$}finally{K=1}}return{value:v,done:de}}}(B,H,z),!0),ue}var w={};function E(){}function C(){}function D(){}v=Object.getPrototypeOf;var O=[][_]?v(v([][_]())):(d(v={},_,function(){return this}),v),I=D.prototype=E.prototype=Object.create(O);function k(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,D):(B.__proto__=D,d(B,x,"GeneratorFunction")),B.prototype=Object.create(I),B}return C.prototype=D,d(I,"constructor",D),d(D,"constructor",C),C.displayName="GeneratorFunction",d(D,x,"GeneratorFunction"),d(I),d(I,x,"Generator"),d(I,_,function(){return this}),d(I,"toString",function(){return"[object Generator]"}),(c=function(){return{w:T,m:k}})()}function d(y,v,b,_){var x=Object.defineProperty;try{x({},"",{})}catch{x=0}d=function(T,w,E,C){function D(O,I){d(T,O,function(k){return this._invoke(O,I,k)})}w?x?x(T,w,{value:E,enumerable:!C,configurable:!C,writable:!C}):T[w]=E:(D("next",0),D("throw",1),D("return",2))},d(y,v,b,_)}function f(y,v){var b=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!b){if(Array.isArray(y)||(b=function(C,D){if(C){if(typeof C=="string")return m(C,D);var O={}.toString.call(C).slice(8,-1);return O==="Object"&&C.constructor&&(O=C.constructor.name),O==="Map"||O==="Set"?Array.from(C):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?m(C,D):void 0}}(y))||v){b&&(y=b);var _=0,x=function(){};return{s:x,n:function(){return _>=y.length?{done:!0}:{done:!1,value:y[_++]}},e:function(C){throw C},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T,w=!0,E=!1;return{s:function(){b=b.call(y)},n:function(){var C=b.next();return w=C.done,C},e:function(C){E=!0,T=C},f:function(){try{w||b.return==null||b.return()}finally{if(E)throw T}}}}function m(y,v){(v==null||v>y.length)&&(v=y.length);for(var b=0,_=Array(v);b<v;b++)_[b]=y[b];return _}function h(y,v,b,_,x,T,w){try{var E=y[T](w),C=E.value}catch(D){return void b(D)}E.done?v(C):Promise.resolve(C).then(_,x)}function g(y){return function(){var v=this,b=arguments;return new Promise(function(_,x){var T=y.apply(v,b);function w(C){h(T,_,x,w,E,"next",C)}function E(C){h(T,_,x,w,E,"throw",C)}w(void 0)})}}var S=a(5782);o.exports=function(y){var v=!0;y.s.hooks.pre("save",!1,function(b){if(this.$isSubdocument)b();else{var _=this,x=this.$getAllSubdocs({useCache:!0});x.length?S(x,function(T,w){T.$__schema.s.hooks.execPre("save",T,function(E){w(E)})},function(T){if(_.$__.saveOptions&&(_.$__.saveOptions.__subdocs=null),T)return _.$__schema.s.hooks.execPost("save:error",_,[_],{error:T},function(w){b(w)});b()}):b()}},null,v),y.s.hooks.post("save",function(){var b=g(c().m(function _(){var x,T,w,E,C,D;return c().w(function(O){for(;;)switch(O.p=O.n){case 0:if((x=this.$__.removedSubdocs)&&x.length){O.n=1;break}return O.a(2);case 1:T=[],w=f(x),O.p=2,C=c().m(function I(){var k;return c().w(function(B){for(;;)switch(B.n){case 0:k=E.value,T.push(new Promise(function(q,H){k.$__schema.s.hooks.execPost("deleteOne",k,[k],function(z){if(z)return H(z);q()})}));case 1:return B.a(2)}},I)}),w.s();case 3:if((E=w.n()).done){O.n=5;break}return O.d(u(C()),4);case 4:O.n=3;break;case 5:O.n=7;break;case 6:O.p=6,D=O.v,w.e(D);case 7:return O.p=7,w.f(),O.f(7);case 8:return this.$__.removedSubdocs=null,O.n=9,Promise.all(T);case 9:return O.a(2)}},_,this,[[2,6,7,8]])}));return function(){return b.apply(this,arguments)}}()),y.s.hooks.post("save",function(){var b=g(c().m(function _(){var x,T,w,E,C,D,O,I,k=this;return c().w(function(B){for(;;)switch(B.p=B.n){case 0:if(!this.$isSubdocument){B.n=1;break}return B.a(2);case 1:if(x=this,(T=this.$getAllSubdocs({useCache:!0})).length){B.n=2;break}return B.a(2);case 2:w=[],E=f(T),B.p=3,D=c().m(function q(){var H;return c().w(function(z){for(;;)switch(z.n){case 0:H=C.value,w.push(new Promise(function(ne,ue){H.$__schema.s.hooks.execPost("save",H,[H],function(Q){if(Q)return ue(Q);ne()})}));case 1:return z.a(2)}},q)}),E.s();case 4:if((C=E.n()).done){B.n=6;break}return B.d(u(D()),5);case 5:B.n=4;break;case 6:B.n=8;break;case 7:B.p=7,O=B.v,E.e(O);case 8:return B.p=8,E.f(),B.f(8);case 9:return B.p=9,B.n=10,Promise.all(w);case 10:B.n=12;break;case 11:return B.p=11,I=B.v,B.n=12,new Promise(function(q,H){k.$__schema.s.hooks.execPost("save:error",x,[x],{error:I},function(z){if(z)return H(z);q()})});case 12:return B.a(2)}},_,this,[[9,11],[3,7,8,9]])}));return function(){return b.apply(this,arguments)}}(),null,v)}},4450:(o,s,a)=>{function l(w){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l(w)}var u=a(9639),c=a(5549),d=a(2793),f=a(2497),m=a(9696),h=a(3305),g=a(1243).isMongooseArray,S=a(608),y=a(2789),v=a(7930),b=a(7291).trustedSymbol,_=a(6353);function x(w,E,C){if(w==null)return w;if(h(w,"Double"))return new _.Double(w.value);if(typeof w=="number"||typeof w=="string"||typeof w=="boolean"||typeof w=="bigint")return w;if(Array.isArray(w))return function(B,q){var H=0,z=B.length,ne=null;for(ne=q!=null&&q.retainDocuments?B.isMongooseDocumentArray?new(B.$schemaType()).schema.base.Types.DocumentArray([],B.$path(),B.$parent(),B.$schemaType()):B.isMongooseArray?new(B.$parent()).schema.base.Types.Array([],B.$path(),B.$parent(),B.$schemaType()):new Array(z):new Array(z),B=g(B)?B.__array:B,H=0;H<z;++H)ne[H]=x(B[H],q,!0);return ne}(w,E);if(f(w)){if(E&&E.retainDocuments&&w.$__!=null){var D=w.$clone();return w.__index!=null&&(D.__index=w.__index),w.__parentArray!=null&&(D.__parentArray=w.__parentArray),D.$__parent=w.$__parent,D}return y(w)&&w.$__!=null&&w._doc!=null?w._doc:E&&E.json&&typeof w.toJSON=="function"?w.toJSON(E):w.toObject(E)}var O,I,k=w.constructor;if(k)switch(m(k)){case"Object":return T(w,E,C);case"Date":return new k(+w);case"RegExp":return O=w,(I=new RegExp(O.source,O.flags)).lastIndex!==O.lastIndex&&(I.lastIndex=O.lastIndex),I}return h(w,"ObjectId")?E&&E.flattenObjectIds?w.toJSON():new c(w.id):h(w,"Decimal128")?E&&E.flattenDecimals?w.toJSON():u.fromString(w.toString()):!k&&S(w)?T(w,E,C):l(w)==="object"&&w[v.schemaTypeSymbol]?w.clone():E&&E.bson&&typeof w.toBSON=="function"?w:typeof w.valueOf=="function"?w.valueOf():T(w,E,C)}function T(w,E,C){var D,O=E&&E.minimize,I=E&&E.omitUndefined,k=E&&E._seen,B={};if(k&&k.has(w))return k.get(w);k&&k.set(w,B),b in w&&(E==null?void 0:E.copyTrustedSymbol)!==!1&&(B[b]=w[b]);for(var q=Object.keys(w),H=q.length,z=0;z<H;++z){var ne=q[z];if(!d.has(ne)){var ue=x(w[ne],E,!1);O!==!1&&!I||ue!==void 0?O===!0&&ue===void 0||(D||(D=!0),B[ne]=ue):delete B[ne]}}return O&&!C?D&&B:B}o.exports=x},4473:o=>{function s(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(u.has(a))throw new Error("Infinite subdocument loop: subdoc with _id "+a._id+" is a parent of itself");var c=a.$parent(),d=a.$__pathRelativeToParent(void 0,!1)+"."+l;c.$__.activePaths.clearPath(d),c.$isSubdocument&&s(c,d,u)}o.exports=function(a,l,u){var c=(u=u||{}).skipDocArrays,d=0;if(!a)return d;for(var f=0,m=Object.keys(a.$__.activePaths.getStatePaths("modify"));f<m.length;f++){var h=m[f];if(c){var g=a.$__schema.path(h);if(g&&g.$isMongooseDocumentArray)continue}h.startsWith(l+".")&&(a.$__.activePaths.clearPath(h),++d,a.$isSubdocument&&s(a,h))}return d}},4561:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"excludeIndexes",m),Object.defineProperty(f.prototype,"_id",m),o.exports=f},4592:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"enum",m),Object.defineProperty(f.prototype,"of",m),Object.defineProperty(f.prototype,"castNonArrays",m),o.exports=f},4625:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"auto",m),Object.defineProperty(f.prototype,"populate",m),o.exports=f},4756:o=>{var s=function(a){return a!=a};o.exports=function(a,l){return a===0&&l===0?1/a==1/l:a===l||!(!s(a)||!s(l))}},4829:(o,s,a)=>{o.exports=a(8533)},4859:(o,s,a)=>{var l=a(5832).hp;function u(C,D){var O=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!O){if(Array.isArray(C)||(O=function(z,ne){if(z){if(typeof z=="string")return c(z,ne);var ue={}.toString.call(z).slice(8,-1);return ue==="Object"&&z.constructor&&(ue=z.constructor.name),ue==="Map"||ue==="Set"?Array.from(z):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?c(z,ne):void 0}}(C))||D){O&&(C=O);var I=0,k=function(){};return{s:k,n:function(){return I>=C.length?{done:!0}:{done:!1,value:C[I++]}},e:function(z){throw z},f:k}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B,q=!0,H=!1;return{s:function(){O=O.call(C)},n:function(){var z=O.next();return q=z.done,z},e:function(z){H=!0,B=z},f:function(){try{q||O.return==null||O.return()}finally{if(H)throw B}}}}function c(C,D){(D==null||D>C.length)&&(D=C.length);for(var O=0,I=Array(D);O<D;O++)I[O]=C[O];return I}var d=a(8920),f=a(2400),m=a(863),h=a(1058),g=a(3303)._,S=a(8768),y=a(3305),v=a(7930).arrayParentSymbol,b=a(7930).arrayPathSymbol,_=a(7930).arraySchemaSymbol,x=a(7930).documentArrayParent,T=Array.prototype.toString,w={toBSON:function(){return this.toObject(g)},toString:function(){return T.call(this.__array.map(function(C){return C!=null&&C.$__!=null?C.toString():C}))},getArrayParent:function(){return this[v]},$schemaType:function(){return this[_]},_cast:function(C,D,O){if(this[_]==null)return C;var I=this[_].casterConstructor;if((I.$isMongooseDocumentArray?S.isMongooseDocumentArray(C):C instanceof I)||C&&C.constructor&&C.constructor.baseCasterConstructor===I)return C[x]&&C.__parentArray||(C[x]=this[v],C.__parentArray=this),C.$setIndex(D),C;if(C==null)return null;if((l.isBuffer(C)||y(C,"ObjectId")||!S.isObject(C))&&(C={_id:C}),C&&I.discriminators&&I.schema&&I.schema.options&&I.schema.options.discriminatorKey)if(typeof C[I.schema.options.discriminatorKey]=="string"&&I.discriminators[C[I.schema.options.discriminatorKey]])I=I.discriminators[C[I.schema.options.discriminatorKey]];else{var k=h(I.discriminators,C[I.schema.options.discriminatorKey]);k&&(I=k)}if(I.$isMongooseDocumentArray)return I.cast(C,this,void 0,void 0,D);var B=new I(C,this,O,void 0,D);return B.isNew=!0,B},id:function(C){var D,O,I;try{D=m(C).toString()}catch{D=null}var k,B=u(this);try{for(B.s();!(k=B.n()).done;){var q=k.value;if(q&&(I=q.get("_id"))!=null){if(I instanceof f){if(O||(O=String(C)),O==I._id)return q}else if(y(C,"ObjectId")||y(I,"ObjectId")){if(D==I)return q}else if(C==I||S.deepEqual(C,I))return q}}}catch(H){B.e(H)}finally{B.f()}return null},toObject:function(C){return[].concat(this.map(function(D){return D==null?null:typeof D.toObject!="function"?D:D.toObject(C)}))},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},push:function(){var C=d.push.apply(this,arguments);return E(this),C},pull:function(){var C=d.pull.apply(this,arguments);return E(this),C},shift:function(){var C=d.shift.apply(this,arguments);return E(this),C},splice:function(){var C=d.splice.apply(this,arguments);return E(this),C},inspect:function(){return this.toObject()},create:function(C){var D=this[_].casterConstructor;if(C&&D.discriminators&&D.schema&&D.schema.options&&D.schema.options.discriminatorKey)if(typeof C[D.schema.options.discriminatorKey]=="string"&&D.discriminators[C[D.schema.options.discriminatorKey]])D=D.discriminators[C[D.schema.options.discriminatorKey]];else{var O=h(D.discriminators,C[D.schema.options.discriminatorKey]);O&&(D=O)}return new D(C,this)},notify:function(C){var D=this;return function O(I,k){for(var B=(k=k||D).length;B--;)k[B]!=null&&(C==="save"&&(I=D[B]),S.isMongooseArray(k[B])?O(I,k[B]):k[B]&&k[B].emit(C,I))}},set:function(C,D,O){var I=this.__array;if(O)return I[C]=D,this;var k=w._cast.call(this,D,C);return w._markModified.call(this,C),I[C]=k,this},_markModified:function(C,D){var O,I=this[v];if(I){if(O=this[b],arguments.length&&(O=D!=null?O+"."+C.__index+"."+D:O+"."+C),O!=null&&O.endsWith(".$"))return this;I.markModified(O,arguments.length!==0?C:I)}return this}};function E(C){var D=C[v];if(D&&D.$__.populated!=null){var O,I=u(Object.keys(D.$__.populated).filter(function(B){return B.startsWith(C[b]+".")}));try{var k=function(){var B=O.value,q=B.slice((C[b]+".").length);if(!Array.isArray(D.$__.populated[B].value))return 1;D.$__.populated[B].value=C.map(function(H){return H.$populated(q)})};for(I.s();!(O=I.n()).done;)k()}catch(B){I.e(B)}finally{I.f()}}}o.exports=w},4878:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function u(b,_,x){return(_=function(T){var w=function(E){if(l(E)!="object"||!E)return E;var C=E[Symbol.toPrimitive];if(C!==void 0){var D=C.call(E,"string");if(l(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(T);return l(w)=="symbol"?w:w+""}(_))in b?Object.defineProperty(b,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):b[_]=x,b}var c=a(8920),d=a(4859),f=a(7930).arrayAtomicsSymbol,m=a(7930).arrayAtomicsBackupSymbol,h=a(7930).arrayParentSymbol,g=a(7930).arrayPathSymbol,S=a(7930).arraySchemaSymbol,y=Array.prototype.push,v=/^\d+$/;o.exports=function(b,_,x,T){var w=[],E=u(u(u(u(u({},f,{}),m,void 0),g,_),S,void 0),h,void 0);if(Array.isArray(b)&&(b[g]===_&&b[h]===x&&(E[f]=Object.assign({},b[f])),b.forEach(function(D){y.call(w,D)})),E[g]=_,E.__array=w,x&&x.$__)for(E[h]=x,E[S]=x.$__schema.path(_);E[S]!=null&&E[S].$isMongooseArray&&!E[S].$isMongooseDocumentArray;)E[S]=E[S].casterConstructor;var C=new Proxy(w,{get:function(D,O){return O==="isMongooseArray"||O==="isMongooseArrayProxy"||O==="isMongooseDocumentArray"||O==="isMongooseDocumentArrayProxy"||(E.hasOwnProperty(O)?E[O]:d.hasOwnProperty(O)?d[O]:T&&T.virtuals&&T.virtuals.hasOwnProperty(O)?T.virtuals[O].applyGetters(void 0,D):c.hasOwnProperty(O)?c[O]:w[O])},set:function(D,O,I){return typeof O=="string"&&v.test(O)?d.set.call(C,O,I,!1):E.hasOwnProperty(O)?E[O]=I:T&&T.virtuals&&T.virtuals.hasOwnProperty(O)?T.virtuals[O].applySetters(I,D):w[O]=I,!0}});return C}},4957:(o,s,a)=>{function l(S){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},l(S)}function u(S,y){var v=Object.keys(S);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(S);y&&(b=b.filter(function(_){return Object.getOwnPropertyDescriptor(S,_).enumerable})),v.push.apply(v,b)}return v}function c(S){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?u(Object(v),!0).forEach(function(b){d(S,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(v)):u(Object(v)).forEach(function(b){Object.defineProperty(S,b,Object.getOwnPropertyDescriptor(v,b))})}return S}function d(S,y,v){return(y=function(b){var _=function(x){if(l(x)!="object"||!x)return x;var T=x[Symbol.toPrimitive];if(T!==void 0){var w=T.call(x,"string");if(l(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(b);return l(_)=="symbol"?_:_+""}(y))in S?Object.defineProperty(S,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):S[y]=v,S}var f=a(7160),m=a(5268);o.exports=g,g.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var h=new Set(g.middlewareFunctions.flatMap(function(S){return[S,"$__".concat(S)]}));function g(S,y,v){var b={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},_=(v=v||{}).decorateDoc?S:S.prototype;S.$appliedHooks=!0;for(var x=0,T=Object.keys(y.paths);x<T.length;x++){var w=T[x],E=y.paths[w],C=null;if(E.$isSingleNested)C=E.caster;else{if(!E.$isMongooseDocumentArray)continue;C=E.Constructor}if(!C.$appliedHooks&&(g(C,E.schema,c(c({},v),{},{isChildSchema:!0})),C.discriminators!=null))for(var D=0,O=Object.keys(C.discriminators);D<O.length;D++){var I=O[D];g(C.discriminators[I],C.discriminators[I].schema,v)}}var k=y.s.hooks.filter(function(Y){return Y.name==="updateOne"||Y.name==="deleteOne"?!!Y.document:Y.name==="remove"||Y.name==="init"?Y.document==null||!!Y.document:Y.query==null&&Y.document==null||Y.document!==!1}).filter(function(Y){return!y.methods[Y.name]||!Y.fn[f.builtInMiddleware]});S._middleware=k,_.$__originalValidate=_.$__originalValidate||_.$__validate;for(var B=0,q=v&&v.isChildSchema?["save","validate","deleteOne"]:["save","validate"];B<q.length;B++){var H=q[B],z=H==="validate"?"$__originalValidate":"$__".concat(H),ne=k.createWrapper(H,_[z],null,b);_["$__".concat(H)]=ne}_.$__init=k.createWrapperSync("init",_.$__init,null,b);for(var ue=Object.keys(y.methods),Q=Object.assign({},b,{checkForPromise:!0}),N=function(){var Y=J[G];if(h.has(Y)||!k.hasHooks(Y))return 0;var L=_[Y];_[Y]=function(){var K=this,ie=Array.prototype.slice.call(arguments),de=ie.slice(-1).pop(),ye=typeof de=="function"?ie.slice(0,ie.length-1):ie;return m(de,function(Te){return K["$__".concat(Y)].apply(K,ye.concat([Te]))},S.events)},_["$__".concat(Y)]=k.createWrapper(Y,L,null,Q)},G=0,J=ue;G<J.length;G++)N()}},5022:(o,s,a)=>{var l=a(6426),u=a(7160),c=a(608),d=a(8768);function f(m,h){if(h&&h.default){var g=h.default;Array.isArray(g)&&g.length===0?h.default=Array:!h.shared&&c(g)&&Object.keys(g).length===0&&(h.default=function(){return{}})}l.call(this,m,h,"Mixed"),this[u.schemaMixedSymbol]=!0}f.schemaName="Mixed",f.defaultOptions={},f.prototype=Object.create(l.prototype),f.prototype.constructor=f,f.get=l.get,f.set=l.set,f.setters=[],f.prototype.cast=function(m){return m instanceof Error?d.errorToPOJO(m):m},f.prototype.castForQuery=function(m,h){return h},f.prototype.toJSONSchema=function(m){return{}},o.exports=f},5098:(o,s,a)=>{function l(z){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},l(z)}function u(z,ne){var ue=Object.keys(z);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(z);ne&&(Q=Q.filter(function(N){return Object.getOwnPropertyDescriptor(z,N).enumerable})),ue.push.apply(ue,Q)}return ue}function c(z){for(var ne=1;ne<arguments.length;ne++){var ue=arguments[ne]!=null?arguments[ne]:{};ne%2?u(Object(ue),!0).forEach(function(Q){d(z,Q,ue[Q])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(ue)):u(Object(ue)).forEach(function(Q){Object.defineProperty(z,Q,Object.getOwnPropertyDescriptor(ue,Q))})}return z}function d(z,ne,ue){return(ne=function(Q){var N=function(G){if(l(G)!="object"||!G)return G;var J=G[Symbol.toPrimitive];if(J!==void 0){var Y=J.call(G,"string");if(l(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(G)}(Q);return l(N)=="symbol"?N:N+""}(ne))in z?Object.defineProperty(z,ne,{value:ue,enumerable:!0,configurable:!0,writable:!0}):z[ne]=ue,z}var f,m=a(3609),h=a(3550).EventEmitter,g=a(3441),S=a(7494),y=a(6426),v=a(5335),b=a(8499),_=a(5558).G,x=a(4327),T=a(1469),w=a(9604),E=a(7910),C=a(1313),D=a(3303)._,O=a(1793),I=a(8768),k=a(5537);function B(z,ne,ue){if(z.options.timeseries)throw new k(ne,"timeseries");var Q=B.defaultOptions&&B.defaultOptions._id;Q!=null&&((ue=ue||{})._id=Q),z=C(z,ue),this.caster=q(z,null,ue),this.caster.path=ne,this.caster.prototype.$basePath=ne,this.schema=z,this.$isSingleNested=!0,this.base=z.base,y.call(this,ne,ue,"Embedded")}function q(z,ne,ue){f||(f=a(9380));var Q=function(L,K,ie){this.$__parent=ie,f.apply(this,arguments),ie!=null&&this.$session(ie.$session())};z._preCompile();var N=ne!=null?ne.prototype:f.prototype;for(var G in(Q.prototype=Object.create(N)).$__setSchema(z),Q.prototype.constructor=Q,Q.prototype.$__schemaTypeOptions=ue,Q.$__required=ue==null?void 0:ue.required,Q.base=z.base,Q.schema=z,Q.$isSingleNested=!0,Q.events=new h,Q.prototype.toBSON=function(){return this.toObject(D)},z.methods)Q.prototype[G]=z.methods[G];for(var J in z.statics)Q[J]=z.statics[J];for(var Y in h.prototype)Q[Y]=h.prototype[Y];return Q}o.exports=B,B.prototype=Object.create(y.prototype),B.prototype.constructor=B,B.prototype.OptionsConstructor=S;var H=c({},y.prototype.$conditionalHandlers);H.$geoWithin=function(z,ne){return{$geometry:this.castForQuery(null,z.$geometry,ne)}},H.$near=H.$nearSphere=w.cast$near,H.$within=H.$geoWithin=w.cast$within,H.$geoIntersects=w.cast$geoIntersects,H.$minDistance=_,H.$maxDistance=_,H.$exists=b,Object.defineProperty(B.prototype,"$conditionalHandlers",{enumerable:!1,value:H}),B.prototype.cast=function(z,ne,ue,Q,N){if(z&&z.$isSingleNested&&z.parent===ne)return z;if(z!=null&&(l(z)!=="object"||Array.isArray(z)))throw new g(this.path,z);var G,J=this.schema.path(this.schema.options.discriminatorKey),Y=J==null?null:J.getDefault(ne),L=E(this.caster,z,Y),K=ne&&ne.$__&&ne.$__.selected,ie=this.path,de=K==null?null:Object.keys(K).reduce(function(Te,me){return me.startsWith(ie+".")&&((Te=Te||{})[me.substring(ie.length+1)]=K[me]),Te},null);if(!ue)return N=Object.assign({},N,{priorDoc:Q}),Object.keys(z).length===0?new L({},de,ne,void 0,N):new L(z,de,ne,void 0,N);delete(G=new L(void 0,de,ne,!1,{defaults:!1})).$__.defaults,N.path!=null&&delete(N=c({},N)).path,G.$init(z,N);var ye=O(de);return v(G,de,ye),G},B.prototype.castForQuery=function(z,ne,ue,Q){var N;if(z!=null){if(!(N=this.$conditionalHandlers[z]))throw new Error("Can't use "+z);return N.call(this,ne)}if(ne==null)return ne;var G=E(this.caster,ne);if(ne instanceof G)return ne;this.options.runSetters&&(ne=this._applySetters(ne,ue));var J=Q!=null&&Q.strict!=null?Q.strict:void 0;try{ne=new G(ne,J)}catch(Y){throw Y instanceof m?Y:new m("Embedded",ne,this.path,Y,this)}return ne},B.prototype.doValidate=function(z,ne,ue,Q){var N=E(this.caster,z);if(!z||z instanceof N||(z=new N(z,null,ue!=null&&ue.$__!=null?ue:null)),Q&&Q.skipSchemaValidators)return z?z.validate().then(function(){return ne(null)},function(G){return ne(G)}):ne(null);y.prototype.doValidate.call(this,z,function(G){return G?ne(G):z?void z.validate().then(function(){return ne(null)},function(J){return ne(J)}):ne(null)},ue,Q)},B.prototype.doValidateSync=function(z,ne,ue){if(!ue||!ue.skipSchemaValidators){var Q=y.prototype.doValidateSync.call(this,z,ne);if(Q)return Q}if(z)return z.validateSync()},B.prototype.discriminator=function(z,ne,ue){ue=ue||{};var Q=I.isPOJO(ue)?ue.value:ue,N=typeof ue.clone!="boolean"||ue.clone;return ne.instanceOfSchema&&N&&(ne=ne.clone()),ne=T(this.caster,z,ne,Q,null,null,ue.overwriteExisting),this.caster.discriminators[z]=q(ne,this.caster),this.caster.discriminators[z]},B.defaultOptions={},B.set=y.set,B.setters=[],B.get=y.get,B.prototype.toJSON=function(){return{path:this.path,options:this.options}},B.prototype.clone=function(){var z=new this.constructor(this.schema,this.path,c(c({},this.options),{},{_skipApplyDiscriminators:!0}));return z.validators=this.validators.slice(),this.requiredValidator!==void 0&&(z.requiredValidator=this.requiredValidator),z.caster.discriminators=Object.assign({},this.caster.discriminators),z._appliedDiscriminators=this._appliedDiscriminators,z},B.prototype.toJSONSchema=function(z){var ne=this.options.required&&typeof this.options.required!="function";return c(c({},this.schema.toJSONSchema(z)),x("object","object",z==null?void 0:z.useBsonType,ne))}},5110:o=>{var s=new Set(["$ref","$id","$db"]);o.exports=function(a){return a[0]==="$"&&!s.has(a)}},5152:(o,s,a)=>{var l=a(3703),u=a(7425);o.exports=function c(d,f,m){for(var h=(m=m||{}).typeOnly,g=Array.isArray(f)?f:f.indexOf(".")===-1?[f]:f.split("."),S=null,y="adhocOrUndefined",v=u(d.schema,d.get(d.schema.options.discriminatorKey))||d.schema,b=0;b<g.length;++b){var _=g.slice(0,b+1).join(".");if((S=v.path(_))!=null){if(S.instance==="Mixed")return h?"real":S;if(y=v.pathType(_),(S.$isSingleNested||S.$isMongooseDocumentArrayElement)&&S.schema.discriminators!=null){var x=S.schema.discriminators,T=d.get(_+"."+l(S,"schema.options.discriminatorKey"));if(T==null||x[T]==null)continue;var w=g.slice(b+1).join(".");return c(d.get(_),w,m)}}else y="adhocOrUndefined"}return h?y:S}},5188:(o,s,a)=>{var l=a(7300);o.exports=function(u,c){if(u==null)return!1;if(c==="_id")return u._id===0;for(var d=null,f=0,m=Object.keys(u);f<m.length;f++){var h=m[f];if(l(u[h])){d=u[c]===1?"inclusive":"exclusive";break}}return d==="inclusive"?u[c]!==1:d==="exclusive"&&u[c]===0}},5268:(o,s,a)=>{var l=a(2746),u=Symbol("mongoose#emitted");o.exports=function(c,d,f,m){if(typeof c=="function")try{return d(function(h){if(h==null)c.apply(this,arguments);else{f!=null&&f.listeners!=null&&f.listeners("error").length>0&&!h[u]&&(h[u]=!0,f.emit("error",h));try{c(h)}catch(g){return l(function(){throw g})}}})}catch(h){return f!=null&&f.listeners!=null&&f.listeners("error").length>0&&!h[u]&&(h[u]=!0,f.emit("error",h)),c(h)}return new(m=m||a.g.Promise)(function(h,g){d(function(S,y){return S!=null?(f!=null&&f.listeners!=null&&f.listeners("error").length>0&&!S[u]&&(S[u]=!0,f.emit("error",S)),g(S)):arguments.length>2?h(Array.prototype.slice.call(arguments,1)):void h(y)})})}},5289:o=>{o.exports=function(s){switch(s){case"p":s="primary";break;case"pp":s="primaryPreferred";break;case"s":s="secondary";break;case"sp":s="secondaryPreferred";break;case"n":s="nearest"}return s}},5335:(o,s,a)=>{var l=a(1091);function u(c,d,f){c.$__.activePaths.default(d),!f&&c.$isSubdocument&&c.$isSingleNested&&c.$parent()!=null&&c.$parent().$__.activePaths.default(c.$__pathRelativeToParent(d))}o.exports=function(c,d,f,m,h,g,S){for(var y=Object.keys(c.$__schema.paths),v=y.length,b=S&&S.skipParentChangeTracking,_=0;_<v;++_){var x=void 0,T="",w=y[_];if(w!=="_id"||!c.$__.skipId){var E=c.$__schema.paths[w],C=E.splitPath(),D=C.length;if(C[D-1]!=="$*")for(var O=!1,I=c._doc,k=0;k<D&&I!=null;++k){var B=C[k];if(T+=(T.length?".":"")+B,f===!0){if(T in d)break}else if(f===!1&&d&&!O){var q=E.$isSingleNested||E.$isMongooseDocumentArray;if(T in d&&!l(d[T])||k===D-1&&q&&m!=null&&m[T])O=!0;else if(m!=null&&!m[T])break}if(k===D-1){if(I[B]!==void 0)break;if(h!=null){if(typeof E.defaultValue=="function"){if(!E.defaultValue.$runBeforeSetters&&h||E.defaultValue.$runBeforeSetters&&!h)break}else if(!h)continue}if(g&&g[T])break;if(d&&f!==null){if(f===!0){if(w in d)continue;try{x=E.getDefault(c,!1)}catch(H){c.invalidate(w,H);break}x!==void 0&&(I[B]=x,u(c,w,b))}else if(O){try{x=E.getDefault(c,!1)}catch(H){c.invalidate(w,H);break}x!==void 0&&(I[B]=x,u(c,w,b))}}else{try{x=E.getDefault(c,!1)}catch(H){c.invalidate(w,H);break}x!==void 0&&(I[B]=x,u(c,w,b))}}else I=I[B]}}}}},5346:o=>{o.exports=function(s,a,l){for(var u=a[0],c=l,d=s,f=0;f<a.length-1;++f){var m=c.path(u);if(m&&m.schema){var h=d.get(u);if(c=m.schema,u=a[f+1],Array.isArray(h)&&!isNaN(u)&&(h=h[u],u=""),h==null)break;d=h}else u+=u.length?"."+a[f+1]:a[f+1]}return d}},5413:(o,s,a)=>{var l=a(3305),u=a(2402);o.exports=function(c){if(c==null)return c;if(c==="")return null;var d=l(c,"Long")?c.toNumber():Number(c);if(d===(0|d)&&d>=-2147483648&&d<=2147483647)return d;u.ok(!1)}},5477:(o,s,a)=>{var l=a(2354),u=a(3279),c=a(3123),d=a(3388);o.exports=d||l.call(c,u)},5484:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(s(Symbol.iterator)==="symbol")return!0;var a={},l=Symbol("test"),u=Object(l);if(typeof l=="string"||Object.prototype.toString.call(l)!=="[object Symbol]"||Object.prototype.toString.call(u)!=="[object Symbol]")return!1;for(var c in a[l]=42,a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var d=Object.getOwnPropertySymbols(a);if(d.length!==1||d[0]!==l||!Object.prototype.propertyIsEnumerable.call(a,l))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var f=Object.getOwnPropertyDescriptor(a,l);if(f.value!==42||f.enumerable!==!0)return!1}return!0}},5497:(o,s,a)=>{var l=a(8260);o.exports=function(u){if(l(u)!=="TopologyDescription")return!1;var c=Array.from(u.servers.values());return c.length>0&&c.every(function(d){return d.error&&d.error.message.indexOf("Client network socket disconnected before secure TLS connection was established")!==-1})}},5510:(o,s,a)=>{function l(d){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l(d)}var u=typeof Symbol<"u"&&Symbol,c=a(5484);o.exports=function(){return typeof u=="function"&&typeof Symbol=="function"&&l(u("foo"))==="symbol"&&l(Symbol("bar"))==="symbol"&&c()}},5537:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y){return function(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}(this,h),function(v,b,_){return b=c(b),function(x,T){if(T&&(l(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(x)}(v,u()?Reflect.construct(b,_||[],c(v).constructor):b.apply(v,_))}(this,h,['Cannot create use schema for property "'.concat(S,'" because the schema has the ').concat(y," option enabled.")])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"InvalidSchemaOptionError"}),o.exports=f},5549:(o,s,a)=>{var l=a(6353).ObjectId,u=a(7930).objectIdSymbol;Object.defineProperty(l.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),l.prototype.hasOwnProperty("valueOf")||(l.prototype.valueOf=function(){return this.toString()}),l.prototype[u]=!0,o.exports=l},5558:(o,s,a)=>{var l=a(3660);function u(c){return l.cast()(c)}s.G=u,s.p=function c(d,f){d.forEach(function(m,h){Array.isArray(m)?c(m,f):d[h]=u.call(f,m)})}},5678:(o,s,a)=>{o.exports=a(2914)},5761:o=>{o.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},5782:o=>{function s(a,l){(l==null||l>a.length)&&(l=a.length);for(var u=0,c=Array(l);u<l;u++)c[u]=a[u];return c}o.exports=function(a,l,u){if(a.length===0)return u();var c,d=a.length,f=null,m=function(h,g){var S=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!S){if(Array.isArray(h)||(S=function(T,w){if(T){if(typeof T=="string")return s(T,w);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?s(T,w):void 0}}(h))||g){S&&(h=S);var y=0,v=function(){};return{s:v,n:function(){return y>=h.length?{done:!0}:{done:!1,value:h[y++]}},e:function(T){throw T},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,_=!0,x=!1;return{s:function(){S=S.call(h)},n:function(){var T=S.next();return _=T.done,T},e:function(T){x=!0,b=T},f:function(){try{_||S.return==null||S.return()}finally{if(x)throw b}}}}(a);try{for(m.s();!(c=m.n()).done;)l(c.value,function(h){if(f==null)return h!=null?u(f=h):--d<=0?u():void 0})}catch(h){m.e(h)}finally{m.f()}}},5804:(o,s,a)=>{var l=a(2354),u=a(3279),c=a(5477);o.exports=function(){return c(l,u,arguments)}},5807:o=>{o.exports=Object.getOwnPropertyDescriptor},5825:(o,s,a)=>{var l=a(8093);o.exports=l.getPrototypeOf||null},5832:(o,s,a)=>{function l($){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},l($)}var u=a(6775),c=a(2486),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.hp=h,s.IS=50;var f=2147483647;function m($){if($>f)throw new RangeError('The value "'+$+'" is invalid for option "size"');var te=new Uint8Array($);return Object.setPrototypeOf(te,h.prototype),te}function h($,te,oe){if(typeof $=="number"){if(typeof te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return y($)}return g($,te,oe)}function g($,te,oe){if(typeof $=="string")return function(Oe,Be){if(typeof Be=="string"&&Be!==""||(Be="utf8"),!h.isEncoding(Be))throw new TypeError("Unknown encoding: "+Be);var Z=0|x(Oe,Be),ce=m(Z),xe=ce.write(Oe,Be);return xe!==Z&&(ce=ce.slice(0,xe)),ce}($,te);if(ArrayBuffer.isView($))return function(Oe){if(me(Oe,Uint8Array)){var Be=new Uint8Array(Oe);return b(Be.buffer,Be.byteOffset,Be.byteLength)}return v(Oe)}($);if($==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l($));if(me($,ArrayBuffer)||$&&me($.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me($,SharedArrayBuffer)||$&&me($.buffer,SharedArrayBuffer)))return b($,te,oe);if(typeof $=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Se=$.valueOf&&$.valueOf();if(Se!=null&&Se!==$)return h.from(Se,te,oe);var Pe=function(Oe){if(h.isBuffer(Oe)){var Be=0|_(Oe.length),Z=m(Be);return Z.length===0||Oe.copy(Z,0,0,Be),Z}return Oe.length!==void 0?typeof Oe.length!="number"||ae(Oe.length)?m(0):v(Oe):Oe.type==="Buffer"&&Array.isArray(Oe.data)?v(Oe.data):void 0}($);if(Pe)return Pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof $[Symbol.toPrimitive]=="function")return h.from($[Symbol.toPrimitive]("string"),te,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+l($))}function S($){if(typeof $!="number")throw new TypeError('"size" argument must be of type number');if($<0)throw new RangeError('The value "'+$+'" is invalid for option "size"')}function y($){return S($),m($<0?0:0|_($))}function v($){for(var te=$.length<0?0:0|_($.length),oe=m(te),Se=0;Se<te;Se+=1)oe[Se]=255&$[Se];return oe}function b($,te,oe){if(te<0||$.byteLength<te)throw new RangeError('"offset" is outside of buffer bounds');if($.byteLength<te+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var Se;return Se=te===void 0&&oe===void 0?new Uint8Array($):oe===void 0?new Uint8Array($,te):new Uint8Array($,te,oe),Object.setPrototypeOf(Se,h.prototype),Se}function _($){if($>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|$}function x($,te){if(h.isBuffer($))return $.length;if(ArrayBuffer.isView($)||me($,ArrayBuffer))return $.byteLength;if(typeof $!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+l($));var oe=$.length,Se=arguments.length>2&&arguments[2]===!0;if(!Se&&oe===0)return 0;for(var Pe=!1;;)switch(te){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return de($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return ye($).length;default:if(Pe)return Se?-1:de($).length;te=(""+te).toLowerCase(),Pe=!0}}function T($,te,oe){var Se=!1;if((te===void 0||te<0)&&(te=0),te>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0)<=(te>>>=0))return"";for($||($="utf8");;)switch($){case"hex":return Q(this,te,oe);case"utf8":case"utf-8":return H(this,te,oe);case"ascii":return ne(this,te,oe);case"latin1":case"binary":return ue(this,te,oe);case"base64":return q(this,te,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,te,oe);default:if(Se)throw new TypeError("Unknown encoding: "+$);$=($+"").toLowerCase(),Se=!0}}function w($,te,oe){var Se=$[te];$[te]=$[oe],$[oe]=Se}function E($,te,oe,Se,Pe){if($.length===0)return-1;if(typeof oe=="string"?(Se=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),ae(oe=+oe)&&(oe=Pe?0:$.length-1),oe<0&&(oe=$.length+oe),oe>=$.length){if(Pe)return-1;oe=$.length-1}else if(oe<0){if(!Pe)return-1;oe=0}if(typeof te=="string"&&(te=h.from(te,Se)),h.isBuffer(te))return te.length===0?-1:C($,te,oe,Se,Pe);if(typeof te=="number")return te&=255,typeof Uint8Array.prototype.indexOf=="function"?Pe?Uint8Array.prototype.indexOf.call($,te,oe):Uint8Array.prototype.lastIndexOf.call($,te,oe):C($,[te],oe,Se,Pe);throw new TypeError("val must be string, number or Buffer")}function C($,te,oe,Se,Pe){var Oe,Be=1,Z=$.length,ce=te.length;if(Se!==void 0&&((Se=String(Se).toLowerCase())==="ucs2"||Se==="ucs-2"||Se==="utf16le"||Se==="utf-16le")){if($.length<2||te.length<2)return-1;Be=2,Z/=2,ce/=2,oe/=2}function xe(Qe,Ve){return Be===1?Qe[Ve]:Qe.readUInt16BE(Ve*Be)}if(Pe){var Ce=-1;for(Oe=oe;Oe<Z;Oe++)if(xe($,Oe)===xe(te,Ce===-1?0:Oe-Ce)){if(Ce===-1&&(Ce=Oe),Oe-Ce+1===ce)return Ce*Be}else Ce!==-1&&(Oe-=Oe-Ce),Ce=-1}else for(oe+ce>Z&&(oe=Z-ce),Oe=oe;Oe>=0;Oe--){for(var pe=!0,je=0;je<ce;je++)if(xe($,Oe+je)!==xe(te,je)){pe=!1;break}if(pe)return Oe}return-1}function D($,te,oe,Se){oe=Number(oe)||0;var Pe=$.length-oe;Se?(Se=Number(Se))>Pe&&(Se=Pe):Se=Pe;var Oe=te.length;Se>Oe/2&&(Se=Oe/2);for(var Be=0;Be<Se;++Be){var Z=parseInt(te.substr(2*Be,2),16);if(ae(Z))return Be;$[oe+Be]=Z}return Be}function O($,te,oe,Se){return Te(de(te,$.length-oe),$,oe,Se)}function I($,te,oe,Se){return Te(function(Pe){for(var Oe=[],Be=0;Be<Pe.length;++Be)Oe.push(255&Pe.charCodeAt(Be));return Oe}(te),$,oe,Se)}function k($,te,oe,Se){return Te(ye(te),$,oe,Se)}function B($,te,oe,Se){return Te(function(Pe,Oe){for(var Be,Z,ce,xe=[],Ce=0;Ce<Pe.length&&!((Oe-=2)<0);++Ce)Z=(Be=Pe.charCodeAt(Ce))>>8,ce=Be%256,xe.push(ce),xe.push(Z);return xe}(te,$.length-oe),$,oe,Se)}function q($,te,oe){return te===0&&oe===$.length?u.fromByteArray($):u.fromByteArray($.slice(te,oe))}function H($,te,oe){oe=Math.min($.length,oe);for(var Se=[],Pe=te;Pe<oe;){var Oe,Be,Z,ce,xe=$[Pe],Ce=null,pe=xe>239?4:xe>223?3:xe>191?2:1;if(Pe+pe<=oe)switch(pe){case 1:xe<128&&(Ce=xe);break;case 2:(192&(Oe=$[Pe+1]))==128&&(ce=(31&xe)<<6|63&Oe)>127&&(Ce=ce);break;case 3:Oe=$[Pe+1],Be=$[Pe+2],(192&Oe)==128&&(192&Be)==128&&(ce=(15&xe)<<12|(63&Oe)<<6|63&Be)>2047&&(ce<55296||ce>57343)&&(Ce=ce);break;case 4:Oe=$[Pe+1],Be=$[Pe+2],Z=$[Pe+3],(192&Oe)==128&&(192&Be)==128&&(192&Z)==128&&(ce=(15&xe)<<18|(63&Oe)<<12|(63&Be)<<6|63&Z)>65535&&ce<1114112&&(Ce=ce)}Ce===null?(Ce=65533,pe=1):Ce>65535&&(Ce-=65536,Se.push(Ce>>>10&1023|55296),Ce=56320|1023&Ce),Se.push(Ce),Pe+=pe}return function(je){var Qe=je.length;if(Qe<=z)return String.fromCharCode.apply(String,je);for(var Ve="",Ne=0;Ne<Qe;)Ve+=String.fromCharCode.apply(String,je.slice(Ne,Ne+=z));return Ve}(Se)}h.TYPED_ARRAY_SUPPORT=function(){try{var $=new Uint8Array(1),te={foo:function(){return 42}};return Object.setPrototypeOf(te,Uint8Array.prototype),Object.setPrototypeOf($,te),$.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function($,te,oe){return g($,te,oe)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function($,te,oe){return function(Se,Pe,Oe){return S(Se),Se<=0?m(Se):Pe!==void 0?typeof Oe=="string"?m(Se).fill(Pe,Oe):m(Se).fill(Pe):m(Se)}($,te,oe)},h.allocUnsafe=function($){return y($)},h.allocUnsafeSlow=function($){return y($)},h.isBuffer=function($){return $!=null&&$._isBuffer===!0&&$!==h.prototype},h.compare=function($,te){if(me($,Uint8Array)&&($=h.from($,$.offset,$.byteLength)),me(te,Uint8Array)&&(te=h.from(te,te.offset,te.byteLength)),!h.isBuffer($)||!h.isBuffer(te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if($===te)return 0;for(var oe=$.length,Se=te.length,Pe=0,Oe=Math.min(oe,Se);Pe<Oe;++Pe)if($[Pe]!==te[Pe]){oe=$[Pe],Se=te[Pe];break}return oe<Se?-1:Se<oe?1:0},h.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function($,te){if(!Array.isArray($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return h.alloc(0);var oe;if(te===void 0)for(te=0,oe=0;oe<$.length;++oe)te+=$[oe].length;var Se=h.allocUnsafe(te),Pe=0;for(oe=0;oe<$.length;++oe){var Oe=$[oe];if(me(Oe,Uint8Array))Pe+Oe.length>Se.length?h.from(Oe).copy(Se,Pe):Uint8Array.prototype.set.call(Se,Oe,Pe);else{if(!h.isBuffer(Oe))throw new TypeError('"list" argument must be an Array of Buffers');Oe.copy(Se,Pe)}Pe+=Oe.length}return Se},h.byteLength=x,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var te=0;te<$;te+=2)w(this,te,te+1);return this},h.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var te=0;te<$;te+=4)w(this,te,te+3),w(this,te+1,te+2);return this},h.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var te=0;te<$;te+=8)w(this,te,te+7),w(this,te+1,te+6),w(this,te+2,te+5),w(this,te+3,te+4);return this},h.prototype.toString=function(){var $=this.length;return $===0?"":arguments.length===0?H(this,0,$):T.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function($){if(!h.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$||h.compare(this,$)===0},h.prototype.inspect=function(){var $="",te=s.IS;return $=this.toString("hex",0,te).replace(/(.{2})/g,"$1 ").trim(),this.length>te&&($+=" ... "),"<Buffer "+$+">"},d&&(h.prototype[d]=h.prototype.inspect),h.prototype.compare=function($,te,oe,Se,Pe){if(me($,Uint8Array)&&($=h.from($,$.offset,$.byteLength)),!h.isBuffer($))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+l($));if(te===void 0&&(te=0),oe===void 0&&(oe=$?$.length:0),Se===void 0&&(Se=0),Pe===void 0&&(Pe=this.length),te<0||oe>$.length||Se<0||Pe>this.length)throw new RangeError("out of range index");if(Se>=Pe&&te>=oe)return 0;if(Se>=Pe)return-1;if(te>=oe)return 1;if(this===$)return 0;for(var Oe=(Pe>>>=0)-(Se>>>=0),Be=(oe>>>=0)-(te>>>=0),Z=Math.min(Oe,Be),ce=this.slice(Se,Pe),xe=$.slice(te,oe),Ce=0;Ce<Z;++Ce)if(ce[Ce]!==xe[Ce]){Oe=ce[Ce],Be=xe[Ce];break}return Oe<Be?-1:Be<Oe?1:0},h.prototype.includes=function($,te,oe){return this.indexOf($,te,oe)!==-1},h.prototype.indexOf=function($,te,oe){return E(this,$,te,oe,!0)},h.prototype.lastIndexOf=function($,te,oe){return E(this,$,te,oe,!1)},h.prototype.write=function($,te,oe,Se){if(te===void 0)Se="utf8",oe=this.length,te=0;else if(oe===void 0&&typeof te=="string")Se=te,oe=this.length,te=0;else{if(!isFinite(te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");te>>>=0,isFinite(oe)?(oe>>>=0,Se===void 0&&(Se="utf8")):(Se=oe,oe=void 0)}var Pe=this.length-te;if((oe===void 0||oe>Pe)&&(oe=Pe),$.length>0&&(oe<0||te<0)||te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Se||(Se="utf8");for(var Oe=!1;;)switch(Se){case"hex":return D(this,$,te,oe);case"utf8":case"utf-8":return O(this,$,te,oe);case"ascii":case"latin1":case"binary":return I(this,$,te,oe);case"base64":return k(this,$,te,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,$,te,oe);default:if(Oe)throw new TypeError("Unknown encoding: "+Se);Se=(""+Se).toLowerCase(),Oe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;function ne($,te,oe){var Se="";oe=Math.min($.length,oe);for(var Pe=te;Pe<oe;++Pe)Se+=String.fromCharCode(127&$[Pe]);return Se}function ue($,te,oe){var Se="";oe=Math.min($.length,oe);for(var Pe=te;Pe<oe;++Pe)Se+=String.fromCharCode($[Pe]);return Se}function Q($,te,oe){var Se=$.length;(!te||te<0)&&(te=0),(!oe||oe<0||oe>Se)&&(oe=Se);for(var Pe="",Oe=te;Oe<oe;++Oe)Pe+=ge[$[Oe]];return Pe}function N($,te,oe){for(var Se=$.slice(te,oe),Pe="",Oe=0;Oe<Se.length-1;Oe+=2)Pe+=String.fromCharCode(Se[Oe]+256*Se[Oe+1]);return Pe}function G($,te,oe){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+te>oe)throw new RangeError("Trying to access beyond buffer length")}function J($,te,oe,Se,Pe,Oe){if(!h.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(te>Pe||te<Oe)throw new RangeError('"value" argument is out of bounds');if(oe+Se>$.length)throw new RangeError("Index out of range")}function Y($,te,oe,Se,Pe,Oe){if(oe+Se>$.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function L($,te,oe,Se,Pe){return te=+te,oe>>>=0,Pe||Y($,0,oe,4),c.write($,te,oe,Se,23,4),oe+4}function K($,te,oe,Se,Pe){return te=+te,oe>>>=0,Pe||Y($,0,oe,8),c.write($,te,oe,Se,52,8),oe+8}h.prototype.slice=function($,te){var oe=this.length;($=~~$)<0?($+=oe)<0&&($=0):$>oe&&($=oe),(te=te===void 0?oe:~~te)<0?(te+=oe)<0&&(te=0):te>oe&&(te=oe),te<$&&(te=$);var Se=this.subarray($,te);return Object.setPrototypeOf(Se,h.prototype),Se},h.prototype.readUintLE=h.prototype.readUIntLE=function($,te,oe){$>>>=0,te>>>=0,oe||G($,te,this.length);for(var Se=this[$],Pe=1,Oe=0;++Oe<te&&(Pe*=256);)Se+=this[$+Oe]*Pe;return Se},h.prototype.readUintBE=h.prototype.readUIntBE=function($,te,oe){$>>>=0,te>>>=0,oe||G($,te,this.length);for(var Se=this[$+--te],Pe=1;te>0&&(Pe*=256);)Se+=this[$+--te]*Pe;return Se},h.prototype.readUint8=h.prototype.readUInt8=function($,te){return $>>>=0,te||G($,1,this.length),this[$]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function($,te){return $>>>=0,te||G($,2,this.length),this[$]|this[$+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function($,te){return $>>>=0,te||G($,2,this.length),this[$]<<8|this[$+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function($,te){return $>>>=0,te||G($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function($,te){return $>>>=0,te||G($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},h.prototype.readIntLE=function($,te,oe){$>>>=0,te>>>=0,oe||G($,te,this.length);for(var Se=this[$],Pe=1,Oe=0;++Oe<te&&(Pe*=256);)Se+=this[$+Oe]*Pe;return Se>=(Pe*=128)&&(Se-=Math.pow(2,8*te)),Se},h.prototype.readIntBE=function($,te,oe){$>>>=0,te>>>=0,oe||G($,te,this.length);for(var Se=te,Pe=1,Oe=this[$+--Se];Se>0&&(Pe*=256);)Oe+=this[$+--Se]*Pe;return Oe>=(Pe*=128)&&(Oe-=Math.pow(2,8*te)),Oe},h.prototype.readInt8=function($,te){return $>>>=0,te||G($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},h.prototype.readInt16LE=function($,te){$>>>=0,te||G($,2,this.length);var oe=this[$]|this[$+1]<<8;return 32768&oe?4294901760|oe:oe},h.prototype.readInt16BE=function($,te){$>>>=0,te||G($,2,this.length);var oe=this[$+1]|this[$]<<8;return 32768&oe?4294901760|oe:oe},h.prototype.readInt32LE=function($,te){return $>>>=0,te||G($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},h.prototype.readInt32BE=function($,te){return $>>>=0,te||G($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},h.prototype.readFloatLE=function($,te){return $>>>=0,te||G($,4,this.length),c.read(this,$,!0,23,4)},h.prototype.readFloatBE=function($,te){return $>>>=0,te||G($,4,this.length),c.read(this,$,!1,23,4)},h.prototype.readDoubleLE=function($,te){return $>>>=0,te||G($,8,this.length),c.read(this,$,!0,52,8)},h.prototype.readDoubleBE=function($,te){return $>>>=0,te||G($,8,this.length),c.read(this,$,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function($,te,oe,Se){$=+$,te>>>=0,oe>>>=0,Se||J(this,$,te,oe,Math.pow(2,8*oe)-1,0);var Pe=1,Oe=0;for(this[te]=255&$;++Oe<oe&&(Pe*=256);)this[te+Oe]=$/Pe&255;return te+oe},h.prototype.writeUintBE=h.prototype.writeUIntBE=function($,te,oe,Se){$=+$,te>>>=0,oe>>>=0,Se||J(this,$,te,oe,Math.pow(2,8*oe)-1,0);var Pe=oe-1,Oe=1;for(this[te+Pe]=255&$;--Pe>=0&&(Oe*=256);)this[te+Pe]=$/Oe&255;return te+oe},h.prototype.writeUint8=h.prototype.writeUInt8=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,1,255,0),this[te]=255&$,te+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,2,65535,0),this[te]=255&$,this[te+1]=$>>>8,te+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,2,65535,0),this[te]=$>>>8,this[te+1]=255&$,te+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,4,4294967295,0),this[te+3]=$>>>24,this[te+2]=$>>>16,this[te+1]=$>>>8,this[te]=255&$,te+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,4,4294967295,0),this[te]=$>>>24,this[te+1]=$>>>16,this[te+2]=$>>>8,this[te+3]=255&$,te+4},h.prototype.writeIntLE=function($,te,oe,Se){if($=+$,te>>>=0,!Se){var Pe=Math.pow(2,8*oe-1);J(this,$,te,oe,Pe-1,-Pe)}var Oe=0,Be=1,Z=0;for(this[te]=255&$;++Oe<oe&&(Be*=256);)$<0&&Z===0&&this[te+Oe-1]!==0&&(Z=1),this[te+Oe]=($/Be|0)-Z&255;return te+oe},h.prototype.writeIntBE=function($,te,oe,Se){if($=+$,te>>>=0,!Se){var Pe=Math.pow(2,8*oe-1);J(this,$,te,oe,Pe-1,-Pe)}var Oe=oe-1,Be=1,Z=0;for(this[te+Oe]=255&$;--Oe>=0&&(Be*=256);)$<0&&Z===0&&this[te+Oe+1]!==0&&(Z=1),this[te+Oe]=($/Be|0)-Z&255;return te+oe},h.prototype.writeInt8=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,1,127,-128),$<0&&($=255+$+1),this[te]=255&$,te+1},h.prototype.writeInt16LE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,2,32767,-32768),this[te]=255&$,this[te+1]=$>>>8,te+2},h.prototype.writeInt16BE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,2,32767,-32768),this[te]=$>>>8,this[te+1]=255&$,te+2},h.prototype.writeInt32LE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,4,2147483647,-2147483648),this[te]=255&$,this[te+1]=$>>>8,this[te+2]=$>>>16,this[te+3]=$>>>24,te+4},h.prototype.writeInt32BE=function($,te,oe){return $=+$,te>>>=0,oe||J(this,$,te,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),this[te]=$>>>24,this[te+1]=$>>>16,this[te+2]=$>>>8,this[te+3]=255&$,te+4},h.prototype.writeFloatLE=function($,te,oe){return L(this,$,te,!0,oe)},h.prototype.writeFloatBE=function($,te,oe){return L(this,$,te,!1,oe)},h.prototype.writeDoubleLE=function($,te,oe){return K(this,$,te,!0,oe)},h.prototype.writeDoubleBE=function($,te,oe){return K(this,$,te,!1,oe)},h.prototype.copy=function($,te,oe,Se){if(!h.isBuffer($))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),Se||Se===0||(Se=this.length),te>=$.length&&(te=$.length),te||(te=0),Se>0&&Se<oe&&(Se=oe),Se===oe||$.length===0||this.length===0)return 0;if(te<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(Se<0)throw new RangeError("sourceEnd out of bounds");Se>this.length&&(Se=this.length),$.length-te<Se-oe&&(Se=$.length-te+oe);var Pe=Se-oe;return this===$&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(te,oe,Se):Uint8Array.prototype.set.call($,this.subarray(oe,Se),te),Pe},h.prototype.fill=function($,te,oe,Se){if(typeof $=="string"){if(typeof te=="string"?(Se=te,te=0,oe=this.length):typeof oe=="string"&&(Se=oe,oe=this.length),Se!==void 0&&typeof Se!="string")throw new TypeError("encoding must be a string");if(typeof Se=="string"&&!h.isEncoding(Se))throw new TypeError("Unknown encoding: "+Se);if($.length===1){var Pe=$.charCodeAt(0);(Se==="utf8"&&Pe<128||Se==="latin1")&&($=Pe)}}else typeof $=="number"?$&=255:typeof $=="boolean"&&($=Number($));if(te<0||this.length<te||this.length<oe)throw new RangeError("Out of range index");if(oe<=te)return this;var Oe;if(te>>>=0,oe=oe===void 0?this.length:oe>>>0,$||($=0),typeof $=="number")for(Oe=te;Oe<oe;++Oe)this[Oe]=$;else{var Be=h.isBuffer($)?$:h.from($,Se),Z=Be.length;if(Z===0)throw new TypeError('The value "'+$+'" is invalid for argument "value"');for(Oe=0;Oe<oe-te;++Oe)this[Oe+te]=Be[Oe%Z]}return this};var ie=/[^+/0-9A-Za-z-_]/g;function de($,te){var oe;te=te||1/0;for(var Se=$.length,Pe=null,Oe=[],Be=0;Be<Se;++Be){if((oe=$.charCodeAt(Be))>55295&&oe<57344){if(!Pe){if(oe>56319){(te-=3)>-1&&Oe.push(239,191,189);continue}if(Be+1===Se){(te-=3)>-1&&Oe.push(239,191,189);continue}Pe=oe;continue}if(oe<56320){(te-=3)>-1&&Oe.push(239,191,189),Pe=oe;continue}oe=65536+(Pe-55296<<10|oe-56320)}else Pe&&(te-=3)>-1&&Oe.push(239,191,189);if(Pe=null,oe<128){if((te-=1)<0)break;Oe.push(oe)}else if(oe<2048){if((te-=2)<0)break;Oe.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((te-=3)<0)break;Oe.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((te-=4)<0)break;Oe.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return Oe}function ye($){return u.toByteArray(function(te){if((te=(te=te.split("=")[0]).trim().replace(ie,"")).length<2)return"";for(;te.length%4!=0;)te+="=";return te}($))}function Te($,te,oe,Se){for(var Pe=0;Pe<Se&&!(Pe+oe>=te.length||Pe>=$.length);++Pe)te[Pe+oe]=$[Pe];return Pe}function me($,te){return $ instanceof te||$!=null&&$.constructor!=null&&$.constructor.name!=null&&$.constructor.name===te.name}function ae($){return $!=$}var ge=function(){for(var $="0123456789abcdef",te=new Array(256),oe=0;oe<16;++oe)for(var Se=16*oe,Pe=0;Pe<16;++Pe)te[Se+Pe]=$[oe]+$[Pe];return te}()},5889:(o,s,a)=>{function l(g,S){var y=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!y){if(Array.isArray(g)||(y=u(g))||S){y&&(g=y);var v=0,b=function(){};return{s:b,n:function(){return v>=g.length?{done:!0}:{done:!1,value:g[v++]}},e:function(w){throw w},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,x=!0,T=!1;return{s:function(){y=y.call(g)},n:function(){var w=y.next();return x=w.done,w},e:function(w){T=!0,_=w},f:function(){try{x||y.return==null||y.return()}finally{if(T)throw _}}}}function u(g,S){if(g){if(typeof g=="string")return c(g,S);var y={}.toString.call(g).slice(8,-1);return y==="Object"&&g.constructor&&(y=g.constructor.name),y==="Map"||y==="Set"?Array.from(g):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?c(g,S):void 0}}function c(g,S){(S==null||S>g.length)&&(S=g.length);for(var y=0,v=Array(S);y<S;y++)v[y]=g[y];return v}var d=a(7930).arrayAtomicsSymbol,f=a(7930).sessionNewDocuments,m=a(8768);function h(g,S){return g=g||{},S.$pullAll!=null&&(g.$pullAll=(g.$pullAll||[]).concat(S.$pullAll)),S.$push!=null&&(g.$push=g.$push||{},g.$push.$each=(g.$push.$each||[]).concat(S.$push.$each)),S.$addToSet!=null&&(g.$addToSet=(g.$addToSet||[]).concat(S.$addToSet)),S.$set!=null&&(g.$set=Array.isArray(S.$set)?function(v){if(Array.isArray(v))return c(v)}(y=S.$set)||function(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}(y)||u(y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():Object.assign({},S.$set)),g;var y}o.exports=function(g){g.pre("save",function(){var S=this.$session();if(S!=null&&S.transaction!=null&&S[f]!=null&&!S[f].has(this)){var y={};this.isNew&&(y.isNew=!0),this.$__schema.options.versionKey&&(y.versionKey=this.get(this.$__schema.options.versionKey)),y.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),y.atomics=function(v,b){var _=new Map;b=b||new Map;var x,T=l(Object.keys(v.$__.activePaths.init).concat(Object.keys(v.$__.activePaths.modify)));try{for(T.s();!(x=T.n()).done;){var w=x.value,E=v.$__getValue(w);if(E!=null&&Array.isArray(E)&&m.isMongooseDocumentArray(E)&&E.length&&E[d]!=null&&Object.keys(E[d]).length!==0){var C=b.get(w)||{};_.set(w,h(C,E[d]))}}}catch(H){T.e(H)}finally{T.f()}var D,O=l(v.$__dirty());try{for(O.s();!(D=O.n()).done;){var I=D.value,k=I.path,B=I.value;if(B!=null&&B[d]!=null&&Object.keys(B[d]).length!==0){var q=b.get(k)||{};_.set(k,h(q,B[d]))}}}catch(H){O.e(H)}finally{O.f()}return _}(this),S[f].set(this,y)}})}},5899:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}var u=a(953)(),c=a(3071)("Object.prototype.toString"),d=function(h){return!(u&&h&&l(h)==="object"&&Symbol.toStringTag in h)&&c(h)==="[object Arguments]"},f=function(h){return!!d(h)||h!==null&&l(h)==="object"&&"length"in h&&typeof h.length=="number"&&h.length>=0&&c(h)!=="[object Array]"&&"callee"in h&&c(h.callee)==="[object Function]"},m=function(){return d(arguments)}();d.isLegacyArguments=f,o.exports=m?d:f},5994:(o,s,a)=>{var l=Function.prototype.call,u=Object.prototype.hasOwnProperty,c=a(2354);o.exports=c.call(l,u)},6062:(o,s,a)=>{var l=a(9122),u=a(2273),c=a(118),d=a(4183),f=a(7878),m=l(d(),Number);u(m,{getPolyfill:d,implementation:c,shim:f}),o.exports=m},6140:o=>{function s(a,l,u){return Object.defineProperty(a,"prototype",{writable:!1}),a}o.exports=s(function a(l,u,c){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a),this.subdocSnapshot=l,this.activePaths=u,this.version=c})},6155:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){for(var l=Object.keys(a),u=!0,c=0,d=l.length;c<d;++c)if(s(a[l[c]])==="object"&&a[l[c]]!==null){u=!1;break}return u}},6182:o=>{function s(a,l){if(a==null)throw new TypeError("Cannot convert first argument to object");for(var u=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!=null)for(var f=Object.keys(Object(d)),m=0,h=f.length;m<h;m++){var g=f[m],S=Object.getOwnPropertyDescriptor(d,g);S!==void 0&&S.enumerable&&(u[g]=d[g])}}return u}o.exports={assign:s,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}}},6193:(o,s,a)=>{function l(ae){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},l(ae)}function u(ae,ge){return function($){if(Array.isArray($))return $}(ae)||function($,te){var oe=[],Se=!0,Pe=!1,Oe=void 0;try{for(var Be,Z=$[Symbol.iterator]();!(Se=(Be=Z.next()).done)&&(oe.push(Be.value),!te||oe.length!==te);Se=!0);}catch(ce){Pe=!0,Oe=ce}finally{try{Se||Z.return==null||Z.return()}finally{if(Pe)throw Oe}}return oe}(ae,ge)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(ae){return c=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(ge){return l(ge)}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":l(ge)},c(ae)}var d=/a/g.flags!==void 0,f=function(ae){var ge=[];return ae.forEach(function($){return ge.push($)}),ge},m=function(ae){var ge=[];return ae.forEach(function($,te){return ge.push([te,$])}),ge},h=Object.is?Object.is:a(2064),g=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},S=Number.isNaN?Number.isNaN:a(6062);function y(ae){return ae.call.bind(ae)}var v=y(Object.prototype.hasOwnProperty),b=y(Object.prototype.propertyIsEnumerable),_=y(Object.prototype.toString),x=a(7352).types,T=x.isAnyArrayBuffer,w=x.isArrayBufferView,E=x.isDate,C=x.isMap,D=x.isRegExp,O=x.isSet,I=x.isNativeError,k=x.isBoxedPrimitive,B=x.isNumberObject,q=x.isStringObject,H=x.isBooleanObject,z=x.isBigIntObject,ne=x.isSymbolObject,ue=x.isFloat32Array,Q=x.isFloat64Array;function N(ae){if(ae.length===0||ae.length>10)return!0;for(var ge=0;ge<ae.length;ge++){var $=ae.charCodeAt(ge);if($<48||$>57)return!0}return ae.length===10&&ae>=Math.pow(2,32)}function G(ae){return Object.keys(ae).filter(N).concat(g(ae).filter(Object.prototype.propertyIsEnumerable.bind(ae)))}function J(ae,ge){if(ae===ge)return 0;for(var $=ae.length,te=ge.length,oe=0,Se=Math.min($,te);oe<Se;++oe)if(ae[oe]!==ge[oe]){$=ae[oe],te=ge[oe];break}return $<te?-1:te<$?1:0}function Y(ae,ge,$,te){if(ae===ge)return ae!==0||!$||h(ae,ge);if($){if(c(ae)!=="object")return typeof ae=="number"&&S(ae)&&S(ge);if(c(ge)!=="object"||ae===null||ge===null||Object.getPrototypeOf(ae)!==Object.getPrototypeOf(ge))return!1}else{if(ae===null||c(ae)!=="object")return(ge===null||c(ge)!=="object")&&ae==ge;if(ge===null||c(ge)!=="object")return!1}var oe,Se,Pe,Oe,Be=_(ae);if(Be!==_(ge))return!1;if(Array.isArray(ae)){if(ae.length!==ge.length)return!1;var Z=G(ae),ce=G(ge);return Z.length===ce.length&&K(ae,ge,$,te,1,Z)}if(Be==="[object Object]"&&(!C(ae)&&C(ge)||!O(ae)&&O(ge)))return!1;if(E(ae)){if(!E(ge)||Date.prototype.getTime.call(ae)!==Date.prototype.getTime.call(ge))return!1}else if(D(ae)){if(!D(ge)||(Pe=ae,Oe=ge,!(d?Pe.source===Oe.source&&Pe.flags===Oe.flags:RegExp.prototype.toString.call(Pe)===RegExp.prototype.toString.call(Oe))))return!1}else if(I(ae)||ae instanceof Error){if(ae.message!==ge.message||ae.name!==ge.name)return!1}else{if(w(ae)){if($||!ue(ae)&&!Q(ae)){if(!function(pe,je){return pe.byteLength===je.byteLength&&J(new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength),new Uint8Array(je.buffer,je.byteOffset,je.byteLength))===0}(ae,ge))return!1}else if(!function(pe,je){if(pe.byteLength!==je.byteLength)return!1;for(var Qe=0;Qe<pe.byteLength;Qe++)if(pe[Qe]!==je[Qe])return!1;return!0}(ae,ge))return!1;var xe=G(ae),Ce=G(ge);return xe.length===Ce.length&&K(ae,ge,$,te,0,xe)}if(O(ae))return!(!O(ge)||ae.size!==ge.size)&&K(ae,ge,$,te,2);if(C(ae))return!(!C(ge)||ae.size!==ge.size)&&K(ae,ge,$,te,3);if(T(ae)){if(Se=ge,(oe=ae).byteLength!==Se.byteLength||J(new Uint8Array(oe),new Uint8Array(Se))!==0)return!1}else if(k(ae)&&!function(pe,je){return B(pe)?B(je)&&h(Number.prototype.valueOf.call(pe),Number.prototype.valueOf.call(je)):q(pe)?q(je)&&String.prototype.valueOf.call(pe)===String.prototype.valueOf.call(je):H(pe)?H(je)&&Boolean.prototype.valueOf.call(pe)===Boolean.prototype.valueOf.call(je):z(pe)?z(je)&&BigInt.prototype.valueOf.call(pe)===BigInt.prototype.valueOf.call(je):ne(je)&&Symbol.prototype.valueOf.call(pe)===Symbol.prototype.valueOf.call(je)}(ae,ge))return!1}return K(ae,ge,$,te,0)}function L(ae,ge){return ge.filter(function($){return b(ae,$)})}function K(ae,ge,$,te,oe,Se){if(arguments.length===5){Se=Object.keys(ae);var Pe=Object.keys(ge);if(Se.length!==Pe.length)return!1}for(var Oe=0;Oe<Se.length;Oe++)if(!v(ge,Se[Oe]))return!1;if($&&arguments.length===5){var Be=g(ae);if(Be.length!==0){var Z=0;for(Oe=0;Oe<Be.length;Oe++){var ce=Be[Oe];if(b(ae,ce)){if(!b(ge,ce))return!1;Se.push(ce),Z++}else if(b(ge,ce))return!1}var xe=g(ge);if(Be.length!==xe.length&&L(ge,xe).length!==Z)return!1}else{var Ce=g(ge);if(Ce.length!==0&&L(ge,Ce).length!==0)return!1}}if(Se.length===0&&(oe===0||oe===1&&ae.length===0||ae.size===0))return!0;if(te===void 0)te={val1:new Map,val2:new Map,position:0};else{var pe=te.val1.get(ae);if(pe!==void 0){var je=te.val2.get(ge);if(je!==void 0)return pe===je}te.position++}te.val1.set(ae,te.position),te.val2.set(ge,te.position);var Qe=function(Ve,Ne,Je,qe,Ze,Mt){var Ut=0;if(Mt===2){if(!function(sn,gn,vn,An){for(var Kt=null,Mn=f(sn),et=0;et<Mn.length;et++){var tr=Mn[et];if(c(tr)==="object"&&tr!==null)Kt===null&&(Kt=new Set),Kt.add(tr);else if(!gn.has(tr)){if(vn||!ye(sn,gn,tr))return!1;Kt===null&&(Kt=new Set),Kt.add(tr)}}if(Kt!==null){for(var Zt=f(gn),$e=0;$e<Zt.length;$e++){var qn=Zt[$e];if(c(qn)==="object"&&qn!==null){if(!ie(Kt,qn,vn,An))return!1}else if(!vn&&!sn.has(qn)&&!ie(Kt,qn,vn,An))return!1}return Kt.size===0}return!0}(Ve,Ne,Je,Ze))return!1}else if(Mt===3){if(!function(sn,gn,vn,An){for(var Kt=null,Mn=m(sn),et=0;et<Mn.length;et++){var tr=u(Mn[et],2),Zt=tr[0],$e=tr[1];if(c(Zt)==="object"&&Zt!==null)Kt===null&&(Kt=new Set),Kt.add(Zt);else{var qn=gn.get(Zt);if(qn===void 0&&!gn.has(Zt)||!Y($e,qn,vn,An)){if(vn||!Te(sn,gn,Zt,$e,An))return!1;Kt===null&&(Kt=new Set),Kt.add(Zt)}}}if(Kt!==null){for(var gi=m(gn),jn=0;jn<gi.length;jn++){var Ie=u(gi[jn],2),We=(Zt=Ie[0],Ie[1]);if(c(Zt)==="object"&&Zt!==null){if(!me(Kt,sn,Zt,We,vn,An))return!1}else if(!(vn||sn.has(Zt)&&Y(sn.get(Zt),We,!1,An)||me(Kt,sn,Zt,We,!1,An)))return!1}return Kt.size===0}return!0}(Ve,Ne,Je,Ze))return!1}else if(Mt===1)for(;Ut<Ve.length;Ut++){if(!v(Ve,Ut)){if(v(Ne,Ut))return!1;for(var Ft=Object.keys(Ve);Ut<Ft.length;Ut++){var bt=Ft[Ut];if(!v(Ne,bt)||!Y(Ve[bt],Ne[bt],Je,Ze))return!1}return Ft.length===Object.keys(Ne).length}if(!v(Ne,Ut)||!Y(Ve[Ut],Ne[Ut],Je,Ze))return!1}for(Ut=0;Ut<qe.length;Ut++){var Jn=qe[Ut];if(!Y(Ve[Jn],Ne[Jn],Je,Ze))return!1}return!0}(ae,ge,$,Se,te,oe);return te.val1.delete(ae),te.val2.delete(ge),Qe}function ie(ae,ge,$,te){for(var oe=f(ae),Se=0;Se<oe.length;Se++){var Pe=oe[Se];if(Y(ge,Pe,$,te))return ae.delete(Pe),!0}return!1}function de(ae){switch(c(ae)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ae=+ae;case"number":if(S(ae))return!1}return!0}function ye(ae,ge,$){var te=de($);return te??(ge.has(te)&&!ae.has(te))}function Te(ae,ge,$,te,oe){var Se=de($);if(Se!=null)return Se;var Pe=ge.get(Se);return!(Pe===void 0&&!ge.has(Se)||!Y(te,Pe,!1,oe))&&!ae.has(Se)&&Y(te,Pe,!1,oe)}function me(ae,ge,$,te,oe,Se){for(var Pe=f(ae),Oe=0;Oe<Pe.length;Oe++){var Be=Pe[Oe];if(Y($,Be,oe,Se)&&Y(te,ge.get(Be),oe,Se))return ae.delete(Be),!0}return!1}o.exports={isDeepEqual:function(ae,ge){return Y(ae,ge,!1)},isDeepStrictEqual:function(ae,ge){return Y(ae,ge,!0)}}},6223:o=>{var s=/\./g;o.exports=function(a){if(a.indexOf(".")===-1)return[a];for(var l=a.split(s),u=l.length,c=new Array(u),d="",f=0;f<u;++f)d+=d.length!==0?"."+l[f]:l[f],c[f]=d;return c}},6312:o=>{function s(l){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},s(l)}var a=Object.prototype.toString;o.exports=function(l){var u=a.call(l),c=u==="[object Arguments]";return c||(c=u!=="[object Array]"&&l!==null&&s(l)==="object"&&typeof l.length=="number"&&l.length>=0&&a.call(l.callee)==="[object Function]"),c}},6353:(o,s,a)=>{var Zl;a.r(s),a.d(s,{BSON:()=>Zu,BSONError:()=>ae,BSONOffsetError:()=>te,BSONRegExp:()=>ut,BSONRuntimeError:()=>$,BSONSymbol:()=>gt,BSONType:()=>me,BSONValue:()=>je,BSONVersionError:()=>ge,Binary:()=>qe,Code:()=>bt,DBRef:()=>sn,Decimal128:()=>be,Double:()=>_e,EJSON:()=>Br,Int32:()=>Le,Long:()=>$e,MaxKey:()=>Ue,MinKey:()=>rt,ObjectId:()=>fe,Timestamp:()=>Tt,UUID:()=>Ft,calculateObjectSize:()=>Xu,deserialize:()=>Xl,deserializeStream:()=>yl,onDemand:()=>Co,serialize:()=>gl,serializeWithBufferAndIndex:()=>Gf,setInternalBufferSize:()=>Oo});var l=a(5832).hp;const u=(()=>{const j=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return A=>j.call(A)})();function c(j){return u(j)==="Uint8Array"}function d(j){return typeof j=="object"&&j!=null&&Symbol.toStringTag in j&&(j[Symbol.toStringTag]==="ArrayBuffer"||j[Symbol.toStringTag]==="SharedArrayBuffer")}function f(j){return j instanceof RegExp||Object.prototype.toString.call(j)==="[object RegExp]"}function m(j){return typeof j=="object"&&j!=null&&Symbol.toStringTag in j&&j[Symbol.toStringTag]==="Map"}function h(j){return j instanceof Date||Object.prototype.toString.call(j)==="[object Date]"}function g(j,A){return JSON.stringify(j,(re,ee)=>typeof ee=="bigint"?{$numberLong:`${ee}`}:m(ee)?Object.fromEntries(ee):ee)}const S=6,y=Symbol.for("@@mdb.bson.version"),v=2147483647,b=-2147483648,_=Math.pow(2,63)-1,x=-Math.pow(2,63),T=Math.pow(2,53),w=-Math.pow(2,53),E=1,C=2,D=3,O=4,I=5,k=6,B=7,q=8,H=9,z=10,ne=11,ue=12,Q=13,N=14,G=15,J=16,Y=17,L=18,K=19,ie=255,de=127,ye=0,Te=4,me=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class ae extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(A,re){super(A,re)}static isBSONError(A){return A!=null&&typeof A=="object"&&"bsonError"in A&&A.bsonError===!0&&"name"in A&&"message"in A&&"stack"in A}}class ge extends ae{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${S}.x.x`)}}class $ extends ae{get name(){return"BSONRuntimeError"}constructor(A){super(A)}}class te extends ae{get name(){return"BSONOffsetError"}constructor(A,re,ee){super(`${A}. offset: ${re}`,ee),this.offset=re}}let oe,Se;function Pe(j,A,re,ee){if(ee){oe??(oe=new TextDecoder("utf8",{fatal:!0}));try{return oe.decode(j.subarray(A,re))}catch(Ae){throw new ae("Invalid UTF-8 string in BSON document",{cause:Ae})}}return Se??(Se=new TextDecoder("utf8",{fatal:!1})),Se.decode(j.subarray(A,re))}function Oe(j,A,re){if(j.length===0)return"";const ee=re-A;if(ee===0)return"";if(ee>20)return null;if(ee===1&&j[A]<128)return String.fromCharCode(j[A]);if(ee===2&&j[A]<128&&j[A+1]<128)return String.fromCharCode(j[A])+String.fromCharCode(j[A+1]);if(ee===3&&j[A]<128&&j[A+1]<128&&j[A+2]<128)return String.fromCharCode(j[A])+String.fromCharCode(j[A+1])+String.fromCharCode(j[A+2]);const Ae=[];for(let Fe=A;Fe<re;Fe++){const dt=j[Fe];if(dt>127)return null;Ae.push(dt)}return String.fromCharCode(...Ae)}const Be={toLocalBufferType(j){if(l.isBuffer(j))return j;if(ArrayBuffer.isView(j))return l.from(j.buffer,j.byteOffset,j.byteLength);const A=(j==null?void 0:j[Symbol.toStringTag])??Object.prototype.toString.call(j);if(A==="ArrayBuffer"||A==="SharedArrayBuffer"||A==="[object ArrayBuffer]"||A==="[object SharedArrayBuffer]")return l.from(j);throw new ae("Cannot create Buffer from the passed potentialBuffer.")},allocate:j=>l.alloc(j),allocateUnsafe:j=>l.allocUnsafe(j),equals:(j,A)=>Be.toLocalBufferType(j).equals(A),fromNumberArray:j=>l.from(j),fromBase64:j=>l.from(j,"base64"),toBase64:j=>Be.toLocalBufferType(j).toString("base64"),fromISO88591:j=>l.from(j,"binary"),toISO88591:j=>Be.toLocalBufferType(j).toString("binary"),fromHex:j=>l.from(j,"hex"),toHex:j=>Be.toLocalBufferType(j).toString("hex"),toUTF8(j,A,re,ee){const Ae=re-A<=20?Oe(j,A,re):null;if(Ae!=null)return Ae;const Fe=Be.toLocalBufferType(j).toString("utf8",A,re);if(ee){for(let dt=0;dt<Fe.length;dt++)if(Fe.charCodeAt(dt)===65533){Pe(j,A,re,!0);break}}return Fe},utf8ByteLength:j=>l.byteLength(j,"utf8"),encodeUTF8Into(j,A,re){const ee=function(Ae,Fe,dt){if(Fe.length===0)return 0;if(Fe.length>25||Ae.length-dt<Fe.length)return null;for(let ct=0,He=dt;ct<Fe.length;ct++,He++){const Vt=Fe.charCodeAt(ct);if(Vt>127)return null;Ae[He]=Vt}return Fe.length}(j,A,re);return ee??Be.toLocalBufferType(j).write(A,re,void 0,"utf8")},randomBytes:function(j){return Be.fromNumberArray(Array.from({length:j},()=>Math.floor(256*Math.random())))},swap32:j=>Be.toLocalBufferType(j).swap32()};function Z(j){if(j<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${j}`);return Ce.fromNumberArray(Array.from({length:j},()=>Math.floor(256*Math.random())))}const ce=(()=>{var A;const{crypto:j}=globalThis;if(j!=null&&typeof j.getRandomValues=="function")return re=>j.getRandomValues(Ce.allocate(re));if(function(){const{navigator:re}=globalThis;return typeof re=="object"&&re.product==="ReactNative"}()){const{console:re}=globalThis;(A=re==null?void 0:re.warn)==null||A.call(re,"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return Z})(),xe=/(\d|[a-f])/i,Ce={toLocalBufferType(j){const A=(j==null?void 0:j[Symbol.toStringTag])??Object.prototype.toString.call(j);if(A==="Uint8Array")return j;if(ArrayBuffer.isView(j))return new Uint8Array(j.buffer.slice(j.byteOffset,j.byteOffset+j.byteLength));if(A==="ArrayBuffer"||A==="SharedArrayBuffer"||A==="[object ArrayBuffer]"||A==="[object SharedArrayBuffer]")return new Uint8Array(j);throw new ae("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(j){if(typeof j!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(j)}`);return new Uint8Array(j)},allocateUnsafe:j=>Ce.allocate(j),equals(j,A){if(j.byteLength!==A.byteLength)return!1;for(let re=0;re<j.byteLength;re++)if(j[re]!==A[re])return!1;return!0},fromNumberArray:j=>Uint8Array.from(j),fromBase64:j=>Uint8Array.from(atob(j),A=>A.charCodeAt(0)),toBase64:j=>btoa(Ce.toISO88591(j)),fromISO88591:j=>Uint8Array.from(j,A=>255&A.charCodeAt(0)),toISO88591:j=>Array.from(Uint16Array.from(j),A=>String.fromCharCode(A)).join(""),fromHex(j){const A=j.length%2==0?j:j.slice(0,j.length-1),re=[];for(let ee=0;ee<A.length;ee+=2){const Ae=A[ee],Fe=A[ee+1];if(!xe.test(Ae)||!xe.test(Fe))break;const dt=Number.parseInt(`${Ae}${Fe}`,16);re.push(dt)}return Uint8Array.from(re)},toHex:j=>Array.from(j,A=>A.toString(16).padStart(2,"0")).join(""),toUTF8(j,A,re,ee){const Ae=re-A<=20?Oe(j,A,re):null;return Ae??Pe(j,A,re,ee)},utf8ByteLength:j=>new TextEncoder().encode(j).byteLength,encodeUTF8Into(j,A,re){const ee=new TextEncoder().encode(A);return j.set(ee,re),ee.byteLength},randomBytes:ce,swap32(j){if(j.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let A=0;A<j.length;A+=4){const re=j[A],ee=j[A+1],Ae=j[A+2],Fe=j[A+3];j[A]=Fe,j[A+1]=Ae,j[A+2]=ee,j[A+3]=re}return j}},pe=typeof l=="function"&&((Zl=l.prototype)==null?void 0:Zl._isBuffer)!==!0?Be:Ce;class je{get[y](){return S}[Symbol.for("nodejs.util.inspect.custom")](A,re,ee){return this.inspect(A,re,ee)}}const Qe=new Float64Array(1),Ve=new Uint8Array(Qe.buffer,0,8);Qe[0]=-1;const Ne=Ve[7]===0,Je={isBigEndian:Ne,getNonnegativeInt32LE(j,A){if(j[A+3]>127)throw new RangeError(`Size cannot be negative at offset: ${A}`);return j[A]|j[A+1]<<8|j[A+2]<<16|j[A+3]<<24},getInt32LE:(j,A)=>j[A]|j[A+1]<<8|j[A+2]<<16|j[A+3]<<24,getUint32LE:(j,A)=>j[A]+256*j[A+1]+65536*j[A+2]+16777216*j[A+3],getUint32BE:(j,A)=>j[A+3]+256*j[A+2]+65536*j[A+1]+16777216*j[A],getBigInt64LE(j,A){const re=BigInt(j[A+4]+256*j[A+5]+65536*j[A+6]+(j[A+7]<<24)),ee=BigInt(j[A]+256*j[A+1]+65536*j[A+2]+16777216*j[A+3]);return(re<<BigInt(32))+ee},getFloat64LE:Ne?(j,A)=>(Ve[7]=j[A],Ve[6]=j[A+1],Ve[5]=j[A+2],Ve[4]=j[A+3],Ve[3]=j[A+4],Ve[2]=j[A+5],Ve[1]=j[A+6],Ve[0]=j[A+7],Qe[0]):(j,A)=>(Ve[0]=j[A],Ve[1]=j[A+1],Ve[2]=j[A+2],Ve[3]=j[A+3],Ve[4]=j[A+4],Ve[5]=j[A+5],Ve[6]=j[A+6],Ve[7]=j[A+7],Qe[0]),setInt32BE:(j,A,re)=>(j[A+3]=re,re>>>=8,j[A+2]=re,re>>>=8,j[A+1]=re,re>>>=8,j[A]=re,4),setInt32LE:(j,A,re)=>(j[A]=re,re>>>=8,j[A+1]=re,re>>>=8,j[A+2]=re,re>>>=8,j[A+3]=re,4),setBigInt64LE(j,A,re){const ee=BigInt(4294967295);let Ae=Number(re&ee);j[A]=Ae,Ae>>=8,j[A+1]=Ae,Ae>>=8,j[A+2]=Ae,Ae>>=8,j[A+3]=Ae;let Fe=Number(re>>BigInt(32)&ee);return j[A+4]=Fe,Fe>>=8,j[A+5]=Fe,Fe>>=8,j[A+6]=Fe,Fe>>=8,j[A+7]=Fe,8},setFloat64LE:Ne?(j,A,re)=>(Qe[0]=re,j[A]=Ve[7],j[A+1]=Ve[6],j[A+2]=Ve[5],j[A+3]=Ve[4],j[A+4]=Ve[3],j[A+5]=Ve[2],j[A+6]=Ve[1],j[A+7]=Ve[0],8):(j,A,re)=>(Qe[0]=re,j[A]=Ve[0],j[A+1]=Ve[1],j[A+2]=Ve[2],j[A+3]=Ve[3],j[A+4]=Ve[4],j[A+5]=Ve[5],j[A+6]=Ve[6],j[A+7]=Ve[7],8)};class qe extends je{get _bsontype(){return"Binary"}constructor(A,re){if(super(),A!=null&&typeof A=="string"&&!ArrayBuffer.isView(A)&&!d(A)&&!Array.isArray(A))throw new ae("Binary can only be constructed from Uint8Array or number[]");this.sub_type=re??qe.BSON_BINARY_SUBTYPE_DEFAULT,A==null?(this.buffer=pe.allocate(qe.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(A)?pe.fromNumberArray(A):pe.toLocalBufferType(A),this.position=this.buffer.byteLength)}put(A){if(typeof A=="string"&&A.length!==1)throw new ae("only accepts single character String");if(typeof A!="number"&&A.length!==1)throw new ae("only accepts single character Uint8Array or Array");let re;if(re=typeof A=="string"?A.charCodeAt(0):typeof A=="number"?A:A[0],re<0||re>255)throw new ae("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=re;else{const ee=pe.allocate(qe.BUFFER_SIZE+this.buffer.length);ee.set(this.buffer,0),this.buffer=ee,this.buffer[this.position++]=re}}write(A,re){if(re=typeof re=="number"?re:this.position,this.buffer.byteLength<re+A.length){const ee=pe.allocate(this.buffer.byteLength+A.length);ee.set(this.buffer,0),this.buffer=ee}if(ArrayBuffer.isView(A))this.buffer.set(pe.toLocalBufferType(A),re),this.position=re+A.byteLength>this.position?re+A.length:this.position;else if(typeof A=="string")throw new ae("input cannot be string")}read(A,re){const ee=A+(re=re&&re>0?re:this.position);return this.buffer.subarray(A,ee>this.position?this.position:ee)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return pe.toBase64(this.buffer.subarray(0,this.position))}toString(A){return A==="hex"?pe.toHex(this.buffer.subarray(0,this.position)):A==="base64"?pe.toBase64(this.buffer.subarray(0,this.position)):pe.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(A){A=A||{},this.sub_type===qe.SUBTYPE_VECTOR&&Ze(this);const re=pe.toBase64(this.buffer),ee=Number(this.sub_type).toString(16);return A.legacy?{$binary:re,$type:ee.length===1?"0"+ee:ee}:{$binary:{base64:re,subType:ee.length===1?"0"+ee:ee}}}toUUID(){if(this.sub_type===qe.SUBTYPE_UUID)return new Ft(this.buffer.subarray(0,this.position));throw new ae(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${qe.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(A,re){return new qe(pe.fromHex(A),re)}static createFromBase64(A,re){return new qe(pe.fromBase64(A),re)}static fromExtendedJSON(A,re){let ee,Ae;if(re=re||{},"$binary"in A?re.legacy&&typeof A.$binary=="string"&&"$type"in A?(Ae=A.$type?parseInt(A.$type,16):0,ee=pe.fromBase64(A.$binary)):typeof A.$binary!="string"&&(Ae=A.$binary.subType?parseInt(A.$binary.subType,16):0,ee=pe.fromBase64(A.$binary.base64)):"$uuid"in A&&(Ae=4,ee=Ft.bytesFromString(A.$uuid)),!ee)throw new ae(`Unexpected Binary Extended JSON format ${JSON.stringify(A)}`);return Ae===Te?new Ft(ee):new qe(ee,Ae)}inspect(A,re,ee){return ee??(ee=g),`Binary.createFromBase64(${ee(pe.toBase64(this.buffer.subarray(0,this.position)),re)}, ${ee(this.sub_type,re)})`}toInt8Array(){if(this.sub_type!==qe.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==qe.VECTOR_TYPE.Int8)throw new ae("Binary datatype field is not Int8");return Ze(this),new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==qe.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==qe.VECTOR_TYPE.Float32)throw new ae("Binary datatype field is not Float32");Ze(this);const A=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return Je.isBigEndian&&pe.swap32(A),new Float32Array(A.buffer)}toPackedBits(){if(this.sub_type!==qe.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==qe.VECTOR_TYPE.PackedBit)throw new ae("Binary datatype field is not packed bit");return Ze(this),new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==qe.SUBTYPE_VECTOR)throw new ae("Binary sub_type is not Vector");if(this.buffer[0]!==qe.VECTOR_TYPE.PackedBit)throw new ae("Binary datatype field is not packed bit");Ze(this);const A=8*(this.length()-2)-this.buffer[1],re=new Int8Array(A);for(let ee=0;ee<re.length;ee++){const Ae=ee/8|0,Fe=this.buffer[Ae+2]>>7-ee%8&1;re[ee]=Fe}return re}static fromInt8Array(A){const re=pe.allocate(A.byteLength+2);re[0]=qe.VECTOR_TYPE.Int8,re[1]=0;const ee=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);re.set(ee,2);const Ae=new this(re,this.SUBTYPE_VECTOR);return Ze(Ae),Ae}static fromFloat32Array(A){const re=pe.allocate(A.byteLength+2);re[0]=qe.VECTOR_TYPE.Float32,re[1]=0;const ee=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);re.set(ee,2),Je.isBigEndian&&pe.swap32(new Uint8Array(re.buffer,2));const Ae=new this(re,this.SUBTYPE_VECTOR);return Ze(Ae),Ae}static fromPackedBits(A,re=0){const ee=pe.allocate(A.byteLength+2);ee[0]=qe.VECTOR_TYPE.PackedBit,ee[1]=re,ee.set(A,2);const Ae=new this(ee,this.SUBTYPE_VECTOR);return Ze(Ae),Ae}static fromBits(A){const re=A.length+7>>>3,ee=new Uint8Array(re+2);ee[0]=qe.VECTOR_TYPE.PackedBit;const Ae=A.length%8;ee[1]=Ae===0?0:8-Ae;for(let Fe=0;Fe<A.length;Fe++){const dt=Fe>>>3,ct=A[Fe];if(ct!==0&&ct!==1)throw new ae(`Invalid bit value at ${Fe}: must be 0 or 1, found ${A[Fe]}`);if(ct===0)continue;const He=7-Fe%8;ee[dt+2]|=ct<<He}return new this(ee,qe.SUBTYPE_VECTOR)}}function Ze(j){if(j.sub_type!==qe.SUBTYPE_VECTOR)return;const A=j.position,re=j.buffer[0],ee=j.buffer[1];if((re===qe.VECTOR_TYPE.Float32||re===qe.VECTOR_TYPE.Int8)&&ee!==0)throw new ae("Invalid Vector: padding must be zero for int8 and float32 vectors");if(re===qe.VECTOR_TYPE.Float32&&A!==0&&A-2!=0&&(A-2)%4!=0)throw new ae("Invalid Vector: Float32 vector must contain a multiple of 4 bytes");if(re===qe.VECTOR_TYPE.PackedBit&&ee!==0&&A===2)throw new ae("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(re===qe.VECTOR_TYPE.PackedBit&&ee>7)throw new ae(`Invalid Vector: padding must be a value between 0 and 7. found: ${ee}`)}qe.BSON_BINARY_SUBTYPE_DEFAULT=0,qe.BUFFER_SIZE=256,qe.SUBTYPE_DEFAULT=0,qe.SUBTYPE_FUNCTION=1,qe.SUBTYPE_BYTE_ARRAY=2,qe.SUBTYPE_UUID_OLD=3,qe.SUBTYPE_UUID=4,qe.SUBTYPE_MD5=5,qe.SUBTYPE_ENCRYPTED=6,qe.SUBTYPE_COLUMN=7,qe.SUBTYPE_SENSITIVE=8,qe.SUBTYPE_VECTOR=9,qe.SUBTYPE_USER_DEFINED=128,qe.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});const Mt=/^[0-9A-F]{32}$/i,Ut=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class Ft extends qe{constructor(A){let re;if(A==null)re=Ft.generate();else if(A instanceof Ft)re=pe.toLocalBufferType(new Uint8Array(A.buffer));else if(ArrayBuffer.isView(A)&&A.byteLength===16)re=pe.toLocalBufferType(A);else{if(typeof A!="string")throw new ae("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");re=Ft.bytesFromString(A)}super(re,Te)}get id(){return this.buffer}set id(A){this.buffer=A}toHexString(A=!0){return A?[pe.toHex(this.buffer.subarray(0,4)),pe.toHex(this.buffer.subarray(4,6)),pe.toHex(this.buffer.subarray(6,8)),pe.toHex(this.buffer.subarray(8,10)),pe.toHex(this.buffer.subarray(10,16))].join("-"):pe.toHex(this.buffer)}toString(A){return A==="hex"?pe.toHex(this.id):A==="base64"?pe.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(A){if(!A)return!1;if(A instanceof Ft)return pe.equals(A.id,this.id);try{return pe.equals(new Ft(A).id,this.id)}catch{return!1}}toBinary(){return new qe(this.id,qe.SUBTYPE_UUID)}static generate(){const A=pe.randomBytes(16);return A[6]=15&A[6]|64,A[8]=63&A[8]|128,A}static isValid(A){return!!A&&(typeof A=="string"?Ft.isValidUUIDString(A):c(A)?A.byteLength===16:A._bsontype==="Binary"&&A.sub_type===this.SUBTYPE_UUID&&A.buffer.byteLength===16)}static createFromHexString(A){const re=Ft.bytesFromString(A);return new Ft(re)}static createFromBase64(A){return new Ft(pe.fromBase64(A))}static bytesFromString(A){if(!Ft.isValidUUIDString(A))throw new ae("UUID string representation must be 32 hex digits or canonical hyphenated representation");return pe.fromHex(A.replace(/-/g,""))}static isValidUUIDString(A){return Mt.test(A)||Ut.test(A)}inspect(A,re,ee){return ee??(ee=g),`new UUID(${ee(this.toHexString(),re)})`}}class bt extends je{get _bsontype(){return"Code"}constructor(A,re){super(),this.code=A.toString(),this.scope=re??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(A){return new bt(A.$code,A.$scope)}inspect(A,re,ee){ee??(ee=g);let Ae=ee(this.code,re);const Fe=Ae.includes(`
`);return this.scope!=null&&(Ae+=`,${Fe?`
`:" "}${ee(this.scope,re)}`),`new Code(${Fe?`
`:""}${Ae}${Fe&&this.scope===null?`
`:""})`}}function Jn(j){return j!=null&&typeof j=="object"&&"$id"in j&&j.$id!=null&&"$ref"in j&&typeof j.$ref=="string"&&(!("$db"in j)||"$db"in j&&typeof j.$db=="string")}class sn extends je{get _bsontype(){return"DBRef"}constructor(A,re,ee,Ae){super();const Fe=A.split(".");Fe.length===2&&(ee=Fe.shift(),A=Fe.shift()),this.collection=A,this.oid=re,this.db=ee,this.fields=Ae||{}}get namespace(){return this.collection}set namespace(A){this.collection=A}toJSON(){const A=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(A.$db=this.db),A}toExtendedJSON(A){A=A||{};let re={$ref:this.collection,$id:this.oid};return A.legacy||(this.db&&(re.$db=this.db),re=Object.assign(re,this.fields)),re}static fromExtendedJSON(A){const re=Object.assign({},A);return delete re.$ref,delete re.$id,delete re.$db,new sn(A.$ref,A.$id,A.$db,re)}inspect(A,re,ee){ee??(ee=g);const Ae=[ee(this.namespace,re),ee(this.oid,re),...this.db?[ee(this.db,re)]:[],...Object.keys(this.fields).length>0?[ee(this.fields,re)]:[]];return Ae[1]=ee===g?`new ObjectId(${Ae[1]})`:Ae[1],`new DBRef(${Ae.join(", ")})`}}function gn(j){if(j==="")return j;let A=0;const re=j[A]==="-",ee=j[A]==="+";(ee||re)&&(A+=1);let Ae=!1;for(;A<j.length&&j[A]==="0";++A)Ae=!0;return Ae?`${re?"-":""}${j.length===A?"0":j.slice(A)}`:ee?j.slice(1):j}let vn;try{vn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const An=4294967296,Kt=18446744073709552e3,Mn=Kt/2,et={},tr={},Zt=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class $e extends je{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(A=0,re,ee){super();const Ae=typeof re=="boolean"?re:!!ee,Fe=typeof re=="number"?re:0,dt=typeof A=="string"?$e.fromString(A,Ae):typeof A=="bigint"?$e.fromBigInt(A,Ae):{low:0|A,high:0|Fe,unsigned:Ae};this.low=dt.low,this.high=dt.high,this.unsigned=dt.unsigned}static fromBits(A,re,ee){return new $e(A,re,ee)}static fromInt(A,re){let ee,Ae,Fe;return re?(Fe=0<=(A>>>=0)&&A<256)&&(Ae=tr[A],Ae)?Ae:(ee=$e.fromBits(A,(0|A)<0?-1:0,!0),Fe&&(tr[A]=ee),ee):(Fe=-128<=(A|=0)&&A<128)&&(Ae=et[A],Ae)?Ae:(ee=$e.fromBits(A,A<0?-1:0,!1),Fe&&(et[A]=ee),ee)}static fromNumber(A,re){if(isNaN(A))return re?$e.UZERO:$e.ZERO;if(re){if(A<0)return $e.UZERO;if(A>=Kt)return $e.MAX_UNSIGNED_VALUE}else{if(A<=-9223372036854776e3)return $e.MIN_VALUE;if(A+1>=Mn)return $e.MAX_VALUE}return A<0?$e.fromNumber(-A,re).neg():$e.fromBits(A%An|0,A/An|0,re)}static fromBigInt(A,re){const ee=BigInt(4294967295),Ae=BigInt(32);return new $e(Number(A&ee),Number(A>>Ae&ee),re)}static _fromString(A,re,ee){if(A.length===0)throw new ae("empty string");if(ee<2||36<ee)throw new ae("radix");let Ae;if((Ae=A.indexOf("-"))>0)throw new ae("interior hyphen");if(Ae===0)return $e._fromString(A.substring(1),re,ee).neg();const Fe=$e.fromNumber(Math.pow(ee,8));let dt=$e.ZERO;for(let ct=0;ct<A.length;ct+=8){const He=Math.min(8,A.length-ct),Vt=parseInt(A.substring(ct,ct+He),ee);if(He<8){const St=$e.fromNumber(Math.pow(ee,He));dt=dt.mul(St).add($e.fromNumber(Vt))}else dt=dt.mul(Fe),dt=dt.add($e.fromNumber(Vt))}return dt.unsigned=re,dt}static fromStringStrict(A,re,ee){let Ae=!1;if(typeof re=="number"?(ee=re,re=!1):Ae=!!re,ee??(ee=10),A.trim()!==A)throw new ae(`Input: '${A}' contains leading and/or trailing whitespace`);if(!function(ct,He){const Vt="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,He=He??10);return!new RegExp(`[^-+${Vt}]`,"i").test(ct)&&ct}(A,ee))throw new ae(`Input: '${A}' contains invalid characters for radix: ${ee}`);const Fe=gn(A),dt=$e._fromString(Fe,Ae,ee);if(dt.toString(ee).toLowerCase()!==Fe.toLowerCase())throw new ae(`Input: ${A} is not representable as ${dt.unsigned?"an unsigned":"a signed"} 64-bit Long ${ee!=null?`with radix: ${ee}`:""}`);return dt}static fromString(A,re,ee){let Ae=!1;return typeof re=="number"?(ee=re,re=!1):Ae=!!re,ee??(ee=10),A==="NaN"&&ee<24||(A==="Infinity"||A==="+Infinity"||A==="-Infinity")&&ee<35?$e.ZERO:$e._fromString(A,Ae,ee)}static fromBytes(A,re,ee){return ee?$e.fromBytesLE(A,re):$e.fromBytesBE(A,re)}static fromBytesLE(A,re){return new $e(A[0]|A[1]<<8|A[2]<<16|A[3]<<24,A[4]|A[5]<<8|A[6]<<16|A[7]<<24,re)}static fromBytesBE(A,re){return new $e(A[4]<<24|A[5]<<16|A[6]<<8|A[7],A[0]<<24|A[1]<<16|A[2]<<8|A[3],re)}static isLong(A){return A!=null&&typeof A=="object"&&"__isLong__"in A&&A.__isLong__===!0}static fromValue(A,re){return typeof A=="number"?$e.fromNumber(A,re):typeof A=="string"?$e.fromString(A,re):$e.fromBits(A.low,A.high,typeof re=="boolean"?re:A.unsigned)}add(A){$e.isLong(A)||(A=$e.fromValue(A));const re=this.high>>>16,ee=65535&this.high,Ae=this.low>>>16,Fe=65535&this.low,dt=A.high>>>16,ct=65535&A.high,He=A.low>>>16;let Vt=0,St=0,it=0,vt=0;return vt+=Fe+(65535&A.low),it+=vt>>>16,vt&=65535,it+=Ae+He,St+=it>>>16,it&=65535,St+=ee+ct,Vt+=St>>>16,St&=65535,Vt+=re+dt,Vt&=65535,$e.fromBits(it<<16|vt,Vt<<16|St,this.unsigned)}and(A){return $e.isLong(A)||(A=$e.fromValue(A)),$e.fromBits(this.low&A.low,this.high&A.high,this.unsigned)}compare(A){if($e.isLong(A)||(A=$e.fromValue(A)),this.eq(A))return 0;const re=this.isNegative(),ee=A.isNegative();return re&&!ee?-1:!re&&ee?1:this.unsigned?A.high>>>0>this.high>>>0||A.high===this.high&&A.low>>>0>this.low>>>0?-1:1:this.sub(A).isNegative()?-1:1}comp(A){return this.compare(A)}divide(A){if($e.isLong(A)||(A=$e.fromValue(A)),A.isZero())throw new ae("division by zero");if(vn){if(!this.unsigned&&this.high===-2147483648&&A.low===-1&&A.high===-1)return this;const Fe=(this.unsigned?vn.div_u:vn.div_s)(this.low,this.high,A.low,A.high);return $e.fromBits(Fe,vn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?$e.UZERO:$e.ZERO;let re,ee,Ae;if(this.unsigned){if(A.unsigned||(A=A.toUnsigned()),A.gt(this))return $e.UZERO;if(A.gt(this.shru(1)))return $e.UONE;Ae=$e.UZERO}else{if(this.eq($e.MIN_VALUE))return A.eq($e.ONE)||A.eq($e.NEG_ONE)?$e.MIN_VALUE:A.eq($e.MIN_VALUE)?$e.ONE:(re=this.shr(1).div(A).shl(1),re.eq($e.ZERO)?A.isNegative()?$e.ONE:$e.NEG_ONE:(ee=this.sub(A.mul(re)),Ae=re.add(ee.div(A)),Ae));if(A.eq($e.MIN_VALUE))return this.unsigned?$e.UZERO:$e.ZERO;if(this.isNegative())return A.isNegative()?this.neg().div(A.neg()):this.neg().div(A).neg();if(A.isNegative())return this.div(A.neg()).neg();Ae=$e.ZERO}for(ee=this;ee.gte(A);){re=Math.max(1,Math.floor(ee.toNumber()/A.toNumber()));const Fe=Math.ceil(Math.log(re)/Math.LN2),dt=Fe<=48?1:Math.pow(2,Fe-48);let ct=$e.fromNumber(re),He=ct.mul(A);for(;He.isNegative()||He.gt(ee);)re-=dt,ct=$e.fromNumber(re,this.unsigned),He=ct.mul(A);ct.isZero()&&(ct=$e.ONE),Ae=Ae.add(ct),ee=ee.sub(He)}return Ae}div(A){return this.divide(A)}equals(A){return $e.isLong(A)||(A=$e.fromValue(A)),(this.unsigned===A.unsigned||this.high>>>31!=1||A.high>>>31!=1)&&this.high===A.high&&this.low===A.low}eq(A){return this.equals(A)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq($e.MIN_VALUE)?64:this.neg().getNumBitsAbs();const A=this.high!==0?this.high:this.low;let re;for(re=31;re>0&&!(A&1<<re);re--);return this.high!==0?re+33:re+1}greaterThan(A){return this.comp(A)>0}gt(A){return this.greaterThan(A)}greaterThanOrEqual(A){return this.comp(A)>=0}gte(A){return this.greaterThanOrEqual(A)}ge(A){return this.greaterThanOrEqual(A)}isEven(){return!(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return!(1&~this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(A){return this.comp(A)<0}lt(A){return this.lessThan(A)}lessThanOrEqual(A){return this.comp(A)<=0}lte(A){return this.lessThanOrEqual(A)}modulo(A){if($e.isLong(A)||(A=$e.fromValue(A)),vn){const re=(this.unsigned?vn.rem_u:vn.rem_s)(this.low,this.high,A.low,A.high);return $e.fromBits(re,vn.get_high(),this.unsigned)}return this.sub(this.div(A).mul(A))}mod(A){return this.modulo(A)}rem(A){return this.modulo(A)}multiply(A){if(this.isZero())return $e.ZERO;if($e.isLong(A)||(A=$e.fromValue(A)),vn){const Ht=vn.mul(this.low,this.high,A.low,A.high);return $e.fromBits(Ht,vn.get_high(),this.unsigned)}if(A.isZero())return $e.ZERO;if(this.eq($e.MIN_VALUE))return A.isOdd()?$e.MIN_VALUE:$e.ZERO;if(A.eq($e.MIN_VALUE))return this.isOdd()?$e.MIN_VALUE:$e.ZERO;if(this.isNegative())return A.isNegative()?this.neg().mul(A.neg()):this.neg().mul(A).neg();if(A.isNegative())return this.mul(A.neg()).neg();if(this.lt($e.TWO_PWR_24)&&A.lt($e.TWO_PWR_24))return $e.fromNumber(this.toNumber()*A.toNumber(),this.unsigned);const re=this.high>>>16,ee=65535&this.high,Ae=this.low>>>16,Fe=65535&this.low,dt=A.high>>>16,ct=65535&A.high,He=A.low>>>16,Vt=65535&A.low;let St=0,it=0,vt=0,Wt=0;return Wt+=Fe*Vt,vt+=Wt>>>16,Wt&=65535,vt+=Ae*Vt,it+=vt>>>16,vt&=65535,vt+=Fe*He,it+=vt>>>16,vt&=65535,it+=ee*Vt,St+=it>>>16,it&=65535,it+=Ae*He,St+=it>>>16,it&=65535,it+=Fe*ct,St+=it>>>16,it&=65535,St+=re*Vt+ee*He+Ae*ct+Fe*dt,St&=65535,$e.fromBits(vt<<16|Wt,St<<16|it,this.unsigned)}mul(A){return this.multiply(A)}negate(){return!this.unsigned&&this.eq($e.MIN_VALUE)?$e.MIN_VALUE:this.not().add($e.ONE)}neg(){return this.negate()}not(){return $e.fromBits(~this.low,~this.high,this.unsigned)}notEquals(A){return!this.equals(A)}neq(A){return this.notEquals(A)}ne(A){return this.notEquals(A)}or(A){return $e.isLong(A)||(A=$e.fromValue(A)),$e.fromBits(this.low|A.low,this.high|A.high,this.unsigned)}shiftLeft(A){return $e.isLong(A)&&(A=A.toInt()),(A&=63)==0?this:A<32?$e.fromBits(this.low<<A,this.high<<A|this.low>>>32-A,this.unsigned):$e.fromBits(0,this.low<<A-32,this.unsigned)}shl(A){return this.shiftLeft(A)}shiftRight(A){return $e.isLong(A)&&(A=A.toInt()),(A&=63)==0?this:A<32?$e.fromBits(this.low>>>A|this.high<<32-A,this.high>>A,this.unsigned):$e.fromBits(this.high>>A-32,this.high>=0?0:-1,this.unsigned)}shr(A){return this.shiftRight(A)}shiftRightUnsigned(A){if($e.isLong(A)&&(A=A.toInt()),(A&=63)==0)return this;{const re=this.high;if(A<32){const ee=this.low;return $e.fromBits(ee>>>A|re<<32-A,re>>>A,this.unsigned)}return A===32?$e.fromBits(re,0,this.unsigned):$e.fromBits(re>>>A-32,0,this.unsigned)}}shr_u(A){return this.shiftRightUnsigned(A)}shru(A){return this.shiftRightUnsigned(A)}subtract(A){return $e.isLong(A)||(A=$e.fromValue(A)),this.add(A.neg())}sub(A){return this.subtract(A)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*An+(this.low>>>0):this.high*An+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(A){return A?this.toBytesLE():this.toBytesBE()}toBytesLE(){const A=this.high,re=this.low;return[255&re,re>>>8&255,re>>>16&255,re>>>24,255&A,A>>>8&255,A>>>16&255,A>>>24]}toBytesBE(){const A=this.high,re=this.low;return[A>>>24,A>>>16&255,A>>>8&255,255&A,re>>>24,re>>>16&255,re>>>8&255,255&re]}toSigned(){return this.unsigned?$e.fromBits(this.low,this.high,!1):this}toString(A){if((A=A||10)<2||36<A)throw new ae("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq($e.MIN_VALUE)){const Fe=$e.fromNumber(A),dt=this.div(Fe),ct=dt.mul(Fe).sub(this);return dt.toString(A)+ct.toInt().toString(A)}return"-"+this.neg().toString(A)}const re=$e.fromNumber(Math.pow(A,6),this.unsigned);let ee=this,Ae="";for(;;){const Fe=ee.div(re);let dt=(ee.sub(Fe.mul(re)).toInt()>>>0).toString(A);if(ee=Fe,ee.isZero())return dt+Ae;for(;dt.length<6;)dt="0"+dt;Ae=""+dt+Ae}}toUnsigned(){return this.unsigned?this:$e.fromBits(this.low,this.high,!0)}xor(A){return $e.isLong(A)||(A=$e.fromValue(A)),$e.fromBits(this.low^A.low,this.high^A.high,this.unsigned)}eqz(){return this.isZero()}le(A){return this.lessThanOrEqual(A)}toExtendedJSON(A){return A&&A.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(A,re){const{useBigInt64:ee=!1,relaxed:Ae=!0}={...re};if(A.$numberLong.length>20)throw new ae("$numberLong string is too long");if(!Zt.test(A.$numberLong))throw new ae(`$numberLong string "${A.$numberLong}" is in an invalid format`);if(ee){const dt=BigInt(A.$numberLong);return BigInt.asIntN(64,dt)}const Fe=$e.fromString(A.$numberLong);return Ae?Fe.toNumber():Fe}inspect(A,re,ee){return ee??(ee=g),`new Long(${ee(this.toString(),re)}${this.unsigned?`, ${ee(this.unsigned,re)}`:""})`}}$e.TWO_PWR_24=$e.fromInt(16777216),$e.MAX_UNSIGNED_VALUE=$e.fromBits(-1,-1,!0),$e.ZERO=$e.fromInt(0),$e.UZERO=$e.fromInt(0,!0),$e.ONE=$e.fromInt(1),$e.UONE=$e.fromInt(1,!0),$e.NEG_ONE=$e.fromInt(-1),$e.MAX_VALUE=$e.fromBits(-1,2147483647,!1),$e.MIN_VALUE=$e.fromBits(0,-2147483648,!1);const qn=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,gi=/^(\+|-)?(Infinity|inf)$/i,jn=/^(\+|-)?NaN$/i,Ie=6111,We=-6176,tt=pe.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),at=pe.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),mt=pe.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),W=/^([-+])?(\d+)?$/;function le(j){return!isNaN(parseInt(j,10))}function he(j){const A=$e.fromNumber(1e9);let re=$e.fromNumber(0);if(!(j.parts[0]||j.parts[1]||j.parts[2]||j.parts[3]))return{quotient:j,rem:re};for(let ee=0;ee<=3;ee++)re=re.shiftLeft(32),re=re.add(new $e(j.parts[ee],0)),j.parts[ee]=re.div(A).low,re=re.modulo(A);return{quotient:j,rem:re}}function ve(j,A){throw new ae(`"${j}" is not a valid Decimal128 string - ${A}`)}class be extends je{get _bsontype(){return"Decimal128"}constructor(A){if(super(),typeof A=="string")this.bytes=be.fromString(A).bytes;else{if(!(A instanceof Uint8Array||c(A)))throw new ae("Decimal128 must take a Buffer or string");if(A.byteLength!==16)throw new ae("Decimal128 must take a Buffer of 16 bytes");this.bytes=A}}static fromString(A){return be._fromString(A,{allowRounding:!1})}static fromStringWithRounding(A){return be._fromString(A,{allowRounding:!0})}static _fromString(A,re){let ee=!1,Ae=!1,Fe=!1,dt=!1,ct=0,He=0,Vt=0,St=0,it=0;const vt=[0];let Wt=0,Ht=0,Cn=0,or=0,ur=new $e(0,0),sr=new $e(0,0),Gn=0,At=0;if(A.length>=7e3)throw new ae(A+" not a valid Decimal128 string");const dn=A.match(qn),da=A.match(gi),Yn=A.match(jn);if(!dn&&!da&&!Yn||A.length===0)throw new ae(A+" not a valid Decimal128 string");if(dn){const tn=dn[2],si=dn[4],Ur=dn[5],Gr=dn[6];si&&Gr===void 0&&ve(A,"missing exponent power"),si&&tn===void 0&&ve(A,"missing exponent base"),si===void 0&&(Ur||Gr)&&ve(A,"missing e before exponent")}if(A[At]!=="+"&&A[At]!=="-"||(Ae=!0,ee=A[At++]==="-"),!le(A[At])&&A[At]!=="."){if(A[At]==="i"||A[At]==="I")return new be(ee?at:mt);if(A[At]==="N")return new be(tt)}for(;le(A[At])||A[At]===".";)A[At]!=="."?(Wt<34&&(A[At]!=="0"||dt)&&(dt||(it=He),dt=!0,vt[Ht++]=parseInt(A[At],10),Wt+=1),dt&&(Vt+=1),Fe&&(St+=1),He+=1,At+=1):(Fe&&ve(A,"contains multiple periods"),Fe=!0,At+=1);if(Fe&&!He)throw new ae(A+" not a valid Decimal128 string");if(A[At]==="e"||A[At]==="E"){const tn=A.substr(++At).match(W);if(!tn||!tn[2])return new be(tt);or=parseInt(tn[0],10),At+=tn[0].length}if(A[At])return new be(tt);if(Wt){if(Cn=Wt-1,ct=Vt,ct!==1)for(;A[it+ct-1+Number(Ae)+Number(Fe)]==="0";)ct-=1}else vt[0]=0,Vt=1,Wt=1,ct=0;for(or<=St&&St>or+16384?or=We:or-=St;or>Ie;){if(Cn+=1,Cn>=34){if(ct===0){or=Ie;break}ve(A,"overflow")}or-=1}if(re.allowRounding){for(;or<We||Wt<Vt;){if(Cn===0&&ct<Wt){or=We,ct=0;break}if(Wt<Vt?Vt-=1:Cn-=1,or<Ie)or+=1;else{if(vt.join("").match(/^0+$/)){or=Ie;break}ve(A,"overflow")}}if(Cn+1<ct){let tn=He;Fe&&(it+=1,tn+=1),Ae&&(it+=1,tn+=1);const si=parseInt(A[it+Cn+1],10);let Ur=0;if(si>=5&&(Ur=1,si===5)){Ur=vt[Cn]%2==1?1:0;for(let Gr=it+Cn+2;Gr<tn;Gr++)if(parseInt(A[Gr],10)){Ur=1;break}}if(Ur){let Gr=Cn;for(;Gr>=0&&++vt[Gr]>9;Gr--)if(vt[Gr]=0,Gr===0){if(!(or<Ie))return new be(ee?at:mt);or+=1,vt[Gr]=1}}}}else{for(;or<We||Wt<Vt;){if(Cn===0){if(ct===0){or=We;break}ve(A,"exponent underflow")}Wt<Vt?(A[Vt-1+Number(Ae)+Number(Fe)]!=="0"&&ct!==0&&ve(A,"inexact rounding"),Vt-=1):(vt[Cn]!==0&&ve(A,"inexact rounding"),Cn-=1),or<Ie?or+=1:ve(A,"overflow")}Cn+1<ct&&(Fe&&(it+=1),Ae&&(it+=1),parseInt(A[it+Cn+1],10)!==0&&ve(A,"inexact rounding"))}if(ur=$e.fromNumber(0),sr=$e.fromNumber(0),ct===0)ur=$e.fromNumber(0),sr=$e.fromNumber(0);else if(Cn<17){let tn=0;for(sr=$e.fromNumber(vt[tn++]),ur=new $e(0,0);tn<=Cn;tn++)sr=sr.multiply($e.fromNumber(10)),sr=sr.add($e.fromNumber(vt[tn]))}else{let tn=0;for(ur=$e.fromNumber(vt[tn++]);tn<=Cn-17;tn++)ur=ur.multiply($e.fromNumber(10)),ur=ur.add($e.fromNumber(vt[tn]));for(sr=$e.fromNumber(vt[tn++]);tn<=Cn;tn++)sr=sr.multiply($e.fromNumber(10)),sr=sr.add($e.fromNumber(vt[tn]))}const zi=function(tn,si){if(!tn&&!si)return{high:$e.fromNumber(0),low:$e.fromNumber(0)};const Ur=tn.shiftRightUnsigned(32),Gr=new $e(tn.getLowBits(),0),vl=si.shiftRightUnsigned(32),Ab=new $e(si.getLowBits(),0);let Qu=Ur.multiply(vl),Ju=Ur.multiply(Ab);const Cb=Gr.multiply(vl);let Wf=Gr.multiply(Ab);return Qu=Qu.add(Ju.shiftRightUnsigned(32)),Ju=new $e(Ju.getLowBits(),0).add(Cb).add(Wf.shiftRightUnsigned(32)),Qu=Qu.add(Ju.shiftRightUnsigned(32)),Wf=Ju.shiftLeft(32).add(new $e(Wf.getLowBits(),0)),{high:Qu,low:Wf}}(ur,$e.fromString("100000000000000000"));zi.low=zi.low.add(sr),function(tn,si){const Ur=tn.high>>>0,Gr=si.high>>>0;return Ur<Gr||Ur===Gr&&tn.low>>>0<si.low>>>0}(zi.low,sr)&&(zi.high=zi.high.add($e.fromNumber(1))),Gn=or+6176;const Ct={low:$e.fromNumber(0),high:$e.fromNumber(0)};zi.high.shiftRightUnsigned(49).and($e.fromNumber(1)).equals($e.fromNumber(1))?(Ct.high=Ct.high.or($e.fromNumber(3).shiftLeft(61)),Ct.high=Ct.high.or($e.fromNumber(Gn).and($e.fromNumber(16383).shiftLeft(47))),Ct.high=Ct.high.or(zi.high.and($e.fromNumber(0x7fffffffffff)))):(Ct.high=Ct.high.or($e.fromNumber(16383&Gn).shiftLeft(49)),Ct.high=Ct.high.or(zi.high.and($e.fromNumber(562949953421311)))),Ct.low=zi.low,ee&&(Ct.high=Ct.high.or($e.fromString("9223372036854775808")));const Yt=pe.allocateUnsafe(16);return At=0,Yt[At++]=255&Ct.low.low,Yt[At++]=Ct.low.low>>8&255,Yt[At++]=Ct.low.low>>16&255,Yt[At++]=Ct.low.low>>24&255,Yt[At++]=255&Ct.low.high,Yt[At++]=Ct.low.high>>8&255,Yt[At++]=Ct.low.high>>16&255,Yt[At++]=Ct.low.high>>24&255,Yt[At++]=255&Ct.high.low,Yt[At++]=Ct.high.low>>8&255,Yt[At++]=Ct.high.low>>16&255,Yt[At++]=Ct.high.low>>24&255,Yt[At++]=255&Ct.high.high,Yt[At++]=Ct.high.high>>8&255,Yt[At++]=Ct.high.high>>16&255,Yt[At++]=Ct.high.high>>24&255,new be(Yt)}toString(){let A,re=0;const ee=new Array(36);for(let Gn=0;Gn<ee.length;Gn++)ee[Gn]=0;let Ae,Fe,dt,ct=0,He=!1,Vt={parts:[0,0,0,0]};const St=[];ct=0;const it=this.bytes,vt=it[ct++]|it[ct++]<<8|it[ct++]<<16|it[ct++]<<24,Wt=it[ct++]|it[ct++]<<8|it[ct++]<<16|it[ct++]<<24,Ht=it[ct++]|it[ct++]<<8|it[ct++]<<16|it[ct++]<<24,Cn=it[ct++]|it[ct++]<<8|it[ct++]<<16|it[ct++]<<24;ct=0,(new $e(vt,Wt),new $e(Ht,Cn)).lessThan($e.ZERO)&&St.push("-");const or=Cn>>26&31;if(or>>3==3){if(or===30)return St.join("")+"Infinity";if(or===31)return"NaN";A=Cn>>15&16383,Ae=8+(Cn>>14&1)}else Ae=Cn>>14&7,A=Cn>>17&16383;const ur=A-6176;if(Vt.parts[0]=(16383&Cn)+((15&Ae)<<14),Vt.parts[1]=Ht,Vt.parts[2]=Wt,Vt.parts[3]=vt,Vt.parts[0]===0&&Vt.parts[1]===0&&Vt.parts[2]===0&&Vt.parts[3]===0)He=!0;else for(dt=3;dt>=0;dt--){let Gn=0;const At=he(Vt);if(Vt=At.quotient,Gn=At.rem.low,Gn)for(Fe=8;Fe>=0;Fe--)ee[9*dt+Fe]=Gn%10,Gn=Math.floor(Gn/10)}if(He)re=1,ee[ct]=0;else for(re=36;!ee[ct];)re-=1,ct+=1;const sr=re-1+ur;if(sr>=34||sr<=-7||ur>0){if(re>34)return St.push("0"),ur>0?St.push(`E+${ur}`):ur<0&&St.push(`E${ur}`),St.join("");St.push(`${ee[ct++]}`),re-=1,re&&St.push(".");for(let Gn=0;Gn<re;Gn++)St.push(`${ee[ct++]}`);St.push("E"),sr>0?St.push(`+${sr}`):St.push(`${sr}`)}else if(ur>=0)for(let Gn=0;Gn<re;Gn++)St.push(`${ee[ct++]}`);else{let Gn=re+ur;if(Gn>0)for(let At=0;At<Gn;At++)St.push(`${ee[ct++]}`);else St.push("0");for(St.push(".");Gn++<0;)St.push("0");for(let At=0;At<re-Math.max(Gn-1,0);At++)St.push(`${ee[ct++]}`)}return St.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(A){return be.fromString(A.$numberDecimal)}inspect(A,re,ee){return ee??(ee=g),`new Decimal128(${ee(this.toString(),re)})`}}class _e extends je{get _bsontype(){return"Double"}constructor(A){super(),A instanceof Number&&(A=A.valueOf()),this.value=+A}static fromString(A){const re=Number(A);if(A==="NaN")return new _e(NaN);if(A==="Infinity")return new _e(1/0);if(A==="-Infinity")return new _e(-1/0);if(!Number.isFinite(re))throw new ae(`Input: ${A} is not representable as a Double`);if(A.trim()!==A)throw new ae(`Input: '${A}' contains whitespace`);if(A==="")throw new ae("Input is an empty string");if(/[^-0-9.+eE]/.test(A))throw new ae(`Input: '${A}' is not in decimal or exponential notation`);return new _e(re)}valueOf(){return this.value}toJSON(){return this.value}toString(A){return this.value.toString(A)}toExtendedJSON(A){return A&&(A.legacy||A.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(A,re){const ee=parseFloat(A.$numberDouble);return re&&re.relaxed?ee:new _e(ee)}inspect(A,re,ee){return ee??(ee=g),`new Double(${ee(this.value,re)})`}}class Le extends je{get _bsontype(){return"Int32"}constructor(A){super(),A instanceof Number&&(A=A.valueOf()),this.value=0|+A}static fromString(A){const re=gn(A),ee=Number(A);if(v<ee)throw new ae(`Input: '${A}' is larger than the maximum value for Int32`);if(b>ee)throw new ae(`Input: '${A}' is smaller than the minimum value for Int32`);if(!Number.isSafeInteger(ee))throw new ae(`Input: '${A}' is not a safe integer`);if(ee.toString()!==re)throw new ae(`Input: '${A}' is not a valid Int32 string`);return new Le(ee)}valueOf(){return this.value}toString(A){return this.value.toString(A)}toJSON(){return this.value}toExtendedJSON(A){return A&&(A.relaxed||A.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(A,re){return re&&re.relaxed?parseInt(A.$numberInt,10):new Le(A.$numberInt)}inspect(A,re,ee){return ee??(ee=g),`new Int32(${ee(this.value,re)})`}}class Ue extends je{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Ue}inspect(){return"new MaxKey()"}}class rt extends je{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new rt}inspect(){return"new MinKey()"}}let Ke=null;const ze=new WeakMap;class fe extends je{get _bsontype(){return"ObjectId"}constructor(A){let re;if(super(),typeof A=="object"&&A&&"id"in A){if(typeof A.id!="string"&&!ArrayBuffer.isView(A.id))throw new ae("Argument passed in must have an id that is of type string or Buffer");re="toHexString"in A&&typeof A.toHexString=="function"?pe.fromHex(A.toHexString()):A.id}else re=A;if(re==null||typeof re=="number")this.buffer=fe.generate(typeof re=="number"?re:void 0);else if(ArrayBuffer.isView(re)&&re.byteLength===12)this.buffer=pe.toLocalBufferType(re);else{if(typeof re!="string")throw new ae("Argument passed in does not match the accepted types");if(!fe.validateHexString(re))throw new ae("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");this.buffer=pe.fromHex(re),fe.cacheHexString&&ze.set(this,re)}}get id(){return this.buffer}set id(A){this.buffer=A,fe.cacheHexString&&ze.set(this,pe.toHex(A))}static validateHexString(A){if((A==null?void 0:A.length)!==24)return!1;for(let re=0;re<24;re++){const ee=A.charCodeAt(re);if(!(ee>=48&&ee<=57||ee>=97&&ee<=102||ee>=65&&ee<=70))return!1}return!0}toHexString(){if(fe.cacheHexString){const re=ze.get(this);if(re)return re}const A=pe.toHex(this.id);return fe.cacheHexString&&ze.set(this,A),A}static getInc(){return fe.index=(fe.index+1)%16777215}static generate(A){typeof A!="number"&&(A=Math.floor(Date.now()/1e3));const re=fe.getInc(),ee=pe.allocateUnsafe(12);return Je.setInt32BE(ee,0,A),Ke===null&&(Ke=pe.randomBytes(5)),ee[4]=Ke[0],ee[5]=Ke[1],ee[6]=Ke[2],ee[7]=Ke[3],ee[8]=Ke[4],ee[11]=255&re,ee[10]=re>>8&255,ee[9]=re>>16&255,ee}toString(A){return A==="base64"?pe.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}static is(A){return A!=null&&typeof A=="object"&&"_bsontype"in A&&A._bsontype==="ObjectId"}equals(A){if(A==null)return!1;if(fe.is(A))return this.buffer[11]===A.buffer[11]&&pe.equals(this.buffer,A.buffer);if(typeof A=="string")return A.toLowerCase()===this.toHexString();if(typeof A=="object"&&typeof A.toHexString=="function"){const re=A.toHexString(),ee=this.toHexString();return typeof re=="string"&&re.toLowerCase()===ee}return!1}getTimestamp(){const A=new Date,re=Je.getUint32BE(this.buffer,0);return A.setTime(1e3*Math.floor(re)),A}static createPk(){return new fe}serializeInto(A,re){return A[re]=this.buffer[0],A[re+1]=this.buffer[1],A[re+2]=this.buffer[2],A[re+3]=this.buffer[3],A[re+4]=this.buffer[4],A[re+5]=this.buffer[5],A[re+6]=this.buffer[6],A[re+7]=this.buffer[7],A[re+8]=this.buffer[8],A[re+9]=this.buffer[9],A[re+10]=this.buffer[10],A[re+11]=this.buffer[11],12}static createFromTime(A){const re=pe.allocate(12);for(let ee=11;ee>=4;ee--)re[ee]=0;return Je.setInt32BE(re,0,A),new fe(re)}static createFromHexString(A){if((A==null?void 0:A.length)!==24)throw new ae("hex string must be 24 characters");return new fe(pe.fromHex(A))}static createFromBase64(A){if((A==null?void 0:A.length)!==16)throw new ae("base64 string must be 16 characters");return new fe(pe.fromBase64(A))}static isValid(A){if(A==null)return!1;if(typeof A=="string")return fe.validateHexString(A);try{return new fe(A),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(A){return new fe(A.$oid)}isCached(){return fe.cacheHexString&&ze.has(this)}inspect(A,re,ee){return ee??(ee=g),`new ObjectId(${ee(this.toHexString(),re)})`}}function Ge(j,A,re){let ee=5;if(Array.isArray(j))for(let Ae=0;Ae<j.length;Ae++)ee+=Xe(Ae.toString(),j[Ae],A,!0,re);else{typeof(j==null?void 0:j.toBSON)=="function"&&(j=j.toBSON());for(const Ae of Object.keys(j))ee+=Xe(Ae,j[Ae],A,!1,re)}return ee}function Xe(j,A,re=!1,ee=!1,Ae=!1){switch(typeof(A==null?void 0:A.toBSON)=="function"&&(A=A.toBSON()),typeof A){case"string":return 1+pe.utf8ByteLength(j)+1+4+pe.utf8ByteLength(A)+1;case"number":return Math.floor(A)===A&&A>=w&&A<=T&&A>=b&&A<=v?(j!=null?pe.utf8ByteLength(j)+1:0)+5:(j!=null?pe.utf8ByteLength(j)+1:0)+9;case"undefined":return ee||!Ae?(j!=null?pe.utf8ByteLength(j)+1:0)+1:0;case"boolean":return(j!=null?pe.utf8ByteLength(j)+1:0)+2;case"object":if(A!=null&&typeof A._bsontype=="string"&&A[y]!==S)throw new ge;if(A==null||A._bsontype==="MinKey"||A._bsontype==="MaxKey")return(j!=null?pe.utf8ByteLength(j)+1:0)+1;if(A._bsontype==="ObjectId")return(j!=null?pe.utf8ByteLength(j)+1:0)+13;if(A instanceof Date||h(A))return(j!=null?pe.utf8ByteLength(j)+1:0)+9;if(ArrayBuffer.isView(A)||A instanceof ArrayBuffer||d(A))return(j!=null?pe.utf8ByteLength(j)+1:0)+6+A.byteLength;if(A._bsontype==="Long"||A._bsontype==="Double"||A._bsontype==="Timestamp")return(j!=null?pe.utf8ByteLength(j)+1:0)+9;if(A._bsontype==="Decimal128")return(j!=null?pe.utf8ByteLength(j)+1:0)+17;if(A._bsontype==="Code")return A.scope!=null&&Object.keys(A.scope).length>0?(j!=null?pe.utf8ByteLength(j)+1:0)+1+4+4+pe.utf8ByteLength(A.code.toString())+1+Ge(A.scope,re,Ae):(j!=null?pe.utf8ByteLength(j)+1:0)+1+4+pe.utf8ByteLength(A.code.toString())+1;if(A._bsontype==="Binary"){const Fe=A;return Fe.sub_type===qe.SUBTYPE_BYTE_ARRAY?(j!=null?pe.utf8ByteLength(j)+1:0)+(Fe.position+1+4+1+4):(j!=null?pe.utf8ByteLength(j)+1:0)+(Fe.position+1+4+1)}if(A._bsontype==="Symbol")return(j!=null?pe.utf8ByteLength(j)+1:0)+pe.utf8ByteLength(A.value)+4+1+1;if(A._bsontype==="DBRef"){const Fe=Object.assign({$ref:A.collection,$id:A.oid},A.fields);return A.db!=null&&(Fe.$db=A.db),(j!=null?pe.utf8ByteLength(j)+1:0)+1+Ge(Fe,re,Ae)}return A instanceof RegExp||f(A)?(j!=null?pe.utf8ByteLength(j)+1:0)+1+pe.utf8ByteLength(A.source)+1+(A.global?1:0)+(A.ignoreCase?1:0)+(A.multiline?1:0)+1:A._bsontype==="BSONRegExp"?(j!=null?pe.utf8ByteLength(j)+1:0)+1+pe.utf8ByteLength(A.pattern)+1+pe.utf8ByteLength(A.options)+1:(j!=null?pe.utf8ByteLength(j)+1:0)+Ge(A,re,Ae)+1;case"function":return re?(j!=null?pe.utf8ByteLength(j)+1:0)+1+4+pe.utf8ByteLength(A.toString())+1:0;case"bigint":return(j!=null?pe.utf8ByteLength(j)+1:0)+9;case"symbol":return 0;default:throw new ae("Unrecognized JS type: "+typeof A)}}fe.index=Math.floor(16777215*Math.random());class ut extends je{get _bsontype(){return"BSONRegExp"}constructor(A,re){if(super(),this.pattern=A,this.options=(re??"").split("").sort().join(""),this.pattern.indexOf("\0")!==-1)throw new ae(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new ae(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let ee=0;ee<this.options.length;ee++)if(this.options[ee]!=="i"&&this.options[ee]!=="m"&&this.options[ee]!=="x"&&this.options[ee]!=="l"&&this.options[ee]!=="s"&&this.options[ee]!=="u")throw new ae(`The regular expression option [${this.options[ee]}] is not supported`)}static parseOptions(A){return A?A.split("").sort().join(""):""}toExtendedJSON(A){return(A=A||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(A){if("$regex"in A){if(typeof A.$regex=="string")return new ut(A.$regex,ut.parseOptions(A.$options));if(A.$regex._bsontype==="BSONRegExp")return A}if("$regularExpression"in A)return new ut(A.$regularExpression.pattern,ut.parseOptions(A.$regularExpression.options));throw new ae(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(A)}`)}inspect(A,re,ee){const Ae=function(Fe){if(Fe!=null&&typeof Fe=="object"&&"stylize"in Fe&&typeof Fe.stylize=="function")return Fe.stylize}(re)??(Fe=>Fe);return ee??(ee=g),`new BSONRegExp(${Ae(ee(this.pattern),"regexp")}, ${Ae(ee(this.options),"regexp")})`}}class gt extends je{get _bsontype(){return"BSONSymbol"}constructor(A){super(),this.value=A}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(A){return new gt(A.$symbol)}inspect(A,re,ee){return ee??(ee=g),`new BSONSymbol(${ee(this.value,re)})`}}const _t=$e;class Tt extends _t{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(A){if(A==null)super(0,0,!0);else if(typeof A=="bigint")super(A,!0);else if($e.isLong(A))super(A.low,A.high,!0);else{if(typeof A!="object"||!("t"in A)||!("i"in A))throw new ae("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if(typeof A.t!="number"&&(typeof A.t!="object"||A.t._bsontype!=="Int32"))throw new ae("Timestamp constructed from { t, i } must provide t as a number");if(typeof A.i!="number"&&(typeof A.i!="object"||A.i._bsontype!=="Int32"))throw new ae("Timestamp constructed from { t, i } must provide i as a number");const re=Number(A.t),ee=Number(A.i);if(re<0||Number.isNaN(re))throw new ae("Timestamp constructed from { t, i } must provide a positive t");if(ee<0||Number.isNaN(ee))throw new ae("Timestamp constructed from { t, i } must provide a positive i");if(re>4294967295)throw new ae("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(ee>4294967295)throw new ae("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(ee,re,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(A){return new Tt($e.fromInt(A,!0))}static fromNumber(A){return new Tt($e.fromNumber(A,!0))}static fromBits(A,re){return new Tt({i:A,t:re})}static fromString(A,re){return new Tt($e.fromString(A,!0,re))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(A){const re=$e.isLong(A.$timestamp.i)?A.$timestamp.i.getLowBitsUnsigned():A.$timestamp.i,ee=$e.isLong(A.$timestamp.t)?A.$timestamp.t.getLowBitsUnsigned():A.$timestamp.t;return new Tt({t:ee,i:re})}inspect(A,re,ee){return ee??(ee=g),`new Timestamp({ t: ${ee(this.t,re)}, i: ${ee(this.i,re)} })`}}Tt.MAX_VALUE=$e.MAX_UNSIGNED_VALUE;const Jt=$e.fromNumber(T),wn=$e.fromNumber(w);function nn(j,A,re){const ee=(A=A??{})&&A.index?A.index:0,Ae=Je.getInt32LE(j,ee);if(Ae<5)throw new ae(`bson size must be >= 5, is ${Ae}`);if(A.allowObjectSmallerThanBufferSize&&j.length<Ae)throw new ae(`buffer length ${j.length} must be >= bson size ${Ae}`);if(!A.allowObjectSmallerThanBufferSize&&j.length!==Ae)throw new ae(`buffer length ${j.length} must === bson size ${Ae}`);if(Ae+ee>j.byteLength)throw new ae(`(bson size ${Ae} + options.index ${ee} must be <= buffer length ${j.byteLength})`);if(j[ee+Ae-1]!==0)throw new ae("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return Xt(j,ee,A,re)}const Rt=/^\$ref$|^\$id$|^\$db$/;function Xt(j,A,re,ee=!1){const Ae=re.fieldsAsRaw==null?null:re.fieldsAsRaw,Fe=re.raw!=null&&re.raw,dt=typeof re.bsonRegExp=="boolean"&&re.bsonRegExp,ct=re.promoteBuffers??!1,He=re.promoteLongs??!0,Vt=re.promoteValues??!0,St=re.useBigInt64??!1;if(St&&!Vt)throw new ae("Must either request bigint or Long for int64 deserialization");if(St&&!He)throw new ae("Must either request bigint or Long for int64 deserialization");let it,vt,Wt=!0;const Ht=(re.validation==null?{utf8:!0}:re.validation).utf8;if(typeof Ht=="boolean")it=Ht;else{Wt=!1;const At=Object.keys(Ht).map(function(dn){return Ht[dn]});if(At.length===0)throw new ae("UTF-8 validation setting cannot be empty");if(typeof At[0]!="boolean")throw new ae("Invalid UTF-8 validation option, must specify boolean values");if(it=At[0],!At.every(dn=>dn===it))throw new ae("Invalid UTF-8 validation option - keys must be all true or all false")}if(!Wt){vt=new Set;for(const At of Object.keys(Ht))vt.add(At)}const Cn=A;if(j.length<5)throw new ae("corrupt bson message < 5 bytes long");const or=Je.getInt32LE(j,A);if(A+=4,or<5||or>j.length)throw new ae("corrupt bson message");const ur=ee?[]:{};let sr=0,Gn=!ee&&null;for(;;){const At=j[A++];if(At===0)break;let dn=A;for(;j[dn]!==0&&dn<j.length;)dn++;if(dn>=j.byteLength)throw new ae("Bad BSON Document: illegal CString");const da=ee?sr++:pe.toUTF8(j,A,dn,!1);let Yn,zi=!0;if(zi=Wt||vt!=null&&vt.has(da)?it:!it,Gn!==!1&&da[0]==="$"&&(Gn=Rt.test(da)),A=dn+1,At===C){const Ct=Je.getInt32LE(j,A);if(A+=4,Ct<=0||Ct>j.length-A||j[A+Ct-1]!==0)throw new ae("bad string length in bson");Yn=pe.toUTF8(j,A,A+Ct-1,zi),A+=Ct}else if(At===B){const Ct=pe.allocateUnsafe(12);for(let Yt=0;Yt<12;Yt++)Ct[Yt]=j[A+Yt];Yn=new fe(Ct),A+=12}else if(At===J&&Vt===!1)Yn=new Le(Je.getInt32LE(j,A)),A+=4;else if(At===J)Yn=Je.getInt32LE(j,A),A+=4;else if(At===E)Yn=Je.getFloat64LE(j,A),A+=8,Vt===!1&&(Yn=new _e(Yn));else if(At===H){const Ct=Je.getInt32LE(j,A),Yt=Je.getInt32LE(j,A+4);A+=8,Yn=new Date(new $e(Ct,Yt).toNumber())}else if(At===q){if(j[A]!==0&&j[A]!==1)throw new ae("illegal boolean type value");Yn=j[A++]===1}else if(At===D){const Ct=A,Yt=Je.getInt32LE(j,A);if(Yt<=0||Yt>j.length-A)throw new ae("bad embedded document length in bson");if(Fe)Yn=j.subarray(A,A+Yt);else{let tn=re;Wt||(tn={...re,validation:{utf8:zi}}),Yn=Xt(j,Ct,tn,!1)}A+=Yt}else if(At===O){const Ct=A,Yt=Je.getInt32LE(j,A);let tn=re;const si=A+Yt;if(Ae&&Ae[da]&&(tn={...re,raw:!0}),Wt||(tn={...tn,validation:{utf8:zi}}),Yn=Xt(j,Ct,tn,!0),j[(A+=Yt)-1]!==0)throw new ae("invalid array terminator byte");if(A!==si)throw new ae("corrupted array bson")}else if(At===k)Yn=void 0;else if(At===z)Yn=null;else if(At===L)if(St)Yn=Je.getBigInt64LE(j,A),A+=8;else{const Ct=Je.getInt32LE(j,A),Yt=Je.getInt32LE(j,A+4);A+=8;const tn=new $e(Ct,Yt);Yn=He&&Vt===!0&&tn.lessThanOrEqual(Jt)&&tn.greaterThanOrEqual(wn)?tn.toNumber():tn}else if(At===K){const Ct=pe.allocateUnsafe(16);for(let Yt=0;Yt<16;Yt++)Ct[Yt]=j[A+Yt];A+=16,Yn=new be(Ct)}else if(At===I){let Ct=Je.getInt32LE(j,A);A+=4;const Yt=Ct,tn=j[A++];if(Ct<0)throw new ae("Negative binary type element size found");if(Ct>j.byteLength)throw new ae("Binary type size larger than document size");if(tn===qe.SUBTYPE_BYTE_ARRAY){if(Ct=Je.getInt32LE(j,A),A+=4,Ct<0)throw new ae("Negative binary type element size found for subtype 0x02");if(Ct>Yt-4)throw new ae("Binary type with subtype 0x02 contains too long binary size");if(Ct<Yt-4)throw new ae("Binary type with subtype 0x02 contains too short binary size")}ct&&Vt?Yn=pe.toLocalBufferType(j.subarray(A,A+Ct)):(Yn=new qe(j.subarray(A,A+Ct),tn),tn===Te&&Ft.isValid(Yn)&&(Yn=Yn.toUUID())),A+=Ct}else if(At===ne&&dt===!1){for(dn=A;j[dn]!==0&&dn<j.length;)dn++;if(dn>=j.length)throw new ae("Bad BSON Document: illegal CString");const Ct=pe.toUTF8(j,A,dn,!1);for(dn=A=dn+1;j[dn]!==0&&dn<j.length;)dn++;if(dn>=j.length)throw new ae("Bad BSON Document: illegal CString");const Yt=pe.toUTF8(j,A,dn,!1);A=dn+1;const tn=new Array(Yt.length);for(dn=0;dn<Yt.length;dn++)switch(Yt[dn]){case"m":tn[dn]="m";break;case"s":tn[dn]="g";break;case"i":tn[dn]="i"}Yn=new RegExp(Ct,tn.join(""))}else if(At===ne&&dt===!0){for(dn=A;j[dn]!==0&&dn<j.length;)dn++;if(dn>=j.length)throw new ae("Bad BSON Document: illegal CString");const Ct=pe.toUTF8(j,A,dn,!1);for(dn=A=dn+1;j[dn]!==0&&dn<j.length;)dn++;if(dn>=j.length)throw new ae("Bad BSON Document: illegal CString");const Yt=pe.toUTF8(j,A,dn,!1);A=dn+1,Yn=new ut(Ct,Yt)}else if(At===N){const Ct=Je.getInt32LE(j,A);if(A+=4,Ct<=0||Ct>j.length-A||j[A+Ct-1]!==0)throw new ae("bad string length in bson");const Yt=pe.toUTF8(j,A,A+Ct-1,zi);Yn=Vt?Yt:new gt(Yt),A+=Ct}else if(At===Y)Yn=new Tt({i:Je.getUint32LE(j,A),t:Je.getUint32LE(j,A+4)}),A+=8;else if(At===ie)Yn=new rt;else if(At===de)Yn=new Ue;else if(At===Q){const Ct=Je.getInt32LE(j,A);if(A+=4,Ct<=0||Ct>j.length-A||j[A+Ct-1]!==0)throw new ae("bad string length in bson");const Yt=pe.toUTF8(j,A,A+Ct-1,zi);Yn=new bt(Yt),A+=Ct}else if(At===G){const Ct=Je.getInt32LE(j,A);if(A+=4,Ct<13)throw new ae("code_w_scope total size shorter minimum expected length");const Yt=Je.getInt32LE(j,A);if(A+=4,Yt<=0||Yt>j.length-A||j[A+Yt-1]!==0)throw new ae("bad string length in bson");const tn=pe.toUTF8(j,A,A+Yt-1,zi),si=A+=Yt,Ur=Je.getInt32LE(j,A),Gr=Xt(j,si,re,!1);if(A+=Ur,Ct<8+Ur+Yt)throw new ae("code_w_scope total size is too short, truncating scope");if(Ct>8+Ur+Yt)throw new ae("code_w_scope total size is too long, clips outer document");Yn=new bt(tn,Gr)}else{if(At!==ue)throw new ae(`Detected unknown BSON type ${At.toString(16)} for fieldname "${da}"`);{const Ct=Je.getInt32LE(j,A);if(A+=4,Ct<=0||Ct>j.length-A||j[A+Ct-1]!==0)throw new ae("bad string length in bson");const Yt=pe.toUTF8(j,A,A+Ct-1,zi);A+=Ct;const tn=pe.allocateUnsafe(12);for(let Ur=0;Ur<12;Ur++)tn[Ur]=j[A+Ur];const si=new fe(tn);A+=12,Yn=new sn(Yt,si)}}da==="__proto__"?Object.defineProperty(ur,da,{value:Yn,writable:!0,enumerable:!0,configurable:!0}):ur[da]=Yn}if(or!==A-Cn)throw ee?new ae("corrupt array bson"):new ae("corrupt object bson");if(!Gn)return ur;if(Jn(ur)){const At=Object.assign({},ur);return delete At.$ref,delete At.$id,delete At.$db,new sn(ur.$ref,ur.$id,ur.$db,At)}return ur}const en=/\x00/,cn=new Set(["$db","$ref","$id","$clusterTime"]);function bn(j,A,re,ee){j[ee++]=C,j[(ee=ee+pe.encodeUTF8Into(j,A,ee)+1)-1]=0;const Ae=pe.encodeUTF8Into(j,re,ee+4);return Je.setInt32LE(j,ee,Ae+1),ee=ee+4+Ae,j[ee++]=0,ee}function Un(j,A,re,ee){const Ae=!Object.is(re,-0)&&Number.isSafeInteger(re)&&re<=v&&re>=b?J:E;return j[ee++]=Ae,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee+(Ae===J?Je.setInt32LE(j,ee,re):Je.setFloat64LE(j,ee,re))}function an(j,A,re,ee){return j[ee++]=L,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee+Je.setBigInt64LE(j,ee,re)}function Pn(j,A,re,ee){return j[ee++]=z,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee}function yt(j,A,re,ee){return j[ee++]=q,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,j[ee++]=re?1:0,ee}function _n(j,A,re,ee){j[ee++]=H,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Ae=$e.fromNumber(re.getTime()),Fe=Ae.getLowBits(),dt=Ae.getHighBits();return(ee+=Je.setInt32LE(j,ee,Fe))+Je.setInt32LE(j,ee,dt)}function Fn(j,A,re,ee){if(j[ee++]=ne,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,re.source&&re.source.match(en)!=null)throw new ae("value "+re.source+" must not contain null bytes");return ee+=pe.encodeUTF8Into(j,re.source,ee),j[ee++]=0,re.ignoreCase&&(j[ee++]=105),re.global&&(j[ee++]=115),re.multiline&&(j[ee++]=109),j[ee++]=0,ee}function zn(j,A,re,ee){if(j[ee++]=ne,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,re.pattern.match(en)!=null)throw new ae("pattern "+re.pattern+" must not contain null bytes");ee+=pe.encodeUTF8Into(j,re.pattern,ee),j[ee++]=0;const Ae=re.options.split("").sort().join("");return ee+=pe.encodeUTF8Into(j,Ae,ee),j[ee++]=0,ee}function Hn(j,A,re,ee){return re===null?j[ee++]=z:re._bsontype==="MinKey"?j[ee++]=ie:j[ee++]=de,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee}function Or(j,A,re,ee){return j[ee++]=B,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee+re.serializeInto(j,ee)}function Dr(j,A,re,ee){j[ee++]=I,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Ae=re.length;if(ee+=Je.setInt32LE(j,ee,Ae),j[ee++]=ye,Ae<=16)for(let Fe=0;Fe<Ae;Fe++)j[ee+Fe]=re[Fe];else j.set(re,ee);return ee+Ae}function Yo(j,A,re,ee,Ae,Fe,dt,ct,He){if(He.has(re))throw new ae("Cannot convert circular structure to BSON");He.add(re),j[ee++]=Array.isArray(re)?O:D,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Vt=wi(j,re,Ae,ee,Fe+1,dt,ct,He);return He.delete(re),Vt}function Ji(j,A,re,ee){j[ee++]=K,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;for(let Ae=0;Ae<16;Ae++)j[ee+Ae]=re.bytes[Ae];return ee+16}function Ao(j,A,re,ee){j[ee++]=re._bsontype==="Long"?L:Y,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Ae=re.getLowBits(),Fe=re.getHighBits();return(ee+=Je.setInt32LE(j,ee,Ae))+Je.setInt32LE(j,ee,Fe)}function qr(j,A,re,ee){return re=re.valueOf(),j[ee++]=J,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee+Je.setInt32LE(j,ee,re)}function cr(j,A,re,ee){return j[ee++]=E,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0,ee+Je.setFloat64LE(j,ee,re.value)}function Lr(j,A,re,ee){j[ee++]=Q,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Ae=re.toString(),Fe=pe.encodeUTF8Into(j,Ae,ee+4)+1;return Je.setInt32LE(j,ee,Fe),ee=ee+4+Fe-1,j[ee++]=0,ee}function pr(j,A,re,ee,Ae=!1,Fe=0,dt=!1,ct=!0,He){if(re.scope&&typeof re.scope=="object"){j[ee++]=G,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;let Vt=ee;const St=re.code;ee+=4;const it=pe.encodeUTF8Into(j,St,ee+4)+1;Je.setInt32LE(j,ee,it),j[ee+4+it-1]=0,ee=ee+it+4;const vt=wi(j,re.scope,Ae,ee,Fe+1,dt,ct,He);ee=vt-1;const Wt=vt-Vt;Vt+=Je.setInt32LE(j,Vt,Wt),j[ee++]=0}else{j[ee++]=Q,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Vt=re.code.toString(),St=pe.encodeUTF8Into(j,Vt,ee+4)+1;Je.setInt32LE(j,ee,St),ee=ee+4+St-1,j[ee++]=0}return ee}function $r(j,A,re,ee){j[ee++]=I,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Ae=re.buffer;let Fe=re.position;if(re.sub_type===qe.SUBTYPE_BYTE_ARRAY&&(Fe+=4),ee+=Je.setInt32LE(j,ee,Fe),j[ee++]=re.sub_type,re.sub_type===qe.SUBTYPE_BYTE_ARRAY&&(Fe-=4,ee+=Je.setInt32LE(j,ee,Fe)),re.sub_type===qe.SUBTYPE_VECTOR&&Ze(re),Fe<=16)for(let dt=0;dt<Fe;dt++)j[ee+dt]=Ae[dt];else j.set(Ae,ee);return ee+re.position}function Wn(j,A,re,ee){j[ee++]=N,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;const Ae=pe.encodeUTF8Into(j,re.value,ee+4)+1;return Je.setInt32LE(j,ee,Ae),ee=ee+4+Ae-1,j[ee++]=0,ee}function br(j,A,re,ee,Ae,Fe,dt){j[ee++]=D,ee+=pe.encodeUTF8Into(j,A,ee),j[ee++]=0;let ct=ee,He={$ref:re.collection||re.namespace,$id:re.oid};re.db!=null&&(He.$db=re.db),He=Object.assign(He,re.fields);const Vt=wi(j,He,!1,ee,Ae+1,Fe,!0,dt),St=Vt-ct;return ct+=Je.setInt32LE(j,ee,St),Vt}function wi(j,A,re,ee,Ae,Fe,dt,ct){if(ct==null){if(A==null)return j[0]=5,j[1]=0,j[2]=0,j[3]=0,j[4]=0,5;if(Array.isArray(A))throw new ae("serialize does not support an array as the root input");if(typeof A!="object")throw new ae("serialize does not support non-object as the root input");if("_bsontype"in A&&typeof A._bsontype=="string")throw new ae("BSON types cannot be serialized as a document");if(h(A)||f(A)||c(A)||d(A))throw new ae("date, regexp, typedarray, and arraybuffer cannot be BSON documents");ct=new Set}ct.add(A);let He=ee+4;if(Array.isArray(A))for(let St=0;St<A.length;St++){const it=`${St}`;let vt=A[St];typeof(vt==null?void 0:vt.toBSON)=="function"&&(vt=vt.toBSON());const Wt=typeof vt;if(vt===void 0)He=Pn(j,it,0,He);else if(vt===null)He=Pn(j,it,0,He);else if(Wt==="string")He=bn(j,it,vt,He);else if(Wt==="number")He=Un(j,it,vt,He);else if(Wt==="bigint")He=an(j,it,vt,He);else if(Wt==="boolean")He=yt(j,it,vt,He);else if(Wt==="object"&&vt._bsontype==null)He=vt instanceof Date||h(vt)?_n(j,it,vt,He):vt instanceof Uint8Array||c(vt)?Dr(j,it,vt,He):vt instanceof RegExp||f(vt)?Fn(j,it,vt,He):Yo(j,it,vt,He,re,Ae,Fe,dt,ct);else if(Wt==="object"){if(vt[y]!==S)throw new ge;if(vt._bsontype==="ObjectId")He=Or(j,it,vt,He);else if(vt._bsontype==="Decimal128")He=Ji(j,it,vt,He);else if(vt._bsontype==="Long"||vt._bsontype==="Timestamp")He=Ao(j,it,vt,He);else if(vt._bsontype==="Double")He=cr(j,it,vt,He);else if(vt._bsontype==="Code")He=pr(j,it,vt,He,re,Ae,Fe,dt,ct);else if(vt._bsontype==="Binary")He=$r(j,it,vt,He);else if(vt._bsontype==="BSONSymbol")He=Wn(j,it,vt,He);else if(vt._bsontype==="DBRef")He=br(j,it,vt,He,Ae,Fe,ct);else if(vt._bsontype==="BSONRegExp")He=zn(j,it,vt,He);else if(vt._bsontype==="Int32")He=qr(j,it,vt,He);else if(vt._bsontype==="MinKey"||vt._bsontype==="MaxKey")He=Hn(j,it,vt,He);else if(vt._bsontype!==void 0)throw new ae(`Unrecognized or invalid _bsontype: ${String(vt._bsontype)}`)}else Wt==="function"&&Fe&&(He=Lr(j,it,vt,He))}else if(A instanceof Map||m(A)){const St=A.entries();let it=!1;for(;!it;){const vt=St.next();if(it=!!vt.done,it)continue;const Wt=vt.value?vt.value[0]:void 0;let Ht=vt.value?vt.value[1]:void 0;typeof(Ht==null?void 0:Ht.toBSON)=="function"&&(Ht=Ht.toBSON());const Cn=typeof Ht;if(typeof Wt=="string"&&!cn.has(Wt)){if(Wt.match(en)!=null)throw new ae("key "+Wt+" must not contain null bytes");if(re){if(Wt[0]==="$")throw new ae("key "+Wt+" must not start with '$'");if(Wt.includes("."))throw new ae("key "+Wt+" must not contain '.'")}}if(Ht===void 0)dt===!1&&(He=Pn(j,Wt,0,He));else if(Ht===null)He=Pn(j,Wt,0,He);else if(Cn==="string")He=bn(j,Wt,Ht,He);else if(Cn==="number")He=Un(j,Wt,Ht,He);else if(Cn==="bigint")He=an(j,Wt,Ht,He);else if(Cn==="boolean")He=yt(j,Wt,Ht,He);else if(Cn==="object"&&Ht._bsontype==null)He=Ht instanceof Date||h(Ht)?_n(j,Wt,Ht,He):Ht instanceof Uint8Array||c(Ht)?Dr(j,Wt,Ht,He):Ht instanceof RegExp||f(Ht)?Fn(j,Wt,Ht,He):Yo(j,Wt,Ht,He,re,Ae,Fe,dt,ct);else if(Cn==="object"){if(Ht[y]!==S)throw new ge;if(Ht._bsontype==="ObjectId")He=Or(j,Wt,Ht,He);else if(Ht._bsontype==="Decimal128")He=Ji(j,Wt,Ht,He);else if(Ht._bsontype==="Long"||Ht._bsontype==="Timestamp")He=Ao(j,Wt,Ht,He);else if(Ht._bsontype==="Double")He=cr(j,Wt,Ht,He);else if(Ht._bsontype==="Code")He=pr(j,Wt,Ht,He,re,Ae,Fe,dt,ct);else if(Ht._bsontype==="Binary")He=$r(j,Wt,Ht,He);else if(Ht._bsontype==="BSONSymbol")He=Wn(j,Wt,Ht,He);else if(Ht._bsontype==="DBRef")He=br(j,Wt,Ht,He,Ae,Fe,ct);else if(Ht._bsontype==="BSONRegExp")He=zn(j,Wt,Ht,He);else if(Ht._bsontype==="Int32")He=qr(j,Wt,Ht,He);else if(Ht._bsontype==="MinKey"||Ht._bsontype==="MaxKey")He=Hn(j,Wt,Ht,He);else if(Ht._bsontype!==void 0)throw new ae(`Unrecognized or invalid _bsontype: ${String(Ht._bsontype)}`)}else Cn==="function"&&Fe&&(He=Lr(j,Wt,Ht,He))}}else{if(typeof(A==null?void 0:A.toBSON)=="function"&&(A=A.toBSON())!=null&&typeof A!="object")throw new ae("toBSON function did not return an object");for(const St of Object.keys(A)){let it=A[St];typeof(it==null?void 0:it.toBSON)=="function"&&(it=it.toBSON());const vt=typeof it;if(typeof St=="string"&&!cn.has(St)){if(St.match(en)!=null)throw new ae("key "+St+" must not contain null bytes");if(re){if(St[0]==="$")throw new ae("key "+St+" must not start with '$'");if(St.includes("."))throw new ae("key "+St+" must not contain '.'")}}if(it===void 0)dt===!1&&(He=Pn(j,St,0,He));else if(it===null)He=Pn(j,St,0,He);else if(vt==="string")He=bn(j,St,it,He);else if(vt==="number")He=Un(j,St,it,He);else if(vt==="bigint")He=an(j,St,it,He);else if(vt==="boolean")He=yt(j,St,it,He);else if(vt==="object"&&it._bsontype==null)He=it instanceof Date||h(it)?_n(j,St,it,He):it instanceof Uint8Array||c(it)?Dr(j,St,it,He):it instanceof RegExp||f(it)?Fn(j,St,it,He):Yo(j,St,it,He,re,Ae,Fe,dt,ct);else if(vt==="object"){if(it[y]!==S)throw new ge;if(it._bsontype==="ObjectId")He=Or(j,St,it,He);else if(it._bsontype==="Decimal128")He=Ji(j,St,it,He);else if(it._bsontype==="Long"||it._bsontype==="Timestamp")He=Ao(j,St,it,He);else if(it._bsontype==="Double")He=cr(j,St,it,He);else if(it._bsontype==="Code")He=pr(j,St,it,He,re,Ae,Fe,dt,ct);else if(it._bsontype==="Binary")He=$r(j,St,it,He);else if(it._bsontype==="BSONSymbol")He=Wn(j,St,it,He);else if(it._bsontype==="DBRef")He=br(j,St,it,He,Ae,Fe,ct);else if(it._bsontype==="BSONRegExp")He=zn(j,St,it,He);else if(it._bsontype==="Int32")He=qr(j,St,it,He);else if(it._bsontype==="MinKey"||it._bsontype==="MaxKey")He=Hn(j,St,it,He);else if(it._bsontype!==void 0)throw new ae(`Unrecognized or invalid _bsontype: ${String(it._bsontype)}`)}else vt==="function"&&Fe&&(He=Lr(j,St,it,He))}}ct.delete(A),j[He++]=0;const Vt=He-ee;return ee+=Je.setInt32LE(j,ee,Vt),He}const Gt={$oid:fe,$binary:qe,$uuid:qe,$symbol:gt,$numberInt:Le,$numberDecimal:be,$numberDouble:_e,$numberLong:$e,$minKey:rt,$maxKey:Ue,$regex:ut,$regularExpression:ut,$timestamp:Tt};function Pr(j,A={}){if(typeof j=="number"){const ee=j<=v&&j>=b,Ae=j<=_&&j>=x;if(A.relaxed||A.legacy)return j;if(Number.isInteger(j)&&!Object.is(j,-0)){if(ee)return new Le(j);if(Ae)return A.useBigInt64?BigInt(j):$e.fromNumber(j)}return new _e(j)}if(j==null||typeof j!="object")return j;if(j.$undefined)return null;const re=Object.keys(j).filter(ee=>ee.startsWith("$")&&j[ee]!=null);for(let ee=0;ee<re.length;ee++){const Ae=Gt[re[ee]];if(Ae)return Ae.fromExtendedJSON(j,A)}if(j.$date!=null){const ee=j.$date,Ae=new Date;if(A.legacy)if(typeof ee=="number")Ae.setTime(ee);else if(typeof ee=="string")Ae.setTime(Date.parse(ee));else{if(typeof ee!="bigint")throw new $("Unrecognized type for EJSON date: "+typeof ee);Ae.setTime(Number(ee))}else if(typeof ee=="string")Ae.setTime(Date.parse(ee));else if($e.isLong(ee))Ae.setTime(ee.toNumber());else if(typeof ee=="number"&&A.relaxed)Ae.setTime(ee);else{if(typeof ee!="bigint")throw new $("Unrecognized type for EJSON date: "+typeof ee);Ae.setTime(Number(ee))}return Ae}if(j.$code!=null){const ee=Object.assign({},j);return j.$scope&&(ee.$scope=Pr(j.$scope)),bt.fromExtendedJSON(j)}if(Jn(j)||j.$dbPointer){const ee=j.$ref?j:j.$dbPointer;if(ee instanceof sn)return ee;const Ae=Object.keys(ee).filter(dt=>dt.startsWith("$"));let Fe=!0;if(Ae.forEach(dt=>{["$ref","$id","$db"].indexOf(dt)===-1&&(Fe=!1)}),Fe)return sn.fromExtendedJSON(ee)}return j}function hr(j){const A=j.toISOString();return j.getUTCMilliseconds()!==0?A:A.slice(0,-5)+"Z"}function nr(j,A){if(j instanceof Map||m(j)){const re=Object.create(null);for(const[ee,Ae]of j){if(typeof ee!="string")throw new ae("Can only serialize maps with string keys");re[ee]=Ae}return nr(re,A)}if((typeof j=="object"||typeof j=="function")&&j!==null){const re=A.seenObjects.findIndex(ee=>ee.obj===j);if(re!==-1){const ee=A.seenObjects.map(St=>St.propertyName),Ae=ee.slice(0,re).map(St=>`${St} -> `).join(""),Fe=ee[re],dt=" -> "+ee.slice(re+1,ee.length-1).map(St=>`${St} -> `).join(""),ct=ee[ee.length-1],He=" ".repeat(Ae.length+Fe.length/2),Vt="-".repeat(dt.length+(Fe.length+ct.length)/2-1);throw new ae(`Converting circular structure to EJSON:
    ${Ae}${Fe}${dt}${ct}
    ${He}\\${Vt}/`)}A.seenObjects[A.seenObjects.length-1].obj=j}if(Array.isArray(j))return function(re,ee){return re.map((Ae,Fe)=>{ee.seenObjects.push({propertyName:`index ${Fe}`,obj:null});try{return nr(Ae,ee)}finally{ee.seenObjects.pop()}})}(j,A);if(j===void 0)return null;if(j instanceof Date||h(j)){const re=j.getTime(),ee=re>-1&&re<2534023188e5;return A.legacy?A.relaxed&&ee?{$date:j.getTime()}:{$date:hr(j)}:A.relaxed&&ee?{$date:hr(j)}:{$date:{$numberLong:j.getTime().toString()}}}if(!(typeof j!="number"||A.relaxed&&isFinite(j))){if(Number.isInteger(j)&&!Object.is(j,-0)){if(j>=b&&j<=v)return{$numberInt:j.toString()};if(j>=x&&j<=_)return{$numberLong:j.toString()}}return{$numberDouble:Object.is(j,-0)?"-0.0":j.toString()}}if(typeof j=="bigint")return A.relaxed?Number(BigInt.asIntN(64,j)):{$numberLong:BigInt.asIntN(64,j).toString()};if(j instanceof RegExp||f(j)){let re=j.flags;if(re===void 0){const ee=j.toString().match(/[gimuy]*$/);ee&&(re=ee[0])}return new ut(j.source,re).toExtendedJSON(A)}return j!=null&&typeof j=="object"?function(re,ee){if(re==null||typeof re!="object")throw new ae("not an object instance");const Ae=re._bsontype;if(Ae===void 0){const Fe={};for(const dt of Object.keys(re)){ee.seenObjects.push({propertyName:dt,obj:null});try{const ct=nr(re[dt],ee);dt==="__proto__"?Object.defineProperty(Fe,dt,{value:ct,writable:!0,enumerable:!0,configurable:!0}):Fe[dt]=ct}finally{ee.seenObjects.pop()}}return Fe}if(re!=null&&typeof re=="object"&&typeof re._bsontype=="string"&&re[y]!==S)throw new ge;if(function(Fe){return Fe!=null&&typeof Fe=="object"&&"_bsontype"in Fe&&typeof Fe._bsontype=="string"}(re)){let Fe=re;if(typeof Fe.toExtendedJSON!="function"){const dt=Rn[re._bsontype];if(!dt)throw new ae("Unrecognized or invalid _bsontype: "+re._bsontype);Fe=dt(Fe)}return Ae==="Code"&&Fe.scope?Fe=new bt(Fe.code,nr(Fe.scope,ee)):Ae==="DBRef"&&Fe.oid&&(Fe=new sn(nr(Fe.collection,ee),nr(Fe.oid,ee),nr(Fe.db,ee),nr(Fe.fields,ee))),Fe.toExtendedJSON(ee)}throw new ae("_bsontype must be a string, but was: "+typeof Ae)}(j,A):j}const Rn={Binary:j=>new qe(j.value(),j.sub_type),Code:j=>new bt(j.code,j.scope),DBRef:j=>new sn(j.collection||j.namespace,j.oid,j.db,j.fields),Decimal128:j=>new be(j.bytes),Double:j=>new _e(j.value),Int32:j=>new Le(j.value),Long:j=>$e.fromBits(j.low!=null?j.low:j.low_,j.low!=null?j.high:j.high_,j.low!=null?j.unsigned:j.unsigned_),MaxKey:()=>new Ue,MinKey:()=>new rt,ObjectId:j=>new fe(j),BSONRegExp:j=>new ut(j.pattern,j.options),BSONSymbol:j=>new gt(j.value),Timestamp:j=>Tt.fromBits(j.low,j.high)};function Tn(j,A){const re={useBigInt64:(A==null?void 0:A.useBigInt64)??!1,relaxed:(A==null?void 0:A.relaxed)??!0,legacy:(A==null?void 0:A.legacy)??!1};return JSON.parse(j,(ee,Ae)=>{if(ee.indexOf("\0")!==-1)throw new ae(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(ee)}`);return Pr(Ae,re)})}function yi(j,A,re,ee){re!=null&&typeof re=="object"&&(ee=re,re=0),A==null||typeof A!="object"||Array.isArray(A)||(ee=A,A=void 0,re=0);const Ae=nr(j,Object.assign({relaxed:!0,legacy:!1},ee,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify(Ae,A,re)}const Br=Object.create(null);Br.parse=Tn,Br.stringify=yi,Br.serialize=function(j,A){return A=A||{},JSON.parse(yi(j,A))},Br.deserialize=function(j,A){return A=A||{},Tn(JSON.stringify(j),A)},Object.freeze(Br);function Ko(j,A){try{return Je.getNonnegativeInt32LE(j,A)}catch(re){throw new te("BSON size cannot be negative",A,{cause:re})}}function eo(j,A){let re=A;for(;j[re]!==0;re++);if(re===j.length-1)throw new te("Null terminator not found",A);return re}const Co=Object.create(null);Co.parseToElements=function(j,A=0){if(A??(A=0),j.length<5)throw new te(`Input must be at least 5 bytes, got ${j.length} bytes`,A);const re=Ko(j,A);if(re>j.length-A)throw new te(`Parsed documentSize (${re} bytes) does not match input length (${j.length} bytes)`,A);if(j[A+re-1]!==0)throw new te("BSON documents must end in 0x00",A+re);const ee=[];let Ae=A+4;for(;Ae<=re+A;){const Fe=j[Ae];if(Ae+=1,Fe===0){if(Ae-A!==re)throw new te("Invalid 0x00 type byte",Ae);break}const dt=Ae,ct=eo(j,Ae)-dt;let He;if(Ae+=ct+1,Fe===1||Fe===18||Fe===9||Fe===17)He=8;else if(Fe===16)He=4;else if(Fe===7)He=12;else if(Fe===19)He=16;else if(Fe===8)He=1;else if(Fe===10||Fe===6||Fe===127||Fe===255)He=0;else if(Fe===11)He=eo(j,eo(j,Ae)+1)+1-Ae;else if(Fe===3||Fe===4||Fe===15)He=Ko(j,Ae);else{if(Fe!==2&&Fe!==5&&Fe!==12&&Fe!==13&&Fe!==14)throw new te(`Invalid 0x${Fe.toString(16).padStart(2,"0")} type byte`,Ae);He=Ko(j,Ae)+4,Fe===5&&(He+=1),Fe===12&&(He+=12)}if(He>re)throw new te("value reports length larger than document",Ae);ee.push([Fe,dt,ct,Ae,He]),Ae+=He}return ee},Co.ByteUtils=pe,Co.NumberUtils=Je,Object.freeze(Co);const Pi=17825792;let Hr=pe.allocate(Pi);function Oo(j){Hr.length<j&&(Hr=pe.allocate(j))}function gl(j,A={}){const re=typeof A.checkKeys=="boolean"&&A.checkKeys,ee=typeof A.serializeFunctions=="boolean"&&A.serializeFunctions,Ae=typeof A.ignoreUndefined!="boolean"||A.ignoreUndefined,Fe=typeof A.minInternalBufferSize=="number"?A.minInternalBufferSize:Pi;Hr.length<Fe&&(Hr=pe.allocate(Fe));const dt=wi(Hr,j,re,0,0,ee,Ae,null),ct=pe.allocateUnsafe(dt);return ct.set(Hr.subarray(0,dt),0),ct}function Gf(j,A,re={}){const ee=typeof re.checkKeys=="boolean"&&re.checkKeys,Ae=typeof re.serializeFunctions=="boolean"&&re.serializeFunctions,Fe=typeof re.ignoreUndefined!="boolean"||re.ignoreUndefined,dt=typeof re.index=="number"?re.index:0,ct=wi(Hr,j,ee,0,0,Ae,Fe,null);return A.set(Hr.subarray(0,ct),dt),dt+ct-1}function Xl(j,A={}){return nn(pe.toLocalBufferType(j),A)}function Xu(j,A={}){return Ge(j,typeof(A=A||{}).serializeFunctions=="boolean"&&A.serializeFunctions,typeof A.ignoreUndefined!="boolean"||A.ignoreUndefined)}function yl(j,A,re,ee,Ae,Fe){const dt=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},Fe),ct=pe.toLocalBufferType(j);let He=A;for(let Vt=0;Vt<re;Vt++){const St=Je.getInt32LE(ct,He);dt.index=He,ee[Ae+Vt]=nn(ct,dt),He+=St}return He}var Zu=Object.freeze({__proto__:null,BSONError:ae,BSONOffsetError:te,BSONRegExp:ut,BSONRuntimeError:$,BSONSymbol:gt,BSONType:me,BSONValue:je,BSONVersionError:ge,Binary:qe,Code:bt,DBRef:sn,Decimal128:be,Double:_e,EJSON:Br,Int32:Le,Long:$e,MaxKey:Ue,MinKey:rt,ObjectId:fe,Timestamp:Tt,UUID:Ft,calculateObjectSize:Xu,deserialize:Xl,deserializeStream:yl,onDemand:Co,serialize:gl,serializeWithBufferAndIndex:Gf,setInternalBufferSize:Oo})},6365:(o,s,a)=>{var l=a(5832).hp,u=a(6353).Binary,c=a(6353).UUID,d=a(8768);function f(g,S,y){var v,b,_,x,T=g;return g==null&&(T=0),Array.isArray(S)?(b=S[0],_=S[1]):v=S,x=typeof T=="number"||T instanceof Number?l.alloc(T):l.from(T,v,y),d.decorate(x,f.mixin),x.isMongooseBuffer=!0,x[f.pathSymbol]=b,x[h]=_,x._subtype=0,x}var m=Symbol.for("mongoose#Buffer#_path"),h=Symbol.for("mongoose#Buffer#_parent");f.pathSymbol=m,f.mixin={_subtype:void 0,_markModified:function(){var g=this[h];return g&&g.markModified(this[f.pathSymbol]),this},write:function(){var g=l.prototype.write.apply(this,arguments);return g>0&&this._markModified(),g},copy:function(g){var S=l.prototype.copy.apply(this,arguments);return g&&g.isMongooseBuffer&&g._markModified(),S}},d.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(g){l.prototype[g]&&(f.mixin[g]=function(){var S=l.prototype[g].apply(this,arguments);return this._markModified(),S})}),f.mixin.toObject=function(g){var S=typeof g=="number"?g:this._subtype||0;return new u(l.from(this),S)},f.mixin.$toObject=f.mixin.toObject,f.mixin.toBSON=function(){return new u(this,this._subtype||0)},f.mixin.toUUID=function(){if(this._subtype!==4)throw new Error("Cannot convert a Buffer with subtype "+this._subtype+" to a UUID");return new c(this)},f.mixin.equals=function(g){if(!l.isBuffer(g)||this.length!==g.length)return!1;for(var S=0;S<this.length;++S)if(this[S]!==g[S])return!1;return!0},f.mixin.subtype=function(g){if(typeof g!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==g&&this._markModified(),this._subtype=g},f.Binary=u,o.exports=f},6400:(o,s,a)=>{function l(Se){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Pe){return typeof Pe}:function(Pe){return Pe&&typeof Symbol=="function"&&Pe.constructor===Symbol&&Pe!==Symbol.prototype?"symbol":typeof Pe},l(Se)}var u,c=a(8093),d=a(9870),f=a(9206),m=a(9939),h=a(783),g=a(9907),S=a(2268),y=a(8188),v=a(9471),b=a(2401),_=a(1697),x=a(8435),T=a(8633),w=a(2151),E=a(674),C=Function,D=function(Se){try{return C('"use strict"; return ('+Se+").constructor;")()}catch{}},O=a(1464),I=a(988),k=function(){throw new S},B=O?function(){try{return k}catch{try{return O(arguments,"callee").get}catch{return k}}}():k,q=a(5510)(),H=a(209),z=a(5825),ne=a(2403),ue=a(3279),Q=a(3123),N={},G=typeof Uint8Array<"u"&&H?H(Uint8Array):u,J={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":q&&H?H([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?u:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?u:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":d,"%eval%":eval,"%EvalError%":f,"%Float16Array%":typeof Float16Array>"u"?u:Float16Array,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":N,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":q&&H?H(H([][Symbol.iterator]())):u,"%JSON%":(typeof JSON>"u"?"undefined":l(JSON))==="object"?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map<"u"&&q&&H?H(new Map()[Symbol.iterator]()):u,"%Math%":Math,"%Number%":Number,"%Object%":c,"%Object.getOwnPropertyDescriptor%":O,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":m,"%ReferenceError%":h,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set<"u"&&q&&H?H(new Set()[Symbol.iterator]()):u,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":q&&H?H(""[Symbol.iterator]()):u,"%Symbol%":q?Symbol:u,"%SyntaxError%":g,"%ThrowTypeError%":B,"%TypedArray%":G,"%TypeError%":S,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":y,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet,"%Function.prototype.call%":Q,"%Function.prototype.apply%":ue,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":z,"%Math.abs%":v,"%Math.floor%":b,"%Math.max%":_,"%Math.min%":x,"%Math.pow%":T,"%Math.round%":w,"%Math.sign%":E,"%Reflect.getPrototypeOf%":ne};if(H)try{null.error}catch(Se){var Y=H(H(Se));J["%Error.prototype%"]=Y}var L=function Se(Pe){var Oe;if(Pe==="%AsyncFunction%")Oe=D("async function () {}");else if(Pe==="%GeneratorFunction%")Oe=D("function* () {}");else if(Pe==="%AsyncGeneratorFunction%")Oe=D("async function* () {}");else if(Pe==="%AsyncGenerator%"){var Be=Se("%AsyncGeneratorFunction%");Be&&(Oe=Be.prototype)}else if(Pe==="%AsyncIteratorPrototype%"){var Z=Se("%AsyncGenerator%");Z&&H&&(Oe=H(Z.prototype))}return J[Pe]=Oe,Oe},K={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=a(2354),de=a(5994),ye=ie.call(Q,Array.prototype.concat),Te=ie.call(ue,Array.prototype.splice),me=ie.call(Q,String.prototype.replace),ae=ie.call(Q,String.prototype.slice),ge=ie.call(Q,RegExp.prototype.exec),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,te=/\\(\\)?/g,oe=function(Se,Pe){var Oe,Be=Se;if(de(K,Be)&&(Be="%"+(Oe=K[Be])[0]+"%"),de(J,Be)){var Z=J[Be];if(Z===N&&(Z=L(Be)),Z===void 0&&!Pe)throw new S("intrinsic "+Se+" exists, but is not available. Please file an issue!");return{alias:Oe,name:Be,value:Z}}throw new g("intrinsic "+Se+" does not exist!")};o.exports=function(Se,Pe){if(typeof Se!="string"||Se.length===0)throw new S("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Pe!="boolean")throw new S('"allowMissing" argument must be a boolean');if(ge(/^%?[^%]*%?$/,Se)===null)throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Oe=function(Ze){var Mt=ae(Ze,0,1),Ut=ae(Ze,-1);if(Mt==="%"&&Ut!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(Ut==="%"&&Mt!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var Ft=[];return me(Ze,$,function(bt,Jn,sn,gn){Ft[Ft.length]=sn?me(gn,te,"$1"):Jn||bt}),Ft}(Se),Be=Oe.length>0?Oe[0]:"",Z=oe("%"+Be+"%",Pe),ce=Z.name,xe=Z.value,Ce=!1,pe=Z.alias;pe&&(Be=pe[0],Te(Oe,ye([0,1],pe)));for(var je=1,Qe=!0;je<Oe.length;je+=1){var Ve=Oe[je],Ne=ae(Ve,0,1),Je=ae(Ve,-1);if((Ne==='"'||Ne==="'"||Ne==="`"||Je==='"'||Je==="'"||Je==="`")&&Ne!==Je)throw new g("property names with quotes must have matching quotes");if(Ve!=="constructor"&&Qe||(Ce=!0),de(J,ce="%"+(Be+="."+Ve)+"%"))xe=J[ce];else if(xe!=null){if(!(Ve in xe)){if(!Pe)throw new S("base intrinsic for "+Se+" exists, but the property is not available.");return}if(O&&je+1>=Oe.length){var qe=O(xe,Ve);xe=(Qe=!!qe)&&"get"in qe&&!("originalValue"in qe.get)?qe.get:xe[Ve]}else Qe=de(xe,Ve),xe=xe[Ve];Qe&&!Ce&&(J[ce]=xe)}}return xe}},6413:(o,s,a)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(y)}function u(y,v){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),b.push.apply(b,_)}return b}function c(y,v,b){return(v=function(_){var x=function(T){if(l(T)!="object"||!T)return T;var w=T[Symbol.toPrimitive];if(w!==void 0){var E=w.call(T,"string");if(l(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(_);return l(x)=="symbol"?x:x+""}(v))in y?Object.defineProperty(y,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[v]=b,y}var d=a(3609),f=a(6426),m=a(8953),h=a(4327);function g(y,v){f.call(this,y,v,"Boolean")}g.schemaName="Boolean",g.defaultOptions={},g.prototype=Object.create(f.prototype),g.prototype.constructor=g,g._cast=m,g.set=f.set,g.setters=[],g.get=f.get,g.cast=function(y){return arguments.length===0||(y===!1&&(y=this._defaultCaster),this._cast=y),this._cast},g._defaultCaster=function(y){if(y!=null&&typeof y!="boolean")throw new Error;return y},g._checkRequired=function(y){return y===!0||y===!1},g.checkRequired=f.checkRequired,g.prototype.checkRequired=function(y){return this.constructor._checkRequired(y)},Object.defineProperty(g,"convertToTrue",{get:function(){return m.convertToTrue},set:function(y){m.convertToTrue=y}}),Object.defineProperty(g,"convertToFalse",{get:function(){return m.convertToFalse},set:function(y){m.convertToFalse=y}}),g.prototype.cast=function(y){var v;v=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();try{return v(y)}catch(b){throw new d("Boolean",y,this.path,b,this)}};var S=function(y){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?u(Object(b),!0).forEach(function(_){c(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}({},f.prototype.$conditionalHandlers);Object.defineProperty(g.prototype,"$conditionalHandlers",{enumerable:!1,value:S}),g.prototype.castForQuery=function(y,v,b){var _;if(y!=null)return(_=this.$conditionalHandlers[y])?_.call(this,v):this.applySetters(v,b);try{return this.applySetters(v,b)}catch(x){throw x instanceof d&&x.path===this.path&&this.$fullPath!=null&&(x.path=this.$fullPath),x}},g.prototype._castNullish=function(y){if(y===void 0)return y;var v=typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();return v==null?y:!(v.convertToFalse instanceof Set&&v.convertToFalse.has(y))&&(!!(v.convertToTrue instanceof Set&&v.convertToTrue.has(y))||y)},g.prototype.toJSONSchema=function(y){var v=this.options.required&&typeof this.options.required!="function";return h("boolean","bool",y==null?void 0:y.useBsonType,v)},g.prototype.autoEncryptionType=function(){return"bool"},o.exports=g},6426:(o,s,a)=>{var l=a(5832).hp;function u(q){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},u(q)}var c=a(3672),d=a(8879),f=a(8499),m=a(2555),h=a(4450),g=a(8133),S=a(9183),y=a(6155),v=a(2746),b=a(7930).schemaTypeSymbol,_=a(8768),x=a(7930).validatorErrorSymbol,T=a(7930).documentIsModified,w=a(7930).populateModelSymbol,E=c.CastError,C=c.ValidatorError,D={_skipMarkModified:!0};function O(q,H,z){this[b]=!0,this.path=q,this.instance=z,this.schemaName=this.constructor.schemaName,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),H=H||{};for(var ne=this.constructor.defaultOptions||{},ue=0,Q=Object.keys(ne);ue<Q.length;ue++){var N=Q[ue];N==="validate"?this.validate(ne.validate):ne.hasOwnProperty(N)&&!Object.prototype.hasOwnProperty.call(H,N)&&(H[N]=ne[N])}H.select==null&&delete H.select;var G=this.OptionsConstructor||d;this.options=new G(H),this._index=null,_.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,g(this));for(var J=0,Y=Object.keys(this.options);J<Y.length;J++){var L=Y[J];if(L!=="cast"){if(_.hasUserDefinedProperty(this.options,L)&&typeof this[L]=="function"){if(L==="index"&&this._index){if(H.index===!1){var K=this._index;if(u(K)==="object"&&K!=null){if(K.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(K.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var ie=H[L];if(L==="default"){this.default(ie);continue}var de=Array.isArray(ie)?ie:[ie];this[L].apply(this,de)}}else Array.isArray(this.options[L])?this.castFunction.apply(this,this.options[L]):this.castFunction(this.options[L])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}function I(q,H){if(q!==void 0&&!q){var z=new(H.ErrorConstructor||C)(H);return z[x]=!0,z}}function k(q,H){return this.castForQuery(null,q,H)}function B(q,H){var z=this;return Array.isArray(q)?q.map(function(ne){return Array.isArray(ne)&&ne.length===0?ne:z.castForQuery(null,ne,H)}):[this.castForQuery(null,q,H)]}O.prototype.OptionsConstructor=d,O.prototype.path,O.prototype.validators,O.prototype.isRequired,O.prototype.splitPath=function(){return this._presplitPath!=null?this._presplitPath:this.path!=null?(this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath):void 0},O.cast=function(q){return arguments.length===0||(q===!1&&(q=function(H){return H}),this._cast=q),this._cast},O.prototype.castFunction=function(q,H){return arguments.length===0?this._castFunction:(q===!1&&(q=this.constructor._defaultCaster||function(z){return z}),typeof q=="string"?(this._castErrorMessage=q,this._castFunction):(q!=null&&(this._castFunction=q),H!=null&&(this._castErrorMessage=H),this._castFunction))},O.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},O.set=function(q,H){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[q]=H},O.get=function(q){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(q)},O.prototype.default=function(q){if(arguments.length===1){if(q===void 0)return void(this.defaultValue=void 0);if(q!=null&&q.instanceOfSchema)throw new c("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=q,this.defaultValue}return arguments.length>1&&(this.defaultValue=Array.prototype.slice.call(arguments)),this.defaultValue},O.prototype.index=function(q){return this._index=q,_.expires(this._index),this},O.prototype.unique=function(q,H){if(this._index===!1){if(!q)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return this.options.hasOwnProperty("index")||q!==!1?(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=!!q,typeof H=="string"&&(this._duplicateKeyErrorMessage=H),this):this},O.prototype.text=function(q){if(this._index===!1){if(!q)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return this.options.hasOwnProperty("index")||q!==!1?(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=q,this):this},O.prototype.sparse=function(q){if(this._index===!1){if(!q)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return this.options.hasOwnProperty("index")||q!==!1?(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=q,this):this},O.prototype.immutable=function(q){return this.$immutable=q,g(this),this},O.prototype.transform=function(q){return this.options.transform=q,this},O.prototype.set=function(q){if(typeof q!="function")throw new TypeError("A setter must be a function.");return this.setters.push(q),this},O.prototype.get=function(q){if(typeof q!="function")throw new TypeError("A getter must be a function.");return this.getters.push(q),this},O.prototype.validateAll=function(q){for(var H=0;H<q.length;H++)this.validate(q[H]);return this},O.prototype.validate=function(q,H,z){var ne,ue,Q,N;if(typeof q=="function"||q&&_.getFunctionName(q.constructor)==="RegExp")return typeof H=="function"?(ne={validator:q,message:H}).type=z||"user defined":H instanceof Object&&!z?((ne=y(H)?Object.assign({},H):h(H)).message||(ne.message=ne.msg),ne.validator=q,ne.type=ne.type||"user defined"):(H==null&&(H=c.messages.general.default),z||(z="user defined"),ne={message:H,type:z,validator:q}),this.validators.push(ne),this;for(ue=0,Q=arguments.length;ue<Q;ue++){if(N=arguments[ue],!_.isPOJO(N)){var G="Invalid validator. Received ("+u(N)+") "+N+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(G)}this.validate(N.validator,N)}return this},O.prototype.required=function(q,H){var z={};if(arguments.length>0&&q==null)return this.validators=this.validators.filter(function(Q){return Q.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(u(q)==="object"&&(H=(z=q).message||H,q=q.isRequired),q===!1)return this.validators=this.validators.filter(function(Q){return Q.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var ne=this;this.isRequired=!0,this.requiredValidator=function(Q){var N=this&&this.$__&&this.$__.cachedRequired;if(N!=null&&!this.$__isSelected(ne.path)&&!this[T](ne.path))return!0;if(N!=null&&ne.path in N){var G=!N[ne.path]||ne.checkRequired(Q,this);return delete N[ne.path],G}return typeof q=="function"&&!q.apply(this)||ne.checkRequired(Q,this)},this.originalRequiredValue=q,typeof q=="string"&&(H=q,q=void 0);var ue=H||c.messages.general.required;return this.validators.unshift(Object.assign({},z,{validator:this.requiredValidator,message:ue,type:"required"})),this},O.prototype.ref=function(q){return this.options.ref=q,this},O.prototype.getDefault=function(q,H,z){var ne;if(this.defaultValue==null)return this.defaultValue;if((ne=typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?this.defaultValue.call(q):this.defaultValue.call(q,q):this.defaultValue)!=null){if(u(ne)!=="object"||this.options&&this.options.shared||(ne=h(ne)),z&&z.skipCast)return this._applySetters(ne,q);var ue=this.applySetters(ne,q,H,void 0,D);return ue&&!Array.isArray(ue)&&ue.$isSingleNested&&(ue.$__parent=q),ue}return ne},O.prototype._applySetters=function(q,H,z,ne,ue){var Q=q;if(z)return Q;for(var N=this.setters,G=N.length-1;G>=0;G--)Q=N[G].call(H,Q,ne,this,ue);return Q},O.prototype._castNullish=function(q){return q},O.prototype.applySetters=function(q,H,z,ne,ue){var Q=this._applySetters(q,H,z,ne,ue);return Q==null?this._castNullish(Q):Q=this.cast(Q,H,z,ne,ue)},O.prototype.applyGetters=function(q,H){var z=q,ne=this.getters,ue=ne.length;if(ue===0)return z;for(var Q=0;Q<ue;++Q)z=ne[Q].call(H,z,this);return z},O.prototype.select=function(q){return this.selected=!!q,this},O.prototype.doValidate=function(q,H,z,ne){var ue=this,Q=!1,N=this.path;if(typeof H!="function")throw new TypeError("Must pass callback function to doValidate(), got ".concat(u(H)));var G=this.validators.filter(function(de){return u(de)==="object"&&de!==null}),J=G.length;if(!J)return H(null);for(var Y=function(){if(Q)return 0;var de,ye=G[L],Te=ye.validator,me=y(ye)?Object.assign({},ye):h(ye);if(me.path=ne&&ne.path?ne.path:N,me.fullPath=ue.$fullPath,me.value=q,typeof q=="string"&&(me.length=q.length,me.value.length>30&&(me.value=me.value.slice(0,30)+"...")),Te instanceof RegExp)return ie(Te.test(q),me,z),1;if(typeof Te!="function")return 1;if(q===void 0&&Te!==ue.requiredValidator)return ie(!0,me,z),1;try{de=me.propsParameter?Te.call(z,q,me):Te.call(z,q)}catch(ae){de=!1,me.reason=ae,ae.message&&(me.message=ae.message)}de!=null&&typeof de.then=="function"?de.then(function(ae){ie(ae,me,z)},function(ae){me.reason=ae,me.message=ae.message,ie(de=!1,me,z)}):ie(de,me,z)},L=0,K=G.length;L<K&&Y()!==0;++L);function ie(de,ye,Te){if(!Q)if(de===void 0||de)--J<=0&&v(function(){H(null)});else{var me=ye.ErrorConstructor||C;(Q=new me(ye,Te))[x]=!0,v(function(){H(Q)})}}},O.prototype.doValidateSync=function(q,H,z){var ne=this.path;if(!this.validators.length)return null;var ue=this.validators;if(q===void 0){if(this.validators.length===0||this.validators[0].type!=="required")return null;ue=[this.validators[0]]}var Q=null,N=0,G=ue.length;for(N=0;N<G;++N){var J=ue[N];if(J!==null&&u(J)==="object"){var Y=J.validator,L=y(J)?Object.assign({},J):h(J);L.path=z&&z.path?z.path:ne,L.fullPath=this.$fullPath,L.value=q,typeof q=="string"&&(L.length=q.length,L.value.length>30&&(L.value=L.value.slice(0,30)+"..."));var K=!1;if(!S(Y)){if(Y instanceof RegExp)Q=I(Y.test(q),L);else if(typeof Y=="function"){try{K=L.propsParameter?Y.call(H,q,L):Y.call(H,q)}catch(ie){K=!1,L.reason=ie}if((K==null||typeof K.then!="function")&&(Q=I(K,L)))break}}}}return Q},O._isRef=function(q,H,z,ne){var ue=ne&&q.options&&(q.options.ref||q.options.refPath);if(!ue&&z&&z.$__!=null){var Q=z.$__fullPath(q.path,!0),N=z.ownerDocument();ue=Q!=null&&N.$populated(Q)||z.$populated(q.path)}return!!ue&&(H==null||!(l.isBuffer(H)||H._bsontype==="Binary"||!_.isObject(H))||ne)},O.prototype._castRef=function(q,H,z,ne){if(q==null)return q;if(q.$__!=null)return q.$__.wasPopulated=q.$__.wasPopulated||{value:q._doc._id},q;if(l.isBuffer(q)||!_.isObject(q)){if(z)return q;throw new E(this.instance,q,this.path,null,this)}var ue,Q,N,G=H.$__fullPath(this.path,!0),J=H.ownerDocument().$populated(G,!0),Y=q;if(!(H.$__.populated&&H.$__.populated[G]&&H.$__.populated[G].options&&H.$__.populated[G].options.options&&H.$__.populated[G].options.options.lean)){var L=J?J.options[w]:H.constructor.db.model(this.options.ref);(Y=L.hydrate(q,null,ne)).$__.wasPopulated={value:Y._doc._id,options:(ue={},Q=w,N=L,(Q=function(K){var ie=function(de){if(u(de)!="object"||!de)return de;var ye=de[Symbol.toPrimitive];if(ye!==void 0){var Te=ye.call(de,"string");if(u(Te)!="object")return Te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(K);return u(ie)=="symbol"?ie:ie+""}(Q))in ue?Object.defineProperty(ue,Q,{value:N,enumerable:!0,configurable:!0,writable:!0}):ue[Q]=N,ue)}}return Y},O.prototype.$conditionalHandlers={$all:function(q,H){var z=this;return Array.isArray(q)?q.map(function(ne){return z.castForQuery(null,ne,H)}):[this.castForQuery(null,q,H)]},$eq:k,$in:B,$ne:k,$nin:B,$exists:f,$type:m},O.prototype.castForQuery=function(q,H,z){var ne;if(q!=null){if(!(ne=this.$conditionalHandlers[q]))throw new Error("Can't use "+q);return ne.call(this,H,z)}try{return this.applySetters(H,z)}catch(ue){throw ue instanceof E&&ue.path===this.path&&this.$fullPath!=null&&(ue.path=this.$fullPath),ue}},O.checkRequired=function(q){return arguments.length!==0&&(this._checkRequired=q),this._checkRequired},O.prototype.checkRequired=function(q){return q!=null},O.prototype.clone=function(){var q=Object.assign({},this.options),H=new this.constructor(this.path,q,this.instance);return H.validators=this.validators.slice(),this.requiredValidator!==void 0&&(H.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(H.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(H.$immutable=this.$immutable,g(H)),this._index!==void 0&&(H._index=this._index),this.selected!==void 0&&(H.selected=this.selected),this.isRequired!==void 0&&(H.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(H.originalRequiredValue=this.originalRequiredValue),H.getters=this.getters.slice(),H.setters=this.setters.slice(),H},O.prototype.getEmbeddedSchemaType=function(){return this.$embeddedSchemaType},O.prototype._duplicateKeyErrorMessage=null,O.prototype.toJSONSchema=function(q){throw new Error("Converting unsupported SchemaType to JSON Schema: ".concat(this.instance,' at path "').concat(this.path,'"'))},O.prototype.autoEncryptionType=function(){return null},o.exports=s=O,s.CastError=E,s.ValidatorError=C},6451:(o,s,a)=>{var l=a(8768).isPOJO;o.exports=function u(c){for(var d,f,m,h=Object.keys(c),g=h.length;g--;)m=c[f=h[g]],l(m)&&(c[f]=u(m)),c[f]!==void 0?d=!0:delete c[f];return d?c:void 0}},6511:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(h,g){(g==null||g>h.length)&&(g=h.length);for(var S=0,y=Array(g);S<g;S++)y[S]=h[S];return y}function c(h,g){var S=Object.keys(h);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(h);g&&(y=y.filter(function(v){return Object.getOwnPropertyDescriptor(h,v).enumerable})),S.push.apply(S,y)}return S}function d(h){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?c(Object(S),!0).forEach(function(y){f(h,y,S[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(S)):c(Object(S)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(S,y))})}return h}function f(h,g,S){return(g=function(y){var v=function(b){if(l(b)!="object"||!b)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var x=_.call(b,"string");if(l(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(y);return l(v)=="symbol"?v:v+""}(g))in h?Object.defineProperty(h,g,{value:S,enumerable:!0,configurable:!0,writable:!0}):h[g]=S,h}a(8768);var m=o.exports=function(){};m.ctor=function(){var h=Array.prototype.slice.call(arguments),g=function(){m.apply(this,arguments),this.paths={},this.states={}};return(g.prototype=new m).constructor=g,g.prototype.stateNames=h,h.forEach(function(S){g.prototype[S]=function(y){this._changeState(y,S)}}),g},m.prototype._changeState=function(h,g){var S=this.paths[h];if(S!==g){var y=this.states[S];y&&delete y[h],this.paths[h]=g,this.states[g]=this.states[g]||{},this.states[g][h]=!0}},m.prototype.clear=function(h){if(this.states[h]!=null)for(var g,S=Object.keys(this.states[h]),y=S.length;y--;)g=S[y],delete this.states[h][g],delete this.paths[g]},m.prototype.clearPath=function(h){var g=this.paths[h];g&&(delete this.paths[h],delete this.states[g][h])},m.prototype.getStatePaths=function(h){return this.states[h]!=null?this.states[h]:{}},m.prototype.some=function(){var h=this,g=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(g,function(S){return h.states[S]!=null&&Object.keys(h.states[S]).length})},m.prototype._iter=function(h){return function(){var g=Array.prototype.slice.call(arguments),S=g.pop();g.length||(g=this.stateNames);var y=this;return g.reduce(function(v,b){return y.states[b]==null?v:v.concat(Object.keys(y.states[b]))},[])[h](function(v,b,_){return S(v,b,_)})}},m.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},m.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)},m.prototype.clone=function(){var h=new this.constructor;h.paths=d({},this.paths);var g,S=function(v,b){var _=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!_){if(Array.isArray(v)||(_=function(D,O){if(D){if(typeof D=="string")return u(D,O);var I={}.toString.call(D).slice(8,-1);return I==="Object"&&D.constructor&&(I=D.constructor.name),I==="Map"||I==="Set"?Array.from(D):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?u(D,O):void 0}}(v))||b){_&&(v=_);var x=0,T=function(){};return{s:T,n:function(){return x>=v.length?{done:!0}:{done:!1,value:v[x++]}},e:function(D){throw D},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,E=!0,C=!1;return{s:function(){_=_.call(v)},n:function(){var D=_.next();return E=D.done,D},e:function(D){C=!0,w=D},f:function(){try{E||_.return==null||_.return()}finally{if(C)throw w}}}}(this.stateNames);try{for(S.s();!(g=S.n()).done;){var y=g.value;y in this.states&&(h.states[y]=this.states[y]==null?this.states[y]:d({},this.states[y]))}}catch(v){S.e(v)}finally{S.f()}return h}},6544:(o,s,a)=>{function l(_){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},l(_)}var u;if(!Object.keys){var c=Object.prototype.hasOwnProperty,d=Object.prototype.toString,f=a(6312),m=Object.prototype.propertyIsEnumerable,h=!m.call({toString:null},"toString"),g=m.call(function(){},"prototype"),S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],y=function(_){var x=_.constructor;return x&&x.prototype===_},v={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b=function(){if(typeof window>"u")return!1;for(var _ in window)try{if(!v["$"+_]&&c.call(window,_)&&window[_]!==null&&l(window[_])==="object")try{y(window[_])}catch{return!0}}catch{return!0}return!1}();u=function(_){var x=_!==null&&l(_)==="object",T=d.call(_)==="[object Function]",w=f(_),E=x&&d.call(_)==="[object String]",C=[];if(!x&&!T&&!w)throw new TypeError("Object.keys called on a non-object");var D=g&&T;if(E&&_.length>0&&!c.call(_,0))for(var O=0;O<_.length;++O)C.push(String(O));if(w&&_.length>0)for(var I=0;I<_.length;++I)C.push(String(I));else for(var k in _)D&&k==="prototype"||!c.call(_,k)||C.push(String(k));if(h)for(var B=function(H){if(typeof window>"u"||!b)return y(H);try{return y(H)}catch{return!1}}(_),q=0;q<S.length;++q)B&&S[q]==="constructor"||!c.call(_,S[q])||C.push(S[q]);return C}}o.exports=u},6547:(o,s,a)=>{function l(y,v){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(x){return Object.getOwnPropertyDescriptor(y,x).enumerable})),b.push.apply(b,_)}return b}function u(y,v,b){return(v=function(_){var x=function(T){if(c(T)!="object"||!T)return T;var w=T[Symbol.toPrimitive];if(w!==void 0){var E=w.call(T,"string");if(c(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(_);return c(x)=="symbol"?x:x+""}(v))in y?Object.defineProperty(y,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[v]=b,y}function c(y){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},c(y)}var d=a(3550).EventEmitter,f=a(9380),m=a(8768),h=a(7930).documentArrayParent;function g(y,v,b,_,x){var T;m.isMongooseDocumentArray(v)?(this.__parentArray=v,this[h]=v.$parent()):(this.__parentArray=void 0,this[h]=void 0),this.$setIndex(x),this.$__parent=this[h],c(b)==="object"&&b!=null?(T=function(w){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?l(Object(C),!0).forEach(function(D){u(w,D,C[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(D){Object.defineProperty(w,D,Object.getOwnPropertyDescriptor(C,D))})}return w}({isNew:!0},b),b=void 0):T={isNew:!0},f.call(this,y,_,this[h],b,T)}for(var S in g.prototype=Object.create(f.prototype),g.prototype.constructor=g,Object.defineProperty(g.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1}),Object.defineProperty(g.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0}),d.prototype)g[S]=d.prototype[S];g.prototype.$setIndex=function(y){if(this.__index=y,this.$__!=null&&this.$__.validationError!=null)for(var v=0,b=Object.keys(this.$__.validationError.errors);v<b.length;v++){var _=b[v];this.invalidate(_,this.$__.validationError.errors[_])}},g.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},g.prototype.$__removeFromParent=function(){var y=this._doc._id;if(!y)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:y})},g.prototype.$__fullPath=function(y,v){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),v?y?this.$__.fullPath+"."+y:this.$__.fullPath:y?this.$__.fullPath+"."+this.__index+"."+y:this.$__.fullPath+"."+this.__index)},g.prototype.$__pathRelativeToParent=function(y,v){return this.__index!=null&&this.__parentArray&&this.__parentArray.$path?v?y==null?this.__parentArray.$path():this.__parentArray.$path()+"."+y:y==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+y:null},g.prototype.$parent=function(){return this[h]},g.prototype.parentArray=function(){return this.__parentArray},o.exports=g},6583:(o,s,a)=>{function l(g){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},l(g)}var u,c=a(8863),d=a(1464);try{u=[].__proto__===Array.prototype}catch(g){if(!g||l(g)!=="object"||!("code"in g)||g.code!=="ERR_PROTO_ACCESS")throw g}var f=!!u&&d&&d(Object.prototype,"__proto__"),m=Object,h=m.getPrototypeOf;o.exports=f&&typeof f.get=="function"?c([f.get]):typeof h=="function"&&function(g){return h(g==null?g:m(g))}},6665:o=>{o.exports=function(s,a){for(var l,u,c,d=a.split("."),f="",m=0;m<d.length;++m)if(s[f+=f.length?".":""+d[m]]){for(c=(u=Object.keys(s)).length,l=0;l<c;++l)u[m].indexOf(f+".")!==0||u[m].indexOf(a);return!0}return!1}},6730:o=>{var s=Object.prototype.toString,a=Math.max,l=function(u,c){for(var d=[],f=0;f<u.length;f+=1)d[f]=u[f];for(var m=0;m<c.length;m+=1)d[m+u.length]=c[m];return d};o.exports=function(u){var c=this;if(typeof c!="function"||s.apply(c)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var d,f=function(y){for(var v=[],b=1,_=0;b<y.length;b+=1,_+=1)v[_]=y[b];return v}(arguments),m=a(0,c.length-f.length),h=[],g=0;g<m;g++)h[g]="$"+g;if(d=Function("binder","return function ("+function(y){for(var v="",b=0;b<y.length;b+=1)v+=y[b],b+1<y.length&&(v+=",");return v}(h)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof d){var y=c.apply(this,l(f,arguments));return Object(y)===y?y:this}return c.apply(u,l(f,arguments))}),c.prototype){var S=function(){};S.prototype=c.prototype,d.prototype=new S,S.prototype=null}return d}},6750:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}var u=a(988),c=a(9907),d=a(2268),f=a(1464);o.exports=function(m,h,g){if(!m||l(m)!=="object"&&typeof m!="function")throw new d("`obj` must be an object or a function`");if(typeof h!="string"&&l(h)!=="symbol")throw new d("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new d("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new d("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new d("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new d("`loose`, if provided, must be a boolean");var S=arguments.length>3?arguments[3]:null,y=arguments.length>4?arguments[4]:null,v=arguments.length>5?arguments[5]:null,b=arguments.length>6&&arguments[6],_=!!f&&f(m,h);if(u)u(m,h,{configurable:v===null&&_?_.configurable:!v,enumerable:S===null&&_?_.enumerable:!S,value:g,writable:y===null&&_?_.writable:!y});else{if(!b&&(S||y||v))throw new c("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");m[h]=g}}},6775:(o,s)=>{s.byteLength=function(g){var S=f(g),y=S[0],v=S[1];return 3*(y+v)/4-v},s.toByteArray=function(g){var S,y,v=f(g),b=v[0],_=v[1],x=new u(function(E,C,D){return 3*(C+D)/4-D}(0,b,_)),T=0,w=_>0?b-4:b;for(y=0;y<w;y+=4)S=l[g.charCodeAt(y)]<<18|l[g.charCodeAt(y+1)]<<12|l[g.charCodeAt(y+2)]<<6|l[g.charCodeAt(y+3)],x[T++]=S>>16&255,x[T++]=S>>8&255,x[T++]=255&S;return _===2&&(S=l[g.charCodeAt(y)]<<2|l[g.charCodeAt(y+1)]>>4,x[T++]=255&S),_===1&&(S=l[g.charCodeAt(y)]<<10|l[g.charCodeAt(y+1)]<<4|l[g.charCodeAt(y+2)]>>2,x[T++]=S>>8&255,x[T++]=255&S),x},s.fromByteArray=function(g){for(var S,y=g.length,v=y%3,b=[],_=16383,x=0,T=y-v;x<T;x+=_)b.push(h(g,x,x+_>T?T:x+_));return v===1?(S=g[y-1],b.push(a[S>>2]+a[S<<4&63]+"==")):v===2&&(S=(g[y-2]<<8)+g[y-1],b.push(a[S>>10]+a[S>>4&63]+a[S<<2&63]+"=")),b.join("")};for(var a=[],l=[],u=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0;d<64;++d)a[d]=c[d],l[c.charCodeAt(d)]=d;function f(g){var S=g.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=g.indexOf("=");return y===-1&&(y=S),[y,y===S?0:4-y%4]}function m(g){return a[g>>18&63]+a[g>>12&63]+a[g>>6&63]+a[63&g]}function h(g,S,y){for(var v,b=[],_=S;_<y;_+=3)v=(g[_]<<16&16711680)+(g[_+1]<<8&65280)+(255&g[_+2]),b.push(m(v));return b.join("")}l[45]=62,l[95]=63},6801:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y){var v;return function(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}(this,h),(v=function(b,_,x){return _=c(_),function(T,w){if(w&&(l(w)=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(T)}(b,u()?Reflect.construct(_,x||[],c(b).constructor):_.apply(b,x))}(this,h,[y=y||"Cannot populate path `"+S+"` because it is not in your schema. Set the `strictPopulate` option to false to override."])).path=S,v}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"StrictPopulateError"}),o.exports=f},6814:o=>{o.exports=function(s){for(var a={},l=0,u=Object.keys(s);l<u.length;l++){var c=u[l];if(c.indexOf(".")!==-1)for(var d=c.split("."),f=d[0],m=0;m<d.length;++m)a[f]=1,m+1<d.length&&(f=f+"."+d[m+1]);else a[c]=1}return a}},6867:(o,s,a)=>{function l(E){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},l(E)}function u(E,C){var D=Object.keys(E);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(E);C&&(O=O.filter(function(I){return Object.getOwnPropertyDescriptor(E,I).enumerable})),D.push.apply(D,O)}return D}function c(E){for(var C=1;C<arguments.length;C++){var D=arguments[C]!=null?arguments[C]:{};C%2?u(Object(D),!0).forEach(function(O){d(E,O,D[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(D)):u(Object(D)).forEach(function(O){Object.defineProperty(E,O,Object.getOwnPropertyDescriptor(D,O))})}return E}function d(E,C,D){return(C=h(C))in E?Object.defineProperty(E,C,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[C]=D,E}function f(E,C){(C==null||C>E.length)&&(C=E.length);for(var D=0,O=Array(C);D<C;D++)O[D]=E[D];return O}function m(E,C){for(var D=0;D<C.length;D++){var O=C[D];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,h(O.key),O)}}function h(E){var C=function(D){if(l(D)!="object"||!D)return D;var O=D[Symbol.toPrimitive];if(O!==void 0){var I=O.call(D,"string");if(l(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(D)}(E);return l(C)=="symbol"?C:C+""}function g(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g=function(){return!!E})()}function S(){return S=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(E,C,D){var O=function(k,B){for(;!{}.hasOwnProperty.call(k,B)&&(k=y(k))!==null;);return k}(E,C);if(O){var I=Object.getOwnPropertyDescriptor(O,C);return I.get?I.get.call(arguments.length<3?E:D):I.value}},S.apply(null,arguments)}function y(E){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},y(E)}function v(E,C){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,O){return D.__proto__=O,D},v(E,C)}var b=a(2081),_=a(241),x=a(6426),T=a(4327),w=function(E){function C(I,k){var B;return function(q,H){if(!(q instanceof H))throw new TypeError("Cannot call a class as a function")}(this,C),(B=function(q,H,z){return H=y(H),function(ne,ue){if(ue&&(l(ue)=="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Q){if(Q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(ne)}(q,g()?Reflect.construct(H,z||[],y(q).constructor):H.apply(q,z))}(this,C,[I,k,"Map"])).$isSchemaMap=!0,B}return function(I,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(k&&k.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),k&&v(I,k)}(C,E),D=C,O=[{key:"set",value:function(I,k){return x.set(I,k)}},{key:"cast",value:function(I,k,B,q,H){if(I instanceof b)return I;var z=this.path;if(B){var ne=new b({},z,k,this.$__schemaType,H),ue=ne.$__pathRelativeToParent!=null?ne.$__pathRelativeToParent:ne.$__path;if(I instanceof a.g.Map){var Q,N=function(de,ye){var Te=typeof Symbol<"u"&&de[Symbol.iterator]||de["@@iterator"];if(!Te){if(Array.isArray(de)||(Te=function(oe,Se){if(oe){if(typeof oe=="string")return f(oe,Se);var Pe={}.toString.call(oe).slice(8,-1);return Pe==="Object"&&oe.constructor&&(Pe=oe.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(oe):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?f(oe,Se):void 0}}(de))||ye){Te&&(de=Te);var me=0,ae=function(){};return{s:ae,n:function(){return me>=de.length?{done:!0}:{done:!1,value:de[me++]}},e:function(oe){throw oe},f:ae}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,$=!0,te=!1;return{s:function(){Te=Te.call(de)},n:function(){var oe=Te.next();return $=oe.done,oe},e:function(oe){te=!0,ge=oe},f:function(){try{$||Te.return==null||Te.return()}finally{if(te)throw ge}}}}(I.keys());try{for(N.s();!(Q=N.n()).done;){var G=Q.value,J=I.get(G);J=J==null?ne.$__schemaType._castNullish(J):ne.$__schemaType.cast(J,k,!0,null,c(c({},H),{},{path:ue+"."+G})),ne.$init(G,J)}}catch(de){N.e(de)}finally{N.f()}}else for(var Y=0,L=Object.keys(I);Y<L.length;Y++){var K=L[Y],ie=I[K];ie=ie==null?ne.$__schemaType._castNullish(ie):ne.$__schemaType.cast(ie,k,!0,null,c(c({},H),{},{path:ue+"."+K})),ne.$init(K,ie)}return ne}return new b(I,z,k,this.$__schemaType,H)}},{key:"clone",value:function(){var I,k,B,q=(I=C,k=this,typeof(B=S(y(I.prototype),"clone",k))=="function"?function(H){return B.apply(k,H)}:B)([]);return this.$__schemaType!=null&&(q.$__schemaType=this.$__schemaType.clone()),q}},{key:"getEmbeddedSchemaType",value:function(){return this.$__schemaType}},{key:"toJSONSchema",value:function(I){var k=I==null?void 0:I.useBsonType,B=this.getEmbeddedSchemaType(),q=this.options.required&&typeof this.options.required!="function",H=T("object","object",k,q);return H.additionalProperties=B.toJSONSchema(I),H}},{key:"autoEncryptionType",value:function(){return"object"}}],O&&m(D.prototype,O),Object.defineProperty(D,"prototype",{writable:!1}),D;var D,O}(x);w.schemaName="Map",w.prototype.OptionsConstructor=_,w.defaultOptions={},o.exports=w},6948:(o,s,a)=>{function l(f){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(f)}function u(f,m,h){return Object.defineProperty(f,"prototype",{writable:!1}),f}var c=a(4450),d=u(function f(m){if(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f),this._docs={},this._childDocs=[],m!=null&&(m=c(m),Object.assign(this,m),l(m.subPopulate)==="object"&&(this.populate=m.subPopulate),m.perDocumentLimit!=null&&m.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+m.path+"`.")});o.exports=d},6949:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function u(b,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,c(T.key),T)}}function c(b){var _=function(x){if(l(x)!="object"||!x)return x;var T=x[Symbol.toPrimitive];if(T!==void 0){var w=T.call(x,"string");if(l(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(b);return l(_)=="symbol"?_:_+""}function d(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!b})()}function f(b){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(b)}function m(b,_){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,T){return x.__proto__=T,x},m(b,_)}var h=a(8213),g=a(8260),S=a(7352),y=a(1875),v=function(b){function _(w){var E,C;return function(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")}(this,_),(E=function(D,O,I){return O=f(O),function(k,B){if(B&&(l(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(k)}(D,d()?Reflect.construct(O,I||[],f(D).constructor):O.apply(D,I))}(this,_,[C=g(w)==="model"?w.constructor.modelName+" validation failed":"Validation failed"])).errors={},E._message=C,w&&(w.$errors=E.errors),E}return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),E&&m(w,E)}(_,b),x=_,(T=[{key:"toString",value:function(){return this.name+": "+y(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(w,E){if(E instanceof _)for(var C=E.errors,D=0,O=Object.keys(C);D<O.length;D++){var I=O[D];this.addError("".concat(w,".").concat(I),C[I])}else this.errors[w]=E,this.message=this._message+": "+y(this)}}])&&u(x.prototype,T),Object.defineProperty(x,"prototype",{writable:!1}),x;var x,T}(h);S.inspect.custom&&(v.prototype[S.inspect.custom]=v.prototype.inspect),Object.defineProperty(v.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(v.prototype,"name",{value:"ValidationError"}),o.exports=v},6974:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"of",m),o.exports=f},6996:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y,v){var b;(function(x,T){if(!(x instanceof T))throw new TypeError("Cannot call a class as a function")})(this,h);var _=v.join(", ");return(b=function(x,T,w){return T=c(T),function(E,C){if(C&&(l(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}(E)}(x,u()?Reflect.construct(T,w||[],c(x).constructor):T.apply(x,w))}(this,h,['No matching document found for id "'+S._doc._id+'" version '+y+' modifiedPaths "'+_+'"'])).version=y,b.modifiedPaths=v,b}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"VersionError"}),o.exports=f},7045:(o,s,a)=>{function l(_){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},l(_)}function u(_,x){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(_);x&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(_,E).enumerable})),T.push.apply(T,w)}return T}function c(_){for(var x=1;x<arguments.length;x++){var T=arguments[x]!=null?arguments[x]:{};x%2?u(Object(T),!0).forEach(function(w){d(_,w,T[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(w){Object.defineProperty(_,w,Object.getOwnPropertyDescriptor(T,w))})}return _}function d(_,x,T){return(x=function(w){var E=function(C){if(l(C)!="object"||!C)return C;var D=C[Symbol.toPrimitive];if(D!==void 0){var O=D.call(C,"string");if(l(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(w);return l(E)=="symbol"?E:E+""}(x))in _?Object.defineProperty(_,x,{value:T,enumerable:!0,configurable:!0,writable:!0}):_[x]=T,_}var f=a(6426),m=f.CastError,h=a(9553),g=a(4327),S=a(3305);function y(_,x){f.call(this,_,x,"Decimal128")}function v(_){return this.cast(_)}y.schemaName="Decimal128",y.defaultOptions={},y.prototype=Object.create(f.prototype),y.prototype.constructor=y,y._cast=h,y.set=f.set,y.setters=[],y.get=f.get,y.cast=function(_){return arguments.length===0||(_===!1&&(_=this._defaultCaster),this._cast=_),this._cast},y._defaultCaster=function(_){if(_!=null&&!S(_,"Decimal128"))throw new Error;return _},y._checkRequired=function(_){return S(_,"Decimal128")},y.checkRequired=f.checkRequired,y.prototype.checkRequired=function(_,x){return f._isRef(this,_,x,!0)?!!_:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():y.checkRequired())(_)},y.prototype.cast=function(_,x,T,w,E){if(f._isRef(this,_,x,T))return S(_,"Decimal128")?_:this._castRef(_,x,T,E);var C;C=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():y.cast();try{return C(_)}catch(D){throw new m("Decimal128",_,this.path,D,this)}};var b=c(c({},f.prototype.$conditionalHandlers),{},{$gt:v,$gte:v,$lt:v,$lte:v});Object.defineProperty(y.prototype,"$conditionalHandlers",{enumerable:!1,value:b}),y.prototype.toJSONSchema=function(_){var x=this.options.required&&typeof this.options.required!="function";return g("string","decimal",_==null?void 0:_.useBsonType,x)},y.prototype.autoEncryptionType=function(){return"decimal"},o.exports=y},7058:(o,s,a)=>{var l=a(5832).hp;function u(Z){return function(ce){if(Array.isArray(ce))return y(ce)}(Z)||function(ce){if(typeof Symbol<"u"&&ce[Symbol.iterator]!=null||ce["@@iterator"]!=null)return Array.from(ce)}(Z)||S(Z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(Z,ce){var xe=Object.keys(Z);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Z);ce&&(Ce=Ce.filter(function(pe){return Object.getOwnPropertyDescriptor(Z,pe).enumerable})),xe.push.apply(xe,Ce)}return xe}function d(Z){for(var ce=1;ce<arguments.length;ce++){var xe=arguments[ce]!=null?arguments[ce]:{};ce%2?c(Object(xe),!0).forEach(function(Ce){f(Z,Ce,xe[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(xe)):c(Object(xe)).forEach(function(Ce){Object.defineProperty(Z,Ce,Object.getOwnPropertyDescriptor(xe,Ce))})}return Z}function f(Z,ce,xe){return(ce=function(Ce){var pe=function(je){if(m(je)!="object"||!je)return je;var Qe=je[Symbol.toPrimitive];if(Qe!==void 0){var Ve=Qe.call(je,"string");if(m(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(je)}(Ce);return m(pe)=="symbol"?pe:pe+""}(ce))in Z?Object.defineProperty(Z,ce,{value:xe,enumerable:!0,configurable:!0,writable:!0}):Z[ce]=xe,Z}function m(Z){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},m(Z)}function h(Z,ce){return function(xe){if(Array.isArray(xe))return xe}(Z)||function(xe,Ce){var pe=xe==null?null:typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(pe!=null){var je,Qe,Ve,Ne,Je=[],qe=!0,Ze=!1;try{if(Ve=(pe=pe.call(xe)).next,Ce===0){if(Object(pe)!==pe)return;qe=!1}else for(;!(qe=(je=Ve.call(pe)).done)&&(Je.push(je.value),Je.length!==Ce);qe=!0);}catch(Mt){Ze=!0,Qe=Mt}finally{try{if(!qe&&pe.return!=null&&(Ne=pe.return(),Object(Ne)!==Ne))return}finally{if(Ze)throw Qe}}return Je}}(Z,ce)||S(Z,ce)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function g(Z,ce){var xe=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!xe){if(Array.isArray(Z)||(xe=S(Z))||ce){xe&&(Z=xe);var Ce=0,pe=function(){};return{s:pe,n:function(){return Ce>=Z.length?{done:!0}:{done:!1,value:Z[Ce++]}},e:function(Ne){throw Ne},f:pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var je,Qe=!0,Ve=!1;return{s:function(){xe=xe.call(Z)},n:function(){var Ne=xe.next();return Qe=Ne.done,Ne},e:function(Ne){Ve=!0,je=Ne},f:function(){try{Qe||xe.return==null||xe.return()}finally{if(Ve)throw je}}}}function S(Z,ce){if(Z){if(typeof Z=="string")return y(Z,ce);var xe={}.toString.call(Z).slice(8,-1);return xe==="Object"&&Z.constructor&&(xe=Z.constructor.name),xe==="Map"||xe==="Set"?Array.from(Z):xe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(xe)?y(Z,ce):void 0}}function y(Z,ce){(ce==null||ce>Z.length)&&(ce=Z.length);for(var xe=0,Ce=Array(ce);xe<ce;xe++)Ce[xe]=Z[xe];return Ce}var v,b=a(3550).EventEmitter,_=a(8297),x=a(8213),T=a(6426),w=a(8879),E=a(2069),C=a(622),D=a(486),O=a(4450),I=a(3703),k=a(8260),B=a(2003),q=a(5289),H=a(3381),z=a(1199),ne=a(9539),ue=a(5678),Q=a(7834),N=a(2097),G=a(8768),J=a(533),Y=/\.\d+(\.|$)/,L=a(1260).Ut,K=a(4957).middlewareFunctions,ie=L.concat(K).reduce(function(Z,ce){return Z.add(ce)},new Set),de=G.isPOJO,ye=0,Te=/^\d+$/;function me(Z,ce){if(!(this instanceof me))return new me(Z,ce);if(this.obj=Z,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this._searchIndexes=[],this.methods=ce&&ce.methods||{},this.methodOptions={},this.statics=ce&&ce.statics||{},this.tree={},this.query=ce&&ce.query||{},this.childSchemas=[],this.plugins=[],this.$id=++ye,this.mapPaths=[],this.encryptedFields={},this.s={hooks:new _},this.options=this.defaultOptions(ce),Array.isArray(Z)){var xe,Ce=g(Z);try{for(Ce.s();!(xe=Ce.n()).done;){var pe=xe.value;this.add(pe)}}catch(Mt){Ce.e(Mt)}finally{Ce.f()}}else Z&&this.add(Z);if(ce&&ce.virtuals)for(var je=ce.virtuals,Qe=0,Ve=Object.keys(je);Qe<Ve.length;Qe++){var Ne=Ve[Qe],Je=je[Ne].options?je[Ne].options:void 0,qe=this.virtual(Ne,Je);je[Ne].get&&qe.get(je[Ne].get),je[Ne].set&&qe.set(je[Ne].set)}var Ze=Z&&Z._id&&G.isObject(Z._id);!this.paths._id&&this.options._id&&!Ze&&D(this),this.setupTimestamp(this.options.timestamps)}function ae(Z,ce){for(var xe=0,Ce=Object.keys(ce);xe<Ce.length;xe++){var pe=Ce[xe],je=null;if(ce[pe]!=null)je=ce[pe];else{var Qe=I(Z.paths[pe],"options");if(Qe==null)continue;je=Qe.alias}if(je){var Ve=Z.paths[pe].path;if(Array.isArray(je)){var Ne,Je=g(je);try{for(Je.s();!(Ne=Je.n()).done;){var qe=Ne.value;if(typeof qe!="string")throw new Error("Invalid value for alias option on "+Ve+", got "+qe);Z.aliases[qe]=Ve,Z.virtual(qe).get(function(Ze){return function(){return typeof this.get=="function"?this.get(Ze):this[Ze]}}(Ve)).set(function(Ze){return function(Mt){return this.$set(Ze,Mt)}}(Ve))}}catch(Ze){Je.e(Ze)}finally{Je.f()}}else{if(typeof je!="string")throw new Error("Invalid value for alias option on "+Ve+", got "+je);Z.aliases[je]=Ve,Z.virtual(je).get(function(Ze){return function(){return typeof this.get=="function"?this.get(Ze):this[Ze]}}(Ve)).set(function(Ze){return function(Mt){return this.$set(Ze,Mt)}}(Ve))}}}}me.prototype=Object.create(b.prototype),me.prototype.constructor=me,me.prototype.instanceOfSchema=!0,Object.defineProperty(me.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(me.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),Object.defineProperty(me.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0}),me.prototype.obj,me.prototype.paths,me.prototype.tree,me.prototype.clone=function(){var Z=this,ce=this._clone();return ce.on("init",function(xe){return Z.emit("init",xe)}),ce},me.prototype._clone=function(Z){var ce=new(Z=Z||(this.base==null?me:this.base.Schema))({},this._userProvidedOptions);ce.base=this.base,ce.obj=this.obj,ce.options=O(this.options),ce.callQueue=this.callQueue.map(function(gn){return gn}),ce.methods=O(this.methods),ce.methodOptions=O(this.methodOptions),ce.statics=O(this.statics),ce.query=O(this.query),ce.plugins=Array.prototype.slice.call(this.plugins),ce._indexes=O(this._indexes),ce._searchIndexes=O(this._searchIndexes),ce.s.hooks=this.s.hooks.clone(),ce.tree=O(this.tree),ce.paths=Object.fromEntries(Object.entries(this.paths).map(function(gn){var vn=h(gn,2);return[vn[0],vn[1].clone()]})),ce.nested=O(this.nested),ce.subpaths=O(this.subpaths);for(var xe=0,Ce=Object.values(ce.paths);xe<Ce.length;xe++){var pe=Ce[xe];if(pe.$isSingleNested){for(var je=pe.path,Qe=0,Ve=Object.keys(pe.schema.paths);Qe<Ve.length;Qe++){var Ne=Ve[Qe];ce.singleNestedPaths[je+"."+Ne]=pe.schema.paths[Ne]}for(var Je=0,qe=Object.keys(pe.schema.singleNestedPaths);Je<qe.length;Je++){var Ze=qe[Je];ce.singleNestedPaths[je+"."+Ze]=pe.schema.singleNestedPaths[Ze]}for(var Mt=0,Ut=Object.keys(pe.schema.subpaths);Mt<Ut.length;Mt++){var Ft=Ut[Mt];ce.singleNestedPaths[je+"."+Ft]=pe.schema.subpaths[Ft]}for(var bt=0,Jn=Object.keys(pe.schema.nested);bt<Jn.length;bt++){var sn=Jn[bt];ce.singleNestedPaths[je+"."+sn]="nested"}}}return ce._gatherChildSchemas(),ce.virtuals=O(this.virtuals),ce.$globalPluginsApplied=this.$globalPluginsApplied,ce.$isRootDiscriminator=this.$isRootDiscriminator,ce.$implicitlyCreated=this.$implicitlyCreated,ce.$id=++ye,ce.$originalSchemaId=this.$id,ce.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(ce.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(ce.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(ce._applyDiscriminators=new Map(this._applyDiscriminators)),ce.aliases=Object.assign({},this.aliases),ce.encryptedFields=O(this.encryptedFields),ce},me.prototype.pick=function(Z,ce){var xe=new me({},ce||this.options);if(!Array.isArray(Z))throw new x('Schema#pick() only accepts an array argument, got "'+m(Z)+'"');var Ce,pe=g(Z);try{for(pe.s();!(Ce=pe.n()).done;){var je=Ce.value;if(this._hasEncryptedField(je)){var Qe=this.encryptedFields[je],Ve=this.path(je);xe.add(f({},je,f({encrypt:Qe},this.options.typeKey,Ve)))}else if(this.nested[je])xe.add(f({},je,I(this.tree,je)));else{var Ne=this.path(je);if(Ne==null)throw new x("Path `"+je+"` is not in the schema");xe.add(f({},je,Ne))}}}catch(Je){pe.e(Je)}finally{pe.f()}return this._hasEncryptedFields()||(xe.options.encryptionType=null),xe},me.prototype.omit=function(Z,ce){var xe=new me(this,ce||this.options);if(!Array.isArray(Z))throw new x('Schema#omit() only accepts an array argument, got "'+m(Z)+'"');for(var Ce in xe.remove(Z),xe.singleNestedPaths)Z.includes(Ce)&&delete xe.singleNestedPaths[Ce];return xe},me.prototype.defaultOptions=function(Z){this._userProvidedOptions=Z==null?{}:O(Z);var ce=this.base&&this.base.options||{};if((Z=d({strict:!("strict"in ce)||ce.strict,strictQuery:"strictQuery"in ce&&ce.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:!("id"in ce)||ce.id,typeKey:"type"},Z)).versionKey&&typeof Z.versionKey!="string")throw new x("`versionKey` must be falsy or string, got `"+m(Z.versionKey)+"`");if(typeof Z.read=="string"?Z.read=q(Z.read):Array.isArray(Z.read)&&typeof Z.read[0]=="string"&&(Z.read={mode:q(Z.read[0]),tags:Z.read[1]}),Z.optimisticConcurrency&&!Z.versionKey)throw new x("Must set `versionKey` if using `optimisticConcurrency`");return Z},me.prototype.discriminator=function(Z,ce,xe){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(Z,{schema:ce,options:xe}),this},me.prototype._defaultToObjectOptions=function(Z){var ce=Z?"toJSON":"toObject";if(this._defaultToObjectOptionsMap&&this._defaultToObjectOptionsMap[ce])return this._defaultToObjectOptionsMap[ce];var xe=this.base&&this.base.options&&this.base.options[ce]||{},Ce=this.options[ce]||{},pe=Object.assign({},xe,Ce);return this._defaultToObjectOptionsMap=this._defaultToObjectOptionsMap||{},this._defaultToObjectOptionsMap[ce]=pe,pe},me.prototype.encryptionType=function(Z){if(arguments.length===0)return this.options.encryptionType;if(typeof Z!="string"&&Z!==null)throw new Error("invalid `encryptionType`: ${encryptionType}");this.options.encryptionType=Z},me.prototype.add=function(Z,ce){if(Z instanceof me||Z!=null&&Z.instanceOfSchema)return ne(this,Z),this;if(Z._id===!1&&ce==null&&(this.options._id=!1),(ce=ce||"")==="__proto__."||ce==="constructor."||ce==="prototype.")return this;for(var xe=Object.keys(Z),Ce=this.options.typeKey,pe=0,je=xe;pe<je.length;pe++){var Qe=je[pe];if(!G.specialProperties.has(Qe)){var Ve=ce+Qe,Ne=Z[Qe];if(Ne==null)throw new TypeError("Invalid value for schema path `"+Ve+'`, got value "'+Ne+'"');if(Qe!=="_id"||Ne!==!1){var Je=!1;if(typeof Ne=="string"&&(Je=(this.base!=null?this.base.Schema.Types:me.Types)[Ne.charAt(0).toUpperCase()+Ne.substring(1)]!=null),Qe!=="_id"&&(m(Ne)!=="object"&&typeof Ne!="function"&&!Je||Ne==null))throw new TypeError("Invalid schema configuration: `".concat(Ne,"` is not ")+"a valid type at path `".concat(Qe,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(Ne instanceof C||(Ne.constructor&&Ne.constructor.name||null)==="VirtualType")this.virtual(Ne);else{if(Array.isArray(Ne)&&Ne.length===1&&Ne[0]==null)throw new TypeError("Invalid value for schema Array path `"+Ve+'`, got value "'+Ne[0]+'"');if(de(Ne)||Ne instanceof w)if(Object.keys(Ne).length<1)ce&&(this.nested[ce.substring(0,ce.length-1)]=!0),this.path(Ve,Ne);else if(!Ne[Ce]||Ce==="type"&&de(Ne.type)&&Ne.type.type)this.nested[Ve]=!0,this.add(Ne,Ve+".");else{var qe=Ne[Ce];if(de(qe)&&Object.keys(qe).length>0){ce&&(this.nested[ce.substring(0,ce.length-1)]=!0);var Ze={};this._userProvidedOptions.typeKey&&(Ze.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(Ze.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(Ze.toObject=G.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(Ze.toJSON=G.omit(this._userProvidedOptions.toJSON,["transform"]));var Mt=new me(qe,Ze);Mt.$implicitlyCreated=!0;var Ut=Object.assign({},Ne,f({},Ce,Mt));this.path(ce+Qe,Ut)}else if(ce&&(this.nested[ce.substring(0,ce.length-1)]=!0),this.path(ce+Qe,Ne),Ne!=null&&!Ne.instanceOfSchema&&G.isPOJO(Ne.discriminators)){var Ft=this.path(ce+Qe);for(var bt in Ne.discriminators)Ft.discriminator(bt,Ne.discriminators[bt])}}else if(ce&&(this.nested[ce.substring(0,ce.length-1)]=!0),this.path(ce+Qe,Ne),Ne[0]!=null&&!Ne[0].instanceOfSchema&&G.isPOJO(Ne[0].discriminators)){var Jn=this.path(ce+Qe);for(var sn in Ne[0].discriminators)Jn.discriminator(sn,Ne[0].discriminators[sn])}if(Ne.instanceOfSchema&&Ne.encryptionType()!=null){if(this.encryptionType()!=Ne.encryptionType())throw new Error("encryptionType of a nested schema must match the encryption type of the parent schema.");for(var gn=0,vn=Object.entries(Ne.encryptedFields);gn<vn.length;gn++){var An=h(vn[gn],2),Kt=An[0],Mn=An[1],et=Ve+"."+Kt;this._addEncryptedField(et,Mn)}}else if(m(Ne)==="object"&&"encrypt"in Ne){var tr=Ne.encrypt;if(this.encryptionType()==null)throw new Error("encryptionType must be provided");this._addEncryptedField(Ve,tr)}else this._removeEncryptedField(Ve)}}}}var Zt=Object.fromEntries(Object.entries(Z).map(function($e){var qn=h($e,1)[0];return[ce+qn,null]}));return ae(this,Zt),this},me.prototype._addEncryptedField=function(Z,ce){if(this.path(Z).autoEncryptionType()==null)throw new Error("Invalid BSON type for FLE field: '".concat(Z,"'"));this.encryptedFields[Z]=O(ce)},me.prototype._removeEncryptedField=function(Z){delete this.encryptedFields[Z]},me.prototype._hasEncryptedFields=function(){return Object.keys(this.encryptedFields).length>0},me.prototype._hasEncryptedField=function(Z){return Z in this.encryptedFields},me.prototype._buildEncryptedFields=function(){var Z=this;return{fields:Object.entries(this.encryptedFields).map(function(ce){var xe=h(ce,2),Ce=xe[0],pe=xe[1];return d({path:Ce,bsonType:Z.path(Ce).autoEncryptionType()},pe)})}},me.prototype._buildSchemaMap=function(){var Z=this;return{bsonType:"object",properties:Object.entries(this.encryptedFields).reduce(function(ce,xe){var Ce=h(xe,2),pe=Ce[0],je=Ce[1],Qe=Z.path(pe).autoEncryptionType();return function(Ve,Ne,Je){for(var qe=0,Ze=Ve[qe];qe<Ve.length-1;Ze=Ve[++qe])Ne[Ze]=Ne[Ze]==null?{bsonType:"object",properties:{}}:Ne[Ze],Ne=Ne[Ze].properties;Ne[Ze]=Je}(pe.split("."),ce,{encrypt:d(d({},je),{},{bsonType:Qe})}),ce},{})}},me.prototype.alias=function(Z,ce){return ae(this,f({},Z,ce)),this},me.prototype.removeIndex=function(Z){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(m(Z)!=="object"&&typeof Z!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(m(Z)==="object")for(var ce=this._indexes.length-1;ce>=0;--ce)z(this._indexes[ce][0],Z)&&this._indexes.splice(ce,1);else for(var xe=this._indexes.length-1;xe>=0;--xe)this._indexes[xe][1]!=null&&this._indexes[xe][1].name===Z&&this._indexes.splice(xe,1);return this},me.prototype.clearIndexes=function(){return this._indexes.length=0,this},me.prototype.searchIndex=function(Z){return this._searchIndexes.push(Z),this},me.reserved=Object.create(null),me.prototype.reserved=me.reserved;var ge=me.reserved;function $(Z){return/\.\d+/.test(Z)?Z.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):Z}function te(Z,ce){if(Z.mapPaths.length===0)return null;var xe,Ce=g(Z.mapPaths);try{for(Ce.s();!(xe=Ce.n()).done;){var pe=xe.value,je=pe.path.replace(/\.\$\*/g,"");if(ce===je||ce.startsWith(je+".")&&ce.slice(je.length+1).indexOf(".")===-1)return pe;if(pe.schema&&ce.startsWith(je+".")){var Qe=ce.slice(je.length+1);return Qe=Qe.slice(Qe.indexOf(".")+1),pe.schema.paths[Qe]}if(pe.$isSchemaMap&&ce.startsWith(je+".")){var Ve=ce.slice(je.length+1);Ve=Ve.slice(Ve.indexOf(".")+1);var Ne=pe.$__schemaType._presplitPath;if(Ve.indexOf(".")===-1&&Ne[Ne.length-1]==="$*")return pe.$__schemaType;if(Ve.indexOf(".")!==-1&&pe.$__schemaType.schema&&Ne[Ne.length-1]==="$*")return pe.$__schemaType.schema.path(Ve.slice(Ve.indexOf(".")+1))}}}catch(Je){Ce.e(Je)}finally{Ce.f()}return null}function oe(Z,ce,xe){var Ce=ce.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(Ce.length<2)return Z.paths.hasOwnProperty(Ce[0])?Z.paths[Ce[0]]:"adhocOrUndefined";var pe=Z.path(Ce[0]),je=!1;if(!pe)return"adhocOrUndefined";for(var Qe=Ce.length-1,Ve=1;Ve<Ce.length;++Ve){je=!1;var Ne=Ce[Ve];if(Ve===Qe&&pe&&!/\D/.test(Ne)){pe=pe.$isMongooseDocumentArray?pe.$embeddedSchemaType:pe instanceof v.Array?pe.caster:void 0;break}if(/\D/.test(Ne)){if(!pe||!pe.schema){pe=void 0;break}je=pe.schema.pathType(Ne)==="nested",pe=pe.schema.path(Ne)}else pe instanceof v.Array&&Ve!==Qe&&(pe=pe.caster)}return Z.subpaths[xe]=pe,pe?"real":je?"nested":"adhocOrUndefined"}function Se(Z,ce){var xe,Ce=g(Z.childSchemas);try{for(Ce.s();!(xe=Ce.n()).done;){var pe=xe.value.schema;pe.$implicitlyCreated&&(Object.assign(pe.options,ce),Se(pe,ce))}}catch(je){Ce.e(je)}finally{Ce.f()}}ge.prototype=ge.emit=ge.listeners=ge.removeListener=ge.collection=ge.errors=ge.get=ge.init=ge.isModified=ge.isNew=ge.populated=ge.remove=ge.save=ge.toObject=ge.validate=1,ge.collection=1,me.prototype.path=function(Z,ce){if(ce===void 0){if(this.paths[Z]!=null)return this.paths[Z];var xe=$(Z),Ce=function(fe,Ge,Xe){if(fe.paths.hasOwnProperty(Ge))return fe.paths[Ge];if(fe.subpaths.hasOwnProperty(Xe)){var ut=fe.subpaths[Xe];return ut==="nested"?void 0:ut}if(fe.singleNestedPaths.hasOwnProperty(Xe)&&m(fe.singleNestedPaths[Xe])==="object"){var gt=fe.singleNestedPaths[Xe];return gt==="nested"?void 0:gt}return null}(this,Z,xe);if(Ce!=null)return Ce;var pe=te(this,Z);return pe??((Ce=this.hasMixedParent(xe))!=null?Ce:Y.test(Z)?function(fe,Ge,Xe){return oe(fe,Ge,Xe),fe.subpaths[Xe]}(this,Z,xe):void 0)}var je=Z.split(".")[0];if(ge[je]&&!this.options.suppressReservedKeysWarning){var Qe="`".concat(je,"` is a reserved schema pathname and may break some functionality. ")+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";G.warn(Qe)}m(ce)==="object"&&G.hasUserDefinedProperty(ce,"ref")&&J(ce.ref,Z);var Ve,Ne=Z.split(/\./),Je=Ne.pop(),qe=this.tree,Ze="",Mt=g(Ne);try{for(Mt.s();!(Ve=Mt.n()).done;){var Ut=Ve.value;if(G.specialProperties.has(Ut))throw new Error("Cannot set special property `"+Ut+"` on a schema");if(Ze=Ze+=(Ze.length>0?".":"")+Ut,qe[Ut]||(this.nested[Ze]=!0,qe[Ut]={}),m(qe[Ut])!=="object"){var Ft="Cannot set nested path `"+Z+"`. Parent path `"+Ze+"` already set to type "+qe[Ut].name+".";throw new Error(Ft)}qe=qe[Ut]}}catch(fe){Mt.e(fe)}finally{Mt.f()}qe[Je]=O(ce),this.paths[Z]=this.interpretAsType(Z,ce,this.options);var bt=this.paths[Z];if(this.childSchemas=this.childSchemas.filter(function(fe){return fe.path!==Z}),bt.$isSchemaMap){var Jn=Z+".$*";this.paths[Jn]=bt.$__schemaType,this.mapPaths.push(this.paths[Jn]),bt.$__schemaType.$isSingleNested&&this.childSchemas.push({schema:bt.$__schemaType.schema,model:bt.$__schemaType.caster,path:Z})}if(bt.$isSingleNested){for(var sn=0,gn=Object.keys(bt.schema.paths);sn<gn.length;sn++){var vn=gn[sn];this.singleNestedPaths[Z+"."+vn]=bt.schema.paths[vn]}for(var An=0,Kt=Object.keys(bt.schema.singleNestedPaths);An<Kt.length;An++){var Mn=Kt[An];this.singleNestedPaths[Z+"."+Mn]=bt.schema.singleNestedPaths[Mn]}for(var et=0,tr=Object.keys(bt.schema.subpaths);et<tr.length;et++){var Zt=tr[et];this.singleNestedPaths[Z+"."+Zt]=bt.schema.subpaths[Zt]}for(var $e=0,qn=Object.keys(bt.schema.nested);$e<qn.length;$e++){var gi=qn[$e];this.singleNestedPaths[Z+"."+gi]="nested"}Object.defineProperty(bt.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),bt.caster.base=this.base,this.childSchemas.push({schema:bt.schema,model:bt.caster,path:Z})}else bt.$isMongooseDocumentArray&&(Object.defineProperty(bt.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),bt.casterConstructor.base=this.base,this.childSchemas.push({schema:bt.schema,model:bt.casterConstructor,path:Z}));if(bt.$isMongooseArray&&bt.caster instanceof T){for(var jn=Z,Ie=bt;Ie.$isMongooseArray;)jn+=".$",Ie.$isMongooseDocumentArray?(Ie.$embeddedSchemaType._arrayPath=jn,Ie.$embeddedSchemaType._arrayParentPath=Z,Ie=Ie.$embeddedSchemaType):(Ie.caster._arrayPath=jn,Ie.caster._arrayParentPath=Z,Ie=Ie.caster),this.subpaths[jn]=Ie;for(var We=0,tt=[];We<tt.length;We++){var at=tt[We];this.subpaths[at.path]=at}}if(bt.$isMongooseDocumentArray){for(var mt=0,W=Object.keys(bt.schema.paths);mt<W.length;mt++){var le=W[mt],he=bt.schema.paths[le];this.subpaths[Z+"."+le]=he,m(he)==="object"&&he!=null&&he.$parentSchemaDocArray==null&&(he.$parentSchemaDocArray=bt)}for(var ve=0,be=Object.keys(bt.schema.subpaths);ve<be.length;ve++){var _e=be[ve],Le=bt.schema.subpaths[_e];this.subpaths[Z+"."+_e]=Le,m(Le)==="object"&&Le!=null&&Le.$parentSchemaDocArray==null&&(Le.$parentSchemaDocArray=bt)}for(var Ue=0,rt=Object.keys(bt.schema.singleNestedPaths);Ue<rt.length;Ue++){var Ke=rt[Ue],ze=bt.schema.singleNestedPaths[Ke];this.subpaths[Z+"."+Ke]=ze,m(ze)==="object"&&ze!=null&&ze.$parentSchemaDocArray==null&&(ze.$parentSchemaDocArray=bt)}}return this},me.prototype._gatherChildSchemas=function(){for(var Z=[],ce=0,xe=Object.keys(this.paths);ce<xe.length;ce++){var Ce=xe[ce];if(typeof Ce=="string"){var pe=this.paths[Ce];pe.$isMongooseDocumentArray||pe.$isSingleNested?Z.push({schema:pe.schema,model:pe.caster,path:Ce}):pe.$isSchemaMap&&pe.$__schemaType.$isSingleNested&&Z.push({schema:pe.$__schemaType.schema,model:pe.$__schemaType.caster,path:Ce})}}return this.childSchemas=Z,Z},Object.defineProperty(me.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),me.prototype.interpretAsType=function(Z,ce,xe){if(ce instanceof T){if(ce.path===Z)return ce;var Ce=ce.clone();return Ce.path=Z,Ce}var pe=this.base!=null?this.base.Schema.Types:me.Types,je=this.base!=null?this.base.Types:a(9600);if(!(G.isPOJO(ce)||ce instanceof w)&&G.getFunctionName(ce.constructor)!=="Object"){var Qe=ce;(ce={})[xe.typeKey]=Qe}var Ve,Ne=ce[xe.typeKey]&&(ce[xe.typeKey]instanceof Function||xe.typeKey!=="type"||!ce.type.type)?ce[xe.typeKey]:{};if(Ne instanceof T){if(Ne.path===Z)return Ne;var Je=Ne.clone();return Je.path=Z,Je}if(G.isPOJO(Ne)||Ne==="mixed")return new pe.Mixed(Z,ce);if(Array.isArray(Ne)||Ne===Array||Ne==="array"||Ne===pe.Array){var qe=Ne===Array||Ne==="array"?ce.cast||ce.of:Ne[0];if(qe&&qe.instanceOfSchema){if(!(qe instanceof me)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(Z,": new Schema(...)"));qe=new me(qe)}return new pe.DocumentArray(Z,qe,ce)}if(qe&&qe[xe.typeKey]&&qe[xe.typeKey].instanceOfSchema){if(!(qe[xe.typeKey]instanceof me)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+Z+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(Z,": new Schema(...)"));qe[xe.typeKey]=new me(qe[xe.typeKey])}return new pe.DocumentArray(Z,qe[xe.typeKey],ce,qe)}if(qe!==void 0&&(Array.isArray(qe)||qe.type===Array||qe.type=="Array"))return qe&&qe.type=="Array"&&(qe.type=Array),new pe.Array(Z,this.interpretAsType(Z,qe,xe),ce);var Ze=qe==null||!qe[xe.typeKey]||xe.typeKey==="type"&&qe.type.type?qe:qe[xe.typeKey];if(typeof qe=="string")qe=pe[qe.charAt(0).toUpperCase()+qe.substring(1)];else if(G.isPOJO(Ze)){if(Object.keys(Ze).length){var Mt={minimize:xe.minimize};xe.typeKey&&(Mt.typeKey=xe.typeKey),xe.hasOwnProperty("strict")&&(Mt.strict=xe.strict),xe.hasOwnProperty("strictQuery")&&(Mt.strictQuery=xe.strictQuery),xe.hasOwnProperty("toObject")&&(Mt.toObject=G.omit(xe.toObject,["transform"])),xe.hasOwnProperty("toJSON")&&(Mt.toJSON=G.omit(xe.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?Mt._id=this._userProvidedOptions._id:me.Types.DocumentArray.defaultOptions._id!=null&&(Mt._id=me.Types.DocumentArray.defaultOptions._id);var Ut=new me(Ze,Mt);return Ut.$implicitlyCreated=!0,new pe.DocumentArray(Z,Ut,ce)}return new pe.Array(Z,pe.Mixed,ce)}if(qe){if(Ne=!qe[xe.typeKey]||xe.typeKey==="type"&&qe.type.type?qe:qe[xe.typeKey],Array.isArray(Ne))return new pe.Array(Z,this.interpretAsType(Z,Ne,xe),ce);if((Ve=typeof Ne=="string"?Ne:Ne.schemaName||G.getFunctionName(Ne))==="ClockDate"&&(Ve="Date"),Ve===void 0)throw new TypeError("Invalid schema configuration: "+"Could not determine the embedded type for array `".concat(Z,"`. ")+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!pe.hasOwnProperty(Ve))throw new TypeError("Invalid schema configuration: "+"`".concat(Ve,"` is not a valid type within the array `").concat(Z,"`.")+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new pe.Array(Z,qe||pe.Mixed,ce,xe)}if(Ne&&Ne.instanceOfSchema)return new pe.Subdocument(Ne,Z,ce);if((Ve=l.isBuffer(Ne)?"Buffer":typeof Ne=="function"||m(Ne)==="object"?Ne.schemaName||G.getFunctionName(Ne):Ne===je.ObjectId?"ObjectId":Ne===je.Decimal128?"Decimal128":Ne==null?""+Ne:Ne.toString())&&(Ve=Ve.charAt(0).toUpperCase()+Ve.substring(1)),Ve==="ObjectID"&&(Ve="ObjectId"),Ve==="ClockDate"&&(Ve="Date"),Ve===void 0)throw new TypeError("Invalid schema configuration: `".concat(Z,"` schematype definition is ")+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(pe[Ve]==null)throw new TypeError("Invalid schema configuration: `".concat(Ve,"` is not ")+"a valid type at path `".concat(Z,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");Ve==="Union"&&(ce.parentSchema=this);var Ft=new pe[Ve](Z,ce,xe);return Ft.$isSchemaMap&&function(bt,Jn,sn,gn,vn){var An=sn+".$*",Kt={type:{}};G.hasUserDefinedProperty(gn,"of")&&((Kt=G.isPOJO(gn.of)&&Object.keys(gn.of).length>0&&!G.hasUserDefinedProperty(gn.of,bt.options.typeKey)?f({},bt.options.typeKey,new me(gn.of)):G.isPOJO(gn.of)?Object.assign({},gn.of):f({},bt.options.typeKey,gn.of))[bt.options.typeKey]&&Kt[bt.options.typeKey].instanceOfSchema&&Kt[bt.options.typeKey].eachPath(function(Mn,et){if(et.options.select===!0||et.options.select===!1)throw new x('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+sn+"."+Mn+'"')}),G.hasUserDefinedProperty(gn,"ref")&&(Kt.ref=gn.ref)),Jn.$__schemaType=bt.interpretAsType(An,Kt,vn)}(this,Ft,Z,ce,xe),Ft},me.prototype.eachPath=function(Z){for(var ce=Object.keys(this.paths),xe=ce.length,Ce=0;Ce<xe;++Ce)Z(ce[Ce],this.paths[ce[Ce]]);return this},me.prototype.requiredPaths=function(Z){if(this._requiredpaths&&!Z)return this._requiredpaths;for(var ce=Object.keys(this.paths),xe=ce.length,Ce=[];xe--;){var pe=ce[xe];this.paths[pe].isRequired&&Ce.push(pe)}return this._requiredpaths=Ce,this._requiredpaths},me.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},me.prototype.pathType=function(Z){if(this.paths.hasOwnProperty(Z))return"real";if(this.virtuals.hasOwnProperty(Z))return"virtual";if(this.nested.hasOwnProperty(Z))return"nested";var ce=$(Z);if(this.subpaths.hasOwnProperty(ce)||this.subpaths.hasOwnProperty(Z))return"real";var xe=this.singleNestedPaths.hasOwnProperty(ce)||this.singleNestedPaths.hasOwnProperty(Z);return xe?xe==="nested"?"nested":"real":te(this,Z)!=null?"real":/\.\d+\.|\.\d+$/.test(Z)?oe(this,Z,ce):"adhocOrUndefined"},me.prototype.hasMixedParent=function(Z){var ce=Z.split(/\./g);Z="";for(var xe=0;xe<ce.length;++xe)if(Z=xe>0?Z+"."+ce[xe]:ce[xe],this.paths.hasOwnProperty(Z)&&this.paths[Z]instanceof v.Mixed)return this.paths[Z];return null},me.prototype.setupTimestamp=function(Z){return N(this,Z)},me.prototype.queue=function(Z,ce){return this.callQueue.push([Z,ce]),this},me.prototype.pre=function(Z){if(Z instanceof RegExp){var ce,xe=Array.prototype.slice.call(arguments,1),Ce=g(ie);try{for(Ce.s();!(ce=Ce.n()).done;){var pe=ce.value;Z.test(pe)&&this.pre.apply(this,[pe].concat(xe))}}catch(Je){Ce.e(Je)}finally{Ce.f()}return this}if(Array.isArray(Z)){var je,Qe=Array.prototype.slice.call(arguments,1),Ve=g(Z);try{for(Ve.s();!(je=Ve.n()).done;){var Ne=je.value;this.pre.apply(this,[Ne].concat(Qe))}}catch(Je){Ve.e(Je)}finally{Ve.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},me.prototype.post=function(Z){if(Z instanceof RegExp){var ce,xe=Array.prototype.slice.call(arguments,1),Ce=g(ie);try{for(Ce.s();!(ce=Ce.n()).done;){var pe=ce.value;Z.test(pe)&&this.post.apply(this,[pe].concat(xe))}}catch(Je){Ce.e(Je)}finally{Ce.f()}return this}if(Array.isArray(Z)){var je,Qe=Array.prototype.slice.call(arguments,1),Ve=g(Z);try{for(Ve.s();!(je=Ve.n()).done;){var Ne=je.value;this.post.apply(this,[Ne].concat(Qe))}}catch(Je){Ve.e(Je)}finally{Ve.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},me.prototype.plugin=function(Z,ce){if(typeof Z!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+m(Z)+'"');if(ce&&ce.deduplicate){var xe,Ce=g(this.plugins);try{for(Ce.s();!(xe=Ce.n()).done;)if(xe.value.fn===Z)return this}catch(pe){Ce.e(pe)}finally{Ce.f()}}return this.plugins.push({fn:Z,opts:ce}),Z(this,ce),this},me.prototype.method=function(Z,ce,xe){if(typeof Z!="string")for(var Ce in Z)this.methods[Ce]=Z[Ce],this.methodOptions[Ce]=O(xe);else this.methods[Z]=ce,this.methodOptions[Z]=O(xe);return this},me.prototype.static=function(Z,ce){if(typeof Z!="string")for(var xe in Z)this.statics[xe]=Z[xe];else this.statics[Z]=ce;return this},me.prototype.index=function(Z,ce){for(var xe in Z||(Z={}),ce||(ce={}),ce.expires&&G.expires(ce),Z)this.aliases[xe]&&(Z=G.renameObjKey(Z,xe,this.aliases[xe]));for(var Ce=0,pe=Object.keys(Z);Ce<pe.length;Ce++){var je=pe[Ce];Z[je]==="ascending"||Z[je]==="asc"?Z[je]=1:Z[je]!=="descending"&&Z[je]!=="desc"||(Z[je]=-1)}var Qe,Ve=g(this.indexes());try{for(Ve.s();!(Qe=Ve.n()).done;){var Ne=Qe.value;ce.name==null&&Ne[1].name==null&&z(Ne[0],Z)&&G.warn("Duplicate schema index on ".concat(JSON.stringify(Z),' found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.'))}}catch(Je){Ve.e(Je)}finally{Ve.f()}return this._indexes.push([Z,ce]),this},me.prototype.set=function(Z,ce,xe){if(arguments.length===1)return this.options[Z];switch(Z){case"read":typeof ce=="string"?this.options[Z]={mode:q(ce),tags:xe}:Array.isArray(ce)&&typeof ce[0]=="string"?this.options[Z]={mode:q(ce[0]),tags:ce[1]}:this.options[Z]=ce,this._userProvidedOptions[Z]=this.options[Z];break;case"timestamps":this.setupTimestamp(ce),this.options[Z]=ce,this._userProvidedOptions[Z]=this.options[Z];break;case"_id":this.options[Z]=ce,this._userProvidedOptions[Z]=this.options[Z],ce&&!this.paths._id?D(this):!ce&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[Z]=ce,this._userProvidedOptions[Z]=this.options[Z]}return Z==="strict"&&Se(this,{strict:ce}),Z==="strictQuery"&&Se(this,{strictQuery:ce}),Z==="toObject"&&(delete(ce=d({},ce)).transform,Se(this,{toObject:ce})),Z==="toJSON"&&(delete(ce=d({},ce)).transform,Se(this,{toJSON:ce})),this},me.prototype.get=function(Z){return this.options[Z]};var Pe="2d 2dsphere hashed text".split(" ");function Oe(Z,ce){var xe,Ce=ce.split("."),pe=Ce.pop(),je=Z.tree,Qe=g(Ce);try{for(Qe.s();!(xe=Qe.n()).done;)je=je[xe.value]}catch(Ve){Qe.e(Ve)}finally{Qe.f()}delete je[pe]}function Be(Z){return Z.startsWith("$[")&&Z.endsWith("]")}Object.defineProperty(me,"indexTypes",{get:function(){return Pe},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),me.prototype.indexes=function(){return B(this)},me.prototype.virtual=function(Z,ce){if(Z instanceof C||k(Z)==="VirtualType")return this.virtual(Z.path,Z.options);if(ce=new E(ce),G.hasUserDefinedProperty(ce,["ref","refPath"])){if(ce.localField==null)throw new Error("Reference virtuals require `localField` option");if(ce.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");var xe=this.virtual(Z);xe.options=ce,this.pre("init",function(Ze,Mt){if(ue.has(Z,Ze)){var Ut=ue.get(Z,Ze);if(this.$$populatedVirtuals||(this.$$populatedVirtuals={}),ce.justOne||ce.count?this.$$populatedVirtuals[Z]=Array.isArray(Ut)?Ut[0]:Ut:this.$$populatedVirtuals[Z]=Array.isArray(Ut)?Ut:Ut==null?[]:[Ut],Mt!=null&&Mt.hydratedPopulatedDocs&&!ce.count){var Ft=xe._getModelNamesForPopulate(this),bt=this.$$populatedVirtuals[Z];if(Array.isArray(bt)||bt.$__||(Ft==null?void 0:Ft.length)!==1){if(Array.isArray(bt)&&(Ft==null?void 0:Ft.length)===1){for(var Jn=this.db.model(Ft[0]),sn=0;sn<bt.length;++sn)bt[sn].$__||(bt[sn]=Jn.hydrate(bt[sn],null,{hydratedPopulatedDocs:!0}));var gn=ce.foreignField;this.$populated(Z,bt.map(function(An){return An==null?An:An.get(typeof gn=="function"?gn.call(An,An):gn)}),{populateModelSymbol:Jn})}}else{var vn=this.db.model(Ft[0]);this.$$populatedVirtuals[Z]=vn.hydrate(bt)}}ue.unset(Z,Ze)}}),xe.set(function(Ze){return this.$$populatedVirtuals||(this.$$populatedVirtuals={}),Q(this.$$populatedVirtuals,Z,Ze,ce)}),typeof ce.get=="function"&&xe.get(ce.get);for(var Ce=Z.split("."),pe=Ce[0],je=0;je<Ce.length-1;++je)if(this.paths[pe]!=null){if(this.paths[pe].$isMongooseDocumentArray||this.paths[pe].$isSingleNested){var Qe=Ce.slice(je+1).join(".");this.paths[pe].schema.virtual(Qe,ce);break}if(this.paths[pe].$isSchemaMap){var Ve=Ce.slice(je+2).join(".");this.paths[pe].$__schemaType.schema.virtual(Ve,ce);break}pe+="."+Ce[je+1]}return xe}var Ne=this.virtuals,Je=Z.split(".");if(this.pathType(Z)==="real")throw new Error('Virtual path "'+Z+'" conflicts with a real path in the schema');if(Ne[Z]=Je.reduce(function(Ze,Mt,Ut){return Ze[Mt]||(Ze[Mt]=Ut===Je.length-1?new C(ce,Z):{}),Ze[Mt]},this.tree),ce&&ce.applyToArray&&Je.length>1){var qe=this.path(Je.slice(0,-1).join("."));if(qe&&qe.$isMongooseArray)return qe.virtual(Je[Je.length-1],ce);throw new x('Path "'.concat(qe,'" is not an array'))}return Ne[Z]},me.prototype.virtualpath=function(Z){return this.virtuals.hasOwnProperty(Z)?this.virtuals[Z]:null},me.prototype.remove=function(Z){return typeof Z=="string"&&(Z=[Z]),Array.isArray(Z)&&Z.forEach(function(ce){if(this.path(ce)!=null||this.nested[ce]){if(this.nested[ce]){var xe,Ce=g(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(Ce.s();!(xe=Ce.n()).done;){var pe=xe.value;pe.startsWith(ce+".")&&(delete this.paths[pe],delete this.nested[pe],Oe(this,pe))}}catch(je){Ce.e(je)}finally{Ce.f()}return delete this.nested[ce],void Oe(this,ce)}delete this.paths[ce],Oe(this,ce),this._removeEncryptedField(ce)}},this),this},me.prototype.removeVirtual=function(Z){if(typeof Z=="string"&&(Z=[Z]),Array.isArray(Z)){var ce,xe=g(Z);try{for(xe.s();!(ce=xe.n()).done;){var Ce=ce.value;if(this.virtuals[Ce]==null)throw new x('Attempting to remove virtual "'.concat(Ce,'" that does not exist.'))}}catch(Ve){xe.e(Ve)}finally{xe.f()}var pe,je=g(Z);try{for(je.s();!(pe=je.n()).done;){var Qe=pe.value;delete this.paths[Qe],delete this.virtuals[Qe],Qe.indexOf(".")!==-1?ue.unset(Qe,this.tree):delete this.tree[Qe]}}catch(Ve){je.e(Ve)}finally{je.f()}}return this},me.prototype.loadClass=function(Z,ce){return Z===Object.prototype||Z===Function.prototype||Z.prototype.hasOwnProperty("$isMongooseModelPrototype")||Z.prototype.hasOwnProperty("$isMongooseDocumentPrototype")||(this.loadClass(Object.getPrototypeOf(Z),ce),ce||Object.getOwnPropertyNames(Z).forEach(function(xe){if(!xe.match(/^(length|name|prototype|constructor|__proto__)$/)){var Ce=Object.getOwnPropertyDescriptor(Z,xe);Ce.hasOwnProperty("value")&&this.static(xe,Ce.value)}},this),Object.getOwnPropertyNames(Z.prototype).forEach(function(xe){if(!xe.match(/^(constructor)$/)){var Ce=Object.getOwnPropertyDescriptor(Z.prototype,xe);ce||typeof Ce.value=="function"&&this.method(xe,Ce.value),typeof Ce.get=="function"&&(this.virtuals[xe]&&(this.virtuals[xe].getters=[]),this.virtual(xe).get(Ce.get)),typeof Ce.set=="function"&&(this.virtuals[xe]&&(this.virtuals[xe].setters=[]),this.virtual(xe).set(Ce.set))}},this)),this},me.prototype._getSchema=function(Z){var ce=this.path(Z),xe=[];if(ce)return ce.$fullPath=Z,ce;for(var Ce=Z.split("."),pe=0;pe<Ce.length;++pe)(Ce[pe]==="$"||Be(Ce[pe]))&&(Ce[pe]="0"),Te.test(Ce[pe])&&(Ce[pe]="$");return function je(Qe,Ve){for(var Ne,Je,qe=Qe.length+1;qe--;)if(Je=Qe.slice(0,qe).join("."),Ne=Ve.path(Je)){if(xe.push(Je),Ne.caster){if(Ne.caster instanceof v.Mixed)return Ne.caster.$fullPath=xe.join("."),Ne.caster;if(qe!==Qe.length){if(qe+1===Qe.length&&Ne.$embeddedSchemaType&&(Qe[qe]==="$"||Be(Qe[qe])))return Ne.$embeddedSchemaType;if(Ne.schema){var Ze=void 0;return Qe[qe]==="$"||Be(Qe[qe])?qe+1===Qe.length?Ne.$embeddedSchemaType:((Ze=je(Qe.slice(qe+1),Ne.schema))&&(Ze.$parentSchemaDocArray=Ze.$parentSchemaDocArray||(Ne.schema.$isSingleNested?null:Ne)),Ze):((Ze=je(Qe.slice(qe),Ne.schema))&&(Ze.$parentSchemaDocArray=Ze.$parentSchemaDocArray||(Ne.schema.$isSingleNested?null:Ne)),Ze)}}}else if(Ne.$isSchemaMap){if(qe>=Qe.length)return Ne;if(qe+1>=Qe.length||Ne.$__schemaType instanceof v.Mixed)return Ne.$__schemaType;if(Ne.$__schemaType.schema!=null)return je(Qe.slice(qe+1),Ne.$__schemaType.schema)}return Ne.$fullPath=xe.join("."),Ne}}(Ce,this)},me.prototype._getPathType=function(Z){return this.path(Z)?"real":function ce(xe,Ce){for(var pe,je,Qe=xe.length+1;Qe--;){if(je=xe.slice(0,Qe).join("."),pe=Ce.path(je))return pe.caster?pe.caster instanceof v.Mixed?{schema:pe,pathType:"mixed"}:Qe!==xe.length&&pe.schema?xe[Qe]==="$"||Be(xe[Qe])?Qe===xe.length-1?{schema:pe,pathType:"nested"}:ce(xe.slice(Qe+1),pe.schema):ce(xe.slice(Qe),pe.schema):{schema:pe,pathType:pe.$isSingleNested?"nested":"array"}:{schema:pe,pathType:"real"};if(Qe===xe.length&&Ce.nested[je])return{schema:Ce,pathType:"nested"}}return{schema:pe||Ce,pathType:"undefined"}}(Z.split("."),this)},me.prototype._transformDuplicateKeyError=function(Z){if(!this._duplicateKeyErrorMessagesByPath||Z.code!==11e3&&Z.code!==11001)return Z;if(Z.keyPattern!=null){var ce=Z.keyPattern,xe=Object.keys(ce);if(xe.length!==1)return Z;var Ce=xe[0];return this._duplicateKeyErrorMessagesByPath.hasOwnProperty(Ce)?new x(this._duplicateKeyErrorMessagesByPath[Ce],{cause:Z}):Z}return Z},me.prototype._preCompile=function(){this.plugin(H,{deduplicate:!0})},me.prototype.toJSONSchema=function(Z){for(var ce,xe=(ce=Z==null?void 0:Z.useBsonType)!==null&&ce!==void 0&&ce,Ce=xe?{required:[],properties:{}}:{type:"object",required:[],properties:{}},pe=0,je=Object.keys(this.paths);pe<je.length;pe++){var Qe=je[pe],Ve=this.paths[Qe];if(Ve._presplitPath.indexOf("$*")===-1){var Ne=Ce;if(Ve._presplitPath.length>1)for(var Je=0;Je<Ve._presplitPath.length-1;++Je){var qe=Ve._presplitPath[Je];Ne.properties[qe]==null&&(Ne.properties[qe]=xe?{bsonType:["object","null"],properties:{}}:{type:["object","null"],properties:{}}),Ne=Ne.properties[qe]}var Ze=Ve._presplitPath[Ve._presplitPath.length-1],Mt=!1;Qe==="_id"?(Ne.required||(Ne.required=[]),Ne.required.push("_id"),Mt=!0):Ve.options.required&&typeof Ve.options.required!="function"&&(Ne.required||(Ne.required=[]),Ne.required.push(Ze),Mt=!0),Ne.properties[Ze]=Ve.toJSONSchema(Z),Ve.options.enum&&(Ne.properties[Ze].enum=Mt?Ve.options.enum:[].concat(u(Ve.options.enum),[null]))}}return Ce.required.length===0&&delete Ce.required,Ce},o.exports=s=me,me.Types=v=a(7953),s.ObjectId=v.ObjectId},7160:(o,s)=>{s.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),s.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},7219:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function u(b,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,c(T.key),T)}}function c(b){var _=function(x){if(l(x)!="object"||!x)return x;var T=x[Symbol.toPrimitive];if(T!==void 0){var w=T.call(x,"string");if(l(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(b);return l(_)=="symbol"?_:_+""}function d(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!b})()}function f(b){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(b)}function m(b,_){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,T){return x.__proto__=T,x},m(b,_)}var h=a(8213),g=a(2900),S=a(4070),y=a(5497),v=function(b){function _(){return function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,_),function(w,E,C){return E=f(E),function(D,O){if(O&&(l(O)=="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}(D)}(w,d()?Reflect.construct(E,C||[],f(w).constructor):E.apply(w,C))}(this,_,arguments)}return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),E&&m(w,E)}(_,b),x=_,(T=[{key:"assimilateError",value:function(w){var E=w.reason,C=S(E)&&g(E)&&w.message.indexOf("bad auth")===-1&&w.message.indexOf("Authentication failed")===-1;for(var D in C?this.message="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/":y(E)?this.message="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html":this.message=w.message,w)D!=="name"&&(this[D]=w[D]);return this.cause=E,this}}])&&u(x.prototype,T),Object.defineProperty(x,"prototype",{writable:!1}),x;var x,T}(h);Object.defineProperty(v.prototype,"name",{value:"MongooseServerSelectionError"}),o.exports=v},7236:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){if(a==null||s(a)!=="object")return a;if(Array.isArray(a))for(var l=a.length-1;l>=0;--l)a[l]===void 0&&a.splice(l,1);for(var u=0,c=Object.keys(a);u<c.length;u++){var d=c[u];a[d]===void 0&&delete a[d]}return a}},7291:(o,s)=>{function a(u){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},a(u)}var l=Symbol("mongoose#trustedSymbol");s.trustedSymbol=l,s.trusted=function(u){return u==null||a(u)!=="object"||(u[l]=!0),u}},7300:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){return a==null||s(a)!=="object"||!("$meta"in a)&&!("$slice"in a)}},7352:(o,s,a)=>{function l(N){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l(N)}var u=Object.getOwnPropertyDescriptors||function(N){for(var G=Object.keys(N),J={},Y=0;Y<G.length;Y++)J[G[Y]]=Object.getOwnPropertyDescriptor(N,G[Y]);return J},c=/%[sdj%]/g;s.format=function(N){if(!E(N)){for(var G=[],J=0;J<arguments.length;J++)G.push(h(arguments[J]));return G.join(" ")}J=1;for(var Y=arguments,L=Y.length,K=String(N).replace(c,function(de){if(de==="%%")return"%";if(J>=L)return de;switch(de){case"%s":return String(Y[J++]);case"%d":return Number(Y[J++]);case"%j":try{return JSON.stringify(Y[J++])}catch{return"[Circular]"}default:return de}}),ie=Y[J];J<L;ie=Y[++J])T(ie)||!O(ie)?K+=" "+ie:K+=" "+h(ie);return K},s.deprecate=function(N,G){if({}.noDeprecation===!0)return N;var J=!1;return function(){if(!J){if({}.throwDeprecation)throw new Error(G);({}).traceDeprecation?console.trace(G):console.error(G),J=!0}return N.apply(this,arguments)}};var d={},f=/^$/;if({}.NODE_DEBUG){var m={}.NODE_DEBUG;m=m.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),f=new RegExp("^"+m+"$","i")}function h(N,G){var J={seen:[],stylize:S};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),x(G)?J.showHidden=G:G&&s._extend(J,G),C(J.showHidden)&&(J.showHidden=!1),C(J.depth)&&(J.depth=2),C(J.colors)&&(J.colors=!1),C(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=g),y(J,N,J.depth)}function g(N,G){var J=h.styles[G];return J?"\x1B["+h.colors[J][0]+"m"+N+"\x1B["+h.colors[J][1]+"m":N}function S(N,G){return N}function y(N,G,J){if(N.customInspect&&G&&B(G.inspect)&&G.inspect!==s.inspect&&(!G.constructor||G.constructor.prototype!==G)){var Y=G.inspect(J,N);return E(Y)||(Y=y(N,Y,J)),Y}var L=function(ge,$){if(C($))return ge.stylize("undefined","undefined");if(E($)){var te="'"+JSON.stringify($).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ge.stylize(te,"string")}return w($)?ge.stylize(""+$,"number"):x($)?ge.stylize(""+$,"boolean"):T($)?ge.stylize("null","null"):void 0}(N,G);if(L)return L;var K=Object.keys(G),ie=function(ge){var $={};return ge.forEach(function(te,oe){$[te]=!0}),$}(K);if(N.showHidden&&(K=Object.getOwnPropertyNames(G)),k(G)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return v(G);if(K.length===0){if(B(G)){var de=G.name?": "+G.name:"";return N.stylize("[Function"+de+"]","special")}if(D(G))return N.stylize(RegExp.prototype.toString.call(G),"regexp");if(I(G))return N.stylize(Date.prototype.toString.call(G),"date");if(k(G))return v(G)}var ye,Te="",me=!1,ae=["{","}"];return _(G)&&(me=!0,ae=["[","]"]),B(G)&&(Te=" [Function"+(G.name?": "+G.name:"")+"]"),D(G)&&(Te=" "+RegExp.prototype.toString.call(G)),I(G)&&(Te=" "+Date.prototype.toUTCString.call(G)),k(G)&&(Te=" "+v(G)),K.length!==0||me&&G.length!=0?J<0?D(G)?N.stylize(RegExp.prototype.toString.call(G),"regexp"):N.stylize("[Object]","special"):(N.seen.push(G),ye=me?function(ge,$,te,oe,Se){for(var Pe=[],Oe=0,Be=$.length;Oe<Be;++Oe)ne($,String(Oe))?Pe.push(b(ge,$,te,oe,String(Oe),!0)):Pe.push("");return Se.forEach(function(Z){Z.match(/^\d+$/)||Pe.push(b(ge,$,te,oe,Z,!0))}),Pe}(N,G,J,ie,K):K.map(function(ge){return b(N,G,J,ie,ge,me)}),N.seen.pop(),function(ge,$,te){return ge.reduce(function(oe,Se){return Se.indexOf(`
`),oe+Se.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?te[0]+($===""?"":$+`
 `)+" "+ge.join(`,
  `)+" "+te[1]:te[0]+$+" "+ge.join(", ")+" "+te[1]}(ye,Te,ae)):ae[0]+Te+ae[1]}function v(N){return"["+Error.prototype.toString.call(N)+"]"}function b(N,G,J,Y,L,K){var ie,de,ye;if((ye=Object.getOwnPropertyDescriptor(G,L)||{value:G[L]}).get?de=ye.set?N.stylize("[Getter/Setter]","special"):N.stylize("[Getter]","special"):ye.set&&(de=N.stylize("[Setter]","special")),ne(Y,L)||(ie="["+L+"]"),de||(N.seen.indexOf(ye.value)<0?(de=T(J)?y(N,ye.value,null):y(N,ye.value,J-1)).indexOf(`
`)>-1&&(de=K?de.split(`
`).map(function(Te){return"  "+Te}).join(`
`).slice(2):`
`+de.split(`
`).map(function(Te){return"   "+Te}).join(`
`)):de=N.stylize("[Circular]","special")),C(ie)){if(K&&L.match(/^\d+$/))return de;(ie=JSON.stringify(""+L)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=N.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=N.stylize(ie,"string"))}return ie+": "+de}function _(N){return Array.isArray(N)}function x(N){return typeof N=="boolean"}function T(N){return N===null}function w(N){return typeof N=="number"}function E(N){return typeof N=="string"}function C(N){return N===void 0}function D(N){return O(N)&&q(N)==="[object RegExp]"}function O(N){return l(N)==="object"&&N!==null}function I(N){return O(N)&&q(N)==="[object Date]"}function k(N){return O(N)&&(q(N)==="[object Error]"||N instanceof Error)}function B(N){return typeof N=="function"}function q(N){return Object.prototype.toString.call(N)}function H(N){return N<10?"0"+N.toString(10):N.toString(10)}s.debuglog=function(N){if(N=N.toUpperCase(),!d[N])if(f.test(N)){var G={}.pid;d[N]=function(){var J=s.format.apply(s,arguments);console.error("%s %d: %s",N,G,J)}}else d[N]=function(){};return d[N]},s.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.types=a(7595),s.isArray=_,s.isBoolean=x,s.isNull=T,s.isNullOrUndefined=function(N){return N==null},s.isNumber=w,s.isString=E,s.isSymbol=function(N){return l(N)==="symbol"},s.isUndefined=C,s.isRegExp=D,s.types.isRegExp=D,s.isObject=O,s.isDate=I,s.types.isDate=I,s.isError=k,s.types.isNativeError=k,s.isFunction=B,s.isPrimitive=function(N){return N===null||typeof N=="boolean"||typeof N=="number"||typeof N=="string"||l(N)==="symbol"||N===void 0},s.isBuffer=a(7944);var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(N,G){return Object.prototype.hasOwnProperty.call(N,G)}s.log=function(){var N,G;console.log("%s - %s",(G=[H((N=new Date).getHours()),H(N.getMinutes()),H(N.getSeconds())].join(":"),[N.getDate(),z[N.getMonth()],G].join(" ")),s.format.apply(s,arguments))},s.inherits=a(1679),s._extend=function(N,G){if(!G||!O(G))return N;for(var J=Object.keys(G),Y=J.length;Y--;)N[J[Y]]=G[J[Y]];return N};var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Q(N,G){if(!N){var J=new Error("Promise was rejected with a falsy value");J.reason=N,N=J}return G(N)}s.promisify=function(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&N[ue]){var G;if(typeof(G=N[ue])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,ue,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var J,Y,L=new Promise(function(de,ye){J=de,Y=ye}),K=[],ie=0;ie<arguments.length;ie++)K.push(arguments[ie]);K.push(function(de,ye){de?Y(de):J(ye)});try{N.apply(this,K)}catch(de){Y(de)}return L}return Object.setPrototypeOf(G,Object.getPrototypeOf(N)),ue&&Object.defineProperty(G,ue,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,u(N))},s.promisify.custom=ue,s.callbackify=function(N){if(typeof N!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var J=[],Y=0;Y<arguments.length;Y++)J.push(arguments[Y]);var L=J.pop();if(typeof L!="function")throw new TypeError("The last argument must be of type Function");var K=this,ie=function(){return L.apply(K,arguments)};N.apply(this,J).then(function(de){({env:{}}).nextTick(ie.bind(null,null,de))},function(de){({env:{}}).nextTick(Q.bind(null,de,ie))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(N)),Object.defineProperties(G,u(N)),G}},7425:(o,s,a)=>{var l=a(2696);o.exports=function(u,c){if(u==null||u.discriminators==null)return null;for(var d=0,f=Object.keys(u.discriminators);d<f.length;d++){var m=f[d],h=u.discriminators[m];if(h.discriminatorMapping!=null&&l(h.discriminatorMapping.value,c))return h}return null}},7430:(o,s,a)=>{var l=a(5832).hp;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(h)}var c=a(6353).Binary,d=a(3305),f=a(2497);a(3672),a(7352);function m(h){return h&&u(h)==="object"&&!(h instanceof Date)&&!d(h,"ObjectId")&&(!Array.isArray(h)||h.length!==0)&&!(h instanceof l)&&!d(h,"Decimal128")&&!(h instanceof c)}s.B=function h(g,S,y,v){var b,_=(b=g&&f(g)&&!l.isBuffer(g)?Object.keys(g.toObject({transform:!1,virtuals:!1})||{}):Object.keys(g||{})).length,x={};S=S?S+".":"";for(var T=0;T<_;++T){var w=b[T],E=g[w];x[S+w]=E;var C=v&&v.path&&v.path(S+w),D=v&&v.nested&&v.nested[S+w];if(!C||C.instance!=="Mixed"){if(m(E)){if(y&&y.skipArrays&&Array.isArray(E))continue;var O=h(E,S+w,y,v);for(var I in O)x[I]=O[I];Array.isArray(E)&&(x[S+w]=E)}if(D)for(var k=0,B=Object.keys(v.paths);k<B.length;k++){var q=B[k];q.startsWith(S+w+".")&&!x.hasOwnProperty(q)&&(x[q]=void 0)}}}return x}},7494:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"_id",m),Object.defineProperty(f.prototype,"minimize",m),o.exports=f},7557:(o,s,a)=>{function l(v){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},l(v)}function u(v,b,_){return(b=function(x){var T=function(w){if(l(w)!="object"||!w)return w;var E=w[Symbol.toPrimitive];if(E!==void 0){var C=E.call(w,"string");if(l(C)!="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(x);return l(T)=="symbol"?T:T+""}(b))in v?Object.defineProperty(v,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):v[b]=_,v}var c=a(8920),d=a(7930).arrayAtomicsSymbol,f=a(7930).arrayAtomicsBackupSymbol,m=a(7930).arrayParentSymbol,h=a(7930).arrayPathSymbol,g=a(7930).arraySchemaSymbol,S=Array.prototype.push,y=/^\d+$/;o.exports=function(v,b,_,x){var T;if(Array.isArray(v)){var w=v.length;if(w===0)T=new Array;else if(w===1)(T=new Array(1))[0]=v[0];else if(w<1e4)T=new Array,S.apply(T,v);else{T=new Array;for(var E=0;E<w;++E)S.call(T,v[E])}}else T=[];var C=u(u(u(u(u(u(u(u({},d,{}),f,void 0),h,b),g,x),m,void 0),"isMongooseArray",!0),"isMongooseArrayProxy",!0),"__array",T);v&&v[d]!=null&&(C[d]=v[d]),_!=null&&_.$__&&(C[m]=_,C[g]=x||_.schema.path(b));var D=new Proxy(T,{get:function(O,I){return C.hasOwnProperty(I)?C[I]:c.hasOwnProperty(I)?c[I]:x&&x.virtuals&&x.virtuals.hasOwnProperty(I)?x.virtuals[I].applyGetters(void 0,O):typeof I=="string"&&y.test(I)&&(x==null?void 0:x.$embeddedSchemaType)!=null?x.$embeddedSchemaType.applyGetters(T[I],_):T[I]},set:function(O,I,k){return typeof I=="string"&&y.test(I)?c.set.call(D,I,k,!1):C.hasOwnProperty(I)?C[I]=k:x&&x.virtuals&&x.virtuals.hasOwnProperty(I)?x.virtuals[I].applySetters(k,O):T[I]=k,!0}});return D}},7591:o=>{var s=null;o.exports.get=function(){return s},o.exports.set=function(a){s=a}},7595:(o,s,a)=>{function l(J){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l(J)}var u=a(5899),c=a(1905),d=a(9834),f=a(7911);function m(J){return J.call.bind(J)}var h=typeof BigInt<"u",g=typeof Symbol<"u",S=m(Object.prototype.toString),y=m(Number.prototype.valueOf),v=m(String.prototype.valueOf),b=m(Boolean.prototype.valueOf);if(h)var _=m(BigInt.prototype.valueOf);if(g)var x=m(Symbol.prototype.valueOf);function T(J,Y){if(l(J)!=="object")return!1;try{return Y(J),!0}catch{return!1}}function w(J){return S(J)==="[object Map]"}function E(J){return S(J)==="[object Set]"}function C(J){return S(J)==="[object WeakMap]"}function D(J){return S(J)==="[object WeakSet]"}function O(J){return S(J)==="[object ArrayBuffer]"}function I(J){return typeof ArrayBuffer<"u"&&(O.working?O(J):J instanceof ArrayBuffer)}function k(J){return S(J)==="[object DataView]"}function B(J){return typeof DataView<"u"&&(k.working?k(J):J instanceof DataView)}s.isArgumentsObject=u,s.isGeneratorFunction=c,s.isTypedArray=f,s.isPromise=function(J){return typeof Promise<"u"&&J instanceof Promise||J!==null&&l(J)==="object"&&typeof J.then=="function"&&typeof J.catch=="function"},s.isArrayBufferView=function(J){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(J):f(J)||B(J)},s.isUint8Array=function(J){return d(J)==="Uint8Array"},s.isUint8ClampedArray=function(J){return d(J)==="Uint8ClampedArray"},s.isUint16Array=function(J){return d(J)==="Uint16Array"},s.isUint32Array=function(J){return d(J)==="Uint32Array"},s.isInt8Array=function(J){return d(J)==="Int8Array"},s.isInt16Array=function(J){return d(J)==="Int16Array"},s.isInt32Array=function(J){return d(J)==="Int32Array"},s.isFloat32Array=function(J){return d(J)==="Float32Array"},s.isFloat64Array=function(J){return d(J)==="Float64Array"},s.isBigInt64Array=function(J){return d(J)==="BigInt64Array"},s.isBigUint64Array=function(J){return d(J)==="BigUint64Array"},w.working=typeof Map<"u"&&w(new Map),s.isMap=function(J){return typeof Map<"u"&&(w.working?w(J):J instanceof Map)},E.working=typeof Set<"u"&&E(new Set),s.isSet=function(J){return typeof Set<"u"&&(E.working?E(J):J instanceof Set)},C.working=typeof WeakMap<"u"&&C(new WeakMap),s.isWeakMap=function(J){return typeof WeakMap<"u"&&(C.working?C(J):J instanceof WeakMap)},D.working=typeof WeakSet<"u"&&D(new WeakSet),s.isWeakSet=function(J){return D(J)},O.working=typeof ArrayBuffer<"u"&&O(new ArrayBuffer),s.isArrayBuffer=I,k.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&k(new DataView(new ArrayBuffer(1),0,1)),s.isDataView=B;var q=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function H(J){return S(J)==="[object SharedArrayBuffer]"}function z(J){return q!==void 0&&(H.working===void 0&&(H.working=H(new q)),H.working?H(J):J instanceof q)}function ne(J){return T(J,y)}function ue(J){return T(J,v)}function Q(J){return T(J,b)}function N(J){return h&&T(J,_)}function G(J){return g&&T(J,x)}s.isSharedArrayBuffer=z,s.isAsyncFunction=function(J){return S(J)==="[object AsyncFunction]"},s.isMapIterator=function(J){return S(J)==="[object Map Iterator]"},s.isSetIterator=function(J){return S(J)==="[object Set Iterator]"},s.isGeneratorObject=function(J){return S(J)==="[object Generator]"},s.isWebAssemblyCompiledModule=function(J){return S(J)==="[object WebAssembly.Module]"},s.isNumberObject=ne,s.isStringObject=ue,s.isBooleanObject=Q,s.isBigIntObject=N,s.isSymbolObject=G,s.isBoxedPrimitive=function(J){return ne(J)||ue(J)||Q(J)||N(J)||G(J)},s.isAnyArrayBuffer=function(J){return typeof Uint8Array<"u"&&(I(J)||z(J))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(J){Object.defineProperty(s,J,{enumerable:!1,value:function(){throw new Error(J+" is not supported in userland")}})})},7760:(o,s,a)=>{function l(Y,L){var K=Object.keys(Y);if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(Y);L&&(ie=ie.filter(function(de){return Object.getOwnPropertyDescriptor(Y,de).enumerable})),K.push.apply(K,ie)}return K}function u(Y){for(var L=1;L<arguments.length;L++){var K=arguments[L]!=null?arguments[L]:{};L%2?l(Object(K),!0).forEach(function(ie){c(Y,ie,K[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(K)):l(Object(K)).forEach(function(ie){Object.defineProperty(Y,ie,Object.getOwnPropertyDescriptor(K,ie))})}return Y}function c(Y,L,K){return(L=function(ie){var de=function(ye){if(f(ye)!="object"||!ye)return ye;var Te=ye[Symbol.toPrimitive];if(Te!==void 0){var me=Te.call(ye,"string");if(f(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ye)}(ie);return f(de)=="symbol"?de:de+""}(L))in Y?Object.defineProperty(Y,L,{value:K,enumerable:!0,configurable:!0,writable:!0}):Y[L]=K,Y}function d(Y,L){(L==null||L>Y.length)&&(L=Y.length);for(var K=0,ie=Array(L);K<L;K++)ie[K]=Y[K];return ie}function f(Y){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},f(Y)}var m,h,g=a(8499),S=a(2555),y=a(8213),v=a(4592),b=a(6426),_=b.CastError,x=a(5022),T=a(2069),w=a(622),E=a(2073),C=a(7982),D=a(4450),O=a(8260),I=a(5110),k=a(7352),B=a(8768),q=a(5558).G,H=a(4327),z=a(9604),ne=a(1058),ue=Symbol("mongoose#isNestedArray"),Q=Object.freeze({});function N(Y,L,K,ie){h||(h=a(9600).Embedded);var de,ye,Te="type";if(ie&&ie.typeKey&&(Te=ie.typeKey),this.schemaOptions=ie,L){var me={};B.isPOJO(L)&&(L[Te]?(delete(me=D(L))[Te],L=L[Te]):L=x),K!=null&&K.ref!=null&&me.ref==null&&(me.ref=K.ref),L===Object&&(L=x);var ae=typeof L=="string"?L:B.getFunctionName(L),ge=a(7953),$=ge.hasOwnProperty(ae)?ge[ae]:L;if(this.casterConstructor=$,this.casterConstructor instanceof N&&(this.casterConstructor[ue]=!0),typeof $!="function"||$.$isArraySubdocument||$.$isSchemaMap)this.caster=$,this.caster instanceof h||(this.caster.path=Y);else{var te=this.caster instanceof h?null:Y;this.caster=new $(te,me)}this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,b.call(this,Y,K,"Array"),this.defaultValue!=null&&(de=this.defaultValue,ye=typeof de=="function"),!("defaultValue"in this)||this.defaultValue!=null){var oe=function(){return ye?de.call(this):de!=null?[].concat(de):[]};oe.$runBeforeSetters=!ye,this.default(oe)}}N.schemaName="Array",N.options={castNonArrays:!0},N.defaultOptions={},N.set=b.set,N.setters=[],N.get=b.get,N.prototype=Object.create(b.prototype),N.prototype.constructor=N,N.prototype.OptionsConstructor=v,N._checkRequired=b.prototype.checkRequired,N.checkRequired=b.checkRequired,N.prototype.virtuals=null,N.prototype.checkRequired=function(Y,L){return f(Y)==="object"&&b._isRef(this,Y,L,!0)?!!Y:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():N.checkRequired())(Y)},N.prototype.enum=function(){for(var Y=this;;){var L=Y&&Y.caster&&Y.caster.instance;if(L!=="Array"){if(L!=="String"&&L!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+L);break}Y=Y.caster}var K=arguments;return!Array.isArray(arguments)&&B.isObject(arguments)&&(K=B.object.vals(K)),Y.caster.enum.apply(Y.caster,K),this},N.prototype.applyGetters=function(Y,L){return L!=null&&L.$__!=null&&L.$populated(this.path)?Y:b.prototype.applyGetters.call(this,Y,L)},N.prototype._applySetters=function(Y,L,K,ie){if(this.casterConstructor.$isMongooseArray&&N.options.castNonArrays&&!this[ue]){for(var de=0,ye=this;ye!=null&&ye.$isMongooseArray&&!ye.$isMongooseDocumentArray;)++de,ye=ye.casterConstructor;if(Y!=null&&Y.length!==0){var Te=E(Y);if(Te.min===Te.max&&Te.max<de&&Te.containsNonArrayItem)for(var me=Te.max;me<de;++me)Y=[Y]}}return b.prototype._applySetters.call(this,Y,L,K,ie)},N.prototype.cast=function(Y,L,K,ie,de){var ye,Te;if(m||(m=a(9600).Array),Array.isArray(Y)){if(!Y.length&&L){var me=L.schema.indexedPaths(),ae=this.path;for(ye=0,Te=me.length;ye<Te;++ye){var ge=me[ye][0][ae];if(ge==="2dsphere"||ge==="2d")return}var $=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if($!=null){for(ye=0,Te=me.length;ye<Te;++ye)if(me[ye][0][$]==="2dsphere")return}}de=de||Q;var te=B.isMongooseArray(Y)?Y.__array:Y,oe=de.path||this.path;if(de.arrayPathIndex!=null&&(oe+="."+de.arrayPathIndex),te=(Y=m(te,oe,L,this)).__array,K&&L!=null&&L.$__!=null&&L.$populated(this.path))return Y;var Se=this.caster,Pe=Se.$isMongooseArray;if(Se&&this.casterConstructor!==x)try{var Oe=te.length;for(ye=0;ye<Oe;ye++){var Be={};Pe&&(de.arrayPath!=null||Se._arrayParentPath!=null)&&(Be.arrayPathIndex=ye),de.hydratedPopulatedDocs&&(Be.hydratedPopulatedDocs=de.hydratedPopulatedDocs),te[ye]=Se.applySetters(te[ye],L,K,void 0,Be)}}catch(ce){throw new _("["+ce.kind+"]",k.inspect(Y),this.path+"."+ye,ce,this)}return Y}var Z=this.options.castNonArrays!=null?this.options.castNonArrays:N.options.castNonArrays;if(K||Z)return L&&K&&L.markModified(this.path),this.cast([Y],L,K);throw new _("Array",k.inspect(Y),this.path,null,this)},N.prototype._castForPopulate=function(Y,L){if(m||(m=a(9600).Array),Array.isArray(Y)){var K,ie=Y.__array?Y.__array:Y,de=ie.length,ye=this.caster;if(ye&&this.casterConstructor!==x)try{for(K=0;K<de;K++){var Te={};ye.$isMongooseArray&&ye._arrayParentPath!=null&&(Te.arrayPathIndex=K),ie[K]=ye.cast(ie[K],L,!1,void 0,Te)}}catch(me){throw new _("["+me.kind+"]",k.inspect(Y),this.path+"."+K,me,this)}return Y}throw new _("Array",k.inspect(Y),this.path,null,this)},N.prototype.$toObject=N.prototype.toObject,N.prototype.discriminator=function(){for(var Y,L=this;L.$isMongooseArray&&!L.$isMongooseDocumentArray;)if((L=L.casterConstructor)==null||typeof L=="function")throw new y("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return(Y=L).discriminator.apply(Y,arguments)},N.prototype.clone=function(){var Y=Object.assign({},this.options),L=new this.constructor(this.path,this.caster,Y,this.schemaOptions);return L.validators=this.validators.slice(),this.requiredValidator!==void 0&&(L.requiredValidator=this.requiredValidator),L},N.prototype._castForQuery=function(Y,L){var K=this,ie=this.casterConstructor;if(Y&&ie.discriminators&&ie.schema&&ie.schema.options&&ie.schema.options.discriminatorKey)if(typeof Y[ie.schema.options.discriminatorKey]=="string"&&ie.discriminators[Y[ie.schema.options.discriminatorKey]])ie=ie.discriminators[Y[ie.schema.options.discriminatorKey]];else{var de=ne(ie.discriminators,Y[ie.schema.options.discriminatorKey]);de&&(ie=de)}var ye=this.casterConstructor.prototype,Te=ye&&ye.castForQuery,me=ye&&ye.cast,ae=ie.castForQuery,ge=this.caster;return Array.isArray(Y)?(this.setters.reverse().forEach(function($){Y=$.call(K,Y,K)}),Y=Y.map(function($){return B.isObject($)&&$.$elemMatch?$:Te?$=Te.call(ge,null,$,L):me?$=me.call(ge,$):ae?$=ae.call(ge,null,$,L):$!=null?$=new ie($):$})):Te?Y=Te.call(ge,null,Y,L):me?Y=me.call(ge,Y):ae?Y=ae.call(ge,null,Y,L):Y!=null&&(Y=new ie(Y)),Y},N.prototype.castForQuery=function(Y,L,K){var ie;if(Y!=null){if(!(ie=this.$conditionalHandlers[Y]))throw new Error("Can't use "+Y+" with Array.");return ie.call(this,L,K)}return this._castForQuery(L,K)},N.prototype.virtual=function(Y,L){if(Y instanceof w||O(Y)==="VirtualType")return this.virtual(Y.path,Y.options);if(L=new T(L),B.hasUserDefinedProperty(L,["ref","refPath"]))throw new y("Cannot set populate virtual as a property of an array");var K=new w(L,Y);return this.virtuals===null&&(this.virtuals={}),this.virtuals[Y]=K,K};var G=N.prototype.$conditionalHandlers={};function J(Y){return function(L,K){if(!Array.isArray(L))throw new TypeError("conditional "+Y+" requires an array");var ie,de=[],ye=function(ae,ge){var $=typeof Symbol<"u"&&ae[Symbol.iterator]||ae["@@iterator"];if(!$){if(Array.isArray(ae)||($=function(Be,Z){if(Be){if(typeof Be=="string")return d(Be,Z);var ce={}.toString.call(Be).slice(8,-1);return ce==="Object"&&Be.constructor&&(ce=Be.constructor.name),ce==="Map"||ce==="Set"?Array.from(Be):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?d(Be,Z):void 0}}(ae))||ge){$&&(ae=$);var te=0,oe=function(){};return{s:oe,n:function(){return te>=ae.length?{done:!0}:{done:!1,value:ae[te++]}},e:function(Be){throw Be},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Se,Pe=!0,Oe=!1;return{s:function(){$=$.call(ae)},n:function(){var Be=$.next();return Pe=Be.done,Be},e:function(Be){Oe=!0,Se=Be},f:function(){try{Pe||$.return==null||$.return()}finally{if(Oe)throw Se}}}}(L);try{for(ye.s();!(ie=ye.n()).done;){var Te,me=ie.value;de.push(C((Te=this.casterConstructor.schema)!==null&&Te!==void 0?Te:K.schema,me,null,this&&this.$$context))}}catch(ae){ye.e(ae)}finally{ye.f()}return de}}G.$all=function(Y,L){var K=this;return Array.isArray(Y)||(Y=[Y]),Y=Y.map(function(ie){if(!B.isObject(ie))return ie;if(ie.$elemMatch!=null)return{$elemMatch:C(K.casterConstructor.schema,ie.$elemMatch,null,K&&K.$$context)};var de={};return de[K.path]=ie,C(K.casterConstructor.schema,de,null,K&&K.$$context)[K.path]},this),this.castForQuery(null,Y,L)},G.$options=String,G.$elemMatch=function(Y,L){for(var K=Object.keys(Y),ie=K.length,de=0;de<ie;++de){var ye=K[de],Te=Y[ye];I(ye)&&Te!=null&&(Y[ye]=this.castForQuery(ye,Te,L))}return Y},G.$geoIntersects=z.cast$geoIntersects,G.$or=J("$or"),G.$and=J("$and"),G.$nor=J("$nor"),G.$near=G.$nearSphere=z.cast$near,G.$within=G.$geoWithin=z.cast$within,G.$size=G.$minDistance=G.$maxDistance=q,G.$exists=g,G.$type=S,G.$eq=G.$gt=G.$gte=G.$lt=G.$lte=G.$not=G.$regex=G.$ne=N.prototype._castForQuery,G.$nin=b.prototype.$conditionalHandlers.$nin,G.$in=b.prototype.$conditionalHandlers.$in,N.prototype.toJSONSchema=function(Y){var L=this.getEmbeddedSchemaType(),K=this.options.required&&typeof this.options.required!="function";return u(u({},H("array","array",Y==null?void 0:Y.useBsonType,K)),{},{items:L.toJSONSchema(Y)})},N.prototype.autoEncryptionType=function(){return"array"},o.exports=N},7768:(o,s,a)=>{var l=a(2402);o.exports=function(u){return u==null?u:u===""?null:(typeof u!="string"&&typeof u!="boolean"||(u=Number(u)),l.ok(!isNaN(u)),u instanceof Number?u.valueOf():typeof u=="number"?u:Array.isArray(u)||typeof u.valueOf!="function"?u.toString&&!Array.isArray(u)&&u.toString()==Number(u)?Number(u):void l.ok(!1):Number(u.valueOf()))}},7834:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a,l,u,c){return c.justOne||c.count?(a[l]=Array.isArray(u)?u[0]:u,s(a[l])!=="object"&&(a[l]=c.count?u:null)):(a[l]=Array.isArray(u)?u:u==null?[]:[u],a[l]=a[l].filter(function(d){return d&&s(d)==="object"})),a[l]}},7860:o=>{o.exports=function(s){for(var a=[],l="",u="DEFAULT",c=0;c<s.length;++c)u!=="IN_SQUARE_BRACKETS"||/\d/.test(s[c])||s[c]==="]"||(u="DEFAULT",l=a[a.length-1]+"["+l,a.splice(a.length-1,1)),s[c]==="["?(u!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(a.push(l),l=""),u="IN_SQUARE_BRACKETS"):s[c]==="]"?u==="IN_SQUARE_BRACKETS"?(u="IMMEDIATELY_AFTER_SQUARE_BRACKETS",a.push(l),l=""):(u="DEFAULT",l+=s[c]):s[c]==="."?(u!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(a.push(l),l=""),u="DEFAULT"):l+=s[c];return u!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&a.push(l),a}},7878:(o,s,a)=>{var l=a(2273),u=a(4183);o.exports=function(){var c=u();return l(Number,{isNaN:c},{isNaN:function(){return Number.isNaN!==c}}),c}},7910:(o,s,a)=>{var l=a(1058);o.exports=function(u,c,d){var f=u.schema.options.discriminatorKey,m=c!=null&&c[f];if(m==null&&(m=d),u.discriminators&&m!=null)if(u.discriminators[m])u=u.discriminators[m];else{var h=l(u.discriminators,m);h&&(u=h)}return u}},7911:(o,s,a)=>{var l=a(9834);o.exports=function(u){return!!l(u)}},7930:(o,s)=>{s.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup"),s.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),s.arrayParentSymbol=Symbol("mongoose#Array#_parent"),s.arrayPathSymbol=Symbol("mongoose#Array#_path"),s.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),s.documentArrayParent=Symbol("mongoose#documentArrayParent"),s.documentIsSelected=Symbol("mongoose#Document#isSelected"),s.documentIsModified=Symbol("mongoose#Document#isModified"),s.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),s.documentSchemaSymbol=Symbol("mongoose#Document#schema"),s.getSymbol=Symbol("mongoose#Document#get"),s.modelSymbol=Symbol("mongoose#Model"),s.objectIdSymbol=Symbol("mongoose#ObjectId"),s.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model"),s.schemaTypeSymbol=Symbol("mongoose#schemaType"),s.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments"),s.scopeSymbol=Symbol("mongoose#Document#scope"),s.validatorErrorSymbol=Symbol("mongoose#validatorError")},7944:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){return a&&s(a)==="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"}},7953:(o,s,a)=>{s.Array=a(7760),s.BigInt=a(3318),s.Boolean=a(6413),s.Buffer=a(2307),s.Date=a(2345),s.Decimal128=s.Decimal=a(7045),s.DocumentArray=a(9123),s.Double=a(1732),s.Int32=a(433),s.Map=a(6867),s.Mixed=a(5022),s.Number=a(3660),s.ObjectId=a(3091),s.String=a(8728),s.Subdocument=a(5098),s.UUID=a(2134),s.Union=a(8866),s.Oid=s.ObjectId,s.Object=s.Mixed,s.Bool=s.Boolean,s.ObjectID=s.ObjectId},7982:(o,s,a)=>{function l(O,I){var k=typeof Symbol<"u"&&O[Symbol.iterator]||O["@@iterator"];if(!k){if(Array.isArray(O)||(k=function(ue,Q){if(ue){if(typeof ue=="string")return u(ue,Q);var N={}.toString.call(ue).slice(8,-1);return N==="Object"&&ue.constructor&&(N=ue.constructor.name),N==="Map"||N==="Set"?Array.from(ue):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?u(ue,Q):void 0}}(O))||I){k&&(O=k);var B=0,q=function(){};return{s:q,n:function(){return B>=O.length?{done:!0}:{done:!1,value:O[B++]}},e:function(ue){throw ue},f:q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,z=!0,ne=!1;return{s:function(){k=k.call(O)},n:function(){var ue=k.next();return z=ue.done,ue},e:function(ue){ne=!0,H=ue},f:function(){try{z||k.return==null||k.return()}finally{if(ne)throw H}}}}function u(O,I){(I==null||I>O.length)&&(I=O.length);for(var k=0,B=Array(I);k<I;k++)B[k]=O[k];return B}function c(O){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},c(O)}var d=a(3609),f=a(8995),m=a(7953),h=a(170),g=a(1244),S=a(9064),y=a(3703),v=a(7425),b=a(5110),_=a(7352),x=a(608),T=a(2497),w=a(8768),E=["Polygon","MultiPolygon"];function C(O,I,k){if(Array.isArray(O))O.forEach(function(ne,ue){if(Array.isArray(ne)||x(ne))return C(ne,I,k);O[ue]=I.castForQuery(null,ne,k)});else for(var B=Object.keys(O),q=B.length;q--;){var H=B[q],z=O[H];Array.isArray(z)||x(z)?(C(z,I,k),O[H]=z):O[H]=I.castForQuery({val:z,context:k})}}function D(O,I,k,B){if("strictQuery"in O)return O.strictQuery;if("strictQuery"in I)return I.strictQuery;var q=B&&B.mongooseCollection&&B.mongooseCollection.conn&&B.mongooseCollection.conn.base&&B.mongooseCollection.conn.base.options;return q&&"strictQuery"in q?q.strictQuery:k.strictQuery}o.exports=function O(I,k,B,q){if(Array.isArray(k))throw new Error("Query filter must be an object, got an array ",_.inspect(k));if(k==null)return k;I!=null&&I.discriminators!=null&&k[I.options.discriminatorKey]!=null&&(I=v(I,k[I.options.discriminatorKey])||I);var H,z,ne,ue,Q,N,G=Object.keys(k),J=G.length;for(B=B||{};J--;)if(N=k[ue=G[J]],ue==="$or"||ue==="$nor"||ue==="$and"){if(!Array.isArray(N))throw new d("Array",N,ue);for(var Y=N.length-1;Y>=0;Y--){if(N[Y]==null||c(N[Y])!=="object")throw new d("Object",N[Y],ue+"."+Y);var L=Object.keys(N[Y]).length,K=N[Y][I.options.discriminatorKey];if(K==null)N[Y]=O(I,N[Y],B,q);else{var ie=v(q.schema,K);N[Y]=O(ie||I,N[Y],B,q)}Object.keys(N[Y]).length===0&&L!==0&&N.splice(Y,1)}N.length===0&&delete k[ue]}else{if(ue==="$where"){if((Q=c(N))!=="string"&&Q!=="function")throw new Error("Must have a string or function for $where");Q==="function"&&(k[ue]=N.toString());continue}if(ue==="$expr"){N=h(N,I);continue}if(ue==="$elemMatch")N=O(I,N,B,q);else if(ue==="$text")N=S(N,ue);else if(ue!=="$comment"||I.paths.hasOwnProperty("$comment")){if(!I)continue;if(!(z=I.path(ue)))for(var de=ue.split("."),ye=de.length;ye--;){var Te=de.slice(0,ye).join("."),me=de.slice(ye).join("."),ae=I.path(Te),ge=ae&&ae.schema&&ae.schema.options&&ae.schema.options.discriminatorKey;if(ae!=null&&(ae.schema&&ae.schema.discriminators)!=null&&ge!=null&&me!==ge){var $=y(k,Te+"."+ge),te=ae.schema.discriminators;typeof $=="string"&&te[$]!=null?z=te[$].path(me):$!=null&&Object.keys($).length===1&&Array.isArray($.$in)&&$.$in.length===1&&typeof $.$in[0]=="string"&&te[$.$in[0]]!=null&&(z=te[$.$in[0]].path(me))}}if(z){if(N==null)continue;if(w.isPOJO(N))if(Object.keys(N).some(b))for(var oe=Object.keys(N),Se=void 0,Pe=oe.length;Pe--;)if(ne=N[Se=oe[Pe]],Se==="$elemMatch")ne&&z!=null&&z.schema!=null?O(z.schema,ne,B,q):ne&&z!=null&&z.$isMongooseArray&&(w.isPOJO(ne)&&ne.$not!=null?O(I,ne,B,q):N[Se]=z.castForQuery(Se,ne,q));else if(Se==="$not"){if(ne&&z){if((H=Object.keys(ne)).length&&b(H[0]))for(var Oe in ne)ne[Oe]=z.castForQuery(Oe,ne[Oe],q);else N[Se]=z.castForQuery(Se,ne,q);continue}}else N[Se]=z.castForQuery(Se,ne,q);else k[ue]=z.castForQuery(null,N,q);else if(Array.isArray(N)&&["Buffer","Array"].indexOf(z.instance)===-1&&!B.sanitizeFilter){var Be,Z=[],ce=l(N);try{for(ce.s();!(Be=ce.n()).done;){var xe=Be.value;Z.push(z.castForQuery(null,xe,q))}}catch(Jn){ce.e(Jn)}finally{ce.f()}k[ue]={$in:Z}}else k[ue]=z.castForQuery(null,N,q)}else{for(var Ce=ue.split("."),pe=Ce.length,je=void 0,Qe=void 0,Ve=void 0;pe--&&(je=Ce.slice(0,pe).join("."),!(z=I.path(je))););if(z){if(z.caster&&z.caster.schema){(Ve={})[Qe=Ce.slice(pe).join(".")]=N;var Ne=O(z.caster.schema,Ve,B,q)[Qe];Ne===void 0?delete k[ue]:k[ue]=Ne}else k[ue]=N;continue}if(x(N)){var Je="";if(N.$near?Je="$near":N.$nearSphere?Je="$nearSphere":N.$within?Je="$within":N.$geoIntersects?Je="$geoIntersects":N.$geoWithin&&(Je="$geoWithin"),Je){var qe=new m.Number("__QueryCasting__"),Ze=N[Je];if(N.$maxDistance!=null&&(N.$maxDistance=qe.castForQuery(null,N.$maxDistance,q)),N.$minDistance!=null&&(N.$minDistance=qe.castForQuery(null,N.$minDistance,q)),Je==="$within"){var Mt=Ze.$center||Ze.$centerSphere||Ze.$box||Ze.$polygon;if(!Mt)throw new Error("Bad $within parameter: "+JSON.stringify(N));Ze=Mt}else if(Je==="$near"&&typeof Ze.type=="string"&&Array.isArray(Ze.coordinates))Ze=Ze.coordinates;else if((Je==="$near"||Je==="$nearSphere"||Je==="$geoIntersects")&&Ze.$geometry&&typeof Ze.$geometry.type=="string"&&Array.isArray(Ze.$geometry.coordinates))Ze.$maxDistance!=null&&(Ze.$maxDistance=qe.castForQuery(null,Ze.$maxDistance,q)),Ze.$minDistance!=null&&(Ze.$minDistance=qe.castForQuery(null,Ze.$minDistance,q)),T(Ze.$geometry)&&(Ze.$geometry=Ze.$geometry.toObject({transform:!1,virtuals:!1})),Ze=Ze.$geometry.coordinates;else if(Je==="$geoWithin")if(Ze.$geometry){T(Ze.$geometry)&&(Ze.$geometry=Ze.$geometry.toObject({virtuals:!1}));var Ut=Ze.$geometry.type;if(E.indexOf(Ut)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+Ut+'", must be "Polygon" or "MultiPolygon"');Ze=Ze.$geometry.coordinates}else Ze=Ze.$box||Ze.$polygon||Ze.$center||Ze.$centerSphere,T(Ze)&&(Ze=Ze.toObject({virtuals:!1}));C(Ze,qe,q);continue}}if(I.nested[ue])continue;var Ft="strict"in B?B.strict:I.options.strict,bt=D(B,I._userProvidedOptions,I.options,q);if(B.upsert&&Ft)throw Ft==="throw"?new f(ue):new f(ue,'Path "'+ue+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(bt==="throw")throw new f(ue,'Path "'+ue+`" is not in schema and strictQuery is 'throw'.`);bt&&delete k[ue]}}else N=g(N,ue),k[ue]=N}return k}},8063:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,h),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,h,[`Schema hasn't been registered for model "`+S+`".
Use mongoose.model(name, schema)`])}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"MissingSchemaError"}),o.exports=f},8093:o=>{o.exports=Object},8133:(o,s,a)=>{var l=a(8995);o.exports=function(u){var c,d;u.$immutable?(u.$immutableSetter=(c=u.path,d=u.options.immutable,function(f,m,h,g){if(this==null||this.$__==null||this.isNew||g&&g.overwriteImmutable||!(typeof d=="function"?d.call(this,this):d))return f;var S=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(c):this.$__getValue(c);if(this.$__.strictMode==="throw"&&f!==S)throw new l(c,"Path `"+c+"` is immutable and strict mode is set to throw.",!0);return S}),u.set(u.$immutableSetter)):u.$immutableSetter&&(u.setters=u.setters.filter(function(f){return f!==u.$immutableSetter}),delete u.$immutableSetter)}},8188:o=>{o.exports=URIError},8213:o=>{function s(f){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(f)}function a(f){var m=typeof Map=="function"?new Map:void 0;return a=function(h){if(h===null||!function(S){try{return Function.toString.call(S).indexOf("[native code]")!==-1}catch{return typeof S=="function"}}(h))return h;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(m!==void 0){if(m.has(h))return m.get(h);m.set(h,g)}function g(){return function(S,y,v){if(l())return Reflect.construct.apply(null,arguments);var b=[null];b.push.apply(b,y);var _=new(S.bind.apply(S,b));return v&&u(_,v.prototype),_}(h,arguments,c(this).constructor)}return g.prototype=Object.create(h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),u(g,h)},a(f)}function l(){try{var f=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!f})()}function u(f,m){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,g){return h.__proto__=g,h},u(f,m)}function c(f){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(m){return m.__proto__||Object.getPrototypeOf(m)},c(f)}var d=function(f){function m(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,m),function(g,S,y){return S=c(S),function(v,b){if(b&&(s(b)=="object"||typeof b=="function"))return b;if(b!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}(v)}(g,l()?Reflect.construct(S,y||[],c(g).constructor):S.apply(g,y))}(this,m,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&u(g,S)}(m,f),h=m,Object.defineProperty(h,"prototype",{writable:!1}),h;var h}(a(Error));Object.defineProperty(d.prototype,"name",{value:"MongooseError"}),o.exports=d},8235:(o,s,a)=>{var l=a(8213),u=a(6426),c=a(5098),d=a(7910);function f(m,h){if(this.$parentSchemaType=h&&h.$parentSchemaType,!this.$parentSchemaType)throw new l("Cannot create DocumentArrayElement schematype without a parent");delete h.$parentSchemaType,u.call(this,m,h,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}f.schemaName="DocumentArrayElement",f.defaultOptions={},f.prototype=Object.create(u.prototype),f.prototype.constructor=f,f.prototype.cast=function(){var m;return(m=this.$parentSchemaType).cast.apply(m,arguments)[0]},f.prototype.doValidate=function(m,h,g,S){var y=d(this.caster,m);return!m||m instanceof y||(m=new y(m,g,null,null,S&&S.index!=null?S.index:null)),c.prototype.doValidate.call(this,m,h,g,S)},f.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;var m=u.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,m.caster=this.caster,m.schema=this.schema,m},o.exports=f},8250:(o,s,a)=>{var l=a(5832).hp,u=a(6365),c=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,d=u.Binary;function f(m){typeof m!="string"&&(m="");var h,g=(h=m.replace(/[{}-]/g,""))!=null&&l.from(h,"hex"),S=new u(g);return S._subtype=4,S}o.exports=function(m){if(m==null)return m;function h(g){var S=new u(g);return S._subtype=4,S}if(typeof m=="string"){if(c.test(m))return f(m);throw new Error('"'.concat(m,'" is not a valid UUID string'))}if(l.isBuffer(m))return h(m);if(m instanceof d)return h(m.value(!0));if(m.toString&&m.toString!==Object.prototype.toString&&c.test(m.toString()))return f(m.toString());throw new Error('"'.concat(m,'" cannot be casted to a UUID'))},o.exports.UUID_FORMAT=c},8260:o=>{o.exports=function(s){if(s!=null&&typeof s.constructor=="function")return s.constructor.name}},8285:(o,s,a)=>{var l=a(2400),u=a(2580),c=!1;o.exports=function(){return c?u:l},o.exports.setBrowser=function(d){c=d}},8297:o=>{function s(b,_){var x=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!x){if(Array.isArray(b)||(x=l(b))||_){x&&(b=x);var T=0,w=function(){};return{s:w,n:function(){return T>=b.length?{done:!0}:{done:!1,value:b[T++]}},e:function(O){throw O},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,C=!0,D=!1;return{s:function(){x=x.call(b)},n:function(){var O=x.next();return C=O.done,O},e:function(O){D=!0,E=O},f:function(){try{C||x.return==null||x.return()}finally{if(D)throw E}}}}function a(b){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},a(b)}function l(b,_){if(b){if(typeof b=="string")return u(b,_);var x={}.toString.call(b).slice(8,-1);return x==="Object"&&b.constructor&&(x=b.constructor.name),x==="Map"||x==="Set"?Array.from(b):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?u(b,_):void 0}}function u(b,_){(_==null||_>b.length)&&(_=b.length);for(var x=0,T=Array(_);x<_;x++)T[x]=b[x];return T}function c(b,_,x){if(d())return Reflect.construct.apply(null,arguments);var T=[null];T.push.apply(T,_);var w=new(b.bind.apply(b,T));return w}function d(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!b})()}function f(){this._pres=new Map,this._posts=new Map}function m(b,_,x,T,w,E,C){return E.useErrorHandlers?b.execPost(x,T,w,{error:_},function(D){return typeof C=="function"&&C(D)}):typeof C=="function"&&C(_)}function h(b,_,x,T){var w;try{w=b.apply(_,x)}catch(E){return T(E)}g(w)&&w.then(function(){return T()},function(E){return T(E)})}function g(b){return a(b)==="object"&&b!==null&&typeof b.then=="function"}function S(b){var _=!1,x=this;return function(){var T=arguments;if(!_)return _=!0,y(function(){return b.apply(x,T)})}}f.skipWrappedFunction=function(){if(!(this instanceof f.skipWrappedFunction))return c(f.skipWrappedFunction,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},f.overwriteResult=function(){if(!(this instanceof f.overwriteResult))return c(f.overwriteResult,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},f.prototype.execPre=function(b,_,x,T){arguments.length===3&&(T=x,x=[]);var w=this._pres.get(b)||[],E=w.length,C=w.numAsync||0,D=0,O=C,I=!1,k=x,B=null;if(!E)return y(function(){T(null)});function q(){if(!(D>=E)){var z=w[D];if(z.isAsync){var ne=[S(H),S(function(J){if(J){if(I)return;if(!(J instanceof f.skipWrappedFunction))return I=!0,T(J);B=J}if(--O===0&&D>=E)return T(B)})];h(z.fn,_,ne,ne[0])}else if(z.fn.length>0){for(var ue=[S(H)],Q=arguments.length>=2?arguments:[null].concat(k),N=1;N<Q.length;++N)N===Q.length-1&&typeof Q[N]=="function"||ue.push(Q[N]);h(z.fn,_,ue,ue[0])}else{var G=null;try{G=z.fn.call(_)}catch(J){if(J!=null)return T(J)}if(g(G))G.then(function(){return H()},function(J){return H(J)});else{if(++D>=E)return O>0?void 0:y(function(){T(B)});q()}}}}function H(z){if(z){if(I)return;if(!(z instanceof f.skipWrappedFunction))return I=!0,T(z);B=z}if(++D>=E)return O>0?void 0:T(B);q.apply(_,arguments)}q.apply(null,[null].concat(x))},f.prototype.execPreSync=function(b,_,x){for(var T=this._pres.get(b)||[],w=T.length,E=0;E<w;++E)T[E].fn.apply(_,x||[])},f.prototype.execPost=function(b,_,x,T,w){arguments.length<5&&(w=T,T=null);var E=this._posts.get(b)||[],C=E.length,D=0,O=null;if(T&&T.error&&(O=T.error),!C)return y(function(){w.apply(null,[O].concat(x))});(function I(){for(var k=E[D].fn,B=0,q=x.length,H=[],z=0;z<q;++z)B+=x[z]&&x[z]._kareemIgnore?0:1,x[z]&&x[z]._kareemIgnore||H.push(x[z]);if(O)if(v(E[D],B)){var ne=S(function(G){if(G){if(G instanceof f.overwriteResult)return x=G.args,++D>=C?w.call(null,O):I();O=G}if(++D>=C)return w.call(null,O);I()});h(k,_,[O].concat(H).concat([ne]),ne)}else{if(++D>=C)return w.call(null,O);I()}else{var ue=S(function(G){return G?G instanceof f.overwriteResult?(x=G.args,++D>=C?w.apply(null,[null].concat(x)):I()):(O=G,I()):++D>=C?w.apply(null,[null].concat(x)):void I()});if(v(E[D],B))return++D>=C?w.apply(null,[null].concat(x)):I();if(k.length===B+1)h(k,_,H.concat([ue]),ue);else{var Q,N;try{N=k.apply(_,H)}catch(G){Q=G,O=G}if(g(N))return N.then(function(G){ue(G instanceof f.overwriteResult?G:null)},function(G){return ue(G)});if(N instanceof f.overwriteResult&&(x=N.args),++D>=C)return w.apply(null,[Q].concat(x));I()}}})()},f.prototype.execPostSync=function(b,_,x){for(var T=this._posts.get(b)||[],w=T.length,E=0;E<w;++E){var C=T[E].fn.apply(_,x||[]);C instanceof f.overwriteResult&&(x=C.args)}return x},f.prototype.createWrapperSync=function(b,_){var x=this;return function(){x.execPreSync(b,this,arguments);var T=_.apply(this,arguments);return x.execPostSync(b,this,[T])[0]}},f.prototype.wrap=function(b,_,x,T,w){var E=T.length>0?T[T.length-1]:null,C=Array.from(T);typeof E=="function"&&C.pop();var D=this,O=(w=w||{}).checkForPromise;this.execPre(b,x,T,function(I){if(I&&!(I instanceof f.skipWrappedFunction)){for(var k=w.numCallbackParams||0,B=w.contextParameter?[x]:[],q=B.length;q<k;++q)B.push(null);return m(D,I,b,x,B,w,E)}var H,z,ne=_.length;if(I instanceof f.skipWrappedFunction)return H=I.args[0],ue.apply(void 0,[null].concat(function(Q){if(Array.isArray(Q))return u(Q)}(z=I.args)||function(Q){if(typeof Symbol<"u"&&Q[Symbol.iterator]!=null||Q["@@iterator"]!=null)return Array.from(Q)}(z)||l(z)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()));try{H=_.apply(x,C.concat(ue))}catch(Q){return ue(Q)}if(O){if(g(H))return H.then(function(Q){return ue(null,Q)},function(Q){return ue(Q)});if(ne<C.length+1)return ue(null,H)}function ue(){var Q=Array.from(arguments);if(Q.shift(),w.nullResultByDefault&&Q.length===0&&Q.push(null),arguments[0])return m(D,arguments[0],b,x,Q,w,E);D.execPost(b,x,Q,function(){E!==null&&(arguments[0]?E(arguments[0]):E.apply(x,arguments))})}})},f.prototype.filter=function(b){for(var _=this,x=this.clone(),T=Array.from(x._pres.keys()),w=function(){var B=C[E],q=_._pres.get(B).map(function(H){return Object.assign({},H,{name:B})}).filter(b);if(q.length===0)return x._pres.delete(B),1;q.numAsync=q.filter(function(H){return H.isAsync}).length,x._pres.set(B,q)},E=0,C=T;E<C.length;E++)w();for(var D=Array.from(x._posts.keys()),O=function(){var B=k[I],q=_._posts.get(B).map(function(H){return Object.assign({},H,{name:B})}).filter(b);if(q.length===0)return x._posts.delete(B),1;x._posts.set(B,q)},I=0,k=D;I<k.length;I++)O();return x},f.prototype.hasHooks=function(b){return this._pres.has(b)||this._posts.has(b)},f.prototype.createWrapper=function(b,_,x,T){var w=this;return this.hasHooks(b)?function(){var E=x||this;w.wrap(b,_,E,Array.from(arguments),T)}:function(){var E=arguments,C=this;y(function(){return _.apply(C,E)})}},f.prototype.pre=function(b,_,x,T,w){var E={};a(_)==="object"&&_!==null?_=(E=_).isAsync:typeof arguments[1]!="boolean"&&(x=_,_=!1);var C=this._pres.get(b)||[];if(this._pres.set(b,C),_&&(C.numAsync=C.numAsync||0,++C.numAsync),typeof x!="function")throw new Error('pre() requires a function, got "'+a(x)+'"');return w?C.unshift(Object.assign({},E,{fn:x,isAsync:_})):C.push(Object.assign({},E,{fn:x,isAsync:_})),this},f.prototype.post=function(b,_,x,T){var w=this._posts.get(b)||[];if(typeof _=="function"&&(T=!!x,x=_,_={}),typeof x!="function")throw new Error('post() requires a function, got "'+a(x)+'"');return T?w.unshift(Object.assign({},_,{fn:x})):w.push(Object.assign({},_,{fn:x})),this._posts.set(b,w),this},f.prototype.clone=function(){var b,_=new f,x=s(this._pres.keys());try{for(x.s();!(b=x.n()).done;){var T=b.value,w=this._pres.get(T).slice();w.numAsync=this._pres.get(T).numAsync,_._pres.set(T,w)}}catch(O){x.e(O)}finally{x.f()}var E,C=s(this._posts.keys());try{for(C.s();!(E=C.n()).done;){var D=E.value;_._posts.set(D,this._posts.get(D).slice())}}catch(O){C.e(O)}finally{C.f()}return _},f.prototype.merge=function(b,_){var x,T=(_=arguments.length===1||_)?this.clone():this,w=s(b._pres.keys());try{var E=function(){var I=x.value,k=T._pres.get(I)||[],B=b._pres.get(I).filter(function(H){return k.map(function(z){return z.fn}).indexOf(H.fn)===-1}),q=k.concat(B);q.numAsync=k.numAsync||0,q.numAsync+=B.filter(function(H){return H.isAsync}).length,T._pres.set(I,q)};for(w.s();!(x=w.n()).done;)E()}catch(I){w.e(I)}finally{w.f()}var C,D=s(b._posts.keys());try{var O=function(){var I=C.value,k=T._posts.get(I)||[],B=b._posts.get(I).filter(function(q){return k.indexOf(q)===-1});T._posts.set(I,k.concat(B))};for(D.s();!(C=D.n()).done;)O()}catch(I){D.e(I)}finally{D.f()}return T};var y=a({env:{}})==="object"&&{}!==null&&{}.nextTick||function(b){setTimeout(b,0)};function v(b,_){return!!b.errorHandler||b.fn.length===_+2}o.exports=f},8435:o=>{o.exports=Math.min},8442:(o,s,a)=>{var l=a(1898);o.exports=function(u){for(var c=0,d=Object.values(l);c<d.length;c++)(0,d[c])(u,{deduplicate:!0});u.plugins=Object.values(l).map(function(f){return{fn:f,opts:{deduplicate:!0}}}).concat(u.plugins)}},8499:(o,s,a)=>{var l=a(8953);o.exports=function(u){var c=this!=null?this.path:null;return l(u,c)}},8517:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y,v){var b,_,x;(function(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")})(this,h);var T=(b=v==null?void 0:v.matchedCount)!==null&&b!==void 0?b:0,w=(_=v==null?void 0:v.insertedCount)!==null&&_!==void 0?_:0,E=y.map(function(D){return D._id}).join(", ");E.length>100&&(E=E.slice(0,100)+"...");var C=y.length-T-w;return(x=function(D,O,I){return O=c(O),function(k,B){if(B&&(l(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(k)}(D,u()?Reflect.construct(O,I||[],c(D).constructor):O.apply(D,I))}(this,h,["".concat(S,".bulkSave() was not able to update ").concat(C," of the given documents due to incorrect version or optimistic concurrency, document ids: ").concat(E)])).modelName=S,x.documents=y,x.bulkWriteResult=v,x.numDocumentsNotUpdated=C,x}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"MongooseBulkSaveIncompleteError"}),o.exports=f},8533:(o,s,a)=>{var l=a(5832).hp;function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},u(h)}function c(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c=function(){return!!h})()}function d(h){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},d(h)}function f(h,g){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},f(h,g)}a(7591).set(a(4026));var m=a(8285);m.setBrowser(!0),s.Error=a(3672),s.Schema=a(7058),s.Types=a(9600),s.VirtualType=a(622),s.SchemaType=a(6426),s.SchemaTypeOptions=a(8879),s.utils=a(8768),s.Document=m(),s.model=function(h,g){var S=function(y){function v(_,x){return function(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}(this,v),function(T,w,E){return w=d(w),function(C,D){if(D&&(u(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}(C)}(T,c()?Reflect.construct(w,E||[],d(T).constructor):w.apply(T,E))}(this,v,[_,g,x])}return function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),x&&f(_,x)}(v,y),b=v,Object.defineProperty(b,"prototype",{writable:!1}),b;var b}(s.Document);return S.modelName=h,S},typeof window<"u"&&(window.mongoose=o.exports,window.Buffer=l)},8633:o=>{o.exports=Math.pow},8690:o=>{function s(){var u,c,d=typeof Symbol=="function"?Symbol:{},f=d.iterator||"@@iterator",m=d.toStringTag||"@@toStringTag";function h(T,w,E,C){var D=w&&w.prototype instanceof S?w:S,O=Object.create(D.prototype);return a(O,"_invoke",function(I,k,B){var q,H,z,ne=0,ue=B||[],Q=!1,N={p:0,n:0,v:u,a:G,f:G.bind(u,4),d:function(J,Y){return q=J,H=0,z=u,N.n=Y,g}};function G(J,Y){for(H=J,z=Y,c=0;!Q&&ne&&!L&&c<ue.length;c++){var L,K=ue[c],ie=N.p,de=K[2];J>3?(L=de===Y)&&(z=K[(H=K[4])?5:(H=3,3)],K[4]=K[5]=u):K[0]<=ie&&((L=J<2&&ie<K[1])?(H=0,N.v=Y,N.n=K[1]):ie<de&&(L=J<3||K[0]>Y||Y>de)&&(K[4]=J,K[5]=Y,N.n=de,H=0))}if(L||J>1)return g;throw Q=!0,Y}return function(J,Y,L){if(ne>1)throw TypeError("Generator is already running");for(Q&&Y===1&&G(Y,L),H=Y,z=L;(c=H<2?u:z)||!Q;){q||(H?H<3?(H>1&&(N.n=-1),G(H,z)):N.n=z:N.v=z);try{if(ne=2,q){if(H||(J="next"),c=q[J]){if(!(c=c.call(q,z)))throw TypeError("iterator result is not an object");if(!c.done)return c;z=c.value,H<2&&(H=0)}else H===1&&(c=q.return)&&c.call(q),H<2&&(z=TypeError("The iterator does not provide a '"+J+"' method"),H=1);q=u}else if((c=(Q=N.n<0)?z:I.call(k,N))!==g)break}catch(K){q=u,H=1,z=K}finally{ne=1}}return{value:c,done:Q}}}(T,E,C),!0),O}var g={};function S(){}function y(){}function v(){}c=Object.getPrototypeOf;var b=[][f]?c(c([][f]())):(a(c={},f,function(){return this}),c),_=v.prototype=S.prototype=Object.create(b);function x(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,v):(T.__proto__=v,a(T,m,"GeneratorFunction")),T.prototype=Object.create(_),T}return y.prototype=v,a(_,"constructor",v),a(v,"constructor",y),y.displayName="GeneratorFunction",a(v,m,"GeneratorFunction"),a(_),a(_,m,"Generator"),a(_,f,function(){return this}),a(_,"toString",function(){return"[object Generator]"}),(s=function(){return{w:h,m:x}})()}function a(u,c,d,f){var m=Object.defineProperty;try{m({},"",{})}catch{m=0}a=function(h,g,S,y){function v(b,_){a(h,b,function(x){return this._invoke(b,_,x)})}g?m?m(h,g,{value:S,enumerable:!y,configurable:!y,writable:!y}):h[g]=S:(v("next",0),v("throw",1),v("return",2))},a(u,c,d,f)}var l=s().m(function u(){return s().w(function(c){for(;;)if(c.n===0)return c.a(2)},u)}).constructor;o.exports=function(){return l}},8728:(o,s,a)=>{function l(C,D){var O=Object.keys(C);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(C);D&&(I=I.filter(function(k){return Object.getOwnPropertyDescriptor(C,k).enumerable})),O.push.apply(O,I)}return O}function u(C){for(var D=1;D<arguments.length;D++){var O=arguments[D]!=null?arguments[D]:{};D%2?l(Object(O),!0).forEach(function(I){c(C,I,O[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(O)):l(Object(O)).forEach(function(I){Object.defineProperty(C,I,Object.getOwnPropertyDescriptor(O,I))})}return C}function c(C,D,O){return(D=function(I){var k=function(B){if(d(B)!="object"||!B)return B;var q=B[Symbol.toPrimitive];if(q!==void 0){var H=q.call(B,"string");if(d(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(I);return d(k)=="symbol"?k:k+""}(D))in C?Object.defineProperty(C,D,{value:O,enumerable:!0,configurable:!0,writable:!0}):C[D]=O,C}function d(C){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},d(C)}function f(C,D){(D==null||D>C.length)&&(D=C.length);for(var O=0,I=Array(D);O<D;O++)I[O]=C[O];return I}var m=a(6426),h=a(3672),g=a(9528),S=a(1244),y=a(4327),v=a(8768),b=a(3305),_=m.CastError;function x(C,D){this.enumValues=[],this.regExp=null,m.call(this,C,D,"String")}function T(C,D){return this.castForQuery(null,C,D)}function w(C){return C==null?this._castNullish(C):this.cast(C,this)}x.schemaName="String",x.defaultOptions={},x.prototype=Object.create(m.prototype),x.prototype.constructor=x,Object.defineProperty(x.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:g}),x._cast=S,x.cast=function(C){return arguments.length===0||(C===!1&&(C=this._defaultCaster),this._cast=C),this._cast},x._defaultCaster=function(C){if(C!=null&&typeof C!="string")throw new Error;return C},x.get=m.get,x.set=m.set,x.setters=[],x._checkRequired=function(C){return(C instanceof String||typeof C=="string")&&C.length},x.checkRequired=m.checkRequired,x.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(q){return q.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;var C,D;v.isObject(arguments[0])?Array.isArray(arguments[0].values)?(C=arguments[0].values,D=arguments[0].message):(C=v.object.vals(arguments[0]),D=h.messages.String.enum):(C=arguments,D=h.messages.String.enum);var O,I=function(q,H){var z=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!z){if(Array.isArray(q)||(z=function(J,Y){if(J){if(typeof J=="string")return f(J,Y);var L={}.toString.call(J).slice(8,-1);return L==="Object"&&J.constructor&&(L=J.constructor.name),L==="Map"||L==="Set"?Array.from(J):L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L)?f(J,Y):void 0}}(q))||H){z&&(q=z);var ne=0,ue=function(){};return{s:ue,n:function(){return ne>=q.length?{done:!0}:{done:!1,value:q[ne++]}},e:function(J){throw J},f:ue}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Q,N=!0,G=!1;return{s:function(){z=z.call(q)},n:function(){var J=z.next();return N=J.done,J},e:function(J){G=!0,Q=J},f:function(){try{N||z.return==null||z.return()}finally{if(G)throw Q}}}}(C);try{for(I.s();!(O=I.n()).done;){var k=O.value;k!==void 0&&this.enumValues.push(this.cast(k))}}catch(q){I.e(q)}finally{I.f()}var B=this.enumValues;return this.enumValidator=function(q){return q==null||~B.indexOf(q)},this.validators.push({validator:this.enumValidator,message:D,type:"enum",enumValues:B}),this},x.prototype.lowercase=function(C){var D=this;return arguments.length>0&&!C?this:this.set(function(O){return typeof O!="string"&&(O=D.cast(O)),O&&O.toLowerCase()})},x.prototype.uppercase=function(C){var D=this;return arguments.length>0&&!C?this:this.set(function(O){return typeof O!="string"&&(O=D.cast(O)),O&&O.toUpperCase()})},x.prototype.trim=function(C){var D=this;return arguments.length>0&&!C?this:this.set(function(O){return typeof O!="string"&&(O=D.cast(O)),O&&O.trim()})},x.prototype.minlength=function(C,D){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(I){return I.validator!==this.minlengthValidator},this)),C!=null){var O=D||h.messages.String.minlength;O=O.replace(/{MINLENGTH}/,C),this.validators.push({validator:this.minlengthValidator=function(I){return I===null||I.length>=C},message:O,type:"minlength",minlength:C})}return this},x.prototype.minLength=x.prototype.minlength,x.prototype.maxlength=function(C,D){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(I){return I.validator!==this.maxlengthValidator},this)),C!=null){var O=D||h.messages.String.maxlength;O=O.replace(/{MAXLENGTH}/,C),this.validators.push({validator:this.maxlengthValidator=function(I){return I===null||I.length<=C},message:O,type:"maxlength",maxlength:C})}return this},x.prototype.maxLength=x.prototype.maxlength,x.prototype.match=function(C,D){var O=D||h.messages.String.match;return this.validators.push({validator:function(I){return!!C&&(C.lastIndex=0,I==null||I===""||C.test(I))},message:O,type:"regexp",regexp:C}),this},x.prototype.checkRequired=function(C,D){return d(C)==="object"&&m._isRef(this,C,D,!0)?C!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():x.checkRequired())(C)},x.prototype.cast=function(C,D,O,I,k){if(typeof C!="string"&&m._isRef(this,C,D,O))return this._castRef(C,D,O,k);var B;B=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():x.cast();try{return B(C)}catch{throw new _("string",C,this.path,null,this)}};var E=u(u({},m.prototype.$conditionalHandlers),{},{$all:function(C,D){var O=this;return Array.isArray(C)?C.map(function(I){return O.castForQuery(null,I,D)}):[this.castForQuery(null,C,D)]},$gt:T,$gte:T,$lt:T,$lte:T,$options:w,$regex:function(C){return Object.prototype.toString.call(C)==="[object RegExp]"?C:w.call(this,C)},$not:T});Object.defineProperty(x.prototype,"$conditionalHandlers",{enumerable:!1,value:E}),x.prototype.castForQuery=function(C,D,O){var I;if(C!=null){if(!(I=this.$conditionalHandlers[C]))throw new Error("Can't use "+C+" with String.");return I.call(this,D,O)}if(Object.prototype.toString.call(D)==="[object RegExp]"||b(D,"BSONRegExp"))return D;try{return this.applySetters(D,O)}catch(k){throw k instanceof _&&k.path===this.path&&this.$fullPath!=null&&(k.path=this.$fullPath),k}},x.prototype.toJSONSchema=function(C){var D=this.options.required&&typeof this.options.required!="function";return y("string","string",C==null?void 0:C.useBsonType,D)},x.prototype.autoEncryptionType=function(){return"string"},o.exports=x},8759:o=>{o.exports=function(s){return s.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},8768:(o,s,a)=>{var l=a(5832).hp;function u(L,K){var ie=Object.keys(L);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(L);K&&(de=de.filter(function(ye){return Object.getOwnPropertyDescriptor(L,ye).enumerable})),ie.push.apply(ie,de)}return ie}function c(L,K,ie){return(K=function(de){var ye=function(Te){if(h(Te)!="object"||!Te)return Te;var me=Te[Symbol.toPrimitive];if(me!==void 0){var ae=me.call(Te,"string");if(h(ae)!="object")return ae;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Te)}(de);return h(ye)=="symbol"?ye:ye+""}(K))in L?Object.defineProperty(L,K,{value:ie,enumerable:!0,configurable:!0,writable:!0}):L[K]=ie,L}function d(L,K){var ie=typeof Symbol<"u"&&L[Symbol.iterator]||L["@@iterator"];if(!ie){if(Array.isArray(L)||(ie=f(L))||K){ie&&(L=ie);var de=0,ye=function(){};return{s:ye,n:function(){return de>=L.length?{done:!0}:{done:!1,value:L[de++]}},e:function(ge){throw ge},f:ye}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Te,me=!0,ae=!1;return{s:function(){ie=ie.call(L)},n:function(){var ge=ie.next();return me=ge.done,ge},e:function(ge){ae=!0,Te=ge},f:function(){try{me||ie.return==null||ie.return()}finally{if(ae)throw Te}}}}function f(L,K){if(L){if(typeof L=="string")return m(L,K);var ie={}.toString.call(L).slice(8,-1);return ie==="Object"&&L.constructor&&(ie=L.constructor.name),ie==="Map"||ie==="Set"?Array.from(L):ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie)?m(L,K):void 0}}function m(L,K){(K==null||K>L.length)&&(K=L.length);for(var ie=0,de=Array(K);ie<K;ie++)de[ie]=L[ie];return de}function h(L){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},h(L)}var g,S=a(6353).UUID,y=a(354),v=a(5678),b=a(5549),_=a(6948),x=a(4450),T=a(2746),w=a(608),E=a(1243),C=a(1347),D=a(3305),O=a(2789),I=a(9696),k=a(2497),B=a(5268),q=a(9539),H=a(2793),z=a(7291).trustedSymbol;s.specialProperties=H,s.isMongooseArray=E.isMongooseArray,s.isMongooseDocumentArray=C.isMongooseDocumentArray,s.registerMongooseArray=E.registerMongooseArray,s.registerMongooseDocumentArray=C.registerMongooseDocumentArray;var ne=/\s/,ue=/\s+/;s.toCollectionName=function(L,K){if(L==="system.profile"||L==="system.indexes")return L;if(typeof K=="function"){if(typeof L!="string")throw new TypeError("Collection name must be a string");if(L.length===0)throw new TypeError("Collection name cannot be empty");return K(L)}return L},s.deepEqual=function L(K,ie){if(K===ie)return!0;if(h(K)!=="object"||h(ie)!=="object")return K===ie;if(K instanceof Date&&ie instanceof Date)return K.getTime()===ie.getTime();if(D(K,"ObjectId")&&D(ie,"ObjectId")||D(K,"Decimal128")&&D(ie,"Decimal128"))return K.toString()===ie.toString();if(K instanceof RegExp&&ie instanceof RegExp)return K.source===ie.source&&K.ignoreCase===ie.ignoreCase&&K.multiline===ie.multiline&&K.global===ie.global&&K.dotAll===ie.dotAll&&K.unicode===ie.unicode&&K.sticky===ie.sticky&&K.hasIndices===ie.hasIndices;if(K==null||ie==null||K.prototype!==ie.prototype)return!1;if(K instanceof Map||ie instanceof Map)return K instanceof Map&&ie instanceof Map&&L(Array.from(K.keys()),Array.from(ie.keys()))&&L(Array.from(K.values()),Array.from(ie.values()));if(K instanceof Number&&ie instanceof Number)return K.valueOf()===ie.valueOf();if(l.isBuffer(K))return s.buffer.areEqual(K,ie);if(Array.isArray(K)||Array.isArray(ie)){if(!Array.isArray(K)||!Array.isArray(ie))return!1;var de=K.length;if(de!==ie.length)return!1;for(var ye=0;ye<de;++ye)if(!L(K[ye],ie[ye]))return!1;return!0}K.$__!=null?K=K._doc:k(K)&&(K=K.toObject()),ie.$__!=null?ie=ie._doc:k(ie)&&(ie=ie.toObject());var Te=Object.keys(K),me=Object.keys(ie),ae=Te.length;if(ae!==me.length)return!1;for(var ge=ae-1;ge>=0;ge--)if(Te[ge]!==me[ge])return!1;for(var $=0,te=Te;$<te.length;$++){var oe=te[$];if(!L(K[oe],ie[oe]))return!1}return!0},s.last=function(L){if(L.length>0)return L[L.length-1]},s.promiseOrCallback=B,s.cloneArrays=function(L){return Array.isArray(L)?L.map(function(K){return s.cloneArrays(K)}):L},s.omit=function(L,K){if(K==null)return Object.assign({},L);Array.isArray(K)||(K=[K]);var ie,de=Object.assign({},L),ye=d(K);try{for(ye.s();!(ie=ye.n()).done;)delete de[ie.value]}catch(Te){ye.e(Te)}finally{ye.f()}return de},s.clonePOJOsAndArrays=function(L){if(L==null||L.$__!=null)return L;if(O(L)){L=function(me){for(var ae=1;ae<arguments.length;ae++){var ge=arguments[ae]!=null?arguments[ae]:{};ae%2?u(Object(ge),!0).forEach(function($){c(me,$,ge[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(ge)):u(Object(ge)).forEach(function($){Object.defineProperty(me,$,Object.getOwnPropertyDescriptor(ge,$))})}return me}({},L);for(var K=0,ie=Object.keys(L);K<ie.length;K++){var de=ie[K];L[de]=s.clonePOJOsAndArrays(L[de])}return L}if(Array.isArray(L)){L=function(me){if(Array.isArray(me))return m(me)}(Te=L)||function(me){if(typeof Symbol<"u"&&me[Symbol.iterator]!=null||me["@@iterator"]!=null)return Array.from(me)}(Te)||f(Te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}();for(var ye=0;ye<L.length;++ye)L[ye]=s.clonePOJOsAndArrays(L[ye]);return L}var Te;return L},s.merge=function L(K,ie,de,ye){de=de||{};var Te,me=Object.keys(ie),ae=0,ge=me.length;ie[z]&&(K[z]=ie[z]),ye=ye||"";for(var $=de.omitNested||{};ae<ge;)if(Te=me[ae++],!(de.omit&&de.omit[Te]||$[ye]||H.has(Te)))if(K[Te]==null)K[Te]=s.clonePOJOsAndArrays(ie[Te]);else if(s.isObject(ie[Te])){if(s.isObject(K[Te])||(K[Te]={}),ie[Te]!=null){if(de.isDiscriminatorSchemaMerge&&ie[Te].$isSingleNested&&K[Te].$isMongooseDocumentArray||ie[Te].$isMongooseDocumentArray&&K[Te].$isSingleNested)continue;if(ie[Te].instanceOfSchema){K[Te].instanceOfSchema?q(K[Te],ie[Te].clone(),de.isDiscriminatorSchemaMerge):K[Te]=ie[Te].clone();continue}if(D(ie[Te],"ObjectId")){K[Te]=new b(ie[Te]);continue}}L(K[Te],ie[Te],de,ye?ye+"."+Te:Te)}else de.overwrite&&(K[Te]=ie[Te]);return K},s.toObject=function L(K){var ie;if(g||(g=a(2400)),K==null)return K;if(K instanceof g)return K.toObject();if(Array.isArray(K)){ie=[];var de,ye=d(K);try{for(ye.s();!(de=ye.n()).done;){var Te=de.value;ie.push(L(Te))}}catch($){ye.e($)}finally{ye.f()}return ie}if(s.isPOJO(K)){ie={},K[z]&&(ie[z]=K[z]);for(var me=0,ae=Object.keys(K);me<ae.length;me++){var ge=ae[me];H.has(ge)||(ie[ge]=L(K[ge]))}return ie}return K},s.isObject=w,s.isPOJO=a(2789),s.isNonBuiltinObject=function(L){return!(h(L)!=="object"||s.isNativeObject(L)||s.isMongooseType(L)||L instanceof S||L==null)},s.isNativeObject=function(L){return Array.isArray(L)||L instanceof Date||L instanceof Boolean||L instanceof Number||L instanceof String},s.isEmptyObject=function(L){return L!=null&&h(L)==="object"&&Object.keys(L).length===0},s.hasKey=function(L,K){for(var ie=0,de=Object.keys(L);ie<de.length;ie++){var ye=de[ie];if(ye===K||s.isPOJO(L[ye])&&s.hasKey(L[ye],K))return!0}return!1},s.tick=function(L){if(typeof L=="function")return function(){try{L.apply(this,arguments)}catch(K){T(function(){throw K})}}},s.isMongooseType=function(L){return D(L,"ObjectId")||D(L,"Decimal128")||L instanceof l},s.isMongooseObject=k,s.expires=function(L){L&&L.constructor.name==="Object"&&"expires"in L&&(L.expireAfterSeconds=typeof L.expires!="string"?L.expires:Math.round(y(L.expires)/1e3),delete L.expires)},s.populate=function(L,K,ie,de,ye,Te,me,ae){var ge,$=null;if(arguments.length===1){if(L instanceof _)return L._docs={},L._childDocs=[],[L];if(Array.isArray(L)){var te=(ge=[],L.forEach(function(oe){ne.test(oe.path)?oe.path.split(ue).forEach(function(Se){var Pe=Object.assign({},oe);Pe.path=Se,ge.push(Pe)}):ge.push(oe)}),ge);return te.map(function(oe){return s.populate(oe)[0]})}$=s.isObject(L)?Object.assign({},L):{path:L}}else $=h(ie)==="object"?{path:L,select:K,match:ie,options:de}:{path:L,select:K,model:ie,match:de,options:ye,populate:Te,justOne:me,count:ae};if(!(typeof $.path=="string"||Array.isArray($.path)&&$.path.every(function(oe){return typeof oe=="string"})))throw new TypeError("utils.populate: invalid path. Expected string or array of strings. Got typeof `"+h(L)+"`");return function(oe){if(Array.isArray(oe.populate)){var Se=[];oe.populate.forEach(function(xe){if(ne.test(xe.path)){var Ce=Object.assign({},xe);Ce.path.split(ue).forEach(function(pe){Ce.path=pe,Se.push(s.populate(Ce)[0])})}else Se.push(s.populate(xe)[0])}),oe.populate=s.populate(Se)}else oe.populate!=null&&h(oe.populate)==="object"&&(oe.populate=s.populate(oe.populate));var Pe=[],Oe=ne.test(oe.path)?oe.path.split(ue):Array.isArray(oe.path)?oe.path:[oe.path];oe.options!=null&&(oe.options=x(oe.options));var Be,Z=d(Oe);try{for(Z.s();!(Be=Z.n()).done;){var ce=Be.value;Pe.push(new _(Object.assign({},oe,{path:ce})))}}catch(xe){Z.e(xe)}finally{Z.f()}return Pe}($)},s.getValue=function(L,K,ie){return v.get(L,K,N,ie)};var Q=Object.freeze({getters:!1});function N(L,K){if(K==="$*"&&L instanceof Map)return L;var ie=(L==null?void 0:L._doc)||L;return ie!=null&&ie.isMongooseArrayProxy&&(ie=ie.__array),ie instanceof Map?ie.get(K,Q):ie[K]}s.setValue=function(L,K,ie,de,ye){v.set(L,K,ie,"_doc",de,ye)},s.object={},s.object.vals=function(L){for(var K=Object.keys(L),ie=K.length,de=[];ie--;)de.push(L[K[ie]]);return de};var G=Object.prototype.hasOwnProperty;s.object.hasOwnProperty=function(L,K){return G.call(L,K)},s.isNullOrUndefined=function(L){return L==null},s.array={},s.array.flatten=function L(K,ie,de){return de||(de=[]),K.forEach(function(ye){Array.isArray(ye)?L(ye,ie,de):ie&&!ie(ye)||de.push(ye)}),de};var J=Object.prototype.hasOwnProperty;s.hasUserDefinedProperty=function(L,K){if(L==null)return!1;if(Array.isArray(K)){var ie,de=d(K);try{for(de.s();!(ie=de.n()).done;){var ye=ie.value;if(s.hasUserDefinedProperty(L,ye))return!0}}catch(me){de.e(me)}finally{de.f()}return!1}if(J.call(L,K))return!0;if(h(L)==="object"&&K in L){var Te=L[K];return Te!==Object.prototype[K]&&Te!==Array.prototype[K]}return!1};var Y=Math.pow(2,32)-1;s.isArrayIndex=function(L){return typeof L=="number"?L>=0&&L<=Y:typeof L=="string"&&!!/^\d+$/.test(L)&&(L=+L)>=0&&L<=Y},s.array.unique=function(L){var K,ie=new Set,de=new Set,ye=[],Te=d(L);try{for(Te.s();!(K=Te.n()).done;){var me=K.value;if(typeof me=="number"||typeof me=="string"||me==null){if(ie.has(me))continue;ye.push(me),ie.add(me)}else if(D(me,"ObjectId")){if(de.has(me.toString()))continue;ye.push(me),de.add(me.toString())}else ye.push(me)}}catch(ae){Te.e(ae)}finally{Te.f()}return ye},s.buffer={},s.buffer.areEqual=function(L,K){if(!l.isBuffer(L)||!l.isBuffer(K)||L.length!==K.length)return!1;for(var ie=0,de=L.length;ie<de;++ie)if(L[ie]!==K[ie])return!1;return!0},s.getFunctionName=I,s.decorate=function(L,K){for(var ie in K)H.has(ie)||(L[ie]=K[ie])},s.mergeClone=function(L,K){k(K)&&(K=K.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var ie,de=Object.keys(K),ye=de.length,Te=0;Te<ye;)if(ie=de[Te++],!H.has(ie))if(L[ie]===void 0)L[ie]=x(K[ie],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var me=K[ie];if(me==null||!me.valueOf||me instanceof Date||(me=me.valueOf()),s.isObject(me)){var ae=me;k(me)&&!me.isMongooseBuffer&&(ae=ae.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),me.isMongooseBuffer&&(ae=l.from(ae)),s.mergeClone(L[ie],ae)}else L[ie]=x(me,{flattenDecimals:!1})}},s.each=function(L,K){var ie,de=d(L);try{for(de.s();!(ie=de.n()).done;)K(ie.value)}catch(ye){de.e(ye)}finally{de.f()}},s.renameObjKey=function(L,K,ie){return Object.keys(L).reduce(function(de,ye){return ye===K?de[ie]=L[K]:de[ye]=L[ye],de},{})},s.getOption=function(L){var K,ie=d(Array.prototype.slice.call(arguments,1));try{for(ie.s();!(K=ie.n()).done;){var de=K.value;if(de!=null&&de[L]!=null)return de[L]}}catch(ye){ie.e(ye)}finally{ie.f()}return null},s.noop=function(){},s.errorToPOJO=function(L){if(!(L instanceof Error))throw new Error("`error` must be `instanceof Error`.");var K,ie={},de=d(Object.getOwnPropertyNames(L));try{for(de.s();!(K=de.n()).done;){var ye=K.value;ie[ye]=L[ye]}}catch(Te){de.e(Te)}finally{de.f()}return ie},s.warn=function(L){return{env:{}}.emitWarning(L,{code:"MONGOOSE"})},s.injectTimestampsOption=function(L,K){K!=null&&(L.timestamps=K)}},8863:(o,s,a)=>{var l=a(2354),u=a(2268),c=a(3123),d=a(5477);o.exports=function(f){if(f.length<1||typeof f[0]!="function")throw new u("a function is required");return d(l,c,f)}},8866:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}function u(b,_){for(var x=0;x<_.length;x++){var T=_[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(b,c(T.key),T)}}function c(b){var _=function(x){if(l(x)!="object"||!x)return x;var T=x[Symbol.toPrimitive];if(T!==void 0){var w=T.call(x,"string");if(l(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(b);return l(_)=="symbol"?_:_+""}function d(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!b})()}function f(){return f=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(b,_,x){var T=function(E,C){for(;!{}.hasOwnProperty.call(E,C)&&(E=m(E))!==null;);return E}(b,_);if(T){var w=Object.getOwnPropertyDescriptor(T,_);return w.get?w.get.call(arguments.length<3?b:x):w.value}},f.apply(null,arguments)}function m(b){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(b)}function h(b,_){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,T){return x.__proto__=T,x},h(b,_)}var g=a(6974),S=a(6426),y=Symbol("firstValue"),v=function(b){function _(w,E){var C,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(function(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}(this,_),C=function(O,I,k){return I=m(I),function(B,q){if(q&&(l(q)=="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(H){if(H===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H}(B)}(O,d()?Reflect.construct(I,k||[],m(O).constructor):I.apply(O,k))}(this,_,[w,E,"Union"]),!E||!Array.isArray(E.of)||E.of.length===0)throw new Error("Union schema type requires an array of types");return C.schemaTypes=E.of.map(function(O){return E.parentSchema.interpretAsType(w,O,D)}),C}return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),E&&h(w,E)}(_,b),x=_,T=[{key:"cast",value:function(w,E,C,D,O){for(var I,k=y,B=0;B<this.schemaTypes.length;++B)try{var q=this.schemaTypes[B].cast(w,E,C,D,O);if(q===w)return q;k===y&&(k=q)}catch(H){I=H}if(k!==y)return k;throw I}},{key:"applySetters",value:function(w,E,C,D,O){for(var I,k=y,B=0;B<this.schemaTypes.length;++B)try{var q=this.schemaTypes[B]._applySetters(w,E,C,D,O);if((q=q==null?this.schemaTypes[B]._castNullish(q):this.schemaTypes[B].cast(q,E,C,D,O))===w)return q;k===y&&(k=q)}catch(H){I=H}if(k!==y)return k;throw I}},{key:"clone",value:function(){var w,E,C,D=(w=_,E=this,typeof(C=f(m(w.prototype),"clone",E))=="function"?function(O){return C.apply(E,O)}:C)([]);return D.schemaTypes=this.schemaTypes.map(function(O){return O.clone()}),D}}],T&&u(x.prototype,T),Object.defineProperty(x,"prototype",{writable:!1}),x;var x,T}(S);v.schemaName="Union",v.defaultOptions={},v.prototype.OptionsConstructor=g,o.exports=v},8879:(o,s,a)=>{function l(f,m,h){return Object.defineProperty(f,"prototype",{writable:!1}),f}var u=a(4450),c=l(function f(m){if(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}(this,f),m==null)return this;Object.assign(this,u(m))}),d=a(5761);Object.defineProperty(c.prototype,"type",d),Object.defineProperty(c.prototype,"validate",d),Object.defineProperty(c.prototype,"cast",d),Object.defineProperty(c.prototype,"required",d),Object.defineProperty(c.prototype,"default",d),Object.defineProperty(c.prototype,"ref",d),Object.defineProperty(c.prototype,"refPath",d),Object.defineProperty(c.prototype,"select",d),Object.defineProperty(c.prototype,"index",d),Object.defineProperty(c.prototype,"unique",d),Object.defineProperty(c.prototype,"immutable",d),Object.defineProperty(c.prototype,"sparse",d),Object.defineProperty(c.prototype,"text",d),Object.defineProperty(c.prototype,"transform",d),o.exports=c},8920:(o,s,a)=>{var l=a(5832).hp;function u(Q){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},u(Q)}function c(Q,N){var G=typeof Symbol<"u"&&Q[Symbol.iterator]||Q["@@iterator"];if(!G){if(Array.isArray(Q)||(G=d(Q))||N){G&&(Q=G);var J=0,Y=function(){};return{s:Y,n:function(){return J>=Q.length?{done:!0}:{done:!1,value:Q[J++]}},e:function(de){throw de},f:Y}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var L,K=!0,ie=!1;return{s:function(){G=G.call(Q)},n:function(){var de=G.next();return K=de.done,de},e:function(de){ie=!0,L=de},f:function(){try{K||G.return==null||G.return()}finally{if(ie)throw L}}}}function d(Q,N){if(Q){if(typeof Q=="string")return f(Q,N);var G={}.toString.call(Q).slice(8,-1);return G==="Object"&&Q.constructor&&(G=Q.constructor.name),G==="Map"||G==="Set"?Array.from(Q):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?f(Q,N):void 0}}function f(Q,N){(N==null||N>Q.length)&&(N=Q.length);for(var G=0,J=Array(N);G<N;G++)J[G]=Q[G];return J}var m=a(2400),h=a(6547),g=a(8213),S=a(4473),y=a(4450),v=a(3303)._,b=a(5678),_=a(8768),x=a(3305),T=a(7930).arrayAtomicsSymbol,w=a(7930).arrayParentSymbol,E=a(7930).arrayPathSymbol,C=a(7930).arraySchemaSymbol,D=a(7930).populateModelSymbol,O=Symbol("mongoose#Array#sliced"),I=Array.prototype.push,k={$__getAtomics:function(){var Q=[],N=Object.keys(this[T]||{}),G=N.length,J=Object.assign({},v,{_isNested:!0});if(G===0)return Q[0]=["$set",this.toObject(J)],Q;for(;G--;){var Y=N[G],L=this[T][Y];_.isMongooseObject(L)?L=L.toObject(J):Array.isArray(L)?L=this.toObject.call(L,J):L!=null&&Array.isArray(L.$each)?L.$each=this.toObject.call(L.$each,J):L!=null&&typeof L.valueOf=="function"&&(L=L.valueOf()),Y==="$addToSet"&&(L={$each:L}),Q.push([Y,L])}return Q},$atomics:function(){return this[T]},$parent:function(){return this[w]},$path:function(){return this[E]},$schemaType:function(){return this[C]},$shift:function(){this._registerAtomic("$pop",-1),this._markModified();var Q=this.__array;if(!Q._shifted)return Q._shifted=!0,[].shift.call(Q)},$pop:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema:function(){return this[C]},_cast:function(Q){var N,G=!1,J=this[w];if(J&&(G=J.$populated(this[E],!0)),G&&Q!=null){if((N=G.options[D])==null)throw new g("No populated model found for path `"+this[E]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(l.isBuffer(Q)||x(Q,"ObjectId")||!_.isObject(Q))&&(Q={_id:Q}),Q.schema&&Q.schema.discriminatorMapping&&Q.schema.discriminatorMapping.key!==void 0||(Q=new N(Q)),this[C].caster.applySetters(Q,J,!0)}return this[C].caster.applySetters(Q,J,!1)},_mapCast:function(Q,N){return this._cast(Q,this.length+N)},_markModified:function(Q){var N,G=this[w];if(G){if(N=this[E],arguments.length&&(N=N+"."+Q),N!=null&&N.endsWith(".$"))return this;G.markModified(N,arguments.length!==0?Q:G)}return this},_registerAtomic:function(Q,N){if(!this[O]){if(Q==="$set")return this[T]={$set:N},S(this[w],this[E]),this._markModified(),this;var G,J=this[T];if(Q==="$pop"&&!("$pop"in J)){var Y=this;this[w].once("save",function(){Y._popped=Y._shifted=null})}if(J.$set||Object.keys(J).length&&!(Q in J))return this[T]={$set:this},this;if(Q==="$pullAll"||Q==="$addToSet")J[Q]||(J[Q]=[]),J[Q]=J[Q].concat(N);else if(Q==="$pullDocs"){var L=J.$pull||(J.$pull={});N[0]instanceof h?(G=L.$or||(L.$or=[]),Array.prototype.push.apply(G,N.map(function(me){return me.toObject({transform:function(ae,ge){return me==null||me.$__==null||Object.keys(me.$__.activePaths.getStatePaths("default")).forEach(function($){b.unset($,ge),B(ge,$)}),ge},virtuals:!1})}))):(G=L._id||(L._id={$in:[]})).$in=G.$in.concat(N)}else if(Q==="$push")if(J.$push=J.$push||{$each:[]},N!=null&&_.hasUserDefinedProperty(N,"$each"))J.$push=N;else if(N.length===1)J.$push.$each.push(N[0]);else if(N.length<1e4){var K;(K=J.$push.$each).push.apply(K,function(me){if(Array.isArray(me))return f(me)}(Te=N)||function(me){if(typeof Symbol<"u"&&me[Symbol.iterator]!=null||me["@@iterator"]!=null)return Array.from(me)}(Te)||d(Te)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}else{var ie,de=c(N);try{for(de.s();!(ie=de.n()).done;){var ye=ie.value;J.$push.$each.push(ye)}}catch(me){de.e(me)}finally{de.f()}}else J[Q]=N;return this}var Te},addToSet:function(){q(this,arguments),H(this,arguments);var Q=[].map.call(arguments,this._mapCast,this),N=[],G="";Q[0]instanceof h?G="doc":Q[0]instanceof Date?G="date":x(Q[0],"ObjectId")&&(G="ObjectId");var J=_.isMongooseArray(Q)?Q.__array:Q,Y=_.isMongooseArray(this)?this.__array:this;return J.forEach(function(L){var K,ie=+L;switch(G){case"doc":K=this.some(function(de){return de.equals(L)});break;case"date":K=this.some(function(de){return+de===ie});break;case"ObjectId":K=this.find(function(de){return de.toString()===L.toString()});break;default:K=~this.indexOf(L)}K||(this._markModified(),Y.push(L),this._registerAtomic("$addToSet",L),[].push.call(N,L))},this),N},hasAtomics:function(){return _.isPOJO(this[T])?Object.keys(this[T]).length:0},includes:function(Q,N){return this.indexOf(Q,N)!==-1},indexOf:function(Q,N){x(Q,"ObjectId")&&(Q=Q.toString()),N=N??0;for(var G=this.length,J=N;J<G;++J)if(Q==this[J])return J;return-1},inspect:function(){return JSON.stringify(this)},nonAtomicPush:function(){var Q=[].map.call(arguments,this._mapCast,this);this._markModified();var N=[].push.apply(this,Q);return this._registerAtomic("$set",this),N},pop:function(){this._markModified();var Q=[].pop.call(this);return this._registerAtomic("$set",this),Q},pull:function(){var Q=this,N=[].map.call(arguments,function(L,K){return Q._cast(L,K,{defaults:!1})},this),G=this;_.isMongooseArray(G)&&(G=G.__array);var J,Y=G.length;for(this._markModified();Y--;)(J=G[Y])instanceof m?N.some(function(L){return J.equals(L)})&&G.splice(Y,1):~this.indexOf.call(N,J)&&G.splice(Y,1);return N[0]instanceof h?this._registerAtomic("$pullDocs",N.map(function(L){var K=L.$__getValue("_id");return K===void 0||L.$isDefault("_id")?L:K})):this._registerAtomic("$pullAll",N),S(this[w],this[E])>0&&this._registerAtomic("$set",this),this},push:function(){var Q,N=arguments,G=N,J=N[0]!=null&&_.hasUserDefinedProperty(N[0],"$each"),Y=_.isMongooseArray(this)?this.__array:this;if(J&&(G=N[0],N=N[0].$each),this[C]==null)return I.apply(this,N);q(this,N),H(this,N),N=[].map.call(N,this._mapCast,this);var L=this[T];return this._markModified(),J?(G.$each=N,(L.$push&&L.$push.$each&&L.$push.$each.length||0)!==0&&L.$push.$position!=G.$position?(G.$position!=null?([].splice.apply(Y,[G.$position,0].concat(N)),Q=Y.length):Q=[].push.apply(Y,N),this._registerAtomic("$set",this)):G.$position!=null?([].splice.apply(Y,[G.$position,0].concat(N)),Q=this.length):Q=[].push.apply(Y,N)):(G=N,Q=I.apply(Y,N)),this._registerAtomic("$push",G),Q},remove:function(){return this.pull.apply(this,arguments)},set:function(Q,N,G){var J=this.__array;if(G)return J[Q]=N,this;var Y=k._cast.call(this,N,Q);return k._markModified.call(this,Q),J[Q]=Y,this},shift:function(){var Q=_.isMongooseArray(this)?this.__array:this;this._markModified();var N=[].shift.call(Q);return this._registerAtomic("$set",this),N},sort:function(){var Q=_.isMongooseArray(this)?this.__array:this,N=[].sort.apply(Q,arguments);return this._registerAtomic("$set",this),N},splice:function(){var Q,N=_.isMongooseArray(this)?this.__array:this;if(this._markModified(),q(this,Array.prototype.slice.call(arguments,2)),arguments.length){var G;if(this[C]==null)G=arguments;else{G=[];for(var J=0;J<arguments.length;++J)G[J]=J<2?arguments[J]:this._cast(arguments[J],arguments[0]+(J-2))}Q=[].splice.apply(N,G),this._registerAtomic("$set",this)}return Q},toBSON:function(){return this.toObject(v)},toObject:function(Q){var N=_.isMongooseArray(this)?this.__array:this;return Q&&Q.depopulate?((Q=y(Q))._isNested=!0,[].concat(N).map(function(G){return G instanceof m?G.toObject(Q):G})):[].concat(N)},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift:function(){var Q;q(this,arguments),Q=this[C]==null?arguments:[].map.call(arguments,this._cast,this);var N=_.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(N,Q),this._registerAtomic("$set",this),this.length}};function B(Q,N,G){if(typeof N=="string"){if(N.indexOf(".")===-1)return;N=b.stringToParts(N)}(G=G||0)>=N.length||Q!=null&&u(Q)==="object"&&(B(Q[N[0]],N,G+1),Q[N[0]]!=null&&u(Q[N[0]])==="object"&&Object.keys(Q[N[0]]).length===0&&delete Q[N[0]])}function q(Q,N){var G,J,Y,L=Q==null?null:Q[C]&&Q[C].caster&&Q[C].caster.options&&Q[C].caster.options.ref||null;Q.length===0&&N.length!==0&&function(K,ie){if(!ie)return!1;var de,ye=c(K);try{for(ye.s();!(de=ye.n()).done;){var Te=de.value;if(Te==null)return!1;var me=Te.constructor;if(!(Te instanceof m)||me.modelName!==ie&&me.baseModelName!==ie)return!1}}catch(ae){ye.e(ae)}finally{ye.f()}return!0}(N,L)&&Q[w].$populated(Q[E],[],(G={},J=D,Y=N[0].constructor,(J=function(K){var ie=function(de){if(u(de)!="object"||!de)return de;var ye=de[Symbol.toPrimitive];if(ye!==void 0){var Te=ye.call(de,"string");if(u(Te)!="object")return Te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(de)}(K);return u(ie)=="symbol"?ie:ie+""}(J))in G?Object.defineProperty(G,J,{value:Y,enumerable:!0,configurable:!0,writable:!0}):G[J]=Y,G))}function H(Q,N){var G=Q==null?null:Q[C]&&Q[C].caster&&Q[C].caster.options&&Q[C].caster.options.ref||null,J=Q[w],Y=Q[E];if(G&&J.populated(Y)){var L,K=c(N);try{for(K.s();!(L=K.n()).done;){var ie=L.value;if(ie!=null&&(u(ie)!=="object"||ie instanceof String||ie instanceof Number||ie instanceof l||_.isMongooseType(ie))){J.depopulate(Y);break}}}catch(de){K.e(de)}finally{K.f()}}}for(var z=function(){var Q=ue[ne];if(Array.prototype[Q]==null)return 1;k[Q]=function(){var N=_.isMongooseArray(this)?this.__array:this,G=[].concat(N);return G[Q].apply(G,arguments)}},ne=0,ue=["filter","flat","flatMap","map","slice"];ne<ue.length;ne++)z();o.exports=k},8953:(o,s,a)=>{var l=a(3609);o.exports=function(u,c){if(o.exports.convertToTrue.has(u))return!0;if(o.exports.convertToFalse.has(u))return!1;if(u==null)return u;throw new l("boolean",u,c)},o.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),o.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},8995:(o,s,a)=>{function l(m){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},l(m)}function u(){try{var m=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!m})()}function c(m){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},c(m)}function d(m,h){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},d(m,h)}var f=function(m){function h(S,y,v){var b;return function(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}(this,h),(b=function(_,x,T){return x=c(x),function(w,E){if(E&&(l(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(w)}(_,u()?Reflect.construct(x,T||[],c(_).constructor):x.apply(_,T))}(this,h,[y=y||"Field `"+S+"` is not in schema and strict mode is set to throw."])).isImmutableError=!!v,b.path=S,b}return function(S,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(y&&y.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),y&&d(S,y)}(h,m),g=h,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(a(8213));Object.defineProperty(f.prototype,"name",{value:"StrictModeError"}),o.exports=f},9064:(o,s,a)=>{function l(f){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},l(f)}var u=a(3609),c=a(8953),d=a(1244);o.exports=function(f,m){if(f==null||l(f)!=="object")throw new u("$text",f,m);return f.$search!=null&&(f.$search=d(f.$search,m+".$search")),f.$language!=null&&(f.$language=d(f.$language,m+".$language")),f.$caseSensitive!=null&&(f.$caseSensitive=c(f.$caseSensitive,m+".$castSensitive")),f.$diacriticSensitive!=null&&(f.$diacriticSensitive=c(f.$diacriticSensitive,m+".$diacriticSensitive")),f}},9068:(o,s,a)=>{function l(k){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},l(k)}function u(k,B,q){return B in k?Object.defineProperty(k,B,{value:q,enumerable:!0,configurable:!0,writable:!0}):k[B]=q,k}function c(k,B){for(var q=0;q<B.length;q++){var H=B[q];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(k,H.key,H)}}function d(k,B){return!B||y(B)!=="object"&&typeof B!="function"?f(k):B}function f(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function m(k){var B=typeof Map=="function"?new Map:void 0;return m=function(q){if(q===null||(H=q,Function.toString.call(H).indexOf("[native code]")===-1))return q;var H;if(typeof q!="function")throw new TypeError("Super expression must either be null or a function");if(B!==void 0){if(B.has(q))return B.get(q);B.set(q,z)}function z(){return h(q,arguments,S(this).constructor)}return z.prototype=Object.create(q.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),g(z,q)},m(k)}function h(k,B,q){return h=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(H,z,ne){var ue=[null];ue.push.apply(ue,z);var Q=new(Function.bind.apply(H,ue));return ne&&g(Q,ne.prototype),Q},h.apply(null,arguments)}function g(k,B){return g=Object.setPrototypeOf||function(q,H){return q.__proto__=H,q},g(k,B)}function S(k){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)},S(k)}function y(k){return y=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(B){return l(B)}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":l(B)},y(k)}var v=a(7352).inspect,b=a(3743).codes.ERR_INVALID_ARG_TYPE;function _(k,B,q){return(q===void 0||q>k.length)&&(q=k.length),k.substring(q-B.length,q)===B}var x="",T="",w="",E="",C={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function D(k){var B=Object.keys(k),q=Object.create(Object.getPrototypeOf(k));return B.forEach(function(H){q[H]=k[H]}),Object.defineProperty(q,"message",{value:k.message}),q}function O(k){return v(k,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var I=function(k){function B(z){var ne;if(function(Te,me){if(!(Te instanceof me))throw new TypeError("Cannot call a class as a function")}(this,B),y(z)!=="object"||z===null)throw new b("options","Object",z);var ue=z.message,Q=z.operator,N=z.stackStartFn,G=z.actual,J=z.expected,Y=Error.stackTraceLimit;if(Error.stackTraceLimit=0,ue!=null)ne=d(this,S(B).call(this,String(ue)));else if({}.stderr&&{}.stderr.isTTY&&({}.stderr&&{}.stderr.getColorDepth&&{}.stderr.getColorDepth()!==1?(x="\x1B[34m",T="\x1B[32m",E="\x1B[39m",w="\x1B[31m"):(x="",T="",E="",w="")),y(G)==="object"&&G!==null&&y(J)==="object"&&J!==null&&"stack"in G&&G instanceof Error&&"stack"in J&&J instanceof Error&&(G=D(G),J=D(J)),Q==="deepStrictEqual"||Q==="strictEqual")ne=d(this,S(B).call(this,function(Te,me,ae){var ge="",$="",te=0,oe="",Se=!1,Pe=O(Te),Oe=Pe.split(`
`),Be=O(me).split(`
`),Z=0,ce="";if(ae==="strictEqual"&&y(Te)==="object"&&y(me)==="object"&&Te!==null&&me!==null&&(ae="strictEqualObject"),Oe.length===1&&Be.length===1&&Oe[0]!==Be[0]){var xe=Oe[0].length+Be[0].length;if(xe<=10){if(!(y(Te)==="object"&&Te!==null||y(me)==="object"&&me!==null||Te===0&&me===0))return"".concat(C[ae],`

`)+"".concat(Oe[0]," !== ").concat(Be[0],`
`)}else if(ae!=="strictEqualObject"&&xe<({}.stderr&&{}.stderr.isTTY?{}.stderr.columns:80)){for(;Oe[0][Z]===Be[0][Z];)Z++;Z>2&&(ce=`
  `.concat(function(Ft,bt){if(bt=Math.floor(bt),Ft.length==0||bt==0)return"";var Jn=Ft.length*bt;for(bt=Math.floor(Math.log(bt)/Math.log(2));bt;)Ft+=Ft,bt--;return Ft+Ft.substring(0,Jn-Ft.length)}(" ",Z),"^"),Z=0)}}for(var Ce=Oe[Oe.length-1],pe=Be[Be.length-1];Ce===pe&&(Z++<2?oe=`
  `.concat(Ce).concat(oe):ge=Ce,Oe.pop(),Be.pop(),Oe.length!==0&&Be.length!==0);)Ce=Oe[Oe.length-1],pe=Be[Be.length-1];var je=Math.max(Oe.length,Be.length);if(je===0){var Qe=Pe.split(`
`);if(Qe.length>30)for(Qe[26]="".concat(x,"...").concat(E);Qe.length>27;)Qe.pop();return"".concat(C.notIdentical,`

`).concat(Qe.join(`
`),`
`)}Z>3&&(oe=`
`.concat(x,"...").concat(E).concat(oe),Se=!0),ge!==""&&(oe=`
  `.concat(ge).concat(oe),ge="");var Ve=0,Ne=C[ae]+`
`.concat(T,"+ actual").concat(E," ").concat(w,"- expected").concat(E),Je=" ".concat(x,"...").concat(E," Lines skipped");for(Z=0;Z<je;Z++){var qe=Z-te;if(Oe.length<Z+1)qe>1&&Z>2&&(qe>4?($+=`
`.concat(x,"...").concat(E),Se=!0):qe>3&&($+=`
  `.concat(Be[Z-2]),Ve++),$+=`
  `.concat(Be[Z-1]),Ve++),te=Z,ge+=`
`.concat(w,"-").concat(E," ").concat(Be[Z]),Ve++;else if(Be.length<Z+1)qe>1&&Z>2&&(qe>4?($+=`
`.concat(x,"...").concat(E),Se=!0):qe>3&&($+=`
  `.concat(Oe[Z-2]),Ve++),$+=`
  `.concat(Oe[Z-1]),Ve++),te=Z,$+=`
`.concat(T,"+").concat(E," ").concat(Oe[Z]),Ve++;else{var Ze=Be[Z],Mt=Oe[Z],Ut=Mt!==Ze&&(!_(Mt,",")||Mt.slice(0,-1)!==Ze);Ut&&_(Ze,",")&&Ze.slice(0,-1)===Mt&&(Ut=!1,Mt+=","),Ut?(qe>1&&Z>2&&(qe>4?($+=`
`.concat(x,"...").concat(E),Se=!0):qe>3&&($+=`
  `.concat(Oe[Z-2]),Ve++),$+=`
  `.concat(Oe[Z-1]),Ve++),te=Z,$+=`
`.concat(T,"+").concat(E," ").concat(Mt),ge+=`
`.concat(w,"-").concat(E," ").concat(Ze),Ve+=2):($+=ge,ge="",qe!==1&&Z!==0||($+=`
  `.concat(Mt),Ve++))}if(Ve>20&&Z<je-2)return"".concat(Ne).concat(Je,`
`).concat($,`
`).concat(x,"...").concat(E).concat(ge,`
`)+"".concat(x,"...").concat(E)}return"".concat(Ne).concat(Se?Je:"",`
`).concat($).concat(ge).concat(oe).concat(ce)}(G,J,Q)));else if(Q==="notDeepStrictEqual"||Q==="notStrictEqual"){var L=C[Q],K=O(G).split(`
`);if(Q==="notStrictEqual"&&y(G)==="object"&&G!==null&&(L=C.notStrictEqualObject),K.length>30)for(K[26]="".concat(x,"...").concat(E);K.length>27;)K.pop();ne=K.length===1?d(this,S(B).call(this,"".concat(L," ").concat(K[0]))):d(this,S(B).call(this,"".concat(L,`

`).concat(K.join(`
`),`
`)))}else{var ie=O(G),de="",ye=C[Q];Q==="notDeepEqual"||Q==="notEqual"?(ie="".concat(C[Q],`

`).concat(ie)).length>1024&&(ie="".concat(ie.slice(0,1021),"...")):(de="".concat(O(J)),ie.length>512&&(ie="".concat(ie.slice(0,509),"...")),de.length>512&&(de="".concat(de.slice(0,509),"...")),Q==="deepEqual"||Q==="equal"?ie="".concat(ye,`

`).concat(ie,`

should equal

`):de=" ".concat(Q," ").concat(de)),ne=d(this,S(B).call(this,"".concat(ie).concat(de)))}return Error.stackTraceLimit=Y,ne.generatedMessage=!ue,Object.defineProperty(f(ne),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),ne.code="ERR_ASSERTION",ne.actual=G,ne.expected=J,ne.operator=Q,Error.captureStackTrace&&Error.captureStackTrace(f(ne),N),ne.stack,ne.name="AssertionError",d(ne)}var q,H;return function(z,ne){if(typeof ne!="function"&&ne!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ne&&ne.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),ne&&g(z,ne)}(B,k),q=B,H=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function(z,ne){return v(this,function(ue){for(var Q=1;Q<arguments.length;Q++){var N=arguments[Q]!=null?arguments[Q]:{},G=Object.keys(N);typeof Object.getOwnPropertySymbols=="function"&&(G=G.concat(Object.getOwnPropertySymbols(N).filter(function(J){return Object.getOwnPropertyDescriptor(N,J).enumerable}))),G.forEach(function(J){u(ue,J,N[J])})}return ue}({},ne,{customInspect:!1,depth:0}))}}],H&&c(q.prototype,H),B}(m(Error));o.exports=I},9122:(o,s,a)=>{var l=a(3900),u=a(988),c=a(8863),d=a(5804);o.exports=function(f){var m=c(arguments),h=f.length-(arguments.length-1);return l(m,1+(h>0?h:0),!0)},u?u(o.exports,"apply",{value:d}):o.exports.apply=d},9123:(o,s,a)=>{function l(N){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},l(N)}function u(N,G){var J=Object.keys(N);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(N);G&&(Y=Y.filter(function(L){return Object.getOwnPropertyDescriptor(N,L).enumerable})),J.push.apply(J,Y)}return J}function c(N){for(var G=1;G<arguments.length;G++){var J=arguments[G]!=null?arguments[G]:{};G%2?u(Object(J),!0).forEach(function(Y){d(N,Y,J[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(J)):u(Object(J)).forEach(function(Y){Object.defineProperty(N,Y,Object.getOwnPropertyDescriptor(J,Y))})}return N}function d(N,G,J){return(G=function(Y){var L=function(K){if(l(K)!="object"||!K)return K;var ie=K[Symbol.toPrimitive];if(ie!==void 0){var de=ie.call(K,"string");if(l(de)!="object")return de;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(K)}(Y);return l(L)=="symbol"?L:L+""}(G))in N?Object.defineProperty(N,G,{value:J,enumerable:!0,configurable:!0,writable:!0}):N[G]=J,N}var f,m,h=a(3609),g=a(8235),S=a(3550).EventEmitter,y=a(7760),v=a(4561),b=a(6426),_=a(7982),x=a(4327),T=a(1469),w=a(1313),E=a(3216),C=a(5110),D=a(8768),O=a(7910),I=a(5537),k=a(7930).arrayAtomicsSymbol,B=a(7930).arrayPathSymbol,q=a(7930).documentArrayParent;function H(N,G,J,Y){if(G.options&&G.options.timeseries)throw new I(N,"timeseries");var L=H.defaultOptions&&H.defaultOptions._id;L!=null&&((Y=Y||{})._id=L),Y!=null&&Y._id!=null?G=w(G,Y):J!=null&&J._id!=null&&(G=w(G,J));var K=z(G,J);K.prototype.$basePath=N,y.call(this,N,K,J),this.schema=G,this.schemaOptions=Y||{},this.$isMongooseDocumentArray=!0,this.Constructor=K,K.base=G.base;var ie=this.defaultValue;"defaultValue"in this&&ie==null||this.default(function(){var de=ie.call(this);return de==null||Array.isArray(de)||(de=[de]),de}),this.$embeddedSchemaType=new g(N+".$",c(c({},Y||{}),{},{$parentSchemaType:this})),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function z(N,G,J){function Y(){m.apply(this,arguments),this.__parentArray!=null&&this.__parentArray.getArrayParent()!=null&&this.$session(this.__parentArray.getArrayParent().$session())}m||(m=a(6547)),N._preCompile();var L=J!=null?J.prototype:m.prototype;for(var K in Y.prototype=Object.create(L),Y.prototype.$__setSchema(N),Y.schema=N,Y.prototype.constructor=Y,Y.$isArraySubdocument=!0,Y.events=new S,Y.base=N.base,N.methods)Y.prototype[K]=N.methods[K];for(var ie in N.statics)Y[ie]=N.statics[ie];for(var de in S.prototype)Y[de]=S.prototype[de];return Y.options=G,Y}H.schemaName="DocumentArray",H.options={castNonArrays:!0},H.prototype=Object.create(y.prototype),H.prototype.constructor=H,H.prototype.OptionsConstructor=v,Object.defineProperty(H.prototype,"$conditionalHandlers",{enumerable:!1,value:c({},y.prototype.$conditionalHandlers)}),H.prototype.discriminator=function(N,G,J){var Y;typeof N=="function"&&(N=D.getFunctionName(N)),J=J||{};var L=D.isPOJO(J)?J.value:J,K=typeof J.clone!="boolean"||J.clone;G.instanceOfSchema&&K&&(G=G.clone());var ie=z(G=T(this.casterConstructor,N,G,L,null,null,(Y=J)===null||Y===void 0?void 0:Y.overwriteExisting),null,this.casterConstructor);ie.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(ie,"name",{value:N})}catch{}return this.casterConstructor.discriminators[N]=ie,this.casterConstructor.discriminators[N]},H.prototype.doValidate=function(N,G,J,Y){f||(f=a(4878));var L=this;try{b.prototype.doValidate.call(this,N,function(K){if(K)return G(K);var ie,de=N&&N.length;if(!de||Y&&Y.updateValidator)return G();function ye($){$!=null&&(ie=$),--de||G(ie)}D.isMongooseDocumentArray(N)||(N=new f(N,L.path,J));for(var Te=0,me=de;Te<me;++Te){var ae=N[Te];if(ae!=null){if(!(ae instanceof m)){var ge=O(L.casterConstructor,N[Te]);ae=N[Te]=new ge(ae,N,void 0,void 0,Te)}Y==null||!Y.validateModifiedOnly||ae.$isModified()?ae.$__validate(null,Y,ye):--de||G(ie)}else--de||G(ie)}},J)}catch(K){return G(K)}},H.prototype.doValidateSync=function(N,G,J){var Y=b.prototype.doValidateSync.call(this,N,G);if(Y!=null)return Y;var L=N&&N.length,K=null;if(L){for(var ie=0,de=L;ie<de;++ie){var ye=N[ie];if(ye){if(!(ye instanceof m)){var Te=O(this.casterConstructor,N[ie]);ye=N[ie]=new Te(ye,N,void 0,void 0,ie)}if(J==null||!J.validateModifiedOnly||ye.$isModified()){var me=ye.validateSync(J);me&&K==null&&(K=me)}}}return K}},H.prototype.getDefault=function(N,G,J){var Y=typeof this.defaultValue=="function"?this.defaultValue.call(N):this.defaultValue;if(Y==null||J&&J.skipCast)return Y;f||(f=a(4878)),Array.isArray(Y)||(Y=[Y]),Y=new f(Y,this.path,N);for(var L=0;L<Y.length;++L){var K=new(O(this.casterConstructor,Y[L]))({},Y,void 0,void 0,L);K.$init(Y[L]),K.isNew=!0,Object.assign(K.$__.activePaths.default,K.$__.activePaths.init),K.$__.activePaths.init={},Y[L]=K}return Y};var ne=Object.freeze({transform:!1,virtuals:!1}),ue=Object.freeze({skipId:!1,willInit:!0});function Q(N,G,J){if(J&&G){for(var Y,L,K,ie=N.path+".",de=Object.keys(G),ye=de.length,Te={};ye--;)if((L=de[ye]).startsWith(ie)){if((K=L.substring(ie.length))==="$")continue;K.startsWith("$.")&&(K=K.substring(2)),Y||(Y=!0),Te[K]=G[L]}return Y&&Te||void 0}}H.prototype.cast=function(N,G,J,Y,L){if(f||(f=a(4878)),N!=null&&N[B]!=null&&N===Y)return N;var K,ie,de=(L=L||{}).path||this.path;if(!Array.isArray(N)){if(!J&&!H.options.castNonArrays)throw new h("DocumentArray",N,this.path,null,this);return G&&J&&G.markModified(de),this.cast([N],G,J,Y,L)}L.skipDocumentArrayCast&&!D.isMongooseDocumentArray(N)||(N=new f(N,de,G,this)),Y!=null&&(N[k]=Y[k]||{}),L.arrayPathIndex!=null&&(N[B]=de+"."+L.arrayPathIndex);for(var ye=D.isMongooseDocumentArray(N)?N.__array:N,Te=ye.length,me=0;me<Te;++me)if(ye[me]){var ae=O(this.casterConstructor,ye[me]),ge=E(ye[me],!0);if(ye[me]!==ge&&(ye[me]=ge),ye[me]instanceof m){if(ye[me][q]!==G)if(J){var $=new ae(null,N,ue,K,me);ye[me]=$.$init(ye[me])}else{var te=new ae(ye[me],N,void 0,void 0,me);ye[me]=te}ye[me].__index==null&&ye[me].$setIndex(me)}else if(ye[me]!=null)if(J)G?K||(K=Q(this,G.$__.selected,J)):K=!0,ie=new ae(null,N,ue,K,me),ye[me]=ie.$init(ye[me],L);else if(Y&&typeof Y.id=="function"&&(ie=Y.id(ye[me]._id)),Y&&ie&&D.deepEqual(ie.toObject(ne),ye[me]))ie.set(ye[me]),ye[me]=ie;else try{ie=new ae(ye[me],N,void 0,void 0,me),ye[me]=ie}catch(oe){throw new h("embedded",ye[me],N[B],oe,this)}}return N},H.prototype.clone=function(){var N=Object.assign({},this.options),G=new this.constructor(this.path,this.schema,N,this.schemaOptions);return G.validators=this.validators.slice(),this.requiredValidator!==void 0&&(G.requiredValidator=this.requiredValidator),G.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),G._appliedDiscriminators=this._appliedDiscriminators,G},H.prototype.applyGetters=function(N,G){return b.prototype.applyGetters.call(this,N,G)},H.defaultOptions={},H.set=b.set,H.setters=[],H.get=b.get,H.prototype.$conditionalHandlers.$elemMatch=function(N,G){for(var J,Y=Object.keys(N),L=Y.length,K=0;K<L;++K){var ie=Y[K],de=N[ie];C(ie)&&de!=null&&(N[ie]=this.castForQuery(ie,de,G))}var ye=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,Te=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(ye!=null&&N[ye]!=null&&Te[N[ye]]!=null)return _(Te[N[ye]],N,null,this&&this.$$context);var me=(J=this.casterConstructor.schema)!==null&&J!==void 0?J:G.schema;return _(me,N,null,this&&this.$$context)},H.prototype.toJSONSchema=function(N){var G=x("object","object",N==null?void 0:N.useBsonType,!1),J=this.options.required&&typeof this.options.required!="function";return c(c({},x("array","array",N==null?void 0:N.useBsonType,J)),{},{items:c(c({},G),this.schema.toJSONSchema(N))})},o.exports=H},9166:(o,s,a)=>{function l(h,g){var S=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!S){if(Array.isArray(h)||(S=function(T,w){if(T){if(typeof T=="string")return u(T,w);var E={}.toString.call(T).slice(8,-1);return E==="Object"&&T.constructor&&(E=T.constructor.name),E==="Map"||E==="Set"?Array.from(T):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?u(T,w):void 0}}(h))||g){S&&(h=S);var y=0,v=function(){};return{s:v,n:function(){return y>=h.length?{done:!0}:{done:!1,value:h[y++]}},e:function(T){throw T},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b,_=!0,x=!1;return{s:function(){S=S.call(h)},n:function(){var T=S.next();return _=T.done,T},e:function(T){x=!0,b=T},f:function(){try{_||S.return==null||S.return()}finally{if(x)throw b}}}}function u(h,g){(g==null||g>h.length)&&(g=h.length);for(var S=0,y=Array(g);S<g;S++)y[S]=h[S];return y}var c=a(8759),d=a(3696);function f(h,g,S){if(g!=null){var y=Object.keys(g).some(function(k){return k[0]==="$"});if(y){if(g.$push&&I(g.$push),g.$addToSet&&I(g.$addToSet),g.$set!=null)for(var v=0,b=Object.keys(g.$set);v<b.length;v++){var _=b[v];m(S,_,g.$set,h)}if(g.$setOnInsert!=null)for(var x=0,T=Object.keys(g.$setOnInsert);x<T.length;x++){var w=T[x];m(S,w,g.$setOnInsert,h)}}var E,C=Object.keys(g).filter(function(k){return k[0]!=="$"}),D=l(C);try{for(D.s();!(E=D.n()).done;){var O=E.value;m(S,O,g,h)}}catch(k){D.e(k)}finally{D.f()}}function I(k){for(var B=function(){var z=H[q],ne=S.path(z.replace(/\.\$\./i,".").replace(/.\$$/,""));if(k[z]&&ne&&ne.$isMongooseDocumentArray&&ne.schema.options.timestamps){var ue=ne.schema.options.timestamps,Q=d(ue,"createdAt"),N=d(ue,"updatedAt");k[z].$each?k[z].$each.forEach(function(G){N!=null&&(G[N]=h),Q!=null&&(G[Q]=h),f(h,G,ne.schema)}):(N!=null&&(k[z][N]=h),Q!=null&&(k[z][Q]=h),f(h,k[z],ne.schema))}},q=0,H=Object.keys(k);q<H.length;q++)B()}}function m(h,g,S,y){var v=c(g),b=h.path(v);if(b){for(var _=[],x=v.split("."),T=x.length-1;T>0;--T){var w=h.path(x.slice(0,T).join("."));w!=null&&(w.$isMongooseDocumentArray||w.$isSingleNested)&&_.push({parentPath:g.split(".").slice(0,T).join("."),parentSchemaType:w})}if(Array.isArray(S[g])&&b.$isMongooseDocumentArray)(function(Q,N,G){var J=N.schema.options.timestamps,Y=Q.length;if(J)for(var L=d(J,"createdAt"),K=d(J,"updatedAt"),ie=0;ie<Y;++ie)K!=null&&(Q[ie][K]=G),L!=null&&(Q[ie][L]=G),f(G,Q[ie],N.schema);else for(var de=0;de<Y;++de)f(G,Q[de],N.schema)})(S[g],b,y);else if(S[g]&&b.$isSingleNested)(function(Q,N,G){var J=N.schema.options.timestamps;if(J){var Y=d(J,"createdAt"),L=d(J,"updatedAt");L!=null&&(Q[L]=G),Y!=null&&(Q[Y]=G),f(G,Q,N.schema)}else f(G,Q,N.schema)})(S[g],b,y);else if(_.length>0){var E,C=l(_);try{for(C.s();!(E=C.n()).done;){var D=E.value,O=D.parentPath,I=D.parentSchemaType,k=I.schema.options.timestamps,B=d(k,"updatedAt");if(k&&B!=null){if(I.$isSingleNested)S[O+"."+B]=y;else if(I.$isMongooseDocumentArray){var q=g.substring(O.length+1);if(/^\d+$/.test(q)){S[O+"."+q][B]=y;continue}var H=q.indexOf(".");S[O+"."+(q=H!==-1?q.substring(0,H):q)+"."+B]=y}}}}catch(Q){C.e(Q)}finally{C.f()}}else if(b.schema!=null&&b.schema!=h&&S[g]){var z=b.schema.options.timestamps,ne=d(z,"createdAt"),ue=d(z,"updatedAt");if(!z)return;ue!=null&&(S[g][ue]=y),ne!=null&&(S[g][ne]=y)}}}o.exports=f},9183:o=>{o.exports=function(s){return typeof s=="function"&&s.constructor&&s.constructor.name==="AsyncFunction"}},9206:o=>{o.exports=EvalError},9247:(o,s,a)=>{var l=a(2481),u=a(2273);o.exports=function(){var c=l();return u(Object,{is:c},{is:function(){return Object.is!==c}}),c}},9344:(o,s,a)=>{function l(b){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l(b)}var u,c=a(3071),d=a(953)(),f=a(5994),m=a(1464);if(d){var h=c("RegExp.prototype.exec"),g={},S=function(){throw g},y={toString:S,valueOf:S};l(Symbol.toPrimitive)==="symbol"&&(y[Symbol.toPrimitive]=S),u=function(b){if(!b||l(b)!=="object")return!1;var _=m(b,"lastIndex");if(!_||!f(_,"value"))return!1;try{h(b,y)}catch(x){return x===g}}}else{var v=c("Object.prototype.toString");u=function(b){return!(!b||l(b)!=="object"&&typeof b!="function")&&v(b)==="[object RegExp]"}}o.exports=u},9380:(o,s,a)=>{function l(){var v,b,_=typeof Symbol=="function"?Symbol:{},x=_.iterator||"@@iterator",T=_.toStringTag||"@@toStringTag";function w(q,H,z,ne){var ue=H&&H.prototype instanceof C?H:C,Q=Object.create(ue.prototype);return u(Q,"_invoke",function(N,G,J){var Y,L,K,ie=0,de=J||[],ye=!1,Te={p:0,n:0,v,a:me,f:me.bind(v,4),d:function(ae,ge){return Y=ae,L=0,K=v,Te.n=ge,E}};function me(ae,ge){for(L=ae,K=ge,b=0;!ye&&ie&&!$&&b<de.length;b++){var $,te=de[b],oe=Te.p,Se=te[2];ae>3?($=Se===ge)&&(K=te[(L=te[4])?5:(L=3,3)],te[4]=te[5]=v):te[0]<=oe&&(($=ae<2&&oe<te[1])?(L=0,Te.v=ge,Te.n=te[1]):oe<Se&&($=ae<3||te[0]>ge||ge>Se)&&(te[4]=ae,te[5]=ge,Te.n=Se,L=0))}if($||ae>1)return E;throw ye=!0,ge}return function(ae,ge,$){if(ie>1)throw TypeError("Generator is already running");for(ye&&ge===1&&me(ge,$),L=ge,K=$;(b=L<2?v:K)||!ye;){Y||(L?L<3?(L>1&&(Te.n=-1),me(L,K)):Te.n=K:Te.v=K);try{if(ie=2,Y){if(L||(ae="next"),b=Y[ae]){if(!(b=b.call(Y,K)))throw TypeError("iterator result is not an object");if(!b.done)return b;K=b.value,L<2&&(L=0)}else L===1&&(b=Y.return)&&b.call(Y),L<2&&(K=TypeError("The iterator does not provide a '"+ae+"' method"),L=1);Y=v}else if((b=(ye=Te.n<0)?K:N.call(G,Te))!==E)break}catch(te){Y=v,L=1,K=te}finally{ie=1}}return{value:b,done:ye}}}(q,z,ne),!0),Q}var E={};function C(){}function D(){}function O(){}b=Object.getPrototypeOf;var I=[][x]?b(b([][x]())):(u(b={},x,function(){return this}),b),k=O.prototype=C.prototype=Object.create(I);function B(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,O):(q.__proto__=O,u(q,T,"GeneratorFunction")),q.prototype=Object.create(k),q}return D.prototype=O,u(k,"constructor",O),u(O,"constructor",D),D.displayName="GeneratorFunction",u(O,T,"GeneratorFunction"),u(k),u(k,T,"Generator"),u(k,x,function(){return this}),u(k,"toString",function(){return"[object Generator]"}),(l=function(){return{w,m:B}})()}function u(v,b,_,x){var T=Object.defineProperty;try{T({},"",{})}catch{T=0}u=function(w,E,C,D){function O(I,k){u(w,I,function(B){return this._invoke(I,k,B)})}E?T?T(w,E,{value:C,enumerable:!D,configurable:!D,writable:!D}):w[E]=C:(O("next",0),O("throw",1),O("return",2))},u(v,b,_,x)}function c(v,b,_,x,T,w,E){try{var C=v[w](E),D=C.value}catch(O){return void _(O)}C.done?b(D):Promise.resolve(D).then(x,T)}function d(v){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},d(v)}var f=a(2400),m=a(2746),h=a(3303)._,g=a(7352),S=a(8768);function y(v,b,_,x,T){if(d(x)==="object"&&x!=null&&T==null&&(T=x,x=void 0),_!=null){var w={isNew:_.isNew};"defaults"in _.$__&&(w.defaults=_.$__.defaults),T=Object.assign(w,T)}T!=null&&T.path!=null&&(this.$basePath=T.path),T!=null&&T.pathRelativeToParent!=null&&(this.$pathRelativeToParent=T.pathRelativeToParent);var E=T;T!=null&&T.path!=null&&delete(E=Object.assign({},T)).path,f.call(this,v,b,x,E),delete this.$__.priorDoc}o.exports=y,y.prototype=Object.create(f.prototype),Object.defineProperty(y.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0}),Object.defineProperty(y.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0}),y.prototype.toBSON=function(){return this.toObject(h)},y.prototype.save=function(){var v,b=(v=l().m(function _(x){var T=this;return l().w(function(w){for(;;)if(w.n===0)return(x=x||{}).suppressWarning||S.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),w.a(2,new Promise(function(E,C){T.$__save(function(D){if(D!=null)return C(D);E(T)})}))},_)}),function(){var _=this,x=arguments;return new Promise(function(T,w){var E=v.apply(_,x);function C(O){c(E,T,w,C,D,"next",O)}function D(O){c(E,T,w,C,D,"throw",O)}C(void 0)})});return function(_){return b.apply(this,arguments)}}(),y.prototype.$__fullPath=function(v){return this.$__.fullPath||this.ownerDocument(),v?this.$__.fullPath+"."+v:this.$__.fullPath},y.prototype.$__pathRelativeToParent=function(v){return this.$pathRelativeToParent!=null?v==null?this.$pathRelativeToParent:this.$pathRelativeToParent+"."+v:v==null?this.$basePath:this.$basePath?[this.$basePath,v].join("."):v},y.prototype.$__save=function(v){var b=this;return m(function(){return v(null,b)})},y.prototype.$isValid=function(v){var b=this.$parent(),_=this.$__pathRelativeToParent(v);return b!=null&&_!=null?b.$isValid(_):f.prototype.$isValid.call(this,v)},y.prototype.markModified=function(v){f.prototype.markModified.call(this,v);var b=this.$parent();if(b!=null){var _=this.$__pathRelativeToParent(v);if(_!=null){var x=this.$__pathRelativeToParent().replace(/\.$/,"");b.isDirectModified(x)||this.isNew||this.$__parent.markModified(_,this)}}},y.prototype.isModified=function(v,b,_){var x=this,T=this.$parent();return T!=null?(Array.isArray(v)||typeof v=="string"?v=(v=Array.isArray(v)?v:v.split(" ")).map(function(w){return x.$__pathRelativeToParent(w)}).filter(function(w){return w!=null}):v||(v=this.$__pathRelativeToParent()),T.$isModified(v,b,_)):f.prototype.isModified.call(this,v,b,_)},y.prototype.$markValid=function(v){f.prototype.$markValid.call(this,v);var b=this.$parent(),_=this.$__pathRelativeToParent(v);b!=null&&_!=null&&b.$markValid(_)},y.prototype.invalidate=function(v,b,_){f.prototype.invalidate.call(this,v,b,_);var x=this.$parent(),T=this.$__pathRelativeToParent(v);if(x!=null&&T!=null)x.invalidate(T,b,_);else if(b.kind==="cast"||b.name==="CastError"||T==null)throw b;return this.ownerDocument().$__.validationError},y.prototype.$ignore=function(v){f.prototype.$ignore.call(this,v);var b=this.$parent(),_=this.$__pathRelativeToParent(v);b!=null&&_!=null&&b.$ignore(_)},y.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;for(var v=this,b=[],_=new Set([v]);typeof v.$__pathRelativeToParent=="function";){b.unshift(v.$__pathRelativeToParent(void 0,!0));var x=v.$parent();if(x==null)break;if(v=x,_.has(v))throw new Error("Infinite subdocument loop: subdoc with _id "+v._id+" is a parent of itself");_.add(v)}return this.$__.fullPath=b.join("."),this.$__.ownerDocument=v,this.$__.ownerDocument},y.prototype.$__fullPathWithIndexes=function(){for(var v=this,b=[],_=new Set([v]);typeof v.$__pathRelativeToParent=="function";){b.unshift(v.$__pathRelativeToParent(void 0,!1));var x=v.$parent();if(x==null)break;if(v=x,_.has(v))throw new Error("Infinite subdocument loop: subdoc with _id "+v._id+" is a parent of itself");_.add(v)}return b.join(".")},y.prototype.parent=function(){return this.$__parent},y.prototype.$parent=y.prototype.parent,y.prototype.$__deleteOne=function(v){if(v!=null)return v(null,this)},y.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)},y.prototype.deleteOne=function(v,b){if(typeof v=="function"&&(b=v,v=null),function(x){var T=x.ownerDocument();function w(){T.$removeListener("save",w),T.$removeListener("deleteOne",w),x.emit("deleteOne",x),x.constructor.emit("deleteOne",x)}T.$on("save",w),T.$on("deleteOne",w)}(this),!v||!v.noop){this.$__removeFromParent();var _=this.ownerDocument();_.$__.removedSubdocs=_.$__.removedSubdocs||[],_.$__.removedSubdocs.push(this)}return this.$__deleteOne(b)},y.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')},y.prototype.inspect=function(){return this.toObject()},g.inspect.custom&&(y.prototype[g.inspect.custom]=y.prototype.inspect),y.prototype.$toObject=function(v,b){var _,x,T,w,E=f.prototype.$toObject.call(this,v,b);if(Object.keys(E).length!==0||(v==null?void 0:v._calledWithOptions)==null||!((_=(x=(T=v._calledWithOptions)===null||T===void 0?void 0:T.minimize)!==null&&x!==void 0?x:this==null||(w=this.$__schemaTypeOptions)===null||w===void 0?void 0:w.minimize)!==null&&_!==void 0?_:v.minimize)||this.constructor.$__required)return E}},9460:(o,s,a)=>{var l=a(5832).hp,u=a(3609);function c(d,f){var m=Number(f);if(isNaN(m))throw new u("number",f,d);return m}o.exports=function(d){var f=this;return Array.isArray(d)?d.map(function(m){return c(f.path,m)}):l.isBuffer(d)?d:c(f.path,d)}},9471:o=>{o.exports=Math.abs},9528:(o,s,a)=>{function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},l(h)}function u(){try{var h=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u=function(){return!!h})()}function c(h){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(g){return g.__proto__||Object.getPrototypeOf(g)},c(h)}function d(h,g){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(S,y){return S.__proto__=y,S},d(h,g)}var f=function(h){function g(){return function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")}(this,g),function(y,v,b){return v=c(v),function(_,x){if(x&&(l(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(_)}(y,u()?Reflect.construct(v,b||[],c(y).constructor):v.apply(y,b))}(this,g,arguments)}return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(v&&v.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),Object.defineProperty(y,"prototype",{writable:!1}),v&&d(y,v)}(g,h),S=g,Object.defineProperty(S,"prototype",{writable:!1}),S;var S}(a(8879)),m=a(5761);Object.defineProperty(f.prototype,"enum",m),Object.defineProperty(f.prototype,"match",m),Object.defineProperty(f.prototype,"lowercase",m),Object.defineProperty(f.prototype,"trim",m),Object.defineProperty(f.prototype,"uppercase",m),Object.defineProperty(f.prototype,"minLength",m),Object.defineProperty(f.prototype,"minlength",m),Object.defineProperty(f.prototype,"maxLength",m),Object.defineProperty(f.prototype,"maxlength",m),Object.defineProperty(f.prototype,"populate",m),o.exports=f},9538:(o,s,a)=>{function l(y){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},l(y)}function u(y,v){for(var b=0;b<v.length;b++){var _=v[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(y,c(_.key),_)}}function c(y){var v=function(b){if(l(b)!="object"||!b)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var x=_.call(b,"string");if(l(x)!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}(y);return l(v)=="symbol"?v:v+""}function d(){try{var y=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d=function(){return!!y})()}function f(y){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},f(y)}function m(y,v){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,_){return b.__proto__=_,b},m(y,v)}var h=a(8213),g=function(y){function v(x,T){var w;(function(D,O){if(!(D instanceof O))throw new TypeError("Cannot call a class as a function")})(this,v);var E=x.message;E||(E=h.messages.general.default);var C=S(E,x,T);return w=function(D,O,I){return O=f(O),function(k,B){if(B&&(l(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(k)}(D,d()?Reflect.construct(O,I||[],f(D).constructor):O.apply(D,I))}(this,v,[C]),x=Object.assign({},x,{message:C}),w.properties=x,w.kind=x.type,w.path=x.path,w.value=x.value,w.reason=x.reason,w}return function(x,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(T&&T.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),T&&m(x,T)}(v,y),b=v,(_=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&u(b.prototype,_),Object.defineProperty(b,"prototype",{writable:!1}),b;var b,_}(h);function S(y,v,b){if(typeof y=="function")return y(v,b);for(var _=0,x=Object.keys(v);_<x.length;_++){var T=x[_];T!=="message"&&(y=y.replace("{"+T.toUpperCase()+"}",v[T]))}return y}Object.defineProperty(g.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(g.prototype,"properties",{enumerable:!1,writable:!0,value:null}),g.prototype.formatMessage=S,o.exports=g},9539:o=>{function s(l,u){return function(c){if(Array.isArray(c))return c}(l)||function(c,d){var f=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(f!=null){var m,h,g,S,y=[],v=!0,b=!1;try{if(g=(f=f.call(c)).next,d!==0)for(;!(v=(m=g.call(f)).done)&&(y.push(m.value),y.length!==d);v=!0);}catch(_){b=!0,h=_}finally{try{if(!v&&f.return!=null&&(S=f.return(),Object(S)!==S))return}finally{if(b)throw h}}return y}}(l,u)||function(c,d){if(c){if(typeof c=="string")return a(c,d);var f={}.toString.call(c).slice(8,-1);return f==="Object"&&c.constructor&&(f=c.constructor.name),f==="Map"||f==="Set"?Array.from(c):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?a(c,d):void 0}}(l,u)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function a(l,u){(u==null||u>l.length)&&(u=l.length);for(var c=0,d=Array(u);c<u;c++)d[c]=l[c];return d}o.exports=function(l,u,c){for(var d={},f=0,m=Object.keys(u.tree);f<m.length;f++){var h=m[f];c&&(l.paths[h]||l.nested[h]||l.singleNestedPaths[h])||(d[h]=u.tree[h])}l.options._isMerging=!0,l.add(d,null),delete l.options._isMerging,l.callQueue=l.callQueue.concat(u.callQueue),l.method(u.methods),l.static(u.statics);for(var g=0,S=Object.entries(u._userProvidedOptions);g<S.length;g++){var y=s(S[g],2),v=y[0],b=y[1];v in l._userProvidedOptions||l.set(v,b)}for(var _ in u.query)l.query[_]=u.query[_];for(var x in u.virtuals)l.virtuals[x]=u.virtuals[x].clone();l._indexes=l._indexes.concat(u._indexes||[]),l.s.hooks.merge(u.s.hooks,!1)}},9553:(o,s,a)=>{var l=a(5832).hp;function u(f){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u(f)}var c=a(9639),d=a(2402);o.exports=function(f){return f==null?f:u(f)==="object"&&typeof f.$numberDecimal=="string"?c.fromString(f.$numberDecimal):f instanceof c?f:typeof f=="string"?c.fromString(f):typeof l=="function"&&l.isBuffer(f)||typeof Uint8Array=="function"&&f instanceof Uint8Array?new c(f):typeof f=="number"?c.fromString(String(f)):typeof f.valueOf=="function"&&typeof f.valueOf()=="string"?c.fromString(f.valueOf()):void d.ok(!1)}},9600:(o,s,a)=>{s.Array=a(7557),s.Buffer=a(6365),s.Document=s.Embedded=a(6547),s.DocumentArray=a(4878),s.Double=a(2822),s.Decimal128=a(9639),s.ObjectId=a(5549),s.Map=a(2081),s.Subdocument=a(9380),s.UUID=a(1344)},9604:(o,s,a)=>{var l=a(5558).p,u=a(5558).G;function c(f,m){switch(f.$geometry.type){case"Polygon":case"LineString":case"Point":l(f.$geometry.coordinates,m)}return d(m,f),f}function d(f,m){m.$maxDistance&&(m.$maxDistance=u.call(f,m.$maxDistance)),m.$minDistance&&(m.$minDistance=u.call(f,m.$minDistance))}s.cast$geoIntersects=function(f){if(f.$geometry)return c(f,this),f},s.cast$near=function(f){var m=a(7760);if(Array.isArray(f))return l(f,this),f;if(d(this,f),f&&f.$geometry)return c(f,this);if(!Array.isArray(f))throw new TypeError("$near must be either an array or an object with a $geometry property");return m.prototype.castForQuery.call(this,null,f)},s.cast$within=function(f){var m=this;if(d(this,f),f.$box||f.$polygon){var h=f.$box?"$box":"$polygon";f[h].forEach(function(S){if(!Array.isArray(S))throw new TypeError("Invalid $within $box argument. Expected an array, received "+S);S.forEach(function(y,v){S[v]=u.call(m,y)})})}else if(f.$center||f.$centerSphere){var g=f.$center?"$center":"$centerSphere";f[g].forEach(function(S,y){Array.isArray(S)?S.forEach(function(v,b){S[b]=u.call(m,v)}):f[g][y]=u.call(m,S)})}else f.$geometry&&c(f,this);return f}},9639:(o,s,a)=>{o.exports=a(6353).Decimal128},9696:o=>{var s=/^function\s*([^\s(]+)/;o.exports=function(a){return a.name||(a.toString().trim().match(s)||[])[1]}},9809:o=>{function s(b){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s(b)}var a,l,u=Function.prototype.toString,c=(typeof Reflect>"u"?"undefined":s(Reflect))==="object"&&Reflect!==null&&Reflect.apply;if(typeof c=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw l}}),l={},c(function(){throw 42},null,a)}catch(b){b!==l&&(c=null)}else c=null;var d=/^\s*class\b/,f=function(b){try{var _=u.call(b);return d.test(_)}catch{return!1}},m=function(b){try{return!f(b)&&(u.call(b),!0)}catch{return!1}},h=Object.prototype.toString,g=typeof Symbol=="function"&&!!Symbol.toStringTag,S=!(0 in[,]),y=function(){return!1};if((typeof document>"u"?"undefined":s(document))==="object"){var v=document.all;h.call(v)===h.call(document.all)&&(y=function(b){if((S||!b)&&(b===void 0||s(b)==="object"))try{var _=h.call(b);return(_==="[object HTMLAllCollection]"||_==="[object HTML document.all class]"||_==="[object HTMLCollection]"||_==="[object Object]")&&b("")==null}catch{}return!1})}o.exports=c?function(b){if(y(b))return!0;if(!b||typeof b!="function"&&s(b)!=="object")return!1;try{c(b,null,a)}catch(_){if(_!==l)return!1}return!f(b)&&m(b)}:function(b){if(y(b))return!0;if(!b||typeof b!="function"&&s(b)!=="object")return!1;if(g)return m(b);if(f(b))return!1;var _=h.call(b);return!(_!=="[object Function]"&&_!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(_))&&m(b)}},9834:(o,s,a)=>{function l(T){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},l(T)}var u=a(3777),c=a(3426),d=a(9122),f=a(3071),m=a(1464),h=a(209),g=f("Object.prototype.toString"),S=a(953)(),y=typeof globalThis>"u"?a.g:globalThis,v=c(),b=f("String.prototype.slice"),_=f("Array.prototype.indexOf",!0)||function(T,w){for(var E=0;E<T.length;E+=1)if(T[E]===w)return E;return-1},x={__proto__:null};u(v,S&&m&&h?function(T){var w=new y[T];if(Symbol.toStringTag in w&&h){var E=h(w),C=m(E,Symbol.toStringTag);if(!C&&E){var D=h(E);C=m(D,Symbol.toStringTag)}x["$"+T]=d(C.get)}}:function(T){var w=new y[T],E=w.slice||w.set;E&&(x["$"+T]=d(E))}),o.exports=function(T){if(!T||l(T)!=="object")return!1;if(!S){var w=b(g(T),8,-1);return _(v,w)>-1?w:w==="Object"&&function(E){var C=!1;return u(x,function(D,O){if(!C)try{D(E),C=b(O,1)}catch{}}),C}(T)}return m?function(E){var C=!1;return u(x,function(D,O){if(!C)try{"$"+D(E)===O&&(C=b(O,1))}catch{}}),C}(T):null}},9848:o=>{function s(a){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},s(a)}o.exports=function(a){a.pre("save",!1,function(l,u){var c=this,d=this;if(this.$isSubdocument)return l();if(u&&s(u)==="object"&&"validateBeforeSave"in u?u.validateBeforeSave:this.$__schema.options.validateBeforeSave){var f=u&&s(u)==="object"&&"validateModifiedOnly"in u?{validateModifiedOnly:u.validateModifiedOnly}:null;this.$validate(f).then(function(){c.$op="save",l()},function(m){d.$__schema.s.hooks.execPost("save:error",d,[d],{error:m},function(h){d.$op="save",l(h)})})}else l()},null,!0)}},9870:o=>{o.exports=Error},9907:o=>{o.exports=SyntaxError},9939:o=>{o.exports=RangeError}},r={};function i(o){var s=r[o];if(s!==void 0)return s.exports;var a=r[o]={exports:{}};return n[o](a,a.exports,i),a.exports}return i.d=(o,s)=>{for(var a in s)i.o(s,a)&&!i.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:s[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(o,s)=>Object.prototype.hasOwnProperty.call(o,s),i.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i(4829)})())})(c7);var d7=c7.exports;const Ffe=["linear","easeIn","easeOut","easeInOut","circIn","circOut","circInOut","backIn","backOut","backInOut","anticipate"],zfe=["none","fade","slide","scale","float","custom","theme"],Vfe=new d7.Schema({type:{type:String,enum:["tween","spring"],required:!1},opacity:{type:Number,required:!1},scale:{type:Number,required:!1},x:{type:Number,required:!1},y:{type:Number,required:!1},rotate:{type:Number,required:!1},ease:{type:String,enum:Ffe,required:!1},bounce:{type:Number,required:!1},duration:{type:Number,required:!1},delay:{type:Number,required:!1}},{_id:!1});new d7.Schema({preset:{type:String,enum:zfe,default:"none",required:!0},values:{type:Vfe,default:()=>({}),required:!0}},{_id:!1});const wt={Neutral:"neutral",Correct:"correct",Incorrect:"incorrect",PartlyCorrect:"partlyCorrect",None:"none"},Ni={Incomplete:"incomplete",Completed:"completed",Passed:"passed",Failed:"failed"},ci={NotAttempted:"not attempted",Incomplete:"incomplete",Completed:"completed",Passed:"passed",Failed:"failed"},Qt={Course:"course",Page:"page",Section:"section",Row:"row",Column:"column",Element:"element"},bf={progress:null,initialise(e){this.progress=structuredClone(e),this.progress.core.lesson_status===ci.NotAttempted&&(this.progress.core.lesson_status=ci.Incomplete)},saveCourseTracking(e){if(!this.progress)return;this.progress.core.lesson_status=e.status,this.progress.core.lesson_location=e.currentSessionBookmark??"";const t=this._getSuspendData();t&&(t.course.elementsCompleted=e.elementsCompleted,this._setSuspendData(t))},restoreCourseTracking(){if(!this.progress)return null;const e=this._getSuspendData();return{status:this.progress.core.lesson_status,elementsCompleted:(e==null?void 0:e.course.elementsCompleted)??!1,previousSessionBookmark:this.progress.core.lesson_location}},saveAssessmentTracking(e){if(!e.isEnabled||!this.progress)return;typeof e.score=="number"&&(this.progress.core.score.raw=`${e.score}`);const t=this._getSuspendData();t&&(t.assessment=Oh(e,["isEnabled"]),this._setSuspendData(t))},restoreAssessmentTracking(){const e=this._getSuspendData();return(e==null?void 0:e.assessment)||null},saveElementTracking(e){const t=this._getSuspendData();t&&(t.elements=Vy(e,n=>Oh(n,["required"])),this._setSuspendData(t))},restoreElementTracking(){const e=this._getSuspendData();return(e==null?void 0:e.elements)||null},saveHiddenTracking(e){const t=this._getSuspendData();t&&(t.hidden=e,this._setSuspendData(t))},restoreHiddenTracking(){const e=this._getSuspendData();return(e==null?void 0:e.hidden)||null},saveTriggerTracking(e){const t=this._getSuspendData();t&&(t.triggers=e,this._setSuspendData(t))},restoreTriggerTracking(){const e=this._getSuspendData();return(e==null?void 0:e.triggers)||null},saveVariableTracking(e){const t=this._getSuspendData();t&&(t.variables=e,this._setSuspendData(t))},restoreVariableTracking(){const e=this._getSuspendData();return(e==null?void 0:e.variables)||null},saveProgress(e){var t;!e||!this.progress||(t=e.onProgressChanged)==null||t.call(e,structuredClone(this.progress))},_getSuspendData(){if(!this.progress)return null;try{const e=this.progress.suspend_data;return e?JSON.parse(e):{v:1,course:{elementsCompleted:!1},assessment:null,elements:null}}catch(e){return console.error("PlatformTracking: failed to parse platform suspend data:",e),null}},_setSuspendData(e){if(!(!e||!this.progress))try{const t=JSON.stringify(e);this.progress.suspend_data=t}catch(t){console.error("PlatformTracking: failed to save platform suspend data:",t)}}};function zD(e){return e?(e=e.replaceAll("<p>","").replaceAll("</p>"," ").replaceAll("<br>"," ").replaceAll("&nbsp;"," "),(e.includes("<")||e.includes("&"))&&(e=new DOMParser().parseFromString(e,"text/html").body.textContent??""),e):""}var Rf,f7,AA;class Gv{constructor({id:t,type:n,lang:r="en",description:i,result:o,timestamp:s}){ai(this,Rf);Zo(this,"_id");Zo(this,"_type");Zo(this,"_lang");Zo(this,"_description");Zo(this,"_result");Zo(this,"_timestamp");Zo(this,"_learnerResponses");Zo(this,"_correctResponses");this._id=t,this._type=n,this._lang=r,i&&(this._description=cF(zD(i).trim(),250)),this._result=o,this._timestamp=s?new Date(s).toISOString():new Date().toISOString()}set learnerResponses(t){this._learnerResponses=t}set correctResponses(t){this._correctResponses=t}get data(){if(!this._id||!this._type)return null;const t=new Map;return t.set("id",this._id),t.set("type",this._type),t.set("result",ln(this,Rf,f7).call(this)),this._description&&t.set("description",this._addLanguageTag(this._description)),this._learnerResponses&&t.set("learner_response",ln(this,Rf,AA).call(this,this._learnerResponses)),this._correctResponses&&t.set("correct_responses.0.pattern",ln(this,Rf,AA).call(this,this._correctResponses)),t.set("timestamp",this._timestamp.replace(/.\d\d\dZ/,".00Z")),t}toString(){return`id: ${this._id}; type: ${this._type}, description: ${this._description}; learnerResponses: ${this._learnerResponses}; correctResponses: ${this._correctResponses}; result: ${this._result}; timestamp: ${this._timestamp}`}_addLanguageTag(t){return this._lang==="en"?t:`{lang=${this._lang}}${t}`}}Rf=new WeakSet,f7=function(){return this._result===wt.None?wt.Neutral:this._result===wt.PartlyCorrect?wt.Incorrect:this._result},AA=function(t){return t.join("[,]")};var p7={exports:{}};(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,u){if(!o[l]){o[l]={};for(var c=0;c<l.length;c++)o[l][l.charAt(c)]=c}return o[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(c){return r.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(r,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return n(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),c=new Uint8Array(u.length*2),d=0,f=u.length;d<f;d++){var m=u.charCodeAt(d);c[d*2]=m>>>8,c[d*2+1]=m%256}return c},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),c=0,d=u.length;c<d;c++)u[c]=l[c*2]*256+l[c*2+1];var f=[];return u.forEach(function(m){f.push(n(m))}),a.decompress(f.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return i.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(i,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return n(u)})},_compress:function(l,u,c){if(l==null)return"";var d,f,m={},h={},g="",S="",y="",v=2,b=3,_=2,x=[],T=0,w=0,E;for(E=0;E<l.length;E+=1)if(g=l.charAt(E),Object.prototype.hasOwnProperty.call(m,g)||(m[g]=b++,h[g]=!0),S=y+g,Object.prototype.hasOwnProperty.call(m,S))y=S;else{if(Object.prototype.hasOwnProperty.call(h,y)){if(y.charCodeAt(0)<256){for(d=0;d<_;d++)T=T<<1,w==u-1?(w=0,x.push(c(T)),T=0):w++;for(f=y.charCodeAt(0),d=0;d<8;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1}else{for(f=1,d=0;d<_;d++)T=T<<1|f,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=0;for(f=y.charCodeAt(0),d=0;d<16;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1}v--,v==0&&(v=Math.pow(2,_),_++),delete h[y]}else for(f=m[y],d=0;d<_;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1;v--,v==0&&(v=Math.pow(2,_),_++),m[S]=b++,y=String(g)}if(y!==""){if(Object.prototype.hasOwnProperty.call(h,y)){if(y.charCodeAt(0)<256){for(d=0;d<_;d++)T=T<<1,w==u-1?(w=0,x.push(c(T)),T=0):w++;for(f=y.charCodeAt(0),d=0;d<8;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1}else{for(f=1,d=0;d<_;d++)T=T<<1|f,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=0;for(f=y.charCodeAt(0),d=0;d<16;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1}v--,v==0&&(v=Math.pow(2,_),_++),delete h[y]}else for(f=m[y],d=0;d<_;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1;v--,v==0&&(v=Math.pow(2,_),_++)}for(f=2,d=0;d<_;d++)T=T<<1|f&1,w==u-1?(w=0,x.push(c(T)),T=0):w++,f=f>>1;for(;;)if(T=T<<1,w==u-1){x.push(c(T));break}else w++;return x.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var d=[],f=4,m=4,h=3,g="",S=[],y,v,b,_,x,T,w,E={val:c(0),position:u,index:1};for(y=0;y<3;y+=1)d[y]=y;for(b=0,x=Math.pow(2,2),T=1;T!=x;)_=E.val&E.position,E.position>>=1,E.position==0&&(E.position=u,E.val=c(E.index++)),b|=(_>0?1:0)*T,T<<=1;switch(b){case 0:for(b=0,x=Math.pow(2,8),T=1;T!=x;)_=E.val&E.position,E.position>>=1,E.position==0&&(E.position=u,E.val=c(E.index++)),b|=(_>0?1:0)*T,T<<=1;w=n(b);break;case 1:for(b=0,x=Math.pow(2,16),T=1;T!=x;)_=E.val&E.position,E.position>>=1,E.position==0&&(E.position=u,E.val=c(E.index++)),b|=(_>0?1:0)*T,T<<=1;w=n(b);break;case 2:return""}for(d[3]=w,v=w,S.push(w);;){if(E.index>l)return"";for(b=0,x=Math.pow(2,h),T=1;T!=x;)_=E.val&E.position,E.position>>=1,E.position==0&&(E.position=u,E.val=c(E.index++)),b|=(_>0?1:0)*T,T<<=1;switch(w=b){case 0:for(b=0,x=Math.pow(2,8),T=1;T!=x;)_=E.val&E.position,E.position>>=1,E.position==0&&(E.position=u,E.val=c(E.index++)),b|=(_>0?1:0)*T,T<<=1;d[m++]=n(b),w=m-1,f--;break;case 1:for(b=0,x=Math.pow(2,16),T=1;T!=x;)_=E.val&E.position,E.position>>=1,E.position==0&&(E.position=u,E.val=c(E.index++)),b|=(_>0?1:0)*T,T<<=1;d[m++]=n(b),w=m-1,f--;break;case 2:return S.join("")}if(f==0&&(f=Math.pow(2,h),h++),d[w])g=d[w];else if(w===m)g=v+v.charAt(0);else return null;S.push(g),d[m++]=v+g.charAt(0),f--,v=g,f==0&&(f=Math.pow(2,h),h++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(p7);var Pj=p7.exports;function qfe(e){if(!Number.isFinite(e)||e<=0)return"0000:00:00.00";const t=1e3,n=(e/t%1).toFixed(2).split(".")[1],r=e%t;e-=r;const i=t*60;let o=e%i;e-=o,o/=t;const s=i*60;let a=e%s;e-=a,a/=i;const l=e/s;return l>9999?"9999:99:99.99":`${[`${l}`.padStart(4,"0"),`${a}`.padStart(2,"0"),`${o}`.padStart(2,"0")].join(":")}.${n}`}function Hfe(e){if(!Number.isFinite(e)||e<=0)return"PT0S";const t=100,n=t*60,r=n*60,i=r*24;let o=e/10;const s=Math.floor(o/i);o-=s*i;const a=Math.floor(o/r);o-=a*r;const l=Math.floor(o/n);o-=l*n;const u=Math.floor(o/t),c=a?`${a}H`:"",d=l?`${l}M`:"",f=u?`${u}S`:"",m=`${c}${d}${f}`;return`P${s?`${s}D`:""}${m?`T${m}`:""}`}const a0={INFO:0,WARN:1,ERROR:2,DEBUG:3};var ch,Ya,Ec;const Nd=class Nd{constructor(){ai(this,Ya);ai(this,Ec);Vi(this,Ya,[]),Vi(this,Ec,[])}static getInstance(){return kt(Nd,ch)===null&&Vi(Nd,ch,new Nd),kt(Nd,ch)}getEntries(){return kt(this,Ya)}getLastEntry(){return kt(this,Ya).at(-1)}info(t,n=Date.now()){kt(this,Ya).push({str:t,time:n,type:a0.INFO}),this.updateViews()}warn(t,n=Date.now()){kt(this,Ya).push({str:t,time:n,type:a0.WARN}),this.updateViews()}error(t,n=Date.now()){kt(this,Ya).push({str:t,time:n,type:a0.ERROR}),this.updateViews()}debug(t,n=Date.now()){kt(this,Ya).push({str:t,time:n,type:a0.DEBUG}),this.updateViews()}registerView(t){kt(this,Ec).push(t)}unregisterView(t){const n=kt(this,Ec).indexOf(t);n!==-1&&kt(this,Ec).splice(n,1)}updateViews(){kt(this,Ec).forEach(t=>t.update(this))}clearLog(){Vi(this,Ya,[]),this.updateViews()}};ch=new WeakMap,Ya=new WeakMap,Ec=new WeakMap,ai(Nd,ch,null);let cS=Nd;window.scormLogger=cS.getInstance();var on={};on.UTILS={};on.debug={isActive:!0};on.SCORM={version:null,handleCompletionStatus:!0,handleExitMode:!0,API:{handle:null,isFound:!1},connection:{isActive:!1},data:{completionStatus:null,exitStatus:null},debug:{}};on.SCORM.isAvailable=function(){return!0};on.SCORM.API.find=function(e){for(var t=null,n=0,r=500,i="SCORM.API.find",o=on.UTILS.trace,s=on.SCORM;!e.API&&!e.API_1484_11&&e.parent&&e.parent!=e&&n<=r;)n++,e=e.parent;if(s.version)switch(s.version){case"2004":e.API_1484_11?t=e.API_1484_11:o(i+": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.");break;case"1.2":e.API?t=e.API:o(i+": SCORM version 1.2 was specified by user, but API cannot be found.");break}else e.API_1484_11?(s.version="2004",t=e.API_1484_11):e.API&&(s.version="1.2",t=e.API);return t?(o(i+": API found. Version: "+s.version),o("API: "+t)):o(i+`: Error finding API. 
Find attempts: `+n+`. 
Find attempt limit: `+r),t};on.SCORM.API.get=function(){var e=null,t=window,n=on.SCORM,r=n.API.find,i=on.UTILS.trace;return e=r(t),!e&&t.parent&&t.parent!=t&&(e=r(t.parent)),!e&&t.top&&t.top.opener&&(e=r(t.top.opener)),!e&&t.top&&t.top.opener&&t.top.opener.document&&(e=r(t.top.opener.document)),e?n.API.isFound=!0:i("API.get failed: Can't find the API!"),e};on.SCORM.API.getHandle=function(){var e=on.SCORM.API;return!e.handle&&!e.isFound&&(e.handle=e.get()),e.handle};on.SCORM.connection.initialize=function(){var e=!1,t=on.SCORM,n=t.data.completionStatus,r=on.UTILS.trace,i=on.UTILS.StringToBoolean,o=t.debug,s="SCORM.connection.initialize ";if(r("connection.initialize called."),t.connection.isActive)r(s+"aborted: Connection already active.");else{var a=t.API.getHandle(),l=0;if(a){switch(t.version){case"1.2":e=i(a.LMSInitialize(""));break;case"2004":e=i(a.Initialize(""));break}if(e)if(l=o.getCode(),l!==null&&l===0){if(t.connection.isActive=!0,t.handleCompletionStatus&&(n=t.status("get"),n)){switch(n){case"not attempted":t.status("set","incomplete");break;case"unknown":t.status("set","incomplete");break}t.save()}}else e=!1,r(s+`failed. 
Error code: `+l+` 
Error info: `+o.getInfo(l));else l=o.getCode(),r(l!==null&&l!==0?s+`failed. 
Error code: `+l+` 
Error info: `+o.getInfo(l):s+"failed: No response from server.")}else r(s+"failed: API is null.")}return e};on.SCORM.connection.terminate=function(){var e=!1,t=on.SCORM,n=t.data.exitStatus,r=t.data.completionStatus,i=on.UTILS.trace,o=on.UTILS.StringToBoolean,s=t.debug,a="SCORM.connection.terminate ";if(t.connection.isActive){var l=t.API.getHandle(),u=0;if(l){if(t.handleExitMode&&!n)if(r!=="completed"&&r!=="passed")switch(t.version){case"1.2":e=t.set("cmi.core.exit","suspend");break;case"2004":e=t.set("cmi.exit","suspend");break}else switch(t.version){case"1.2":e=t.set("cmi.core.exit","logout");break;case"2004":e=t.set("cmi.exit","normal");break}if(e=t.version==="1.2"?t.save():!0,e){switch(t.version){case"1.2":e=o(l.LMSFinish(""));break;case"2004":e=o(l.Terminate(""));break}e?t.connection.isActive=!1:(u=s.getCode(),i(a+`failed. 
Error code: `+u+` 
Error info: `+s.getInfo(u)))}}else i(a+"failed: API is null.")}else i(a+"aborted: Connection already terminated.");return e};on.SCORM.data.get=function(e){var t=null,n=on.SCORM,r=on.UTILS.trace,i=n.debug,o="SCORM.data.get('"+e+"') ";if(n.connection.isActive){var s=n.API.getHandle(),a=0;if(s){switch(n.version){case"1.2":t=s.LMSGetValue(e);break;case"2004":t=s.GetValue(e);break}if(a=i.getCode(),t!==""||a===0)switch(e){case"cmi.core.lesson_status":case"cmi.completion_status":n.data.completionStatus=t;break;case"cmi.core.exit":case"cmi.exit":n.data.exitStatus=t;break}else r(o+`failed. 
Error code: `+a+`
Error info: `+i.getInfo(a))}else r(o+"failed: API is null.")}else r(o+"failed: API connection is inactive.");return r(o+" value: "+t),String(t)};on.SCORM.data.set=function(e,t){var n=!1,r=on.SCORM,i=on.UTILS.trace,o=on.UTILS.StringToBoolean,s=r.debug,a="SCORM.data.set('"+e+"') ";if(r.connection.isActive){var l=r.API.getHandle(),u=0;if(l){switch(r.version){case"1.2":n=o(l.LMSSetValue(e,t));break;case"2004":n=o(l.SetValue(e,t));break}n?(e==="cmi.core.lesson_status"||e==="cmi.completion_status")&&(r.data.completionStatus=t):(u=s.getCode(),i(a+`failed. 
Error code: `+u+`. 
Error info: `+s.getInfo(u)))}else i(a+"failed: API is null.")}else i(a+"failed: API connection is inactive.");return i(a+" value: "+t),n};on.SCORM.data.save=function(){var e=!1,t=on.SCORM,n=on.UTILS.trace,r=on.UTILS.StringToBoolean,i="SCORM.data.save failed";if(t.connection.isActive){var o=t.API.getHandle();if(o)switch(t.version){case"1.2":e=r(o.LMSCommit(""));break;case"2004":e=r(o.Commit(""));break}else n(i+": API is null.")}else n(i+": API connection is inactive.");return e};on.SCORM.status=function(e,t){var n=!1,r=on.SCORM,i=on.UTILS.trace,o="SCORM.getStatus failed",s="";if(e!==null){switch(r.version){case"1.2":s="cmi.core.lesson_status";break;case"2004":s="cmi.completion_status";break}switch(e){case"get":n=r.data.get(s);break;case"set":t!==null?n=r.data.set(s,t):(n=!1,i(o+": status was not specified."));break;default:n=!1,i(o+": no valid action was specified.")}}else i(o+": action was not specified.");return n};on.SCORM.debug.getCode=function(){var e=on.SCORM,t=e.API.getHandle(),n=on.UTILS.trace,r=0;if(t)switch(e.version){case"1.2":r=parseInt(t.LMSGetLastError(),10);break;case"2004":r=parseInt(t.GetLastError(),10);break}else n("SCORM.debug.getCode failed: API is null.");return r};on.SCORM.debug.getInfo=function(e){var t=on.SCORM,n=t.API.getHandle(),r=on.UTILS.trace,i="";if(n)switch(t.version){case"1.2":i=n.LMSGetErrorString(e.toString());break;case"2004":i=n.GetErrorString(e.toString());break}else r("SCORM.debug.getInfo failed: API is null.");return String(i)};on.SCORM.debug.getDiagnosticInfo=function(e){var t=on.SCORM,n=t.API.getHandle(),r=on.UTILS.trace,i="";if(n)switch(t.version){case"1.2":i=n.LMSGetDiagnostic(e);break;case"2004":i=n.GetDiagnostic(e);break}else r("SCORM.debug.getDiagnosticInfo failed: API is null.");return String(i)};on.SCORM.init=on.SCORM.connection.initialize;on.SCORM.get=on.SCORM.data.get;on.SCORM.set=on.SCORM.data.set;on.SCORM.save=on.SCORM.data.save;on.SCORM.quit=on.SCORM.connection.terminate;on.UTILS.StringToBoolean=function(e){var t=typeof e;switch(t){case"object":case"string":return/(true|1)/i.test(e);case"number":return!!e;case"boolean":return e;case"undefined":return null;default:return!1}};on.UTILS.trace=function(e){on.debug.isActive&&window.console&&window.console.log&&window.console.log(e)};const ag="Course is not connected to the LMS";var dh,qi,Rr,fh,hx,mx,Ac,ph,hh,Tv,ms,Tl,Hd,hn,dc,Ii,CA,h7,m7,g7,ma,y7;const Md=class Md{constructor(){ai(this,hn);Zo(this,"suppressErrors",!1);Zo(this,"timedCommitFrequency",1);ai(this,qi);ai(this,Rr);ai(this,fh,null);ai(this,hx,5);ai(this,mx,1e3);ai(this,Ac,!1);ai(this,ph,0);ai(this,hh);ai(this,Tv);ai(this,ms,null);ai(this,Tl,!1);ai(this,Hd);Vi(this,qi,cS.getInstance()),Vi(this,Rr,on.SCORM)}static getInstance(){return kt(Md,dh)===null&&Vi(Md,dh,new Md),kt(Md,dh)}get version(){return kt(this,Rr).version}set version(t){t!==null&&(kt(this,Rr).version=t)}get isSCORM2004(){return this.version==="2004"}initialize(){kt(this,qi).debug(`Searching for SCORM ${this.version} API...`);const t=kt(this,Rr).init();return t?(kt(this,qi).debug(`SCORM ${this.version} API found!`),Vi(this,fh,new Date),ln(this,hn,m7).call(this)):(kt(this,qi).warn(`Unable to find SCORM ${this.version} API...`),ln(this,hn,ma).call(this,"The course could not connect to the LMS.")),t}get isConnected(){return kt(this,Rr).connection.isActive&&!kt(this,Tl)}setIncomplete(){if(this.isSCORM2004)return ln(this,hn,Ii).call(this,"cmi.completion_status","incomplete"),ln(this,hn,Ii).call(this,"cmi.success_status","unknown"),this.commit();ln(this,hn,Ii).call(this,"cmi.core.lesson_status","incomplete"),this.commit()}setCompleted(){ln(this,hn,Ii).call(this,this.isSCORM2004?"cmi.completion_status":"cmi.core.lesson_status","completed"),this.commit()}setPassed(){if(this.isSCORM2004)return ln(this,hn,Ii).call(this,"cmi.completion_status","completed"),ln(this,hn,Ii).call(this,"cmi.success_status","passed"),this.commit();ln(this,hn,Ii).call(this,"cmi.core.lesson_status","passed"),this.commit()}setFailed(){if(this.isSCORM2004)return ln(this,hn,Ii).call(this,"cmi.completion_status","completed"),ln(this,hn,Ii).call(this,"cmi.success_status","failed"),this.commit();ln(this,hn,Ii).call(this,"cmi.core.lesson_status","failed"),this.commit()}get status(){const t=ln(this,hn,dc).call(this,this.isSCORM2004?"cmi.completion_status":"cmi.core.lesson_status");switch(t==null?void 0:t.toLowerCase()){case"completed":if(this.isSCORM2004){const n=ln(this,hn,dc).call(this,"cmi.success_status");if(n==="passed")return ci.Passed;if(n==="failed")return ci.Failed}return ci.Completed;case"passed":return ci.Passed;case"failed":return ci.Failed;case"browsed":case"not attempted":case"not_attempted":case"unknown":case"incomplete":return this.setIncomplete(),ci.Incomplete;default:return ln(this,hn,ma).call(this,`getStatus: invalid lesson status '${t}' received from LMS`),ci.Incomplete}}set status(t){switch(t){case ci.Incomplete:this.setIncomplete();break;case ci.Completed:this.setCompleted();break;case ci.Passed:this.setPassed();break;case ci.Failed:this.setFailed();break}}set score(t){if(t!==null){if(this.isSCORM2004){ln(this,hn,Ii).call(this,"cmi.score.raw",`${t}`),ln(this,hn,Ii).call(this,"cmi.score.min","0"),ln(this,hn,Ii).call(this,"cmi.score.max","100"),ln(this,hn,Ii).call(this,"cmi.score.scaled",`${t/100}`);return}ln(this,hn,Ii).call(this,"cmi.core.score.raw",`${t}`),ln(this,hn,CA).call(this,"cmi.core.score.min","0"),ln(this,hn,CA).call(this,"cmi.core.score.max","100")}}get lessonLocation(){return ln(this,hn,dc).call(this,this.isSCORM2004?"cmi.location":"cmi.core.lesson_location")||null}set lessonLocation(t){ln(this,hn,Ii).call(this,this.isSCORM2004?"cmi.location":"cmi.core.lesson_location",t??"")}get suspendData(){if(this.isSCORM2004){if(!kt(this,Hd)){const t=ln(this,hn,dc).call(this,"cmi.suspend_data")??"";Vi(this,Hd,Pj.decompressFromUTF16(t))}return kt(this,Hd)}return ln(this,hn,dc).call(this,"cmi.suspend_data")??""}set suspendData(t){if(this.isSCORM2004){Vi(this,Hd,t),ln(this,hn,Ii).call(this,"cmi.suspend_data",Pj.compressToUTF16(t));return}ln(this,hn,Ii).call(this,"cmi.suspend_data",t)}get studentName(){return ln(this,hn,dc).call(this,this.isSCORM2004?"cmi.learner_name":"cmi.core.student_name")}recordInteraction(t){if(!this.isSCORM2004)return;kt(this,qi).debug("recordInteraction");const{data:n}=t;if(!n){kt(this,qi).error("recordInteraction: no interaction data provided");return}const r=ln(this,hn,dc).call(this,"cmi.interactions._count")||"0";n.forEach((i,o)=>ln(this,hn,Ii).call(this,`cmi.interactions.${r}.${o}`,i))}commit(){if(kt(this,qi).debug("commit"),!this.isConnected){ln(this,hn,ma).call(this,ag);return}if(kt(this,Ac)){kt(this,qi).debug("commit: skipping this commit call as one is already pending.");return}if(kt(this,Rr).save()){Vi(this,ph,0);return}if(kt(this,ph)<kt(this,hx)&&!kt(this,Tl)){Dk(this,ph)._++,ln(this,hn,g7).call(this);return}const t=kt(this,Rr).debug.getCode();let n="Course could not commit data to the LMS";n+=`
Error ${t}: ${kt(this,Rr).debug.getInfo(t)}`,n+=`
LMS Error Info: ${kt(this,Rr).debug.getDiagnosticInfo(t)}`,ln(this,hn,ma).call(this,n)}finish(t="auto"){if(kt(this,qi).debug("finish"),kt(this,Tl))return;if(!this.isConnected){ln(this,hn,ma).call(this,ag);return}kt(this,hh)!==null&&window.clearInterval(kt(this,hh)),kt(this,Ac)&&(window.clearTimeout(kt(this,Tv)),Vi(this,Ac,!1)),kt(this,ms)&&!kt(this,ms).closed&&kt(this,ms).close();const n=kt(this,fh)?new Date().getTime()-kt(this,fh).getTime():0;t!=="auto"&&(kt(this,Rr).handleExitMode=!1),this.isSCORM2004?(kt(this,Rr).set("cmi.session_time",Hfe(n)),t!=="auto"&&kt(this,Rr).set("cmi.exit",t)):(kt(this,Rr).set("cmi.core.session_time",qfe(n)),t!=="auto"&&kt(this,Rr).set("cmi.core.exit",t));const r=kt(this,Rr).quit(),i=kt(this,Rr).debug.getCode();if(!r&&i!==0){const o=kt(this,Rr).debug.getInfo(i);return ln(this,hn,ma).call(this,`Course could not close the SCORM session

                Error Info: ${o}`),!1}return Vi(this,Tl,!0),!0}};dh=new WeakMap,qi=new WeakMap,Rr=new WeakMap,fh=new WeakMap,hx=new WeakMap,mx=new WeakMap,Ac=new WeakMap,ph=new WeakMap,hh=new WeakMap,Tv=new WeakMap,ms=new WeakMap,Tl=new WeakMap,Hd=new WeakMap,hn=new WeakSet,dc=function(t){if(kt(this,Tl))return"";if(kt(this,qi).debug(`getValue ${t}`),!this.isConnected)return ln(this,hn,ma).call(this,ag),"";const n=kt(this,Rr).get(t),r=kt(this,Rr).debug.getCode();switch(r){case 0:break;case 403:kt(this,qi).warn("getValue: data model element not initialized");break;default:{const i=kt(this,Rr).debug.getInfo(r);ln(this,hn,ma).call(this,`Course could not get ${t}

                    Error Info: ${i}`)}}return kt(this,qi).debug(`getValue: returning ${n}`),`${n}`},Ii=function(t,n){if(kt(this,Tl))return!1;if(kt(this,qi).debug(`setValue: ${t}=${n}`),!this.isConnected)return ln(this,hn,ma).call(this,ag),!1;const r=kt(this,Rr).set(t,n),i=kt(this,Rr).debug.getCode();if(!r&&i!==0){const o=kt(this,Rr).debug.getInfo(i);ln(this,hn,ma).call(this,`Course could not set ${t} to ${n}

                Error Info: ${o}`)}return r},CA=function(t,n){ln(this,hn,h7).call(this,t)&&ln(this,hn,Ii).call(this,t,n)},h7=function(t){return kt(this,Tl)?!1:this.isConnected?(kt(this,Rr).get(t),kt(this,Rr).debug.getCode()!==401):(ln(this,hn,ma).call(this,ag),!1)},m7=function(){if(kt(this,qi).debug("initTimedCommit"),this.timedCommitFrequency>0){const t=this.timedCommitFrequency*6e4;Vi(this,hh,window.setInterval(this.commit.bind(this),t))}},g7=function(){kt(this,qi).debug("initRetryCommit"),Vi(this,Ac,!0),Vi(this,Tv,window.setTimeout(()=>{kt(this,qi).debug("doRetryCommit"),Vi(this,Ac,!1),this.commit()},kt(this,mx)))},ma=function(t){this.suppressErrors||(kt(this,qi).error(t),(!kt(this,ms)||kt(this,ms).closed)&&window.confirm(`An error has occurred:

${t}

Press 'OK' to view debug information to send to technical support.`)&&ln(this,hn,y7).call(this))},y7=function(){kt(this,ms)&&!kt(this,ms).closed&&kt(this,ms).close(),Vi(this,ms,window.open("scorm_log.html","scorm_log","popup,width=600,height=300,top=0,left=0")),kt(this,ms)&&kt(this,ms).focus()},ai(Md,dh,null);let hs=Md;const Gfe=e=>{var n;const t={};for(const[r,i]of Object.entries(e)){if(!(i!=null&&i.completed))continue;switch((n=i.state)==null?void 0:n.response){case wt.Neutral:t[r]=5;break;case wt.Correct:t[r]=4;break;case wt.PartlyCorrect:t[r]=3;break;case wt.Incorrect:t[r]=2;break;default:t[r]=1;break}}return t},Wfe=e=>{if(!e)return null;const t={};for(const[n,r]of Object.entries(e)){let i;switch(r){case 5:i=wt.Neutral;break;case 4:i=wt.Correct;break;case 3:i=wt.PartlyCorrect;break;case 2:i=wt.Incorrect;break}t[n]={viewed:!0,started:!0,completed:!0,state:i?{response:i}:{}}}return t},Rj=["beforeunload","pagehide","unload"],Sr={visibilityChangeHandler:null,exitEventHandler:null,initialise(e){const t=hs.getInstance();t.version=e,t.initialize(),this.visibilityChangeHandler=this.commitWhenHidden.bind(this),document.addEventListener("visibilitychange",this.visibilityChangeHandler),this.exitEventHandler=this.terminate.bind(this),Rj.forEach(n=>window.addEventListener(n,this.exitEventHandler))},terminate(){hs.getInstance().finish(),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler),Rj.forEach(e=>this.exitEventHandler&&window.removeEventListener(e,this.exitEventHandler))},commitWhenHidden(){document.visibilityState==="hidden"&&hs.getInstance().commit()},saveBookmark(e){hs.getInstance().lessonLocation=e},saveCourseTracking(e){const t=hs.getInstance();if(!t.isConnected)return;t.status=e.status;const n=this._getSuspendData();n&&(n.course.elementsCompleted=e.elementsCompleted,this._setSuspendData(n))},restoreCourseTracking(){const e=hs.getInstance();if(!e.isConnected)return null;const{lessonLocation:t,status:n}=e,r=this._getSuspendData();return{status:n,elementsCompleted:(r==null?void 0:r.course.elementsCompleted)??!1,previousSessionBookmark:t}},saveAssessmentTracking(e){const t=hs.getInstance();if(!t.isConnected)return;typeof e.score=="number"&&(t.score=e.score);const n=this._getSuspendData();n&&(n.assessment=Oh(e,["isEnabled"]),this._setSuspendData(n))},restoreAssessmentTracking(){const e=this._getSuspendData();return(e==null?void 0:e.assessment)||null},saveHiddenTracking(e){const t=this._getSuspendData();t&&(t.hidden=e,this._setSuspendData(t))},restoreHiddenTracking(){const e=this._getSuspendData();return(e==null?void 0:e.hidden)||null},saveTriggerTracking(e){const t=this._getSuspendData();t&&(t.triggers=e,this._setSuspendData(t))},restoreTriggerTracking(){const e=this._getSuspendData();return(e==null?void 0:e.triggers)||null},saveVariableTracking(e){const t=this._getSuspendData();t&&(t.variables=e,this._setSuspendData(t))},restoreVariableTracking(){const e=this._getSuspendData();return(e==null?void 0:e.variables)||null},saveElementTracking(e){const t=this._getSuspendData();t&&(t.elements=hs.getInstance().isSCORM2004?e:Gfe(e),this._setSuspendData(t))},restoreElementTracking(){const e=this._getSuspendData();return e?hs.getInstance().isSCORM2004?e.elements:Wfe(e.elements):null},recordInteraction(e){const t=hs.getInstance();t.isConnected&&t.recordInteraction(e)},_getSuspendData(){const e=hs.getInstance();if(!e.isConnected)return null;try{const t=e.suspendData;return t?JSON.parse(t):{v:1,course:{elementsCompleted:!1},assessment:null,elements:null}}catch(t){return console.error("ScormTracking: failed to parse SCORM suspend data:",t),null}},_setSuspendData(e){if(!e)return;const t=hs.getInstance();if(t.isConnected)try{const n=JSON.stringify(e);t.suspendData=n}catch(n){console.error("ScormTracking: failed to save SCORM suspend data:",n)}}},v7=Bo("tracking/initialize"),ad=Bo("tracking/restore"),Is=ese.withTypes()("tracking/reset",(e,{getState:t})=>{const{courseData:n}=t();return n}),Yfe={isEnabled:!1},b7=Qr({name:"assessmentTracking",initialState:Yfe,reducers:{setAssessmentCompleted(e,t){if(!e.isEnabled||e.status!==Ni.Incomplete)return;if(e.score=t.payload.score,e.attempt=e.attempt?e.attempt+1:1,t.payload.isPassingScore){e.status=Ni.Passed;return}const n=e.attempt>=t.payload.allowedAttempts;e.status=n?Ni.Failed:Ni.Completed},retakeAssessment(e,t){e.isEnabled&&(e.score=null,e.status=Ni.Incomplete)}},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>{n.courseSettings.assessment.isEnabled&&(t.isEnabled=!0,t.attempt=0,t.score=null,t.status=Ni.Incomplete)}).addCase(ad,(t,{payload:{config:n,course:r}})=>{var l;if(!((l=n.publish)!=null&&l.type)||!t.isEnabled)return;let i;switch(n.publish.type){case"scorm_12":case"scorm_2004":i=Sr.restoreAssessmentTracking();break;case"web":if(!n.publish.useLocalStorage)break;i=co.restoreAssessmentTracking(r._id);break;case"platform":i=bf.restoreAssessmentTracking();break}if(!i)return;const{status:o,score:s,attempt:a}=i;typeof a=="number"&&!isNaN(a)&&(t.attempt=a),s!==void 0&&(t.score=s),o&&(t.status=o)}).addCase(Is.fulfilled,t=>{t.isEnabled&&(t.attempt=0,t.score=null,t.status=Ni.Incomplete)})}}),{setAssessmentCompleted:_f,retakeAssessment:Ml}=b7.actions,Kfe=b7.reducer,Xfe={status:ci.Incomplete,elementsCompleted:!1,currentSessionBookmark:null,previousSessionBookmark:null,exiting:!1},_7=Qr({name:"courseTracking",initialState:Xfe,reducers:{setCourseStatus(e,t){e.status=t.payload},setCourseElementsCompleted(e,t){e.elementsCompleted=t.payload},setCourseBookmark(e,t){e.currentSessionBookmark=t.payload},exitCourse(e){e.exiting=!0}},extraReducers:e=>{e.addCase(v7,(t,{payload:{config:n,platformProgress:r}})=>{var i;(i=n.publish)!=null&&i.type&&(n.publish.type==="scorm_12"&&Sr.initialise("1.2"),n.publish.type==="scorm_2004"&&Sr.initialise("2004"),n.publish.type==="platform"&&r&&bf.initialise(r))}),e.addCase(ad,(t,{payload:{config:n,course:r}})=>{var o;if(!((o=n.publish)!=null&&o.type))return;let i;switch(n.publish.type){case"scorm_12":case"scorm_2004":i=Sr.restoreCourseTracking();break;case"web":if(!n.publish.useLocalStorage)break;i=co.restoreCourseTracking(r._id);break;case"platform":i=bf.restoreCourseTracking();break}i&&(t.status=i.status,t.elementsCompleted=i.elementsCompleted,t.previousSessionBookmark=i.previousSessionBookmark)}),e.addCase(Is.fulfilled,t=>{t.status=ci.Incomplete,t.elementsCompleted=!1,t.currentSessionBookmark=null,t.previousSessionBookmark=null})}}),{setCourseStatus:qc,setCourseElementsCompleted:iw,setCourseBookmark:VD,exitCourse:ow}=_7.actions,Zfe=_7.reducer,Qfe={},D1={viewed:!1,started:!1,completed:!1,state:{}},qD=Qr({name:"elementTracking",initialState:Qfe,reducers:{setElementViewed:{reducer:(e,t)=>{const n=e[t.payload.elementRefId];n&&(n.viewed=!0)},prepare:Jf()},setElementStarted:{reducer:(e,t)=>{const n=e[t.payload.elementRefId];n&&(n.started=!0)},prepare:Jf()},setElementCompleted:{reducer:(e,t)=>{const n=e[t.payload.elementRefId];n&&(n.completed=!0)},prepare:Jf()},setElementClicked:{reducer:(e,t)=>{const n=e[t.payload.elementRefId];n&&(n.state={...n.state,clicked:!0})},prepare:Jf()},setElementState:{reducer:(e,t)=>{const n=e[t.payload.elementRefId];n&&(n.state={...n.state,...t.payload.state})},prepare:Jf()},resetElementTrackingByRefIds:{reducer:(e,t)=>{for(const n of t.payload.elementRefIds)e[n]&&(e[n]={...e[n],...D1})},prepare:Jf()}},extraReducers:e=>{e.addCase(so,(t,n)=>{for(const{refId:r,completionRequired:i}of n.payload.elements)t[r]={...D1,required:i}}).addCase(ad,(t,{payload:{config:n,course:r}})=>{var o;if(!((o=n.publish)!=null&&o.type))return;let i;switch(n.publish.type){case"scorm_12":case"scorm_2004":i=Sr.restoreElementTracking();break;case"web":if(!n.publish.useLocalStorage)break;i=co.restoreElementTracking(r._id);break;case"platform":i=bf.restoreElementTracking();break}if(i)for(const[s,a]of Object.entries(i))s in t&&(t[s]={...t[s],...a})}).addCase(Is.fulfilled,t=>{for(const n of Object.keys(t))t[n]={...t[n],...D1}}).addCase(Ml,(t,{payload:n})=>{if(n.elementRefIds)return qD.caseReducers.resetElementTrackingByRefIds(t,{payload:n})})}}),{setElementViewed:ry,setElementStarted:OA,setElementCompleted:Ru,setElementState:tl,setElementClicked:S7,resetElementTrackingByRefIds:Wy}=qD.actions,x7=Bo("elementTracking/setElementPassed"),w7=Bo("elementTracking/setElementFailed"),Jfe=qD.reducer,epe=[],T7=Qr({name:"hiddenTracking",initialState:epe,reducers:{hide:(e,t)=>{for(const n of t.payload.refIds)e.includes(n)||e.push(n)},show:(e,t)=>e.filter(n=>!t.payload.refIds.includes(n))},extraReducers(e){e.addCase(so,(t,{payload:n})=>Ij(n)).addCase(ad,(t,{payload:{config:n,course:r}})=>{var o;if(!((o=n.publish)!=null&&o.type))return;let i;switch(n.publish.type){case"scorm_12":case"scorm_2004":i=Sr.restoreHiddenTracking();break;case"web":if(!n.publish.useLocalStorage)break;i=co.restoreHiddenTracking(r._id);break;case"platform":i=bf.restoreHiddenTracking();break}if(i)return i}).addCase(Is.fulfilled,(t,{payload:{pages:n,sections:r,rows:i,elements:o}})=>Ij({pages:jo(n.byId),sections:jo(r.byId),rows:jo(i.byId),elements:jo(o.byId)}))}}),tpe=T7.reducer,{hide:HD,show:GD}=T7.actions,npe=["pages","sections","rows","elements"];function Ij(e){const t=[];for(const n of npe)for(const r of e[n])r.isHidden&&t.push(r.refId);return t}const rpe=[],E7=Qr({name:"triggerTracking",initialState:rpe,reducers:{activate:(e,t)=>{for(const n of t.payload.refIds)e.includes(n)||e.push(n)},deactivate:(e,t)=>e.filter(n=>!t.payload.refIds.includes(n))},extraReducers:e=>{e.addCase(so,(t,{payload:{triggers:n}})=>kj(n)).addCase(ad,(t,{payload:{config:n,course:r}})=>{var o;if(!((o=n.publish)!=null&&o.type))return;let i;switch(n.publish.type){case"scorm_12":case"scorm_2004":i=Sr.restoreTriggerTracking();break;case"web":if(!n.publish.useLocalStorage)break;i=co.restoreTriggerTracking(r._id);break;case"platform":i=bf.restoreTriggerTracking();break}if(i)return i}).addCase(Is.fulfilled,(t,{payload:{triggers:n}})=>kj(jo(n.byId)))}}),ipe=E7.reducer,{activate:WD,deactivate:YD}=E7.actions;function kj(e){return e.filter(t=>t.isActive).map(t=>t.refId)}const ope={},A7=Qr({name:"variableTracking",initialState:ope,reducers:{setStringVariable:{prepare:(e,t)=>({payload:{variableRefId:e.refId,value:t}}),reducer(e,{payload:{variableRefId:t,value:n}}){Mse(e[t])&&(e[t]=n)}},setNumberVariable:{prepare:(e,t)=>({payload:{variableRefId:e.refId,value:t}}),reducer(e,{payload:{variableRefId:t,value:n}}){w1(e[t])&&(e[t]=n)}},setBooleanVariable:{prepare:(e,t)=>({payload:{variableRefId:e.refId,value:t}}),reducer(e,{payload:{variableRefId:t,value:n}}){Nse(e[t])&&(e[t]=n)}},incrementNumberVariable:{prepare:(e,t=1)=>({payload:{variableRefId:e.refId,value:t}}),reducer(e,{payload:{variableRefId:t,value:n}}){w1(e[t])&&(e[t]+=n)}},decrementNumberVariable:{prepare:(e,t=1)=>({payload:{variableRefId:e.refId,value:t}}),reducer(e,{payload:{variableRefId:t,value:n}}){w1(e[t])&&(e[t]-=n)}}},extraReducers:e=>{e.addCase(so,(t,{payload:{variables:n}})=>Nj(t,n)).addCase(ad,(t,{payload:{config:n,course:r}})=>{var o;if(!((o=n.publish)!=null&&o.type))return;let i;switch(n.publish.type){case"scorm_12":case"scorm_2004":i=Sr.restoreVariableTracking();break;case"web":if(!n.publish.useLocalStorage)break;i=co.restoreVariableTracking(r._id);break;case"platform":i=bf.restoreVariableTracking();break}if(i)for(const[s,a]of Object.entries(i))s in t&&(t[s]=a)}).addCase(Is.fulfilled,(t,{payload:{variables:n}})=>Nj(t,jo(n.byId)))}}),spe=A7.reducer,{setStringVariable:Iu,setNumberVariable:Sf,setBooleanVariable:Wv,incrementNumberVariable:Yv,decrementNumberVariable:Kv}=A7.actions;function Nj(e,t){for(const n of t)e[n.refId]=ape(n)}function ape(e){let t;switch(e.type){case"string":t=e.defaultValue??"";break;case"number":t=e.defaultValue??0;break;case"boolean":t=e.defaultValue??!1;break}return t}const lpe=e=>{e({matcher:Fr(qc,iw,VD),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},courseData:{course:o},tracking:{courseTracking:s}}=n();if((i==null?void 0:i.type)!=="web"||!i.useLocalStorage)return r();co.saveCourseTracking(o.entity._id,s)}}),e({matcher:Fr(_f,Ml),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},courseData:{course:o},tracking:{assessmentTracking:s}}=n();if((i==null?void 0:i.type)!=="web"||!i.useLocalStorage)return r();co.saveAssessmentTracking(o.entity._id,s)}}),e({matcher:Fr(tl,Ru,Wy,Ml),effect:async(t,{cancelActiveListeners:n,delay:r,getState:i,unsubscribe:o})=>{var u;const{config:s}=i();if(((u=s.publish)==null?void 0:u.type)!=="web"||!s.publish.useLocalStorage)return o();n(),await r(500);const{courseData:{course:a},tracking:{elementTracking:l}}=i();co.saveElementTracking(a.entity._id,l)}}),e({matcher:Fr(GD,HD),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},courseData:{course:o},tracking:{hiddenTracking:s}}=n();if((i==null?void 0:i.type)!=="web"||!i.useLocalStorage)return r();co.saveHiddenTracking(o.entity._id,s)}}),e({matcher:Fr(WD,YD),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},courseData:{course:o},tracking:{triggerTracking:s}}=n();if((i==null?void 0:i.type)!=="web"||!i.useLocalStorage)return r();co.saveTriggerTracking(o.entity._id,s)}}),e({matcher:Fr(Iu,Sf,Wv,Yv,Kv),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},courseData:{course:o},tracking:{variableTracking:s}}=n();if((i==null?void 0:i.type)!=="web"||!i.useLocalStorage)return r();co.saveVariableTracking(o.entity._id,s)}}),e({actionCreator:Is.fulfilled,effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},courseData:{course:o},tracking:s}=n();if((i==null?void 0:i.type)!=="web"||!i.useLocalStorage)return r();const a=o.entity._id;co.saveCourseTracking(a,s.courseTracking),co.saveAssessmentTracking(a,s.assessmentTracking),co.saveElementTracking(a,s.elementTracking),co.saveHiddenTracking(a,s.hiddenTracking),co.saveTriggerTracking(a,s.triggerTracking),co.saveVariableTracking(a,s.variableTracking)}}),e({actionCreator:ow,effect:(t,{getState:n})=>{var r;((r=n().config.publish)==null?void 0:r.type)==="web"&&iF()}})};function $d({object:e,id:t,courseData:n}){switch(e){case Qt.Page:{const r=n.pages.byId[t];return yp(Qt.Page,r),r}case Qt.Section:{const r=n.sections.byId[t];return yp(Qt.Section,r),r}case Qt.Row:{const r=n.rows.byId[t];return yp(Qt.Row,r),r}case Qt.Column:{const r=n.columns.byId[t];return yp(Qt.Column,r),r}case Qt.Element:{const r=n.elements.byId[t];return yp(Qt.Element,r),r}default:throw new Error(`'${e}' is not a valid object type`)}}function KD({object:e,refId:t,courseData:n}){switch(e){case Qt.Page:return n.pages.byRefId[t];case Qt.Section:return n.sections.byRefId[t];case Qt.Row:return n.rows.byRefId[t];case Qt.Column:return n.columns.byRefId[t];case Qt.Element:return n.elements.byRefId[t]}}function upe({object:e,refId:t,courseData:n}){const r=KD({object:e,refId:t,courseData:n});return r?$d({object:e,id:r,courseData:n}):null}function cpe({from:e,courseData:t}){switch(e.object){case Qt.Course:{const n=t.pages.byParentId[e._id]??[];return vp(t.pages.byId,n)}case Qt.Page:{const n=t.sections.byParentId[e._id]??[];return vp(t.sections.byId,n)}case Qt.Section:{const n=t.rows.byParentId[e._id]??[];return vp(t.rows.byId,n)}case Qt.Row:{const n=t.columns.byParentId[e._id]??[];return vp(t.columns.byId,n)}case Qt.Column:{const n=t.elements.byColumnId[e._id]??[];return vp(t.elements.byId,n)}}}function dpe({from:e,courseData:t}){const n=e.parentId;switch(e.object){case Qt.Element:return $d({object:Qt.Column,id:n,courseData:t});case Qt.Column:return $d({object:Qt.Row,id:n,courseData:t});case Qt.Row:return $d({object:Qt.Section,id:n,courseData:t});case Qt.Section:return $d({object:Qt.Page,id:n,courseData:t});case Qt.Page:{const r=t.course.entity;return yp(Qt.Course,r),r}}}function fpe({from:e,courseData:t,inclusive:n=!0}){let r=e;const i=n?[r.refId]:[];for(;r.object!==Qt.Page;)r=dpe({from:r,courseData:t}),i.unshift(r.refId);return i}function ppe({from:e,courseData:t}){let n;switch(e.object){case Qt.Course:n=Object.keys(t.elements.byId);break;case Qt.Page:n=t.elements.byPageId[e._id]??[];break;case Qt.Section:n=t.elements.bySectionId[e._id]??[];break;case Qt.Row:n=t.elements.byRowId[e._id]??[];break;case Qt.Column:n=t.elements.byColumnId[e._id]??[];break}return vp(t.elements.byId,n)}const C7=e=>e.courseData,hpe=(e,t)=>t;Zr([C7,hpe],(e,t)=>Fo(cpe({from:t,courseData:e}),uF(lF("order"))),{memoize:Mr,argsMemoize:Mr});const mpe=Zr([C7,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>$d({object:t,id:n,courseData:e}),{memoize:Mr,argsMemoize:Mr}),gpe=(e,t,n)=>mpe(e,t,n),ype=(e,t)=>Cr(n=>gpe(n,e,t));function yp(e,t){if((t==null?void 0:t.object)!==e)throw new Error(`Expected object ${e}, received ${t==null?void 0:t.object}`)}function vp(e,t){return Fo(e,al(t),jo())}function vpe(e){return Wce.find(t=>t.variant===e.variant).interactionType}function tp(e,t){return vpe(e)===t}const Nc=e=>{if(!e)return"null";const t=zD(e).trim(),n=encodeURIComponent(t);return cF(n,250)};var nm,O7,D7;class bpe extends Gv{constructor({lang:n="en",element:r,answers:i,result:o,timestamp:s}){var a;super({id:r._id,type:"choice",lang:n,description:((a=r.props.questionText[n])==null?void 0:a.html)??"",result:o,timestamp:s});ai(this,nm);this.learnerResponses=ln(this,nm,D7).call(this,r,i),o!==wt.Neutral&&(this.correctResponses=ln(this,nm,O7).call(this,r))}}nm=new WeakSet,O7=function(n){return n.props.items.filter(({isCorrect:r})=>r).map(r=>Nc(r.label[this._lang]||r.altText[this._lang]||r.id))},D7=function(n,r){return r.map(i=>{const o=n.props.items.find(({id:s})=>s===i);return Nc((o==null?void 0:o.label[this._lang])||(o==null?void 0:o.altText[this._lang])||i)})};var gx,P7;class _pe extends Gv{constructor({lang:n="en",element:r,answer:i,timestamp:o}){var s;super({id:r._id,type:"long-fill-in",lang:n,description:((s=r.props.questionText[n])==null?void 0:s.html)??"",result:wt.Neutral,timestamp:o});ai(this,gx);this.learnerResponses=ln(this,gx,P7).call(this,i)}}gx=new WeakSet,P7=function(n){const r=n.length<=4e3?n:`${n.slice(0,3997)}...`;return[this._addLanguageTag(r)]};var rm,R7,I7;class Spe extends Gv{constructor({lang:n="en",element:r,answers:i,result:o,timestamp:s}){var a;super({id:r._id,type:"matching",lang:n,description:((a=r.props.questionText[n])==null?void 0:a.html)??"",result:o,timestamp:s});ai(this,rm);this.learnerResponses=ln(this,rm,I7).call(this,r,i),o!==wt.Neutral&&(this.correctResponses=ln(this,rm,R7).call(this,r))}}rm=new WeakSet,R7=function(n){const{items:r,dropZones:i}=n.props;return r.map(o=>{const s=i.find(({id:u})=>u===o.correctDropZone),a=Nc(o.label[this._lang]||o.id),l=Nc((s==null?void 0:s.label[this._lang])||(s==null?void 0:s.id)||"null");return`${a}[.]${l}`})},I7=function(n,r){const{items:i,dropZones:o}=n.props;return Object.entries(r).map(([s,a])=>{const l=i.find(({id:f})=>f===s),u=o.find(({id:f})=>f===a),c=Nc((l==null?void 0:l.label[this._lang])||s),d=Nc((u==null?void 0:u.label[this._lang])||a);return`${c}[.]${d}`})};var yx,k7;class xpe extends Gv{constructor({lang:n="en",element:r,answer:i,timestamp:o}){var s;super({id:r._id,type:"numeric",lang:n,description:((s=r.props.questionText[n])==null?void 0:s.html)??"",result:wt.Neutral,timestamp:o});ai(this,yx);this.learnerResponses=ln(this,yx,k7).call(this,i)}}yx=new WeakSet,k7=function(n){return[String(n)]};var im,N7,M7;class wpe extends Gv{constructor({lang:n="en",element:r,answers:i,result:o,timestamp:s}){var a;super({id:r._id,type:"sequencing",lang:n,description:((a=r.props.questionText[n])==null?void 0:a.html)??"",result:o,timestamp:s});ai(this,im);this.learnerResponses=ln(this,im,M7).call(this,r,i),o!==wt.Neutral&&(this.correctResponses=ln(this,im,N7).call(this,r))}}im=new WeakSet,N7=function(n){return n.props.items.map(r=>Nc(r.label[this._lang]||r.altText[this._lang]||r.id))},M7=function(n,r){return r.map(i=>{const o=n.props.items.find(({id:s})=>s===i);return Nc((o==null?void 0:o.label[this._lang])||(o==null?void 0:o.altText[this._lang])||i)})};const Tpe=e=>{e({matcher:Fr(qc,iw),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:{courseTracking:o}}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveCourseTracking(o)}}),e({actionCreator:VD,effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:{courseTracking:o}}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveBookmark(o.currentSessionBookmark)}}),e({matcher:Fr(_f,Ml),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:{assessmentTracking:o}}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveAssessmentTracking(o)}}),e({matcher:Fr(tl,Ru,Wy,Ml),effect:async(t,{cancelActiveListeners:n,delay:r,getState:i,unsubscribe:o})=>{var a;const{config:s}=i();if(((a=s.publish)==null?void 0:a.type)!=="scorm_2004")return o();n(),await r(500),Sr.saveElementTracking(Vy(i().tracking.elementTracking,l=>Oh(l,["required"])))}}),e({matcher:Fr(Ru,Wy,Ml),effect:async(t,{cancelActiveListeners:n,delay:r,getState:i,unsubscribe:o})=>{var a;const{config:s}=i();if(((a=s.publish)==null?void 0:a.type)!=="scorm_12")return o();n(),await r(500),Sr.saveElementTracking(Vy(i().tracking.elementTracking,l=>Oh(l,["required"])))}}),e({actionCreator:tl,effect:(t,{getState:n,unsubscribe:r})=>{var d;const{config:i}=n();if(((d=i.publish)==null?void 0:d.type)!=="scorm_2004")return r();const{response:o}=t.payload.state;if(!o||o===wt.None)return;const{courseData:s,locale:a,tracking:l}=n(),u=upe({object:Qt.Element,refId:t.payload.elementRefId,courseData:s}),c=l.elementTracking[t.payload.elementRefId];if(!(!u||!c||tp(u,null))){if(tp(u,"choice")){const{answers:f,response:m}=c.state,h=new bpe({lang:a,element:u,answers:f,result:m});return Sr.recordInteraction(h)}if(tp(u,"matching")){const{answers:f,response:m}=c.state,h=new Spe({lang:a,element:u,answers:f,result:m});return Sr.recordInteraction(h)}if(tp(u,"sequencing")){const{answers:f,response:m}=c.state,h=new wpe({lang:a,element:u,answers:f,result:m});return Sr.recordInteraction(h)}if(tp(u,"long-fill-in")){const{answer:f}=c.state,m=new _pe({lang:a,element:u,answer:f});return Sr.recordInteraction(m)}if(tp(u,"numeric")){const{answer:f}=c.state,m=new xpe({lang:a,element:u,answer:f});return Sr.recordInteraction(m)}}}}),e({matcher:Fr(GD,HD),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:{hiddenTracking:o}}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveHiddenTracking(o)}}),e({matcher:Fr(WD,YD),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:{triggerTracking:o}}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveTriggerTracking(o)}}),e({matcher:Fr(Iu,Sf,Wv,Yv,Kv),effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:{variableTracking:o}}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveVariableTracking(o)}}),e({actionCreator:Is.fulfilled,effect:(t,{getState:n,unsubscribe:r})=>{const{config:{publish:i},tracking:o}=n();if((i==null?void 0:i.type)!=="scorm_12"&&(i==null?void 0:i.type)!=="scorm_2004")return r();Sr.saveCourseTracking(o.courseTracking),Sr.saveBookmark(o.courseTracking.currentSessionBookmark),Sr.saveAssessmentTracking(o.assessmentTracking),Sr.saveElementTracking(o.elementTracking),Sr.saveHiddenTracking(o.hiddenTracking),Sr.saveTriggerTracking(o.triggerTracking),Sr.saveVariableTracking(o.variableTracking)}}),e({actionCreator:ow,effect:(t,{getState:n})=>{var i,o;const{config:r}=n();(((i=r.publish)==null?void 0:i.type)==="scorm_12"||((o=r.publish)==null?void 0:o.type)==="scorm_2004")&&(Sr.terminate(),iF())}})};function Epe(e){return typeof e=="string"&&MD.includes(e)}function Ape(e="en"){const t=document.documentElement.lang;return Epe(t)?t:e}const Cpe=e=>e.courseData.course,j7=e=>Cpe(e).entity,XD=e=>{var t;return((t=j7(e))==null?void 0:t._id)??""},Ope=e=>{var t;return((t=j7(e))==null?void 0:t.title)||""},L7=e=>e.tracking.hiddenTracking,Xv=Zr(L7,e=>new Set(e));function P1(e,t){return Xv(e).has(t.refId)}const Dpe=[],$7=Zr([e=>e.courseData.pages.byId,e=>e.courseData.pages.byParentId,(e,t)=>t],(e,t,n)=>{const r=t[n];return r?Fo(e,al(r),jo()):Dpe}),Ppe=(e,t)=>e.courseData.pages.byId[t],Rpe=(e,t)=>e.courseData.pages.byRefId[t];Zr([e=>e.courseData.pages.byId,Rpe],(e,t)=>t?e[t]:void 0);const Ipe=e=>e.courseData.pages.byId,kpe=Zr([Ipe,Xv],(e,t)=>Fo(e,jo(),uF(lF("order"))).find(n=>!t.has(n.refId))),B7=[],Npe=Zr([e=>e.courseData.rows.byId,e=>e.courseData.rows.byParentId,(e,t)=>t],(e,t,n)=>{const r=t[n];return r?Fo(e,al(r),jo()):B7},{memoize:Mr,argsMemoize:Mr}),U7=(e,t)=>e.courseData.rows.byId[t],Mpe=(e,t)=>e.courseData.rows.byRefId[t];Zr([e=>e.courseData.rows.byId,Mpe],(e,t)=>t?e[t]:void 0);const jpe=(e,t)=>e.courseData.rows.byParentId[t]??B7,F7=[],z7=Zr([e=>e.courseData.sections.byId,e=>e.courseData.sections.byParentId,(e,t)=>t],(e,t,n)=>{const r=t[n];return r?Fo(e,al(r),jo()):F7},{memoize:Mr,argsMemoize:Mr}),V7=(e,t)=>e.courseData.sections.byId[t],Lpe=(e,t)=>e.courseData.sections.byRefId[t];Zr([e=>e.courseData.sections.byId,Lpe],(e,t)=>t?e[t]:void 0);const $pe=(e,t)=>e.courseData.sections.byParentId[t]??F7,Bpe=e=>e.tracking.courseTracking.previousSessionBookmark,q7=e=>{const t=XD(e),n=$7(e,t)[0];if(!n||P1(e,n))return"/";const r=`/page/${n._id}`,i=Bpe(e);if(!i)return r;const o=U7(e,i);if(!o||P1(e,o))return r;const s=V7(e,o.parentId);return!s||P1(e,s)?r:`/page/${s.parentId}?contentId=${i}`},Upe={isPreview:!1,isReady:!1,showExitButton:!0,showOutline:!0,animationsDisabled:!1},H7=Qr({name:"app",initialState:Upe,reducers:{setIsPreview(e,t){e.isPreview=t.payload},setIsReady(e,t){e.isReady=t.payload},setAnimationsDisabled(e,t){e.animationsDisabled=t.payload}}}),{setIsPreview:T4e,setIsReady:G7,setAnimationsDisabled:E4e}=H7.actions,Fpe=H7.reducer,zpe=()=>Cr(e=>e.app.isReady),Vpe={publish:null},W7=Qr({name:"config",initialState:Vpe,reducers:{setConfig(e,t){return t.payload}}}),{setConfig:qpe}=W7.actions,Hpe=W7.reducer;var Y7={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)t.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Y7);var Gpe=Y7.exports;const Pt=dl(Gpe),Wpe=()=>Cr(e=>e.locale),vr=()=>{const e=Wpe(),t=Cr(r=>r.courseData.labelSet.entity);return R.useCallback((r,...i)=>{var s;let o=((s=t==null?void 0:t.labels[r])==null?void 0:s[e])||"";if(i.length>0&&i[0]){const a=i[0];o=o.replace(/\{\{(\w+)\}\}/g,(l,u)=>a[u]===void 0?"":String(a[u]))}return o},[t,e])},Bt={isSelected:"ev-is-selected",typography:"ev-typography",label:"ev-label",showAnimations:"ev-show-animations",caption:"ev-caption",button:"ev-button ev-focus-visible",isDisabled:"ev-is-disabled",isVisible:"ev-is-visible",isDragging:"ev-is-dragging",visuallyHidden:"ev-visually-hidden",isCorrect:"ev-is-correct",isIncorrect:"ev-is-incorrect",isHidden:"ev-is-hidden",isExpandable:"ev-is-expandable"},Za={root:"ev-column",outer:"ev-column-outer ev-outer",inner:"ev-column-inner ev-inner",verticalAlign:(e="top")=>`ev-column-vertical-align-${e}`,empty:"ev-column-empty",order:e=>`ev-column-order-${e}`},Aa={root:"ev-element",outer:"ev-element-outer ev-outer",inner:"ev-element-inner ev-inner",variant:e=>`ev-${Hse(e)}`,controls:"ev-element-controls",widget:"ev-element-widget"},K7={root:"ev-page",inner:"ev-page-inner ev-inner"},au={root:"ev-row",outer:"ev-row-outer ev-outer",inner:"ev-row-inner ev-inner",layout:(e="equal",t,n=!1)=>`ev-row-layout-${e} ev-row-columns-${t} ${n?"ev-row-reverse-column-order":""}`},Bd={root:"ev-section",outer:"ev-section-outer ev-outer",inner:"ev-section-inner ev-inner"},xl={item:"ev-accordion-item",itemButton:"ev-accordion-item-button",itemButtonIconContainer:"ev-accordion-item-button-icon-container",itemButtonIcon:"ev-accordion-item-button-icon",itemButtonIconOpenContainer:"ev-accordion-item-button-icon-open-container",itemButtonLabel:"ev-accordion-item-button-label",itemContent:"ev-accordion-item-content",itemContentInner:"ev-accordion-item-content-inner",widget:"ev-accordion-widget"},lg={headingLabel:"ev-assessment-details-heading-label",list:"ev-assessment-details-list",listItem:"ev-assessment-details-list-item"},rc={headingLabel:"ev-assessment-overview-heading-label",list:"ev-assessment-overview-list",listItem:"ev-assessment-overview-list-item",stat:"ev-assessment-overview-stat",subtitle:"ev-assessment-overview-subtitle",retakeButton:"ev-retake-button"},ug={progressCircleContainer:"ev-assessment-score-progress-circle-container",progressCircle:"ev-assessment-score-progress-circle",progressCircleLabel:"ev-assessment-score-progress-circle-label",feedback:"ev-feedback",feedbackInner:"ev-feedback-inner"},R1={image:"ev-button-image",align:(e="center")=>`ev-button-align-${e}`,icon:"ev-icon-button"},no={widget:"ev-card-drop-widget",question:"ev-card-drop-question",container:"ev-card-drop-container",itemsContainer:"ev-card-drop-items-container",item:"ev-card-drop-item ev-focus-visible",itemDefault:"ev-card-drop-item-default",itemInner:"ev-card-drop-item-inner",itemContent:"ev-card-drop-item-content",itemFooter:"ev-card-drop-item-footer",itemDragIcon:"ev-drag-icon",dropZonesContainer:"ev-card-drop-drop-zones-container",dropZone:"ev-card-drop-drop-zone",dropZoneContent:"ev-card-drop-drop-zone-content",attempts:"ev-card-drop-attempts"},ic={instruction:"ev-checklist-instruction",items:"ev-checklist-items",item:"ev-checklist-item",itemCheckbox:"ev-checklist-item-checkbox",itemCheckboxIcon:"ev-checklist-item-checkbox-icon",itemCheckboxCheck:"ev-checklist-item-checkbox-icon-check",itemLabel:"ev-checklist-item-label"},Ud={widget:"ev-flipcard-widget",items:"ev-flipcard-items",item:"ev-flipcard-item ev-focus-visible",itemInner:"ev-flipcard-item-inner",itemFront:"ev-flipcard-item-front",itemBack:"ev-flipcard-item-back",itemButton:"ev-flipcard-item-button ev-focus-within"},Mj={figure:"ev-graphic-figure",imageAlign:(e="center")=>`ev-image-align-${e}`},Uo={root:"ev-hotgraphic",container:"ev-hotgraphic-container",hotspots:"ev-hotgraphic-hotspots",hotspot:"ev-hotgraphic-hotspot",hotspotButton:"ev-hotgraphic-hotspot-button ev-focus-visible",hotspotButtonSize:e=>`ev-hotgraphic-hotspot-button-size-${e}`,hotspotButtonNumber:"ev-hotgraphic-hotspot-button-number",hotspotPopover:"ev-hotgraphic-hotspot-popover",hotspotDialog:"ev-hotgraphic-hotspot-dialog",hotspotDialogOverlay:"ev-hotgraphic-hotspot-dialog-overlay",hotspotToolbar:"ev-hotgraphic-hotspot-toolbar",hotspotContent:"ev-hotgraphic-hotspot-content",hotspotContentInner:"ev-hotgraphic-hotspot-content-inner",hotspotToolbarButton:"ev-hotgraphic-hotspot-toolbar-button ev-focus-visible",hotspotToolbarNavigation:"ev-hotgraphic-hotspot-toolbar-navigation"},Ype={widget:"ev-media-widget"},cg={question:"ev-mcq-question",options:"ev-mcq-options",option:"ev-mcq-option",attempts:"ev-mcq-attempts",hasAnswerImages:"ev-has-answer-images"},dg={question:"ev-mrq-question",options:"ev-mrq-options",option:"ev-mrq-option",attempts:"ev-mrq-attempts",hasAnswerImages:"ev-has-answer-images"},I1={container:"ev-numberinput-container",question:"ev-numberinput-question",input:"ev-numberinput-input ev-label ev-focus-visible"},ti={container:"ev-process-container",buttonContainer:"ev-process-button-container",left:"ev-process-left",right:"ev-process-right",button:"ev-process-button",previousButton:"ev-process-previous-button",nextButton:"ev-process-next-button",itemsContainer:"ev-process-items-container",carousel:"ev-process-carousel",reveal:"ev-process-reveal",indicators:"ev-process-indicators",indicator:"ev-process-indicator",revealButtonContainer:"ev-process-reveal-button-container",revealButton:"ev-process-reveal-button ev-focus-visible",revealButtonInner:"ev-process-reveal-button-inner",isSelected:"ev-process-item-is-selected",item:"ev-process-item",itemHighlight:"ev-process-item-highlight",itemInner:"ev-process-item-inner",itemText:"ev-process-item-text",itemMedia:"ev-process-item-media",type:e=>`ev-type-${e}`,textPlacement:e=>`ev-text-${e}`},va={widget:"ev-sorting-widget",question:"ev-sorting-question",container:"ev-sorting-container",numbersContainer:"ev-sorting-numbers-container",numberContainer:"ev-sorting-number-container",number:"ev-sorting-number",itemsContainer:"ev-sorting-items-container",item:"ev-sorting-item",itemDragIconContainer:"ev-sorting-item-drag-icon-container",itemContent:"ev-sorting-item-content",itemMedia:"ev-sorting-item-media",attempts:"ev-sorting-attempts"},t_={buttonsContainer:"ev-tabs-buttons-container",itemButton:"ev-tabs-item-button",itemButtonLabel:"ev-tabs-item-button-label",itemContent:"ev-tabs-item-content"},k1={container:"ev-textinput-container",question:"ev-textinput-question",input:"ev-textinput-input ev-label ev-focus-visible"},xf={overlay:"ev-dialog-overlay",content:"ev-dialog-content",contentInner:"ev-dialog-content-inner",button:"ev-dialog-button",footer:"ev-dialog-footer"},l0={optionLabel:"ev-option-label",optionLabelImage:"ev-option-label-image",optionLabelText:"ev-option-label-text",optionText:"ev-option-text"},N1={root:"ev-feedback",inner:"ev-feedback-inner",media:"ev-feedback-media"},iy={root:"ev-feedback-marking",text:"ev-feedback-marking-text",size:e=>`ev-size-${e}`},Kpe={content:"ev-tooltip-content"},sw=({className:e,attempt:t,maxAttempts:n,allowInfiniteAttempts:r})=>{const i=vr();return U.jsx("output",{className:Pt(Bt.typography,e),children:U.jsx("p",{children:r?U.jsx("span",{children:i("questionAttemptInfinite",{attempt:t})}):U.jsx("span",{children:i("questionAttempt",{attempt:t,maxAttempts:n})})})})},_i=({isDisabled:e=!1,tabIndex:t,ariaLabel:n,onClick:r,children:i,...o})=>U.jsx("button",{type:"button","aria-disabled":e,...n&&{"aria-label":n},...(e||t===-1)&&{tabIndex:-1},onClick:s=>{s.preventDefault(),s.stopPropagation(),e===!1&&(r==null||r(s))},...o,children:i});function Wr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function X7(...e){return t=>{let n=!1;const r=e.map(i=>{const o=jj(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():jj(e[i],null)}}}}function ao(...e){return R.useCallback(X7(...e),e)}function Xpe(e,t){const n=R.createContext(t),r=o=>{const{children:s,...a}=o,l=R.useMemo(()=>a,Object.values(a));return U.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function i(o){const s=R.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function Zv(e,t=[]){let n=[];function r(o,s){const a=R.createContext(s),l=n.length;n=[...n,s];const u=d=>{var y;const{scope:f,children:m,...h}=d,g=((y=f==null?void 0:f[e])==null?void 0:y[l])||a,S=R.useMemo(()=>h,Object.values(h));return U.jsx(g.Provider,{value:S,children:m})};u.displayName=o+"Provider";function c(d,f){var g;const m=((g=f==null?void 0:f[e])==null?void 0:g[l])||a,h=R.useContext(m);if(h)return h;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(s=>R.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return R.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,Zpe(i,...t)]}function Zpe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...a,...d}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var ku=globalThis!=null&&globalThis.document?R.useLayoutEffect:()=>{},Qpe=dO[" useId ".trim().toString()]||(()=>{}),Jpe=0;function oy(e){const[t,n]=R.useState(Qpe());return ku(()=>{n(r=>r??String(Jpe++))},[e]),e||(t?`radix-${t}`:"")}var ehe=dO[" useInsertionEffect ".trim().toString()]||ku;function ZD({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,s]=the({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:i;{const c=R.useRef(e!==void 0);R.useEffect(()=>{const d=c.current;d!==a&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),c.current=a},[a,r])}const u=R.useCallback(c=>{var d;if(a){const f=nhe(c)?c(e):c;f!==e&&((d=s.current)==null||d.call(s,f))}else o(c)},[a,e,o,s]);return[l,u]}function the({defaultProp:e,onChange:t}){const[n,r]=R.useState(e),i=R.useRef(n),o=R.useRef(t);return ehe(()=>{o.current=t},[t]),R.useEffect(()=>{var s;i.current!==n&&((s=o.current)==null||s.call(o,n),i.current=n)},[n,i]),[n,r,o]}function nhe(e){return typeof e=="function"}function QD(e){const t=rhe(e),n=R.forwardRef((r,i)=>{const{children:o,...s}=r,a=R.Children.toArray(o),l=a.find(ohe);if(l){const u=l.props.children,c=a.map(d=>d===l?R.Children.count(u)>1?R.Children.only(null):R.isValidElement(u)?u.props.children:null:d);return U.jsx(t,{...s,ref:i,children:R.isValidElement(u)?R.cloneElement(u,void 0,c):null})}return U.jsx(t,{...s,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function rhe(e){const t=R.forwardRef((n,r)=>{const{children:i,...o}=n;if(R.isValidElement(i)){const s=ahe(i),a=she(o,i.props);return i.type!==R.Fragment&&(a.ref=r?X7(r,s):s),R.cloneElement(i,a)}return R.Children.count(i)>1?R.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Z7=Symbol("radix.slottable");function ihe(e){const t=({children:n})=>U.jsx(U.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Z7,t}function ohe(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Z7}function she(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function ahe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var lhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ui=lhe.reduce((e,t)=>{const n=QD(`Primitive.${t}`),r=R.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function uhe(e,t){e&&Hs.flushSync(()=>e.dispatchEvent(t))}function Vs(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function che(e,t=globalThis==null?void 0:globalThis.document){const n=Vs(e);R.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var dhe="DismissableLayer",DA="dismissableLayer.update",fhe="dismissableLayer.pointerDownOutside",phe="dismissableLayer.focusOutside",Lj,Q7=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aw=R.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,u=R.useContext(Q7),[c,d]=R.useState(null),f=(c==null?void 0:c.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=R.useState({}),h=ao(t,w=>d(w)),g=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(S),v=c?g.indexOf(c):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=y,x=ghe(w=>{const E=w.target,C=[...u.branches].some(D=>D.contains(E));!_||C||(i==null||i(w),s==null||s(w),w.defaultPrevented||a==null||a())},f),T=yhe(w=>{const E=w.target;[...u.branches].some(D=>D.contains(E))||(o==null||o(w),s==null||s(w),w.defaultPrevented||a==null||a())},f);return che(w=>{v===u.layers.size-1&&(r==null||r(w),!w.defaultPrevented&&a&&(w.preventDefault(),a()))},f),R.useEffect(()=>{if(c)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Lj=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),$j(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Lj)}},[c,f,n,u]),R.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),$j())},[c,u]),R.useEffect(()=>{const w=()=>m({});return document.addEventListener(DA,w),()=>document.removeEventListener(DA,w)},[]),U.jsx(Ui.div,{...l,ref:h,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:Wr(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Wr(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Wr(e.onPointerDownCapture,x.onPointerDownCapture)})});aw.displayName=dhe;var hhe="DismissableLayerBranch",mhe=R.forwardRef((e,t)=>{const n=R.useContext(Q7),r=R.useRef(null),i=ao(t,r);return R.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),U.jsx(Ui.div,{...e,ref:i})});mhe.displayName=hhe;function ghe(e,t=globalThis==null?void 0:globalThis.document){const n=Vs(e),r=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){J7(fhe,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function yhe(e,t=globalThis==null?void 0:globalThis.document){const n=Vs(e),r=R.useRef(!1);return R.useEffect(()=>{const i=o=>{o.target&&!r.current&&J7(phe,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $j(){const e=new CustomEvent(DA);document.dispatchEvent(e)}function J7(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?uhe(i,o):i.dispatchEvent(o)}var M1="focusScope.autoFocusOnMount",j1="focusScope.autoFocusOnUnmount",Bj={bubbles:!1,cancelable:!0},vhe="FocusScope",JD=R.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=R.useState(null),u=Vs(i),c=Vs(o),d=R.useRef(null),f=ao(t,g=>l(g)),m=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(r){let g=function(b){if(m.paused||!a)return;const _=b.target;a.contains(_)?d.current=_:fc(d.current,{select:!0})},S=function(b){if(m.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||fc(d.current,{select:!0}))},y=function(b){if(document.activeElement===document.body)for(const x of b)x.removedNodes.length>0&&fc(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const v=new MutationObserver(y);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),v.disconnect()}}},[r,a,m.paused]),R.useEffect(()=>{if(a){Fj.add(m);const g=document.activeElement;if(!a.contains(g)){const y=new CustomEvent(M1,Bj);a.addEventListener(M1,u),a.dispatchEvent(y),y.defaultPrevented||(bhe(The(e9(a)),{select:!0}),document.activeElement===g&&fc(a))}return()=>{a.removeEventListener(M1,u),setTimeout(()=>{const y=new CustomEvent(j1,Bj);a.addEventListener(j1,c),a.dispatchEvent(y),y.defaultPrevented||fc(g??document.body,{select:!0}),a.removeEventListener(j1,c),Fj.remove(m)},0)}}},[a,u,c,m]);const h=R.useCallback(g=>{if(!n&&!r||m.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(S&&y){const v=g.currentTarget,[b,_]=_he(v);b&&_?!g.shiftKey&&y===_?(g.preventDefault(),n&&fc(b,{select:!0})):g.shiftKey&&y===b&&(g.preventDefault(),n&&fc(_,{select:!0})):y===v&&g.preventDefault()}},[n,r,m.paused]);return U.jsx(Ui.div,{tabIndex:-1,...s,ref:f,onKeyDown:h})});JD.displayName=vhe;function bhe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fc(r,{select:t}),document.activeElement!==n)return}function _he(e){const t=e9(e),n=Uj(t,e),r=Uj(t.reverse(),e);return[n,r]}function e9(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Uj(e,t){for(const n of e)if(!She(n,{upTo:t}))return n}function She(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xhe(e){return e instanceof HTMLInputElement&&"select"in e}function fc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xhe(e)&&t&&e.select()}}var Fj=whe();function whe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=zj(e,t),e.unshift(t)},remove(t){var n;e=zj(e,t),(n=e[0])==null||n.resume()}}}function zj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function The(e){return e.filter(t=>t.tagName!=="A")}var Ehe="Portal",lw=R.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[i,o]=R.useState(!1);ku(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?fO.createPortal(U.jsx(Ui.div,{...r,ref:t}),s):null});lw.displayName=Ehe;function Ahe(e,t){return R.useReducer((n,r)=>t[n][r]??n,e)}var $a=e=>{const{present:t,children:n}=e,r=Che(t),i=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),o=ao(r.ref,Ohe(i));return typeof n=="function"||r.isPresent?R.cloneElement(i,{ref:o}):null};$a.displayName="Presence";function Che(e){const[t,n]=R.useState(),r=R.useRef(null),i=R.useRef(e),o=R.useRef("none"),s=e?"mounted":"unmounted",[a,l]=Ahe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const u=u0(r.current);o.current=a==="mounted"?u:"none"},[a]),ku(()=>{const u=r.current,c=i.current;if(c!==e){const f=o.current,m=u0(u);e?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),ku(()=>{if(t){let u;const c=t.ownerDocument.defaultView??window,d=m=>{const g=u0(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&g&&(l("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",u=c.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},f=m=>{m.target===t&&(o.current=u0(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{c.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:R.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function u0(e){return(e==null?void 0:e.animationName)||"none"}function Ohe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var L1=0;function t9(){R.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vj()),document.body.insertAdjacentElement("beforeend",e[1]??Vj()),L1++,()=>{L1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),L1--}},[])}function Vj(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wc=function(){return wc=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},wc.apply(this,arguments)};function Dhe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Phe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var n_="right-scroll-bar-position",r_="width-before-scroll-bar",Rhe="with-scroll-bars-hidden",Ihe="--removed-body-scroll-bar-size";function $1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function khe(e,t){var n=R.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Nhe=typeof window<"u"?R.useLayoutEffect:R.useEffect,qj=new WeakMap;function Mhe(e,t){var n=khe(null,function(r){return e.forEach(function(i){return $1(i,r)})});return Nhe(function(){var r=qj.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||$1(a,null)}),o.forEach(function(a){i.has(a)||$1(a,s)})}qj.set(n,e)},[e]),n}var dS=function(){return dS=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},dS.apply(this,arguments)};function jhe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Lhe(e){return e}function $he(e,t){t===void 0&&(t=Lhe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var c=s;s=[],c.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(c){s.push(c),u()},filter:function(c){return s=s.filter(c),n}}}};return i}function Bhe(e){e===void 0&&(e={});var t=$he(null);return t.options=dS({async:!0,ssr:!1},e),t}var n9=function(e){var t=e.sideCar,n=jhe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,dS({},n))};n9.isSideCarExport=!0;function Uhe(e,t){return e.useMedium(t),n9}var r9=Bhe(),B1=function(){},uw=R.forwardRef(function(e,t){var n=R.useRef(null),r=R.useState({onScrollCapture:B1,onWheelCapture:B1,onTouchMoveCapture:B1}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,c=e.enabled,d=e.shards,f=e.sideCar,m=e.noRelative,h=e.noIsolation,g=e.inert,S=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,b=e.gapMode,_=Dhe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),x=f,T=Mhe([n,t]),w=wc(wc({},_),i);return R.createElement(R.Fragment,null,c&&R.createElement(x,{sideCar:r9,removeScrollBar:u,shards:d,noRelative:m,noIsolation:h,inert:g,setCallbacks:o,allowPinchZoom:!!S,lockRef:n,gapMode:b}),s?R.cloneElement(R.Children.only(a),wc(wc({},w),{ref:T})):R.createElement(v,wc({},w,{className:l,ref:T}),a))});uw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};uw.classNames={fullWidth:r_,zeroRight:n_};var Fhe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zhe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Fhe();return t&&e.setAttribute("nonce",t),e}function Vhe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qhe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Hhe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zhe())&&(Vhe(t,n),qhe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ghe=function(){var e=Hhe();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},i9=function(){var e=Ghe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Whe={left:0,top:0,right:0,gap:0},U1=function(e){return parseInt(e||"",10)||0},Yhe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[U1(n),U1(r),U1(i)]},Khe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Whe;var t=Yhe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Xhe=i9(),Kp="data-scroll-locked",Zhe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Rhe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Kp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(n_,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(r_,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(n_," .").concat(n_,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(r_," .").concat(r_,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Kp,`] {
    `).concat(Ihe,": ").concat(a,`px;
  }
`)},Hj=function(){var e=parseInt(document.body.getAttribute(Kp)||"0",10);return isFinite(e)?e:0},Qhe=function(){R.useEffect(function(){return document.body.setAttribute(Kp,(Hj()+1).toString()),function(){var e=Hj()-1;e<=0?document.body.removeAttribute(Kp):document.body.setAttribute(Kp,e.toString())}},[])},Jhe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Qhe();var o=R.useMemo(function(){return Khe(i)},[i]);return R.createElement(Xhe,{styles:Zhe(o,!t,i,n?"":"!important")})},PA=!1;if(typeof window<"u")try{var c0=Object.defineProperty({},"passive",{get:function(){return PA=!0,!0}});window.addEventListener("test",c0,c0),window.removeEventListener("test",c0,c0)}catch{PA=!1}var np=PA?{passive:!1}:!1,eme=function(e){return e.tagName==="TEXTAREA"},o9=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!eme(e)&&n[t]==="visible")},tme=function(e){return o9(e,"overflowY")},nme=function(e){return o9(e,"overflowX")},Gj=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=s9(e,r);if(i){var o=a9(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rme=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ime=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},s9=function(e,t){return e==="v"?tme(t):nme(t)},a9=function(e,t){return e==="v"?rme(t):ime(t)},ome=function(e,t){return e==="h"&&t==="rtl"?-1:1},sme=function(e,t,n,r,i){var o=ome(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),u=!1,c=s>0,d=0,f=0;do{if(!a)break;var m=a9(e,a),h=m[0],g=m[1],S=m[2],y=g-S-o*h;(h||y)&&s9(e,a)&&(d+=y,f+=h);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(c&&Math.abs(d)<1||!c&&Math.abs(f)<1)&&(u=!0),u},d0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wj=function(e){return[e.deltaX,e.deltaY]},Yj=function(e){return e&&"current"in e?e.current:e},ame=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ume=0,rp=[];function cme(e){var t=R.useRef([]),n=R.useRef([0,0]),r=R.useRef(),i=R.useState(ume++)[0],o=R.useState(i9)[0],s=R.useRef(e);R.useEffect(function(){s.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=Phe([e.lockRef.current],(e.shards||[]).map(Yj),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=R.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!s.current.allowPinchZoom;var y=d0(g),v=n.current,b="deltaX"in g?g.deltaX:v[0]-y[0],_="deltaY"in g?g.deltaY:v[1]-y[1],x,T=g.target,w=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&w==="h"&&T.type==="range")return!1;var E=Gj(w,T);if(!E)return!0;if(E?x=w:(x=w==="v"?"h":"v",E=Gj(w,T)),!E)return!1;if(!r.current&&"changedTouches"in g&&(b||_)&&(r.current=x),!x)return!0;var C=r.current||x;return sme(C,S,g,C==="h"?b:_)},[]),l=R.useCallback(function(g){var S=g;if(!(!rp.length||rp[rp.length-1]!==o)){var y="deltaY"in S?Wj(S):d0(S),v=t.current.filter(function(x){return x.name===S.type&&(x.target===S.target||S.target===x.shadowParent)&&ame(x.delta,y)})[0];if(v&&v.should){S.cancelable&&S.preventDefault();return}if(!v){var b=(s.current.shards||[]).map(Yj).filter(Boolean).filter(function(x){return x.contains(S.target)}),_=b.length>0?a(S,b[0]):!s.current.noIsolation;_&&S.cancelable&&S.preventDefault()}}},[]),u=R.useCallback(function(g,S,y,v){var b={name:g,delta:S,target:y,should:v,shadowParent:dme(y)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),c=R.useCallback(function(g){n.current=d0(g),r.current=void 0},[]),d=R.useCallback(function(g){u(g.type,Wj(g),g.target,a(g,e.lockRef.current))},[]),f=R.useCallback(function(g){u(g.type,d0(g),g.target,a(g,e.lockRef.current))},[]);R.useEffect(function(){return rp.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,np),document.addEventListener("touchmove",l,np),document.addEventListener("touchstart",c,np),function(){rp=rp.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,np),document.removeEventListener("touchmove",l,np),document.removeEventListener("touchstart",c,np)}},[]);var m=e.removeScrollBar,h=e.inert;return R.createElement(R.Fragment,null,h?R.createElement(o,{styles:lme(i)}):null,m?R.createElement(Jhe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function dme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fme=Uhe(r9,cme);var eP=R.forwardRef(function(e,t){return R.createElement(uw,wc({},e,{ref:t,sideCar:fme}))});eP.classNames=uw.classNames;var pme=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ip=new WeakMap,f0=new WeakMap,p0={},F1=0,l9=function(e){return e&&(e.host||l9(e.parentNode))},hme=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=l9(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},mme=function(e,t,n,r){var i=hme(t,Array.isArray(e)?e:[e]);p0[n]||(p0[n]=new WeakMap);var o=p0[n],s=[],a=new Set,l=new Set(i),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};i.forEach(u);var c=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))c(f);else try{var m=f.getAttribute(r),h=m!==null&&m!=="false",g=(ip.get(f)||0)+1,S=(o.get(f)||0)+1;ip.set(f,g),o.set(f,S),s.push(f),g===1&&h&&f0.set(f,!0),S===1&&f.setAttribute(n,"true"),h||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return c(t),a.clear(),F1++,function(){s.forEach(function(d){var f=ip.get(d)-1,m=o.get(d)-1;ip.set(d,f),o.set(d,m),f||(f0.has(d)||d.removeAttribute(r),f0.delete(d)),m||d.removeAttribute(n)}),F1--,F1||(ip=new WeakMap,ip=new WeakMap,f0=new WeakMap,p0={})}},u9=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=pme(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),mme(r,i,n,"aria-hidden")):function(){return null}},cw="Dialog",[c9,A4e]=Zv(cw),[gme,hl]=c9(cw),d9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=R.useRef(null),l=R.useRef(null),[u,c]=ZD({prop:r,defaultProp:i??!1,onChange:o,caller:cw});return U.jsx(gme,{scope:t,triggerRef:a,contentRef:l,contentId:oy(),titleId:oy(),descriptionId:oy(),open:u,onOpenChange:c,onOpenToggle:R.useCallback(()=>c(d=>!d),[c]),modal:s,children:n})};d9.displayName=cw;var f9="DialogTrigger",p9=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=hl(f9,n),o=ao(t,i.triggerRef);return U.jsx(Ui.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rP(i.open),...r,ref:o,onClick:Wr(e.onClick,i.onOpenToggle)})});p9.displayName=f9;var tP="DialogPortal",[yme,h9]=c9(tP,{forceMount:void 0}),m9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=hl(tP,t);return U.jsx(yme,{scope:t,forceMount:n,children:R.Children.map(r,s=>U.jsx($a,{present:n||o.open,children:U.jsx(lw,{asChild:!0,container:i,children:s})}))})};m9.displayName=tP;var fS="DialogOverlay",g9=R.forwardRef((e,t)=>{const n=h9(fS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=hl(fS,e.__scopeDialog);return o.modal?U.jsx($a,{present:r||o.open,children:U.jsx(bme,{...i,ref:t})}):null});g9.displayName=fS;var vme=QD("DialogOverlay.RemoveScroll"),bme=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=hl(fS,n);return U.jsx(eP,{as:vme,allowPinchZoom:!0,shards:[i.contentRef],children:U.jsx(Ui.div,{"data-state":rP(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),wf="DialogContent",y9=R.forwardRef((e,t)=>{const n=h9(wf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=hl(wf,e.__scopeDialog);return U.jsx($a,{present:r||o.open,children:o.modal?U.jsx(_me,{...i,ref:t}):U.jsx(Sme,{...i,ref:t})})});y9.displayName=wf;var _me=R.forwardRef((e,t)=>{const n=hl(wf,e.__scopeDialog),r=R.useRef(null),i=ao(t,n.contentRef,r);return R.useEffect(()=>{const o=r.current;if(o)return u9(o)},[]),U.jsx(v9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wr(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Wr(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Wr(e.onFocusOutside,o=>o.preventDefault())})}),Sme=R.forwardRef((e,t)=>{const n=hl(wf,e.__scopeDialog),r=R.useRef(!1),i=R.useRef(!1);return U.jsx(v9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),v9=R.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=hl(wf,n),l=R.useRef(null),u=ao(t,l);return t9(),U.jsxs(U.Fragment,{children:[U.jsx(JD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:U.jsx(aw,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":rP(a.open),...s,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),U.jsxs(U.Fragment,{children:[U.jsx(wme,{titleId:a.titleId}),U.jsx(Eme,{contentRef:l,descriptionId:a.descriptionId})]})]})}),nP="DialogTitle",b9=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=hl(nP,n);return U.jsx(Ui.h2,{id:i.titleId,...r,ref:t})});b9.displayName=nP;var _9="DialogDescription",xme=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=hl(_9,n);return U.jsx(Ui.p,{id:i.descriptionId,...r,ref:t})});xme.displayName=_9;var S9="DialogClose",x9=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=hl(S9,n);return U.jsx(Ui.button,{type:"button",...r,ref:t,onClick:Wr(e.onClick,()=>i.onOpenChange(!1))})});x9.displayName=S9;function rP(e){return e?"open":"closed"}var w9="DialogTitleWarning",[C4e,T9]=Xpe(w9,{contentName:wf,titleName:nP,docsSlug:"dialog"}),wme=({titleId:e})=>{const t=T9(w9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return R.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Tme="DialogDescriptionWarning",Eme=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${T9(Tme).contentName}}.`;return R.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},E9=d9,Ame=p9,A9=m9,C9=g9,O9=y9,D9=b9,Cme=x9,Ome=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Dme="VisuallyHidden",P9=R.forwardRef((e,t)=>U.jsx(Ui.span,{...e,ref:t,style:{...Ome,...e.style}}));P9.displayName=Dme;var iP=P9,Pme=R.createContext(void 0);function Rme(e){const t=R.useContext(Pme);return e||t||"ltr"}function Ime(e,[t,n]){return Math.min(n,Math.max(t,e))}function kme(e,t){return R.useReducer((n,r)=>t[n][r]??n,e)}var oP="ScrollArea",[R9,O4e]=Zv(oP),[Nme,Ba]=R9(oP),I9=R.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,l]=R.useState(null),[u,c]=R.useState(null),[d,f]=R.useState(null),[m,h]=R.useState(null),[g,S]=R.useState(null),[y,v]=R.useState(0),[b,_]=R.useState(0),[x,T]=R.useState(!1),[w,E]=R.useState(!1),C=ao(t,O=>l(O)),D=Rme(i);return U.jsx(Nme,{scope:n,type:r,dir:D,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:f,scrollbarX:m,onScrollbarXChange:h,scrollbarXEnabled:x,onScrollbarXEnabledChange:T,scrollbarY:g,onScrollbarYChange:S,scrollbarYEnabled:w,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:_,children:U.jsx(Ui.div,{dir:D,...s,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});I9.displayName=oP;var k9="ScrollAreaViewport",N9=R.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,s=Ba(k9,n),a=R.useRef(null),l=ao(t,a,s.onViewportChange);return U.jsxs(U.Fragment,{children:[U.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),U.jsx(Ui.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:U.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});N9.displayName=k9;var Kl="ScrollAreaScrollbar",M9=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ba(Kl,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return R.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?U.jsx(Mme,{...r,ref:t,forceMount:n}):i.type==="scroll"?U.jsx(jme,{...r,ref:t,forceMount:n}):i.type==="auto"?U.jsx(j9,{...r,ref:t,forceMount:n}):i.type==="always"?U.jsx(sP,{...r,ref:t}):null});M9.displayName=Kl;var Mme=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ba(Kl,e.__scopeScrollArea),[o,s]=R.useState(!1);return R.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[i.scrollArea,i.scrollHideDelay]),U.jsx($a,{present:n||o,children:U.jsx(j9,{"data-state":o?"visible":"hidden",...r,ref:t})})}),jme=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Ba(Kl,e.__scopeScrollArea),o=e.orientation==="horizontal",s=fw(()=>l("SCROLL_END"),100),[a,l]=kme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return R.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,l]),R.useEffect(()=>{const u=i.viewport,c=o?"scrollLeft":"scrollTop";if(u){let d=u[c];const f=()=>{const m=u[c];d!==m&&(l("SCROLL"),s()),d=m};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,o,l,s]),U.jsx($a,{present:n||a!=="hidden",children:U.jsx(sP,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Wr(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Wr(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),j9=R.forwardRef((e,t)=>{const n=Ba(Kl,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=R.useState(!1),a=e.orientation==="horizontal",l=fw(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return Ph(n.viewport,l),Ph(n.content,l),U.jsx($a,{present:r||o,children:U.jsx(sP,{"data-state":o?"visible":"hidden",...i,ref:t})})}),sP=R.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Ba(Kl,e.__scopeScrollArea),o=R.useRef(null),s=R.useRef(0),[a,l]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=U9(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:f=>s.current=f};function d(f,m){return Vme(f,s.current,a,m)}return n==="horizontal"?U.jsx(Lme,{...c,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollLeft,m=Kj(f,a,i.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?U.jsx($me,{...c,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const f=i.viewport.scrollTop,m=Kj(f,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),Lme=R.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Ba(Kl,e.__scopeScrollArea),[s,a]=R.useState(),l=R.useRef(null),u=ao(t,l,o.onScrollbarXChange);return R.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),U.jsx($9,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dw(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.x),onDragScroll:c=>e.onDragScroll(c.x),onWheelScroll:(c,d)=>{if(o.viewport){const f=o.viewport.scrollLeft+c.deltaX;e.onWheelScroll(f),z9(f,d)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:hS(s.paddingLeft),paddingEnd:hS(s.paddingRight)}})}})}),$me=R.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Ba(Kl,e.__scopeScrollArea),[s,a]=R.useState(),l=R.useRef(null),u=ao(t,l,o.onScrollbarYChange);return R.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),U.jsx($9,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dw(n)+"px",...e.style},onThumbPointerDown:c=>e.onThumbPointerDown(c.y),onDragScroll:c=>e.onDragScroll(c.y),onWheelScroll:(c,d)=>{if(o.viewport){const f=o.viewport.scrollTop+c.deltaY;e.onWheelScroll(f),z9(f,d)&&c.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:hS(s.paddingTop),paddingEnd:hS(s.paddingBottom)}})}})}),[Bme,L9]=R9(Kl),$9=R.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...f}=e,m=Ba(Kl,n),[h,g]=R.useState(null),S=ao(t,C=>g(C)),y=R.useRef(null),v=R.useRef(""),b=m.viewport,_=r.content-r.viewport,x=Vs(c),T=Vs(l),w=fw(d,10);function E(C){if(y.current){const D=C.clientX-y.current.left,O=C.clientY-y.current.top;u({x:D,y:O})}}return R.useEffect(()=>{const C=D=>{const O=D.target;(h==null?void 0:h.contains(O))&&x(D,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[b,h,_,x]),R.useEffect(T,[r,T]),Ph(h,w),Ph(m.content,w),U.jsx(Bme,{scope:n,scrollbar:h,hasThumb:i,onThumbChange:Vs(o),onThumbPointerUp:Vs(s),onThumbPositionChange:T,onThumbPointerDown:Vs(a),children:U.jsx(Ui.div,{...f,ref:S,style:{position:"absolute",...f.style},onPointerDown:Wr(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),y.current=h.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:Wr(e.onPointerMove,E),onPointerUp:Wr(e.onPointerUp,C=>{const D=C.target;D.hasPointerCapture(C.pointerId)&&D.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),pS="ScrollAreaThumb",B9=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=L9(pS,e.__scopeScrollArea);return U.jsx($a,{present:n||i.hasThumb,children:U.jsx(Ume,{ref:t,...r})})}),Ume=R.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Ba(pS,n),s=L9(pS,n),{onThumbPositionChange:a}=s,l=ao(t,d=>s.onThumbChange(d)),u=R.useRef(void 0),c=fw(()=>{u.current&&(u.current(),u.current=void 0)},100);return R.useEffect(()=>{const d=o.viewport;if(d){const f=()=>{if(c(),!u.current){const m=qme(d,a);u.current=m,a()}};return a(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[o.viewport,c,a]),U.jsx(Ui.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Wr(e.onPointerDownCapture,d=>{const m=d.target.getBoundingClientRect(),h=d.clientX-m.left,g=d.clientY-m.top;s.onThumbPointerDown({x:h,y:g})}),onPointerUp:Wr(e.onPointerUp,s.onThumbPointerUp)})});B9.displayName=pS;var aP="ScrollAreaCorner",Fme=R.forwardRef((e,t)=>{const n=Ba(aP,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?U.jsx(zme,{...e,ref:t}):null});Fme.displayName=aP;var zme=R.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Ba(aP,n),[o,s]=R.useState(0),[a,l]=R.useState(0),u=!!(o&&a);return Ph(i.scrollbarX,()=>{var d;const c=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(c),l(c)}),Ph(i.scrollbarY,()=>{var d;const c=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(c),s(c)}),u?U.jsx(Ui.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function hS(e){return e?parseInt(e,10):0}function U9(e,t){const n=e/t;return isNaN(n)?0:n}function dw(e){const t=U9(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Vme(e,t,n,r="ltr"){const i=dw(n),o=i/2,s=t||o,a=i-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return F9([l,u],d)(e)}function Kj(e,t,n="ltr"){const r=dw(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],u=Ime(e,l);return F9([0,s],[0,a])(u)}function F9(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function z9(e,t){return e>0&&e<t}var qme=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function fw(e,t){const n=Vs(e),r=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(r.current),[]),R.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ph(e,t){const n=Vs(t);ku(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var Hme=I9,Gme=N9,Wme=M9,Yme=B9;const V9=({className:e,viewportClassName:t,scrollbarEnabled:n=!0,children:r,...i})=>U.jsxs(Hme,{...i,className:Pt("ev-scroll-area",e),children:[U.jsx(Gme,{className:Pt("ev-scroll-area-viewport",t),children:r}),n&&U.jsx(Wme,{className:"ev-scroll-area-scrollbar",orientation:"vertical",children:U.jsx(Yme,{className:"ev-scroll-area-scrollbar-thumb"})})]}),lP=({children:e})=>U.jsx(V9,{className:xf.contentInner,children:e}),uP=({children:e})=>U.jsx("div",{className:xf.footer,children:e}),cP=({className:e,isOpen:t,closeOnInteractOutside:n=!1,children:r,onOpenChange:i,onCloseAutoFocus:o})=>{const s=R.useRef(null);return U.jsx(E9,{open:t,onOpenChange:i,children:U.jsxs(A9,{children:[U.jsx(C9,{className:xf.overlay}),U.jsxs(O9,{className:Pt(xf.content,e),ref:s,"aria-describedby":void 0,onInteractOutside:a=>{n||a.preventDefault()},onOpenAutoFocus:a=>{var l;a.preventDefault(),(l=s.current)==null||l.focus()},onCloseAutoFocus:a=>o==null?void 0:o(a),children:[U.jsx(iP,{children:U.jsx(D9,{})}),r]})]})})},Kme=({className:e,ariaLabel:t})=>U.jsx("svg",{className:Pt("ev-icon",e),...t?{"aria-label":t}:{"aria-hidden":!0},viewBox:"0 0 24 24",width:24,height:24,xmlns:"http://www.w3.org/2000/svg",children:U.jsx("path",{d:"M12 5.99 19.53 19H4.47L12 5.99ZM12 2 1 21h22L12 2Zm1 14h-2v2h2v-2Zm0-6h-2v4h2v-4Z"})}),q9=()=>{const e=vr();return U.jsxs("div",{className:"ev-no-selection-error",children:[U.jsx(Kme,{}),U.jsx("div",{role:"alert",children:e("questionAnswerRequired")})]})},dP=R.createContext({});function Qv(e){const t=R.useRef(null);return t.current===null&&(t.current=e()),t.current}const fP=typeof window<"u",H9=fP?R.useLayoutEffect:R.useEffect,pw=R.createContext(null);function pP(e,t){e.indexOf(t)===-1&&e.push(t)}function hw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Nu=(e,t,n)=>n>t?t:n<e?e:n;let hP=()=>{};const Mu={},G9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function W9(e){return typeof e=="object"&&e!==null}const Y9=e=>/^0[^.\s]+$/u.test(e);function mP(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pa=e=>e,Xme=(e,t)=>n=>t(e(n)),Jv=(...e)=>e.reduce(Xme),Rh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class gP{constructor(){this.subscriptions=[]}add(t){return pP(this.subscriptions,t),()=>hw(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rl=e=>e*1e3,jl=e=>e/1e3;function K9(e,t){return t?e*(1e3/t):0}const Zme=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},X9=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Qme=1e-7,Jme=12;function ege(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=X9(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Qme&&++a<Jme);return s}function eb(e,t,n,r){if(e===t&&n===r)return Pa;const i=o=>ege(o,0,1,e,n);return o=>o===0||o===1?o:X9(i(o),t,r)}const Z9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Q9=e=>t=>1-e(1-t),J9=eb(.33,1.53,.69,.99),yP=Q9(J9),ez=Z9(yP),tz=e=>(e*=2)<1?.5*yP(e):.5*(2-Math.pow(2,-10*(e-1))),vP=e=>1-Math.sin(Math.acos(e)),nz=Q9(vP),rz=Z9(vP),tge=eb(.42,0,1,1),nge=eb(0,0,.58,1),iz=eb(.42,0,.58,1),oz=e=>Array.isArray(e)&&typeof e[0]!="number";function sz(e,t){return oz(e)?e[Zme(0,e.length,t)]:e}const az=e=>Array.isArray(e)&&typeof e[0]=="number",rge={linear:Pa,easeIn:tge,easeInOut:iz,easeOut:nge,circIn:vP,circInOut:rz,circOut:nz,backIn:yP,backInOut:ez,backOut:J9,anticipate:tz},ige=e=>typeof e=="string",Xj=e=>{if(az(e)){hP(e.length===4);const[t,n,r,i]=e;return eb(t,n,r,i)}else if(ige(e))return rge[e];return e},h0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oge(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(c){s.has(c)&&(u.schedule(c),e()),c(a)}const u={schedule:(c,d=!1,f=!1)=>{const h=f&&i?n:r;return d&&s.add(c),h.has(c)||h.add(c),c},cancel:c=>{r.delete(c),s.delete(c)},process:c=>{if(a=c,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,o&&(o=!1,u.process(c))}};return u}const sge=40;function lz(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=h0.reduce((b,_)=>(b[_]=oge(o),b),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:c,update:d,preRender:f,render:m,postRender:h}=s,g=()=>{const b=Mu.useManualTiming?i.timestamp:performance.now();n=!1,Mu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,sge),1)),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),c.process(i),d.process(i),f.process(i),m.process(i),h.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(g))},S=()=>{n=!0,r=!0,i.isProcessing||e(g)};return{schedule:h0.reduce((b,_)=>{const x=s[_];return b[_]=(T,w=!1,E=!1)=>(n||S(),x.schedule(T,w,E)),b},{}),cancel:b=>{for(let _=0;_<h0.length;_++)s[h0[_]].cancel(b)},state:i,steps:s}}const{schedule:pi,cancel:Zc,state:Do,steps:z1}=lz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pa,!0);let i_;function age(){i_=void 0}const Ts={now:()=>(i_===void 0&&Ts.set(Do.isProcessing||Mu.useManualTiming?Do.timestamp:performance.now()),i_),set:e=>{i_=e,queueMicrotask(age)}},uz=e=>t=>typeof t=="string"&&t.startsWith(e),bP=uz("--"),lge=uz("var(--"),_P=e=>lge(e)?uge.test(e.split("/*")[0].trim()):!1,uge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Yy={...vm,transform:e=>Nu(0,1,e)},m0={...vm,default:1},sy=e=>Math.round(e*1e5)/1e5,SP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cge(e){return e==null}const dge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xP=(e,t)=>n=>!!(typeof n=="string"&&dge.test(n)&&n.startsWith(e)||t&&!cge(n)&&Object.prototype.hasOwnProperty.call(n,t)),cz=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(SP);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},fge=e=>Nu(0,255,e),V1={...vm,transform:e=>Math.round(fge(e))},Fd={test:xP("rgb","red"),parse:cz("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+V1.transform(e)+", "+V1.transform(t)+", "+V1.transform(n)+", "+sy(Yy.transform(r))+")"};function pge(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const RA={test:xP("#"),parse:pge,transform:Fd.transform},tb=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),pc=tb("deg"),Ll=tb("%"),Sn=tb("px"),hge=tb("vh"),mge=tb("vw"),Zj={...Ll,parse:e=>Ll.parse(e)/100,transform:e=>Ll.transform(e*100)},Rp={test:xP("hsl","hue"),parse:cz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ll.transform(sy(t))+", "+Ll.transform(sy(n))+", "+sy(Yy.transform(r))+")"},Gi={test:e=>Fd.test(e)||RA.test(e)||Rp.test(e),parse:e=>Fd.test(e)?Fd.parse(e):Rp.test(e)?Rp.parse(e):RA.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Fd.transform(e):Rp.transform(e),getAnimatableNone:e=>{const t=Gi.parse(e);return t.alpha=0,Gi.transform(t)}},gge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function yge(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(SP))==null?void 0:t.length)||0)+(((n=e.match(gge))==null?void 0:n.length)||0)>0}const dz="number",fz="color",vge="var",bge="var(",Qj="${}",_ge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ky(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(_ge,l=>(Gi.test(l)?(r.color.push(o),i.push(fz),n.push(Gi.parse(l))):l.startsWith(bge)?(r.var.push(o),i.push(vge),n.push(l)):(r.number.push(o),i.push(dz),n.push(parseFloat(l))),++o,Qj)).split(Qj);return{values:n,split:a,indexes:r,types:i}}function pz(e){return Ky(e).values}function hz(e){const{split:t,types:n}=Ky(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===dz?o+=sy(i[s]):a===fz?o+=Gi.transform(i[s]):o+=i[s]}return o}}const Sge=e=>typeof e=="number"?0:Gi.test(e)?Gi.getAnimatableNone(e):e;function xge(e){const t=pz(e);return hz(e)(t.map(Sge))}const Qc={test:yge,parse:pz,createTransformer:hz,getAnimatableNone:xge};function q1(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wge({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=q1(l,a,e+1/3),o=q1(l,a,e),s=q1(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function mS(e,t){return n=>n>0?t:e}const fi=(e,t,n)=>e+(t-e)*n,H1=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Tge=[RA,Fd,Rp],Ege=e=>Tge.find(t=>t.test(e));function Jj(e){const t=Ege(e);if(!t)return!1;let n=t.parse(e);return t===Rp&&(n=wge(n)),n}const e3=(e,t)=>{const n=Jj(e),r=Jj(t);if(!n||!r)return mS(e,t);const i={...n};return o=>(i.red=H1(n.red,r.red,o),i.green=H1(n.green,r.green,o),i.blue=H1(n.blue,r.blue,o),i.alpha=fi(n.alpha,r.alpha,o),Fd.transform(i))},IA=new Set(["none","hidden"]);function Age(e,t){return IA.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Cge(e,t){return n=>fi(e,t,n)}function wP(e){return typeof e=="number"?Cge:typeof e=="string"?_P(e)?mS:Gi.test(e)?e3:Pge:Array.isArray(e)?mz:typeof e=="object"?Gi.test(e)?e3:Oge:mS}function mz(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>wP(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function Oge(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=wP(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function Dge(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][r[o]],a=e.values[s]??0;n[i]=a,r[o]++}return n}const Pge=(e,t)=>{const n=Qc.createTransformer(t),r=Ky(e),i=Ky(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?IA.has(e)&&!i.values.length||IA.has(t)&&!r.values.length?Age(e,t):Jv(mz(Dge(r,i),i.values),n):mS(e,t)};function gz(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fi(e,t,n):wP(e)(e,t)}const Rge=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>pi.update(t,n),stop:()=>Zc(t),now:()=>Do.isProcessing?Do.timestamp:Ts.now()}},yz=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gS=2e4;function TP(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gS;)t+=n,r=e.next(t);return t>=gS?1/0:t}function vz(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(TP(r),gS);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:jl(i)}}const Ige=5;function bz(e,t,n){const r=Math.max(t-Ige,0);return K9(n-e(r),t-r)}const Ai={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},t3=.001;function kge({duration:e=Ai.duration,bounce:t=Ai.bounce,velocity:n=Ai.velocity,mass:r=Ai.mass}){let i,o,s=1-t;s=Nu(Ai.minDamping,Ai.maxDamping,s),e=Nu(Ai.minDuration,Ai.maxDuration,jl(e)),s<1?(i=u=>{const c=u*s,d=c*e,f=c-n,m=kA(u,s),h=Math.exp(-d);return t3-f/m*h},o=u=>{const d=u*s*e,f=d*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,h=Math.exp(-d),g=kA(Math.pow(u,2),s);return(-i(u)+t3>0?-1:1)*((f-m)*h)/g}):(i=u=>{const c=Math.exp(-u*e),d=(u-n)*e+1;return-.001+c*d},o=u=>{const c=Math.exp(-u*e),d=(n-u)*(e*e);return c*d});const a=5/e,l=Mge(i,o,a);if(e=rl(e),isNaN(l))return{stiffness:Ai.stiffness,damping:Ai.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Nge=12;function Mge(e,t,n){let r=n;for(let i=1;i<Nge;i++)r=r-e(r)/t(r);return r}function kA(e,t){return e*Math.sqrt(1-t*t)}const jge=["duration","bounce"],Lge=["stiffness","damping","mass"];function n3(e,t){return t.some(n=>e[n]!==void 0)}function $ge(e){let t={velocity:Ai.velocity,stiffness:Ai.stiffness,damping:Ai.damping,mass:Ai.mass,isResolvedFromDuration:!1,...e};if(!n3(e,Lge)&&n3(e,jge))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Nu(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ai.mass,stiffness:i,damping:o}}else{const n=kge(e);t={...t,...n,mass:Ai.mass},t.isResolvedFromDuration=!0}return t}function Xy(e=Ai.visualDuration,t=Ai.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=$ge({...n,velocity:-jl(n.velocity||0)}),h=f||0,g=u/(2*Math.sqrt(l*c)),S=s-o,y=jl(Math.sqrt(l/c)),v=Math.abs(S)<5;r||(r=v?Ai.restSpeed.granular:Ai.restSpeed.default),i||(i=v?Ai.restDelta.granular:Ai.restDelta.default);let b;if(g<1){const x=kA(y,g);b=T=>{const w=Math.exp(-g*y*T);return s-w*((h+g*y*S)/x*Math.sin(x*T)+S*Math.cos(x*T))}}else if(g===1)b=x=>s-Math.exp(-y*x)*(S+(h+y*S)*x);else{const x=y*Math.sqrt(g*g-1);b=T=>{const w=Math.exp(-g*y*T),E=Math.min(x*T,300);return s-w*((h+g*y*S)*Math.sinh(E)+x*S*Math.cosh(E))/x}}const _={calculatedDuration:m&&d||null,next:x=>{const T=b(x);if(m)a.done=x>=d;else{let w=x===0?h:0;g<1&&(w=x===0?rl(h):bz(b,x,T));const E=Math.abs(w)<=r,C=Math.abs(s-T)<=i;a.done=E&&C}return a.value=a.done?s:T,a},toString:()=>{const x=Math.min(TP(_),gS),T=yz(w=>_.next(x*w).value,x,30);return x+"ms "+T},toTransition:()=>{}};return _}Xy.applyToOptions=e=>{const t=vz(e,100,Xy);return e.ease=t.ease,e.duration=rl(t.duration),e.type="keyframes",e};function NA({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:c}){const d=e[0],f={done:!1,value:d},m=E=>a!==void 0&&E<a||l!==void 0&&E>l,h=E=>a===void 0?l:l===void 0||Math.abs(a-E)<Math.abs(l-E)?a:l;let g=n*t;const S=d+g,y=s===void 0?S:s(S);y!==S&&(g=y-d);const v=E=>-g*Math.exp(-E/r),b=E=>y+v(E),_=E=>{const C=v(E),D=b(E);f.done=Math.abs(C)<=u,f.value=f.done?y:D};let x,T;const w=E=>{m(f.value)&&(x=E,T=Xy({keyframes:[f.value,h(f.value)],velocity:bz(b,E,f.value),damping:i,stiffness:o,restDelta:u,restSpeed:c}))};return w(0),{calculatedDuration:null,next:E=>{let C=!1;return!T&&x===void 0&&(C=!0,_(E),w(E)),x!==void 0&&E>=x?T.next(E-x):(!C&&_(E),f)}}}function Bge(e,t,n){const r=[],i=n||Mu.mix||gz,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Pa:t;a=Jv(l,a)}r.push(a)}return r}function Uge(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(hP(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=Bge(t,r,i),l=a.length,u=c=>{if(s&&c<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(c<e[d+1]);d++);const f=Rh(e[d],e[d+1],c);return a[d](f)};return n?c=>u(Nu(e[0],e[o-1],c)):u}function _z(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Rh(0,t,r);e.push(fi(n,1,i))}}function Sz(e){const t=[0];return _z(t,e.length-1),t}function Fge(e,t){return e.map(n=>n*t)}function zge(e,t){return e.map(()=>t||iz).splice(0,e.length-1)}function ay({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=oz(r)?r.map(Xj):Xj(r),o={done:!1,value:t[0]},s=Fge(n&&n.length===t.length?n:Sz(t),e),a=Uge(s,t,{ease:Array.isArray(i)?i:zge(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const Vge=e=>e!==null;function EP(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(Vge),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const qge={decay:NA,inertia:NA,tween:ay,keyframes:ay,spring:Xy};function xz(e){typeof e.type=="string"&&(e.type=qge[e.type])}class AP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const Hge=e=>e/100;class CP extends AP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ts.now()&&this.tick(Ts.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xz(t);const{type:n=ay,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=t;let{keyframes:a}=t;const l=n||ay;l!==ay&&typeof a[0]!="number"&&(this.mixKeyframes=Jv(Hge,gz(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=TP(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:c,repeat:d,repeatType:f,repeatDelay:m,type:h,onUpdate:g,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,_=r;if(d){const E=Math.min(this.currentTime,i)/a;let C=Math.floor(E),D=E%1;!D&&E>=1&&(D=1),D===1&&C--,C=Math.min(C,d+1),!!(C%2)&&(f==="reverse"?(D=1-D,m&&(D-=m/a)):f==="mirror"&&(_=s)),b=Nu(0,1,D)*a}const x=v?{done:!1,value:c[0]}:_.next(b);o&&(x.value=o(x.value));let{done:T}=x;!v&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return w&&h!==NA&&(x.value=EP(c,this.options,S,this.speed)),g&&g(x.value),w&&this.finish(),x}then(t,n){return this.finished.then(t,n)}get duration(){return jl(this.calculatedDuration)}get time(){return jl(this.currentTime)}set time(t){var n;t=rl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ts.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=jl(this.currentTime))}play(){var i,o;if(this.isStopped)return;const{driver:t=Rge,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(o=(i=this.options).onPlay)==null||o.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ts.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function Gge(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const zd=e=>e*180/Math.PI,MA=e=>{const t=zd(Math.atan2(e[1],e[0]));return jA(t)},Wge={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:MA,rotateZ:MA,skewX:e=>zd(Math.atan(e[1])),skewY:e=>zd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},jA=e=>(e=e%360,e<0&&(e+=360),e),r3=MA,i3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),o3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Yge={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i3,scaleY:o3,scale:e=>(i3(e)+o3(e))/2,rotateX:e=>jA(zd(Math.atan2(e[6],e[5]))),rotateY:e=>jA(zd(Math.atan2(-e[2],e[0]))),rotateZ:r3,rotate:r3,skewX:e=>zd(Math.atan(e[4])),skewY:e=>zd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function LA(e){return e.includes("scale")?1:0}function $A(e,t){if(!e||e==="none")return LA(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Yge,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Wge,i=a}if(!i)return LA(t);const o=r[t],s=i[1].split(",").map(Xge);return typeof o=="function"?o(s):s[o]}const Kge=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return $A(n,t)};function Xge(e){return parseFloat(e.trim())}const bm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_m=new Set(bm),s3=e=>e===vm||e===Sn,Zge=new Set(["x","y","z"]),Qge=bm.filter(e=>!Zge.has(e));function Jge(e){const t=[];return Qge.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const ef={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$A(t,"x"),y:(e,{transform:t})=>$A(t,"y")};ef.translateX=ef.x;ef.translateY=ef.y;const tf=new Set;let BA=!1,UA=!1,FA=!1;function wz(){if(UA){const e=Array.from(tf).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Jge(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))==null||a.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}UA=!1,BA=!1,tf.forEach(e=>e.complete(FA)),tf.clear()}function Tz(){tf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(UA=!0)})}function eye(){FA=!0,Tz(),wz(),FA=!1}class OP{constructor(t,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(tf.add(this),BA||(BA=!0,pi.read(Tz),pi.resolveKeyframes(wz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i==null?void 0:i.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),i&&o===void 0&&i.set(t[0])}Gge(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),tf.delete(this)}cancel(){this.state==="scheduled"&&(tf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tye=e=>e.startsWith("--");function nye(e,t,n){tye(t)?e.style.setProperty(t,n):e.style[t]=n}const rye=mP(()=>window.ScrollTimeline!==void 0),iye={};function oye(e,t){const n=mP(e);return()=>iye[t]??n()}const Ez=oye(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mg=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,a3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mg([0,.65,.55,1]),circOut:Mg([.55,0,1,.45]),backIn:Mg([.31,.01,.66,-.59]),backOut:Mg([.33,1.53,.69,.99])};function Az(e,t){if(e)return typeof e=="function"?Ez()?yz(e,t):"ease-out":az(e)?Mg(e):Array.isArray(e)?e.map(n=>Az(n,t)||a3.easeOut):a3[e]}function sye(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const c={[t]:n};l&&(c.offset=l);const d=Az(a,i);Array.isArray(d)&&(c.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),e.animate(c,f)}function DP(e){return typeof e=="function"&&"applyToOptions"in e}function aye({type:e,...t}){return DP(e)&&Ez()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class lye extends AP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=t,hP(typeof t.type!="string");const u=aye(t);this.animation=sye(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const c=EP(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(c):nye(n,r,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return jl(Number(t))}get time(){return jl(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rye()?(this.animation.timeline=t,Pa):n(this)}}const Cz={anticipate:tz,backInOut:ez,circInOut:rz};function uye(e){return e in Cz}function cye(e){typeof e.ease=="string"&&uye(e.ease)&&(e.ease=Cz[e.ease])}const l3=10;class dye extends lye{constructor(t){cye(t),xz(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new CP({...s,autoplay:!1}),l=rl(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-l3).value,a.sample(l).value,l3),a.stop()}}const u3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qc.test(e)||e==="0")&&!e.startsWith("url("));function fye(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function pye(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=u3(i,t),a=u3(o,t);return!s||!a?!1:fye(e)||(n==="spring"||DP(n))&&r}function zA(e){e.duration=0,e.type}const hye=new Set(["opacity","clipPath","filter","transform"]),mye=mP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gye(e){var c;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return mye()&&n&&hye.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const yye=40;class vye extends AP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:c,...d}){var h;super(),this.stop=()=>{var g,S;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Ts.now();const f={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:l,motionValue:u,element:c,...d},m=(c==null?void 0:c.KeyframeResolver)||OP;this.keyframeResolver=new m(a,(g,S,y)=>this.onKeyframesResolved(g,S,f,!y),l,u,c),(h=this.keyframeResolver)==null||h.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:c}=r;this.resolvedAt=Ts.now(),pye(t,o,s,a)||((Mu.instantAnimations||!l)&&(c==null||c(EP(t,r,n))),t[0]=t[t.length-1],zA(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>yye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&gye(f)?new dye({...f,element:f.motionValue.owner.current}):new CP(f);m.finished.then(()=>this.notifyFinished()).catch(Pa),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),eye()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class bye{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _ye extends bye{then(t,n){return this.finished.finally(t).then(()=>{})}}const Sye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function xye(e){const t=Sye.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Oz(e,t,n=1){const[r,i]=xye(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return G9(s)?parseFloat(s):s}return _P(i)?Oz(i,t,n+1):i}function PP(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Dz=new Set(["width","height","top","left","right","bottom",...bm]),wye={test:e=>e==="auto",parse:e=>e},Pz=e=>t=>t.test(e),Rz=[vm,Sn,Ll,pc,mge,hge,wye],c3=e=>Rz.find(Pz(e));function Tye(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Y9(e):!0}const Eye=new Set(["brightness","contrast","saturate","opacity"]);function Aye(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(SP)||[];if(!r)return e;const i=n.replace(r,"");let o=Eye.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Cye=/\b([a-z-]*)\(.*?\)/gu,VA={...Qc,getAnimatableNone:e=>{const t=e.match(Cye);return t?t.map(Aye).join(" "):e}},d3={...vm,transform:Math.round},Oye={rotate:pc,rotateX:pc,rotateY:pc,rotateZ:pc,scale:m0,scaleX:m0,scaleY:m0,scaleZ:m0,skew:pc,skewX:pc,skewY:pc,distance:Sn,translateX:Sn,translateY:Sn,translateZ:Sn,x:Sn,y:Sn,z:Sn,perspective:Sn,transformPerspective:Sn,opacity:Yy,originX:Zj,originY:Zj,originZ:Sn},RP={borderWidth:Sn,borderTopWidth:Sn,borderRightWidth:Sn,borderBottomWidth:Sn,borderLeftWidth:Sn,borderRadius:Sn,radius:Sn,borderTopLeftRadius:Sn,borderTopRightRadius:Sn,borderBottomRightRadius:Sn,borderBottomLeftRadius:Sn,width:Sn,maxWidth:Sn,height:Sn,maxHeight:Sn,top:Sn,right:Sn,bottom:Sn,left:Sn,padding:Sn,paddingTop:Sn,paddingRight:Sn,paddingBottom:Sn,paddingLeft:Sn,margin:Sn,marginTop:Sn,marginRight:Sn,marginBottom:Sn,marginLeft:Sn,backgroundPositionX:Sn,backgroundPositionY:Sn,...Oye,zIndex:d3,fillOpacity:Yy,strokeOpacity:Yy,numOctaves:d3},Dye={...RP,color:Gi,backgroundColor:Gi,outlineColor:Gi,fill:Gi,stroke:Gi,borderColor:Gi,borderTopColor:Gi,borderRightColor:Gi,borderBottomColor:Gi,borderLeftColor:Gi,filter:VA,WebkitFilter:VA},Iz=e=>Dye[e];function kz(e,t){let n=Iz(e);return n!==VA&&(n=Qc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Pye=new Set(["auto","none","0"]);function Rye(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!Pye.has(o)&&Ky(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=kz(n,i)}class Iye extends OP{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),_P(u))){const c=Oz(u,n.current);c!==void 0&&(t[l]=c),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Dz.has(r)||t.length!==2)return;const[i,o]=t,s=c3(i),a=c3(o);if(s!==a)if(s3(s)&&s3(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else ef[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||Tye(t[i]))&&r.push(i);r.length&&Rye(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ef[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=ef[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,u])=>{t.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function IP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Nz=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Mz(e){return W9(e)&&"offsetHeight"in e}const f3=30,kye=e=>!isNaN(parseFloat(e));class Nye{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var o;const i=Ts.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ts.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=kye(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new gP);const r=this.events[t].add(n);return t==="change"?()=>{r(),pi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ts.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>f3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,f3);return K9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tf(e,t){return new Nye(e,t)}const{schedule:kP}=lz(queueMicrotask,!1),Ha={x:!1,y:!1};function jz(){return Ha.x||Ha.y}function Mye(e){return e==="x"||e==="y"?Ha[e]?null:(Ha[e]=!0,()=>{Ha[e]=!1}):Ha.x||Ha.y?null:(Ha.x=Ha.y=!0,()=>{Ha.x=Ha.y=!1})}function Lz(e,t){const n=IP(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function p3(e){return!(e.pointerType==="touch"||jz())}function jye(e,t,n={}){const[r,i,o]=Lz(e,n),s=a=>{if(!p3(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const c=d=>{p3(d)&&(u(d),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const $z=(e,t)=>t?e===t?!0:$z(e,t.parentElement):!1,NP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Lye=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $ye(e){return Lye.has(e.tagName)||e.tabIndex!==-1}const o_=new WeakSet;function h3(e){return t=>{t.key==="Enter"&&e(t)}}function G1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Bye=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=h3(()=>{if(o_.has(n))return;G1(n,"down");const i=h3(()=>{G1(n,"up")}),o=()=>G1(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function m3(e){return NP(e)&&!jz()}function Uye(e,t,n={}){const[r,i,o]=Lz(e,n),s=a=>{const l=a.currentTarget;if(!m3(a))return;o_.add(l);const u=t(l,a),c=(m,h)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),o_.has(l)&&o_.delete(l),m3(m)&&typeof u=="function"&&u(m,{success:h})},d=m=>{c(m,l===window||l===document||n.useGlobalTarget||$z(l,m.target))},f=m=>{c(m,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),Mz(a)&&(a.addEventListener("focus",u=>Bye(u,i)),!$ye(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function MP(e){return W9(e)&&"ownerSVGElement"in e}function Bz(e){return MP(e)&&e.tagName==="svg"}const vo=e=>!!(e&&e.getVelocity),Fye=[...Rz,Gi,Qc],zye=e=>Fye.find(Pz(e)),Ih=R.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Vye extends R.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Mz(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function qye({children:e,isPresent:t,anchorX:n,root:r}){const i=R.useId(),o=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=R.useContext(Ih);return R.useInsertionEffect(()=>{const{width:l,height:u,top:c,left:d,right:f}=s.current;if(t||!o.current||!l||!u)return;const m=n==="left"?`left: ${d}`:`right: ${f}`;o.current.dataset.motionPopId=i;const h=document.createElement("style");a&&(h.nonce=a);const g=r??document.head;return g.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${c}px !important;
          }
        `),()=>{g.contains(h)&&g.removeChild(h)}},[t]),U.jsx(Vye,{isPresent:t,childRef:o,sizeRef:s,children:R.cloneElement(e,{ref:o})})}const Hye=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a,root:l})=>{const u=Qv(Gye),c=R.useId();let d=!0,f=R.useMemo(()=>(d=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const h of u.values())if(!h)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return o&&d&&(f={...f}),R.useMemo(()=>{u.forEach((m,h)=>u.set(h,!1))},[n]),R.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),s==="popLayout"&&(e=U.jsx(qye,{isPresent:n,anchorX:a,root:l,children:e})),U.jsx(pw.Provider,{value:f,children:e})};function Gye(){return new Map}function Uz(e=!0){const t=R.useContext(pw);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=R.useId();R.useEffect(()=>{if(e)return i(o)},[e]);const s=R.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}const g0=e=>e.key||"";function g3(e){const t=[];return R.Children.forEach(e,n=>{R.isValidElement(n)&&t.push(n)}),t}const Fz=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,c]=Uz(s),d=R.useMemo(()=>g3(e),[e]),f=s&&!u?[]:d.map(g0),m=R.useRef(!0),h=R.useRef(d),g=Qv(()=>new Map),[S,y]=R.useState(d),[v,b]=R.useState(d);H9(()=>{m.current=!1,h.current=d;for(let T=0;T<v.length;T++){const w=g0(v[T]);f.includes(w)?g.delete(w):g.get(w)!==!0&&g.set(w,!1)}},[v,f.length,f.join("-")]);const _=[];if(d!==S){let T=[...d];for(let w=0;w<v.length;w++){const E=v[w],C=g0(E);f.includes(C)||(T.splice(w,0,E),_.push(E))}return o==="wait"&&_.length&&(T=_),b(g3(T)),y(d),null}const{forceRender:x}=R.useContext(dP);return U.jsx(U.Fragment,{children:v.map(T=>{const w=g0(T),E=s&&!u?!1:d===v||f.includes(w),C=()=>{if(g.has(w))g.set(w,!0);else return;let D=!0;g.forEach(O=>{O||(D=!1)}),D&&(x==null||x(),b(h.current),s&&(c==null||c()),r&&r())};return U.jsx(Hye,{isPresent:E,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:E?void 0:C,anchorX:a,children:T},w)})})},zz=R.createContext({strict:!1}),y3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kh={};for(const e in y3)kh[e]={isEnabled:t=>y3[e].some(n=>!!t[n])};function Wye(e){for(const t in e)kh[t]={...kh[t],...e[t]}}const Yye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yS(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Yye.has(e)}let Vz=e=>!yS(e);function qz(e){typeof e=="function"&&(Vz=t=>t.startsWith("on")?!yS(t):e(t))}try{qz(require("@emotion/is-prop-valid").default)}catch{}function Kye(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Vz(i)||n===!0&&yS(i)||!t&&!yS(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Xye({children:e,isValidProp:t,...n}){t&&qz(t),n={...R.useContext(Ih),...n},n.isStatic=Qv(()=>n.isStatic);const r=R.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return U.jsx(Ih.Provider,{value:r,children:e})}const mw=R.createContext({});function gw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Zy(e){return typeof e=="string"||Array.isArray(e)}const jP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LP=["initial",...jP];function yw(e){return gw(e.animate)||LP.some(t=>Zy(e[t]))}function Hz(e){return!!(yw(e)||e.variants)}function Zye(e,t){if(yw(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Zy(n)?n:void 0,animate:Zy(r)?r:void 0}}return e.inherit!==!1?t:{}}function Qye(e){const{initial:t,animate:n}=Zye(e,R.useContext(mw));return R.useMemo(()=>({initial:t,animate:n}),[v3(t),v3(n)])}function v3(e){return Array.isArray(e)?e.join(" "):e}const Qy={};function Jye(e){for(const t in e)Qy[t]=e[t],bP(t)&&(Qy[t].isCSSVariable=!0)}function Gz(e,{layout:t,layoutId:n}){return _m.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Qy[e]||e==="opacity")}const eve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},tve=bm.length;function nve(e,t,n){let r="",i=!0;for(let o=0;o<tve;o++){const s=bm[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=Nz(a,RP[s]);if(!l){i=!1;const c=eve[s]||s;r+=`${c}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function $P(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(_m.has(l)){s=!0;continue}else if(bP(l)){i[l]=u;continue}else{const c=Nz(u,RP[l]);l.startsWith("origin")?(a=!0,o[l]=c):r[l]=c}}if(t.transform||(s||n?r.transform=nve(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:c=0}=o;r.transformOrigin=`${l} ${u} ${c}`}}const BP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Wz(e,t,n){for(const r in t)!vo(t[r])&&!Gz(r,n)&&(e[r]=t[r])}function rve({transformTemplate:e},t){return R.useMemo(()=>{const n=BP();return $P(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ive(e,t){const n=e.style||{},r={};return Wz(r,n,e),Object.assign(r,rve(e,t)),r}function ove(e,t){const n={},r=ive(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const sve={offset:"stroke-dashoffset",array:"stroke-dasharray"},ave={offset:"strokeDashoffset",array:"strokeDasharray"};function lve(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?sve:ave;e[o.offset]=Sn.transform(-r);const s=Sn.transform(t),a=Sn.transform(n);e[o.array]=`${s} ${a}`}function Yz(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,u,c){if($P(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&lve(d,i,o,s,!1)}const Kz=()=>({...BP(),attrs:{}}),Xz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uve(e,t,n,r){const i=R.useMemo(()=>{const o=Kz();return Yz(o,t,Xz(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};Wz(o,e.style,e),i.style={...o,...i.style}}return i}const cve=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UP(e){return typeof e!="string"||e.includes("-")?!1:!!(cve.indexOf(e)>-1||/[A-Z]/u.test(e))}function dve(e,t,n,{latestValues:r},i,o=!1){const a=(UP(e)?uve:ove)(t,r,i,e),l=Kye(t,typeof e=="string",o),u=e!==R.Fragment?{...l,...a,ref:n}:{},{children:c}=t,d=R.useMemo(()=>vo(c)?c.get():c,[c]);return R.createElement(e,{...u,children:d})}function b3(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function FP(e,t,n,r){if(typeof t=="function"){const[i,o]=b3(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=b3(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function s_(e){return vo(e)?e.get():e}function fve({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:pve(n,r,i,e),renderState:t()}}function pve(e,t,n,r){const i={},o=r(e,{});for(const f in o)i[f]=s_(o[f]);let{initial:s,animate:a}=e;const l=yw(e),u=Hz(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const d=c?a:s;if(d&&typeof d!="boolean"&&!gw(d)){const f=Array.isArray(d)?d:[d];for(let m=0;m<f.length;m++){const h=FP(e,f[m]);if(h){const{transitionEnd:g,transition:S,...y}=h;for(const v in y){let b=y[v];if(Array.isArray(b)){const _=c?b.length-1:0;b=b[_]}b!==null&&(i[v]=b)}for(const v in g)i[v]=g[v]}}}return i}const Zz=e=>(t,n)=>{const r=R.useContext(mw),i=R.useContext(pw),o=()=>fve(e,t,r,i);return n?o():Qv(o)};function zP(e,t,n){var o;const{style:r}=e,i={};for(const s in r)(vo(r[s])||t.style&&vo(t.style[s])||Gz(s,e)||((o=n==null?void 0:n.getValue(s))==null?void 0:o.liveStyle)!==void 0)&&(i[s]=r[s]);return i}const hve=Zz({scrapeMotionValuesFromProps:zP,createRenderState:BP});function Qz(e,t,n){const r=zP(e,t,n);for(const i in e)if(vo(e[i])||vo(t[i])){const o=bm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const mve=Zz({scrapeMotionValuesFromProps:Qz,createRenderState:Kz}),gve=Symbol.for("motionComponentSymbol");function Ip(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yve(e,t,n){return R.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Ip(n)&&(n.current=r))},[t])}const VP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vve="framerAppearId",Jz="data-"+VP(vve),eV=R.createContext({});function bve(e,t,n,r,i){var g,S;const{visualElement:o}=R.useContext(mw),s=R.useContext(zz),a=R.useContext(pw),l=R.useContext(Ih).reducedMotion,u=R.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,d=R.useContext(eV);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&_ve(u.current,n,i,d);const f=R.useRef(!1);R.useInsertionEffect(()=>{c&&f.current&&c.update(n,a)});const m=n[Jz],h=R.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return H9(()=>{c&&(f.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),h.current&&c.animationState&&c.animationState.animateChanges())}),R.useEffect(()=>{c&&(!h.current&&c.animationState&&c.animationState.animateChanges(),h.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),h.current=!1),c.enteringChildren=void 0)}),c}function _ve(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tV(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Ip(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:c,layoutScroll:l,layoutRoot:u})}function tV(e){if(e)return e.options.allowProjection!==!1?e.projection:tV(e.parent)}function a_(e,{forwardMotionProps:t=!1}={},n,r){n&&Wye(n);const i=UP(e)?mve:hve;function o(a,l){let u;const c={...R.useContext(Ih),...a,layoutId:Sve(a)},{isStatic:d}=c,f=Qye(a),m=i(a,d);if(!d&&fP){xve();const h=wve(c);u=h.MeasureLayout,f.visualElement=bve(e,m,c,r,h.ProjectionNode)}return U.jsxs(mw.Provider,{value:f,children:[u&&f.visualElement?U.jsx(u,{visualElement:f.visualElement,...c}):null,dve(e,a,yve(m,f.visualElement,l),m,d,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=R.forwardRef(o);return s[gve]=e,s}function Sve({layoutId:e}){const t=R.useContext(dP).id;return t&&e!==void 0?t+"-"+e:e}function xve(e,t){R.useContext(zz).strict}function wve(e){const{drag:t,layout:n}=kh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Tve(e,t){if(typeof Proxy>"u")return a_;const n=new Map,r=(o,s)=>a_(o,s,e,t),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,a_(s,void 0,e,t)),n.get(s))})}function nV({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Eve({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ave(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function W1(e){return e===void 0||e===1}function qA({scale:e,scaleX:t,scaleY:n}){return!W1(e)||!W1(t)||!W1(n)}function Ed(e){return qA(e)||rV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rV(e){return _3(e.x)||_3(e.y)}function _3(e){return e&&e!=="0%"}function vS(e,t,n){const r=e-n,i=t*r;return n+i}function S3(e,t,n,r,i){return i!==void 0&&(e=vS(e,i,r)),vS(e,n,r)+t}function HA(e,t=0,n=1,r,i){e.min=S3(e.min,t,n,r,i),e.max=S3(e.max,t,n,r,i)}function iV(e,{x:t,y:n}){HA(e.x,t.translate,t.scale,t.originPoint),HA(e.y,n.translate,n.scale,n.originPoint)}const x3=.999999999999,w3=1.0000000000001;function Cve(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Np(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,iV(e,s)),r&&Ed(o.latestValues)&&Np(e,o.latestValues))}t.x<w3&&t.x>x3&&(t.x=1),t.y<w3&&t.y>x3&&(t.y=1)}function kp(e,t){e.min=e.min+t,e.max=e.max+t}function T3(e,t,n,r,i=.5){const o=fi(e.min,e.max,i);HA(e,t,n,o,r)}function Np(e,t){T3(e.x,t.x,t.scaleX,t.scale,t.originX),T3(e.y,t.y,t.scaleY,t.scale,t.originY)}function oV(e,t){return nV(Ave(e.getBoundingClientRect(),t))}function Ove(e,t,n){const r=oV(e,n),{scroll:i}=t;return i&&(kp(r.x,i.offset.x),kp(r.y,i.offset.y)),r}const E3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mp=()=>({x:E3(),y:E3()}),A3=()=>({min:0,max:0}),Ei=()=>({x:A3(),y:A3()}),GA={current:null},sV={current:!1};function Dve(){if(sV.current=!0,!!fP)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>GA.current=e.matches;e.addEventListener("change",t),t()}else GA.current=!1}const Jy=new WeakMap;function Pve(e,t,n){for(const r in t){const i=t[r],o=n[r];if(vo(i))e.addValue(r,i);else if(vo(o))e.addValue(r,Tf(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Tf(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const C3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aV{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ts.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,pi.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=yw(n),this.isVariantNode=Hz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const m=d[f];l[f]!==void 0&&vo(m)&&m.set(l[f])}}mount(t){var n;this.current=t,Jy.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),sV.current||Dve(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:GA.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Zc(this.notifyUpdate),Zc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_m.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&pi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in kh){const n=kh[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ei()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C3.length;r++){const i=C3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Pve(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Tf(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(G9(r)||Y9(r))?r=parseFloat(r):!zye(r)&&Qc.test(n)&&(r=kz(t,n)),this.setBaseTarget(t,vo(r)?r.get():r)),vo(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=FP(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);s&&(r=s[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!vo(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new gP),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){kP.render(this.render)}}class lV extends aV{constructor(){super(...arguments),this.KeyframeResolver=Iye}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function uV(e,{style:t,vars:n},r,i){const o=e.style;let s;for(s in t)o[s]=t[s];i==null||i.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function Rve(e){return window.getComputedStyle(e)}class cV extends lV{constructor(){super(...arguments),this.type="html",this.renderInstance=uV}readValueFromInstance(t,n){var r;if(_m.has(n))return(r=this.projection)!=null&&r.isProjecting?LA(n):Kge(t,n);{const i=Rve(t),o=(bP(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return oV(t,n)}build(t,n,r){$P(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return zP(t,n,r)}}const dV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ive(e,t,n,r){uV(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(dV.has(i)?i:VP(i),t.attrs[i])}class fV extends lV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ei}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(_m.has(n)){const r=Iz(n);return r&&r.default||0}return n=dV.has(n)?n:VP(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Qz(t,n,r)}build(t,n,r){Yz(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){Ive(t,n,r,i)}mount(t){this.isSVGTag=Xz(t.tagName),super.mount(t)}}const pV=(e,t)=>UP(e)?new fV(t):new cV(t,{allowProjection:e!==R.Fragment});function Xp(e,t,n){const r=e.getProps();return FP(r,t,n!==void 0?n:r.custom,e)}const WA=e=>Array.isArray(e);function kve(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tf(n))}function Nve(e){return WA(e)?e[e.length-1]||0:e}function Mve(e,t){const n=Xp(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=Nve(o[s]);kve(e,s,a)}}function jve(e){return!!(vo(e)&&e.add)}function YA(e,t){const n=e.getValue("willChange");if(jve(n))return n.add(t);if(!n&&Mu.WillChange){const r=new Mu.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function hV(e){return e.props[Jz]}const Lve=e=>e!==null;function $ve(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(Lve),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const Bve={type:"spring",stiffness:500,damping:25,restSpeed:10},Uve=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Fve={type:"keyframes",duration:.8},zve={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vve=(e,{keyframes:t})=>t.length>2?Fve:_m.has(e)?e.startsWith("scale")?Uve(t[1]):Bve:zve;function qve({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const qP=(e,t,n,r={},i,o)=>s=>{const a=PP(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-rl(l);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};qve(a)||Object.assign(c,Vve(e,c)),c.duration&&(c.duration=rl(c.duration)),c.repeatDelay&&(c.repeatDelay=rl(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let d=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(zA(c),c.delay===0&&(d=!0)),(Mu.instantAnimations||Mu.skipAnimations)&&(d=!0,zA(c),c.delay=0),c.allowFlatten=!a.type&&!a.ease,d&&!o&&t.get()!==void 0){const f=$ve(c.keyframes,a);if(f!==void 0){pi.update(()=>{c.onUpdate(f),c.onComplete()});return}}return a.isSync?new CP(c):new vye(c)};function Hve({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function HP(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=t;r&&(o=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in a){const d=e.getValue(c,e.latestValues[c]??null),f=a[c];if(f===void 0||u&&Hve(u,c))continue;const m={delay:n,...PP(o||{},c)},h=d.get();if(h!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===h&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=hV(e);if(y){const v=window.MotionHandoffAnimation(y,c,pi);v!==null&&(m.startTime=v,g=!0)}}YA(e,c),d.start(qP(c,d,f,e.shouldReduceMotion&&Dz.has(c)?{type:!1}:m,e,g));const S=d.animation;S&&l.push(S)}return s&&Promise.all(l).then(()=>{pi.update(()=>{s&&Mve(e,s)})}),l}function mV(e,t,n,r=0,i=1){const o=Array.from(e).sort((u,c)=>u.sortNodePosition(c)).indexOf(t),s=e.size,a=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:a-o*r}function KA(e,t,n={}){var l;const r=Xp(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(HP(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=i;return Gve(e,t,u,c,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[o,s]:[s,o];return u().then(()=>c())}else return Promise.all([o(),s(n.delay)])}function Gve(e,t,n=0,r=0,i=0,o=1,s){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(KA(l,t,{...s,delay:n+(typeof r=="function"?0:r)+mV(e.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function Wve(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>KA(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=KA(e,t,n);else{const i=typeof t=="function"?Xp(e,t,n.custom):t;r=Promise.all(HP(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function gV(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Yve=LP.length;function yV(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yV(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Yve;n++){const r=LP[n],i=e.props[r];(Zy(i)||i===!1)&&(t[r]=i)}return t}const Kve=[...jP].reverse(),Xve=jP.length;function Zve(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Wve(e,n,r)))}function Qve(e){let t=Zve(e),n=O3(),r=!0;const i=l=>(u,c)=>{var f;const d=Xp(e,c,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:m,transitionEnd:h,...g}=d;u={...u,...g,...h}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,c=yV(e.parent)||{},d=[],f=new Set;let m={},h=1/0;for(let S=0;S<Xve;S++){const y=Kve[S],v=n[y],b=u[y]!==void 0?u[y]:c[y],_=Zy(b),x=y===l?v.isActive:null;x===!1&&(h=S);let T=b===c[y]&&b!==u[y]&&_;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),v.protectedKeys={...m},!v.isActive&&x===null||!b&&!v.prevProp||gw(b)||typeof b=="boolean")continue;const w=Jve(v.prevProp,b);let E=w||y===l&&v.isActive&&!T&&_||S>h&&_,C=!1;const D=Array.isArray(b)?b:[b];let O=D.reduce(i(y),{});x===!1&&(O={});const{prevResolvedValues:I={}}=v,k={...I,...O},B=z=>{E=!0,f.has(z)&&(C=!0,f.delete(z)),v.needsAnimating[z]=!0;const ne=e.getValue(z);ne&&(ne.liveStyle=!1)};for(const z in k){const ne=O[z],ue=I[z];if(m.hasOwnProperty(z))continue;let Q=!1;WA(ne)&&WA(ue)?Q=!gV(ne,ue):Q=ne!==ue,Q?ne!=null?B(z):f.add(z):ne!==void 0&&f.has(z)?B(z):v.protectedKeys[z]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),r&&e.blockInitialAnimation&&(E=!1);const q=T&&w;E&&(!q||C)&&d.push(...D.map(z=>{const ne={type:y};if(typeof z=="string"&&r&&!q&&e.manuallyAnimateOnMount&&e.parent){const{parent:ue}=e,Q=Xp(ue,z);if(ue.enteringChildren&&Q){const{delayChildren:N}=Q.transition||{};ne.delay=mV(ue.enteringChildren,e,N)}}return{animation:z,options:ne}}))}if(f.size){const S={};if(typeof u.initial!="boolean"){const y=Xp(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(S.transition=y.transition)}f.forEach(y=>{const v=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),S[y]=v??null}),d.push({animation:S})}let g=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(d):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(l,u)}),n[l].isActive=u;const c=s(l);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=O3(),r=!0}}}function Jve(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gV(t,e):!1}function gd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function O3(){return{animate:gd(!0),whileInView:gd(),whileHover:gd(),whileTap:gd(),whileDrag:gd(),whileFocus:gd(),exit:gd()}}class ld{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ebe extends ld{constructor(t){super(t),t.animationState||(t.animationState=Qve(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let tbe=0;class nbe extends ld{constructor(){super(...arguments),this.id=tbe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rbe={animation:{Feature:ebe},exit:{Feature:nbe}};function ev(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function nb(e){return{point:{x:e.pageX,y:e.pageY}}}const ibe=e=>t=>NP(t)&&e(t,nb(t));function ly(e,t,n,r){return ev(e,t,ibe(n),r)}const vV=1e-4,obe=1-vV,sbe=1+vV,bV=.01,abe=0-bV,lbe=0+bV;function as(e){return e.max-e.min}function ube(e,t,n){return Math.abs(e-t)<=n}function D3(e,t,n,r=.5){e.origin=r,e.originPoint=fi(t.min,t.max,e.origin),e.scale=as(n)/as(t),e.translate=fi(n.min,n.max,e.origin)-e.originPoint,(e.scale>=obe&&e.scale<=sbe||isNaN(e.scale))&&(e.scale=1),(e.translate>=abe&&e.translate<=lbe||isNaN(e.translate))&&(e.translate=0)}function uy(e,t,n,r){D3(e.x,t.x,n.x,r?r.originX:void 0),D3(e.y,t.y,n.y,r?r.originY:void 0)}function P3(e,t,n){e.min=n.min+t.min,e.max=e.min+as(t)}function cbe(e,t,n){P3(e.x,t.x,n.x),P3(e.y,t.y,n.y)}function R3(e,t,n){e.min=t.min-n.min,e.max=e.min+as(t)}function cy(e,t,n){R3(e.x,t.x,n.x),R3(e.y,t.y,n.y)}function ga(e){return[e("x"),e("y")]}const _V=({current:e})=>e?e.ownerDocument.defaultView:null,I3=(e,t)=>Math.abs(e-t);function dbe(e,t){const n=I3(e.x,t.x),r=I3(e.y,t.y);return Math.sqrt(n**2+r**2)}class SV{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=K1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,h=dbe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!h)return;const{point:g}=f,{timestamp:S}=Do;this.history.push({...g,timestamp:S});const{onStart:y,onMove:v}=this.handlers;m||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Y1(m,this.transformPagePoint),pi.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=K1(f.type==="pointercancel"?this.lastMoveEventInfo:Y1(m,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,y),g&&g(f,y)},!NP(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const a=nb(t),l=Y1(a,this.transformPagePoint),{point:u}=l,{timestamp:c}=Do;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(t,K1(l,this.history)),this.removeListeners=Jv(ly(this.contextWindow,"pointermove",this.handlePointerMove),ly(this.contextWindow,"pointerup",this.handlePointerUp),ly(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zc(this.updatePoint)}}function Y1(e,t){return t?{point:t(e.point)}:e}function k3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function K1({point:e},t){return{point:e,delta:k3(e,xV(t)),offset:k3(e,fbe(t)),velocity:pbe(t,.1)}}function fbe(e){return e[0]}function xV(e){return e[e.length-1]}function pbe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=xV(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>rl(t)));)n--;if(!r)return{x:0,y:0};const o=jl(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function hbe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fi(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fi(n,e,r.max):Math.min(e,n)),e}function N3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function mbe(e,{top:t,left:n,bottom:r,right:i}){return{x:N3(e.x,n,i),y:N3(e.y,t,r)}}function M3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function gbe(e,t){return{x:M3(e.x,t.x),y:M3(e.y,t.y)}}function ybe(e,t){let n=.5;const r=as(e),i=as(t);return i>r?n=Rh(t.min,t.max-r,e.min):r>i&&(n=Rh(e.min,e.max-i,t.min)),Nu(0,1,n)}function vbe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const XA=.35;function bbe(e=XA){return e===!1?e=0:e===!0&&(e=XA),{x:j3(e,"left","right"),y:j3(e,"top","bottom")}}function j3(e,t,n){return{min:L3(e,t),max:L3(e,n)}}function L3(e,t){return typeof e=="number"?e:e[t]||0}const _be=new WeakMap;class Sbe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ei(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nb(d).point)},s=(d,f)=>{const{drag:m,dragPropagation:h,onDragStart:g}=this.getProps();if(m&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Mye(m),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ga(y=>{let v=this.getAxisMotionValue(y).get()||0;if(Ll.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[y];_&&(v=as(_)*(parseFloat(v)/100))}}this.originPoint[y]=v}),g&&pi.postRender(()=>g(d,f)),YA(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:g,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=f;if(h&&this.currentDirection===null){this.currentDirection=xbe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),S&&S(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ga(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new SV(t,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:_V(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&pi.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!y0(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=hbe(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;t&&Ip(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=mbe(r.layoutBox,t):this.constraints=!1,this.elastic=bbe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ga(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=vbe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Ip(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Ove(r,i.root,this.visualElement.getTransformPagePoint());let s=gbe(i.layout.layoutBox,o);if(n){const a=n(Eve(s));this.hasMutatedConstraints=!!a,a&&(s=nV(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=ga(c=>{if(!y0(c,n,this.currentDirection))return;let d=l&&l[c]||{};s&&(d={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,h={type:"inertia",velocity:r?t[c]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(c,h)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return YA(this.visualElement,t),r.start(qP(t,r,0,n,this.visualElement,!1))}stopAnimation(){ga(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ga(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ga(n=>{const{drag:r}=this.getProps();if(!y0(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-fi(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ip(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ga(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=ybe({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ga(s=>{if(!y0(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(fi(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;_be.set(this.visualElement,this);const t=this.visualElement.current,n=ly(t,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ip(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),pi.read(r);const s=ev(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(ga(c=>{const d=this.getAxisMotionValue(c);d&&(this.originPoint[c]+=l[c].translate,d.set(d.get()+l[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=XA,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function y0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function xbe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class wbe extends ld{constructor(t){super(t),this.removeGroupControls=Pa,this.removeListeners=Pa,this.controls=new Sbe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pa}unmount(){this.removeGroupControls(),this.removeListeners()}}const $3=e=>(t,n)=>{e&&pi.postRender(()=>e(t,n))};class Tbe extends ld{constructor(){super(...arguments),this.removePointerDownListener=Pa}onPointerDown(t){this.session=new SV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_V(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:$3(t),onStart:$3(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&pi.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=ly(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const l_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function B3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fg={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Sn.test(e))e=parseFloat(e);else return e;const n=B3(e,t.target.x),r=B3(e,t.target.y);return`${n}% ${r}%`}},Ebe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Qc.parse(e);if(i.length>5)return r;const o=Qc.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=fi(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};let X1=!1;class Abe extends R.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;Jye(Cbe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),X1&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),l_.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,X1=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||pi.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),kP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;X1=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function wV(e){const[t,n]=Uz(),r=R.useContext(dP);return U.jsx(Abe,{...e,layoutGroup:r,switchLayoutGroup:R.useContext(eV),isPresent:t,safeToRemove:n})}const Cbe={borderRadius:{...fg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fg,borderTopRightRadius:fg,borderBottomLeftRadius:fg,borderBottomRightRadius:fg,boxShadow:Ebe};function TV(e,t,n){const r=vo(e)?e:Tf(e);return r.start(qP("",r,t,n)),r.animation}const Obe=(e,t)=>e.depth-t.depth;class Dbe{constructor(){this.children=[],this.isDirty=!1}add(t){pP(this.children,t),this.isDirty=!0}remove(t){hw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Obe),this.isDirty=!1,this.children.forEach(t)}}function Pbe(e,t){const n=Ts.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Zc(r),e(o-t))};return pi.setup(r,!0),()=>Zc(r)}const EV=["TopLeft","TopRight","BottomLeft","BottomRight"],Rbe=EV.length,U3=e=>typeof e=="string"?parseFloat(e):e,F3=e=>typeof e=="number"||Sn.test(e);function Ibe(e,t,n,r,i,o){i?(e.opacity=fi(0,n.opacity??1,kbe(r)),e.opacityExit=fi(t.opacity??1,0,Nbe(r))):o&&(e.opacity=fi(t.opacity??1,n.opacity??1,r));for(let s=0;s<Rbe;s++){const a=`border${EV[s]}Radius`;let l=z3(t,a),u=z3(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||F3(l)===F3(u)?(e[a]=Math.max(fi(U3(l),U3(u),r),0),(Ll.test(u)||Ll.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=fi(t.rotate||0,n.rotate||0,r))}function z3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const kbe=AV(0,.5,nz),Nbe=AV(.5,.95,Pa);function AV(e,t,n){return r=>r<e?0:r>t?1:n(Rh(e,t,r))}function V3(e,t){e.min=t.min,e.max=t.max}function fa(e,t){V3(e.x,t.x),V3(e.y,t.y)}function q3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function H3(e,t,n,r,i){return e-=t,e=vS(e,1/n,r),i!==void 0&&(e=vS(e,1/i,r)),e}function Mbe(e,t=0,n=1,r=.5,i,o=e,s=e){if(Ll.test(t)&&(t=parseFloat(t),t=fi(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=fi(o.min,o.max,r);e===o&&(a-=t),e.min=H3(e.min,t,n,a,i),e.max=H3(e.max,t,n,a,i)}function G3(e,t,[n,r,i],o,s){Mbe(e,t[n],t[r],t[i],t.scale,o,s)}const jbe=["x","scaleX","originX"],Lbe=["y","scaleY","originY"];function W3(e,t,n,r){G3(e.x,t,jbe,n?n.x:void 0,r?r.x:void 0),G3(e.y,t,Lbe,n?n.y:void 0,r?r.y:void 0)}function Y3(e){return e.translate===0&&e.scale===1}function CV(e){return Y3(e.x)&&Y3(e.y)}function K3(e,t){return e.min===t.min&&e.max===t.max}function $be(e,t){return K3(e.x,t.x)&&K3(e.y,t.y)}function X3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function OV(e,t){return X3(e.x,t.x)&&X3(e.y,t.y)}function Z3(e){return as(e.x)/as(e.y)}function Q3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Bbe{constructor(){this.members=[]}add(t){pP(this.members,t),t.scheduleRender()}remove(t){if(hw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ube(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:d,rotateY:f,skewX:m,skewY:h}=n;u&&(r=`perspective(${u}px) ${r}`),c&&(r+=`rotate(${c}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),h&&(r+=`skewY(${h}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Z1=["","X","Y","Z"],Fbe=1e3;let zbe=0;function Q1(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function DV(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=hV(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",pi,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&DV(r)}function PV({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t==null?void 0:t()){this.id=zbe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Hbe),this.nodes.forEach(Kbe),this.nodes.forEach(Xbe),this.nodes.forEach(Gbe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dbe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new gP),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=MP(s)&&!Bz(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let c,d=0;const f=()=>this.root.updateBlockedByResize=!1;pi.read(()=>{d=window.innerWidth}),e(s,()=>{const m=window.innerWidth;m!==d&&(d=m,this.root.updateBlockedByResize=!0,c&&c(),c=Pbe(f,250),l_.hasAnimatedSinceResize&&(l_.hasAnimatedSinceResize=!1,this.nodes.forEach(tL)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||t0e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:S}=u.getProps(),y=!this.targetLayout||!OV(this.targetLayout,m),v=!d&&f;if(this.options.layoutRoot||this.resumeFrom||v||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...PP(h,"layout"),onPlay:g,onComplete:S};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(c,v)}else d||tL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zbe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(eL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ybe),this.nodes.forEach(Vbe),this.nodes.forEach(qbe)):this.nodes.forEach(eL),this.clearAllSnapshots();const a=Ts.now();Do.delta=Nu(0,1e3/60,a-Do.timestamp),Do.timestamp=a,Do.isProcessing=!0,z1.update.process(Do),z1.preRender.process(Do),z1.render.process(Do),Do.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wbe),this.sharedNodes.forEach(Qbe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,pi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){pi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!as(this.snapshot.measuredBox.x)&&!as(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ei(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!CV(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||Ed(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),n0e(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:s}=this.options;if(!s)return Ei();const a=s.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(r0e))){const{scroll:c}=this.root;c&&(kp(a.x,c.offset.x),kp(a.y,c.offset.y))}return a}removeElementScroll(s){var l;const a=Ei();if(fa(a,s),(l=this.scroll)!=null&&l.wasRoot)return a;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:d,options:f}=c;c!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&fa(a,s),kp(a.x,d.offset.x),kp(a.y,d.offset.y))}return a}applyTransform(s,a=!1){const l=Ei();fa(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Np(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ed(c.latestValues)&&Np(l,c.latestValues)}return Ed(this.latestValues)&&Np(l,this.latestValues),l}removeTransform(s){const a=Ei();fa(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ed(u.latestValues))continue;qA(u.latestValues)&&u.updateSnapshot();const c=Ei(),d=u.measurePageBox();fa(c,d),W3(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ed(this.latestValues)&&W3(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Do.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=Do.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),cy(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),fa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ei(),this.targetWithTransforms=Ei()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),cbe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fa(this.target,this.layout.layoutBox),iV(this.target,this.targetDelta)):fa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ei(),this.relativeTargetOrigin=Ei(),cy(this.relativeTargetOrigin,this.target,m.target),fa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qA(this.parent.latestValues)||rV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Do.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;fa(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;Cve(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Ei());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q3(this.prevProjectionDelta.x,this.projectionDelta.x),q3(this.prevProjectionDelta.y,this.projectionDelta.y)),uy(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Q3(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mp(),this.projectionDelta=Mp(),this.projectionDeltaWithTransform=Mp()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},d=Mp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Ei(),m=l?l.source:void 0,h=this.layout?this.layout.source:void 0,g=m!==h,S=this.getStack(),y=!S||S.members.length<=1,v=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(e0e));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const x=_/1e3;nL(d.x,s.x,x),nL(d.y,s.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cy(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jbe(this.relativeTarget,this.relativeTargetOrigin,f,x),b&&$be(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ei()),fa(b,this.relativeTarget)),g&&(this.animationValues=c,Ibe(c,u,this.latestValues,x,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var a,l,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Zc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=pi.update(()=>{l_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Tf(0)),this.currentAnimation=TV(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),s.onUpdate&&s.onUpdate(c)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Fbe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&RV(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ei();const d=as(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const f=as(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+f}fa(a,l),Np(a,c),uy(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Bbe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var a;const{layoutId:s}=this.options;return s?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:s}=this.options;return s?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Q1("z",s,u,this.animationValues);for(let c=0;c<Z1.length;c++)Q1(`rotate${Z1[c]}`,s,u,this.animationValues),Q1(`skew${Z1[c]}`,s,u,this.animationValues);s.render();for(const c in u)s.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=s_(a==null?void 0:a.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=s_(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ed(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let d=Ube(this.projectionDeltaWithTransform,this.treeScale,c);l&&(d=l(c,d)),s.transform=d;const{x:f,y:m}=this.projectionDelta;s.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?s.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:s.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const h in Qy){if(c[h]===void 0)continue;const{correct:g,applyTo:S,isCSSVariable:y}=Qy[h],v=d==="none"?c[h]:g(c[h],u);if(S){const b=S.length;for(let _=0;_<b;_++)s[S[_]]=v}else y?this.options.visualElement.renderState.vars[h]=v:s[h]=v}this.options.layoutId&&(s.pointerEvents=u===this?s_(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(J3),this.root.sharedNodes.clear()}}}function Vbe(e){e.updateLayout()}function qbe(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:o}=e.options,s=t.source!==e.layout.source;o==="size"?ga(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],m=as(f);f.min=r[d].min,f.max=f.min+m}):RV(o,t.layoutBox,r)&&ga(d=>{const f=s?t.measuredBox[d]:t.layoutBox[d],m=as(r[d]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+m)});const a=Mp();uy(a,r,t.layoutBox);const l=Mp();s?uy(l,e.applyTransform(i,!0),t.measuredBox):uy(l,r,t.layoutBox);const u=!CV(a);let c=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:m}=d;if(f&&m){const h=Ei();cy(h,t.layoutBox,f.layoutBox);const g=Ei();cy(g,r,m.layoutBox),OV(h,g)||(c=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=h,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Hbe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Gbe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wbe(e){e.clearSnapshot()}function J3(e){e.clearMeasurements()}function eL(e){e.isLayoutDirty=!1}function Ybe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tL(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kbe(e){e.resolveTargetDelta()}function Xbe(e){e.calcProjection()}function Zbe(e){e.resetSkewAndRotation()}function Qbe(e){e.removeLeadSnapshot()}function nL(e,t,n){e.translate=fi(t.translate,0,n),e.scale=fi(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rL(e,t,n,r){e.min=fi(t.min,n.min,r),e.max=fi(t.max,n.max,r)}function Jbe(e,t,n,r){rL(e.x,t.x,n.x,r),rL(e.y,t.y,n.y,r)}function e0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const t0e={duration:.45,ease:[.4,0,.1,1]},iL=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oL=iL("applewebkit/")&&!iL("chrome/")?Math.round:Pa;function sL(e){e.min=oL(e.min),e.max=oL(e.max)}function n0e(e){sL(e.x),sL(e.y)}function RV(e,t,n){return e==="position"||e==="preserve-aspect"&&!ube(Z3(t),Z3(n),.2)}function r0e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const i0e=PV({attachResizeListener:(e,t)=>ev(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),J1={current:void 0},IV=PV({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!J1.current){const e=new i0e({});e.mount(window),e.setOptions({layoutScroll:!0}),J1.current=e}return J1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),o0e={pan:{Feature:Tbe},drag:{Feature:wbe,ProjectionNode:IV,MeasureLayout:wV}};function aL(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&pi.postRender(()=>o(t,nb(t)))}class s0e extends ld{mount(){const{current:t}=this.node;t&&(this.unmount=jye(t,(n,r)=>(aL(this.node,r,"Start"),i=>aL(this.node,i,"End"))))}unmount(){}}class a0e extends ld{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jv(ev(this.node.current,"focus",()=>this.onFocus()),ev(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function lL(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&pi.postRender(()=>o(t,nb(t)))}class l0e extends ld{mount(){const{current:t}=this.node;t&&(this.unmount=Uye(t,(n,r)=>(lL(this.node,r,"Start"),(i,{success:o})=>lL(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ZA=new WeakMap,eE=new WeakMap,u0e=e=>{const t=ZA.get(e.target);t&&t(e)},c0e=e=>{e.forEach(u0e)};function d0e({root:e,...t}){const n=e||document;eE.has(n)||eE.set(n,{});const r=eE.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(c0e,{root:e,...t})),r[i]}function f0e(e,t,n){const r=d0e(t);return ZA.set(e,n),r.observe(e),()=>{ZA.delete(e),r.unobserve(e)}}const p0e={some:0,all:1};class h0e extends ld{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:p0e[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:d}=this.node.getProps(),f=u?c:d;f&&f(l)};return f0e(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(m0e(t,n))&&this.startObserver()}unmount(){}}function m0e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const g0e={inView:{Feature:h0e},tap:{Feature:l0e},focus:{Feature:a0e},hover:{Feature:s0e}},y0e={layout:{ProjectionNode:IV,MeasureLayout:wV}},kV={...rbe,...g0e,...o0e,...y0e},tv=Tve(kV,pV);function v0e(e){const t=Qv(()=>Tf(e)),{isStatic:n}=R.useContext(Ih);if(n){const[,r]=R.useState(e);R.useEffect(()=>t.on("change",r),[])}return t}function GP(e){return typeof e=="object"&&!Array.isArray(e)}function NV(e,t,n,r){return typeof e=="string"&&GP(t)?IP(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function b0e(e,t,n){return e*(t+1)}function uL(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function _0e(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(hw(e,i),r--)}}function S0e(e,t,n,r,i,o){_0e(e,i,o);for(let s=0;s<t.length;s++)e.push({value:t[s],at:fi(i,o,r[s]),easing:sz(n,s)})}function x0e(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function w0e(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const T0e="easeInOut";function E0e(e,{defaultTransition:t={},...n}={},r,i){const o=t.duration||.3,s=new Map,a=new Map,l={},u=new Map;let c=0,d=0,f=0;for(let m=0;m<e.length;m++){const h=e[m];if(typeof h=="string"){u.set(h,d);continue}else if(!Array.isArray(h)){u.set(h.name,uL(d,h.at,c,u));continue}let[g,S,y={}]=h;y.at!==void 0&&(d=uL(d,y.at,c,u));let v=0;const b=(_,x,T,w=0,E=0)=>{const C=A0e(_),{delay:D=0,times:O=Sz(C),type:I="keyframes",repeat:k,repeatType:B,repeatDelay:q=0,...H}=x;let{ease:z=t.ease||"easeOut",duration:ne}=x;const ue=typeof D=="function"?D(w,E):D,Q=C.length,N=DP(I)?I:i==null?void 0:i[I||"keyframes"];if(Q<=2&&N){let L=100;if(Q===2&&D0e(C)){const de=C[1]-C[0];L=Math.abs(de)}const K={...H};ne!==void 0&&(K.duration=rl(ne));const ie=vz(K,L,N);z=ie.ease,ne=ie.duration}ne??(ne=o);const G=d+ue;O.length===1&&O[0]===0&&(O[1]=1);const J=O.length-C.length;if(J>0&&_z(O,J),C.length===1&&C.unshift(null),k){ne=b0e(ne,k);const L=[...C],K=[...O];z=Array.isArray(z)?[...z]:[z];const ie=[...z];for(let de=0;de<k;de++){C.push(...L);for(let ye=0;ye<L.length;ye++)O.push(K[ye]+(de+1)),z.push(ye===0?"linear":sz(ie,ye-1))}x0e(O,k)}const Y=G+ne;S0e(T,C,z,O,G,Y),v=Math.max(ue+ne,v),f=Math.max(Y,f)};if(vo(g)){const _=cL(g,a);b(S,y,dL("default",_))}else{const _=NV(g,S,r,l),x=_.length;for(let T=0;T<x;T++){S=S,y=y;const w=_[T],E=cL(w,a);for(const C in S)b(S[C],C0e(y,C),dL(C,E),T,x)}}c=d,d+=v}return a.forEach((m,h)=>{for(const g in m){const S=m[g];S.sort(w0e);const y=[],v=[],b=[];for(let x=0;x<S.length;x++){const{at:T,value:w,easing:E}=S[x];y.push(w),v.push(Rh(0,f,T)),b.push(E||"easeOut")}v[0]!==0&&(v.unshift(0),y.unshift(y[0]),b.unshift(T0e)),v[v.length-1]!==1&&(v.push(1),y.push(null)),s.has(h)||s.set(h,{keyframes:{},transition:{}});const _=s.get(h);_.keyframes[g]=y,_.transition[g]={...t,duration:f,ease:b,times:v,...n}}}),s}function cL(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function dL(e,t){return t[e]||(t[e]=[]),t[e]}function A0e(e){return Array.isArray(e)?e:[e]}function C0e(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const O0e=e=>typeof e=="number",D0e=e=>e.every(O0e);function P0e(e,t){return e in t}class R0e extends aV{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(P0e(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Ei()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function I0e(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=MP(e)&&!Bz(e)?new fV(t):new cV(t);n.mount(e),Jy.set(e,n)}function k0e(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new R0e(t);n.mount(e),Jy.set(e,n)}function N0e(e,t){return vo(e)||typeof e=="number"||typeof e=="string"&&!GP(t)}function MV(e,t,n,r){const i=[];if(N0e(e,t))i.push(TV(e,GP(t)&&t.default||t,n&&(n.default||n)));else{const o=NV(e,t,r),s=o.length;for(let a=0;a<s;a++){const l=o[a],u=l instanceof Element?I0e:k0e;Jy.has(l)||u(l);const c=Jy.get(l),d={...n};"delay"in d&&typeof d.delay=="function"&&(d.delay=d.delay(a,s)),i.push(...HP(c,{...t,transition:d},{}))}}return i}function M0e(e,t,n){const r=[];return E0e(e,t,n,{spring:Xy}).forEach(({keyframes:o,transition:s},a)=>{r.push(...MV(a,o,s))}),r}function j0e(e){return Array.isArray(e)&&e.some(Array.isArray)}function L0e(e){function t(n,r,i){let o=[];return j0e(n)?o=M0e(n,r,e):o=MV(n,r,i,e),new _ye(o)}return t}const $0e=L0e(),B0e={some:0,all:1};function U0e(e,t,{root:n,margin:r,amount:i="some"}={}){const o=IP(e),s=new WeakMap,a=u=>{u.forEach(c=>{const d=s.get(c.target);if(c.isIntersecting!==!!d)if(c.isIntersecting){const f=t(c.target,c);typeof f=="function"?s.set(c.target,f):l.unobserve(c.target)}else typeof d=="function"&&(d(c),s.delete(c.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:B0e[i]});return o.forEach(u=>l.observe(u)),()=>l.disconnect()}function vw(e,{root:t,margin:n,amount:r,once:i=!1,initial:o=!1}={}){const[s,a]=R.useState(o);return R.useEffect(()=>{if(!e.current||i&&s)return;const l=()=>(a(!0),i?void 0:()=>a(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return U0e(e.current,l,u)},[t,e,n,i,r]),s}const F0e=e=>e.locale,z0e=Zr(F0e,e=>{const t="en";return{rich:i=>{var o,s;return((o=i==null?void 0:i[e])==null?void 0:o.html)??((s=i==null?void 0:i[t])==null?void 0:s.html)??""},plain:i=>(i==null?void 0:i[e])??(i==null?void 0:i[t])??""}}),jr=()=>Cr(z0e),nv=({id:e,isCorrect:t,size:n="1",isHidden:r=!1})=>{const i=vr(),o=()=>r?U.jsx(Fx,{}):t?U.jsx(Lf,{ariaLabel:i("correctIconAriaLabel")}):U.jsx(hm,{ariaLabel:i("incorrectIconAriaLabel")});return U.jsx("div",{...e&&{"data-testid":`${e}-marking`},className:Pt(iy.root,iy.size(n),{[Bt.isCorrect]:t&&!r,[Bt.isIncorrect]:!t&&!r,[Bt.isHidden]:r}),children:o()})};/*! @license DOMPurify 3.3.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.0/LICENSE */const{entries:jV,setPrototypeOf:fL,isFrozen:V0e,getPrototypeOf:q0e,getOwnPropertyDescriptor:H0e}=Object;let{freeze:ls,seal:Ma,create:QA}=Object,{apply:JA,construct:eC}=typeof Reflect<"u"&&Reflect;ls||(ls=function(t){return t});Ma||(Ma=function(t){return t});JA||(JA=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return t.apply(n,i)});eC||(eC=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const v0=us(Array.prototype.forEach),G0e=us(Array.prototype.lastIndexOf),pL=us(Array.prototype.pop),pg=us(Array.prototype.push),W0e=us(Array.prototype.splice),u_=us(String.prototype.toLowerCase),tE=us(String.prototype.toString),nE=us(String.prototype.match),hg=us(String.prototype.replace),Y0e=us(String.prototype.indexOf),K0e=us(String.prototype.trim),Ga=us(Object.prototype.hasOwnProperty),Qo=us(RegExp.prototype.test),mg=X0e(TypeError);function us(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return JA(e,t,r)}}function X0e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return eC(e,n)}}function Kn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u_;fL&&fL(e,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const o=n(i);o!==i&&(V0e(t)||(t[r]=o),i=o)}e[i]=!0}return e}function Z0e(e){for(let t=0;t<e.length;t++)Ga(e,t)||(e[t]=null);return e}function iu(e){const t=QA(null);for(const[n,r]of jV(e))Ga(e,n)&&(Array.isArray(r)?t[n]=Z0e(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=iu(r):t[n]=r);return t}function gg(e,t){for(;e!==null;){const r=H0e(e,t);if(r){if(r.get)return us(r.get);if(typeof r.value=="function")return us(r.value)}e=q0e(e)}function n(){return null}return n}const hL=ls(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rE=ls(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),iE=ls(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Q0e=ls(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),oE=ls(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),J0e=ls(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mL=ls(["#text"]),gL=ls(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sE=ls(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yL=ls(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),b0=ls(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),e_e=Ma(/\{\{[\w\W]*|[\w\W]*\}\}/gm),t_e=Ma(/<%[\w\W]*|[\w\W]*%>/gm),n_e=Ma(/\$\{[\w\W]*/gm),r_e=Ma(/^data-[\-\w.\u00B7-\uFFFF]+$/),i_e=Ma(/^aria-[\-\w]+$/),LV=Ma(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),o_e=Ma(/^(?:\w+script|data):/i),s_e=Ma(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$V=Ma(/^html$/i),a_e=Ma(/^[a-z][.\w]*(-[.\w]+)+$/i);var vL=Object.freeze({__proto__:null,ARIA_ATTR:i_e,ATTR_WHITESPACE:s_e,CUSTOM_ELEMENT:a_e,DATA_ATTR:r_e,DOCTYPE_NAME:$V,ERB_EXPR:t_e,IS_ALLOWED_URI:LV,IS_SCRIPT_OR_DATA:o_e,MUSTACHE_EXPR:e_e,TMPLIT_EXPR:n_e});const yg={element:1,text:3,progressingInstruction:7,comment:8,document:9},l_e=function(){return typeof window>"u"?null:window},u_e=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return t.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},bL=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function BV(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:l_e();const t=ze=>BV(ze);if(t.version="3.3.0",t.removed=[],!e||!e.document||e.document.nodeType!==yg.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:u,NamedNodeMap:c=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:m}=e,h=l.prototype,g=gg(h,"cloneNode"),S=gg(h,"remove"),y=gg(h,"nextSibling"),v=gg(h,"childNodes"),b=gg(h,"parentNode");if(typeof s=="function"){const ze=n.createElement("template");ze.content&&ze.content.ownerDocument&&(n=ze.content.ownerDocument)}let _,x="";const{implementation:T,createNodeIterator:w,createDocumentFragment:E,getElementsByTagName:C}=n,{importNode:D}=r;let O=bL();t.isSupported=typeof jV=="function"&&typeof b=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:k,TMPLIT_EXPR:B,DATA_ATTR:q,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:z,ATTR_WHITESPACE:ne,CUSTOM_ELEMENT:ue}=vL;let{IS_ALLOWED_URI:Q}=vL,N=null;const G=Kn({},[...hL,...rE,...iE,...oE,...mL]);let J=null;const Y=Kn({},[...gL,...sE,...yL,...b0]);let L=Object.seal(QA(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),K=null,ie=null;const de=Object.seal(QA(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let ye=!0,Te=!0,me=!1,ae=!0,ge=!1,$=!0,te=!1,oe=!1,Se=!1,Pe=!1,Oe=!1,Be=!1,Z=!0,ce=!1;const xe="user-content-";let Ce=!0,pe=!1,je={},Qe=null;const Ve=Kn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ne=null;const Je=Kn({},["audio","video","img","source","image","track"]);let qe=null;const Ze=Kn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Mt="http://www.w3.org/1998/Math/MathML",Ut="http://www.w3.org/2000/svg",Ft="http://www.w3.org/1999/xhtml";let bt=Ft,Jn=!1,sn=null;const gn=Kn({},[Mt,Ut,Ft],tE);let vn=Kn({},["mi","mo","mn","ms","mtext"]),An=Kn({},["annotation-xml"]);const Kt=Kn({},["title","style","font","a","script"]);let Mn=null;const et=["application/xhtml+xml","text/html"],tr="text/html";let Zt=null,$e=null;const qn=n.createElement("form"),gi=function(fe){return fe instanceof RegExp||fe instanceof Function},jn=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!($e&&$e===fe)){if((!fe||typeof fe!="object")&&(fe={}),fe=iu(fe),Mn=et.indexOf(fe.PARSER_MEDIA_TYPE)===-1?tr:fe.PARSER_MEDIA_TYPE,Zt=Mn==="application/xhtml+xml"?tE:u_,N=Ga(fe,"ALLOWED_TAGS")?Kn({},fe.ALLOWED_TAGS,Zt):G,J=Ga(fe,"ALLOWED_ATTR")?Kn({},fe.ALLOWED_ATTR,Zt):Y,sn=Ga(fe,"ALLOWED_NAMESPACES")?Kn({},fe.ALLOWED_NAMESPACES,tE):gn,qe=Ga(fe,"ADD_URI_SAFE_ATTR")?Kn(iu(Ze),fe.ADD_URI_SAFE_ATTR,Zt):Ze,Ne=Ga(fe,"ADD_DATA_URI_TAGS")?Kn(iu(Je),fe.ADD_DATA_URI_TAGS,Zt):Je,Qe=Ga(fe,"FORBID_CONTENTS")?Kn({},fe.FORBID_CONTENTS,Zt):Ve,K=Ga(fe,"FORBID_TAGS")?Kn({},fe.FORBID_TAGS,Zt):iu({}),ie=Ga(fe,"FORBID_ATTR")?Kn({},fe.FORBID_ATTR,Zt):iu({}),je=Ga(fe,"USE_PROFILES")?fe.USE_PROFILES:!1,ye=fe.ALLOW_ARIA_ATTR!==!1,Te=fe.ALLOW_DATA_ATTR!==!1,me=fe.ALLOW_UNKNOWN_PROTOCOLS||!1,ae=fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ge=fe.SAFE_FOR_TEMPLATES||!1,$=fe.SAFE_FOR_XML!==!1,te=fe.WHOLE_DOCUMENT||!1,Pe=fe.RETURN_DOM||!1,Oe=fe.RETURN_DOM_FRAGMENT||!1,Be=fe.RETURN_TRUSTED_TYPE||!1,Se=fe.FORCE_BODY||!1,Z=fe.SANITIZE_DOM!==!1,ce=fe.SANITIZE_NAMED_PROPS||!1,Ce=fe.KEEP_CONTENT!==!1,pe=fe.IN_PLACE||!1,Q=fe.ALLOWED_URI_REGEXP||LV,bt=fe.NAMESPACE||Ft,vn=fe.MATHML_TEXT_INTEGRATION_POINTS||vn,An=fe.HTML_INTEGRATION_POINTS||An,L=fe.CUSTOM_ELEMENT_HANDLING||{},fe.CUSTOM_ELEMENT_HANDLING&&gi(fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(L.tagNameCheck=fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&gi(fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(L.attributeNameCheck=fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&typeof fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(L.allowCustomizedBuiltInElements=fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge&&(Te=!1),Oe&&(Pe=!0),je&&(N=Kn({},mL),J=[],je.html===!0&&(Kn(N,hL),Kn(J,gL)),je.svg===!0&&(Kn(N,rE),Kn(J,sE),Kn(J,b0)),je.svgFilters===!0&&(Kn(N,iE),Kn(J,sE),Kn(J,b0)),je.mathMl===!0&&(Kn(N,oE),Kn(J,yL),Kn(J,b0))),fe.ADD_TAGS&&(typeof fe.ADD_TAGS=="function"?de.tagCheck=fe.ADD_TAGS:(N===G&&(N=iu(N)),Kn(N,fe.ADD_TAGS,Zt))),fe.ADD_ATTR&&(typeof fe.ADD_ATTR=="function"?de.attributeCheck=fe.ADD_ATTR:(J===Y&&(J=iu(J)),Kn(J,fe.ADD_ATTR,Zt))),fe.ADD_URI_SAFE_ATTR&&Kn(qe,fe.ADD_URI_SAFE_ATTR,Zt),fe.FORBID_CONTENTS&&(Qe===Ve&&(Qe=iu(Qe)),Kn(Qe,fe.FORBID_CONTENTS,Zt)),Ce&&(N["#text"]=!0),te&&Kn(N,["html","head","body"]),N.table&&(Kn(N,["tbody"]),delete K.tbody),fe.TRUSTED_TYPES_POLICY){if(typeof fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw mg('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw mg('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');_=fe.TRUSTED_TYPES_POLICY,x=_.createHTML("")}else _===void 0&&(_=u_e(m,i)),_!==null&&typeof x=="string"&&(x=_.createHTML(""));ls&&ls(fe),$e=fe}},Ie=Kn({},[...rE,...iE,...Q0e]),We=Kn({},[...oE,...J0e]),tt=function(fe){let Ge=b(fe);(!Ge||!Ge.tagName)&&(Ge={namespaceURI:bt,tagName:"template"});const Xe=u_(fe.tagName),ut=u_(Ge.tagName);return sn[fe.namespaceURI]?fe.namespaceURI===Ut?Ge.namespaceURI===Ft?Xe==="svg":Ge.namespaceURI===Mt?Xe==="svg"&&(ut==="annotation-xml"||vn[ut]):!!Ie[Xe]:fe.namespaceURI===Mt?Ge.namespaceURI===Ft?Xe==="math":Ge.namespaceURI===Ut?Xe==="math"&&An[ut]:!!We[Xe]:fe.namespaceURI===Ft?Ge.namespaceURI===Ut&&!An[ut]||Ge.namespaceURI===Mt&&!vn[ut]?!1:!We[Xe]&&(Kt[Xe]||!Ie[Xe]):!!(Mn==="application/xhtml+xml"&&sn[fe.namespaceURI]):!1},at=function(fe){pg(t.removed,{element:fe});try{b(fe).removeChild(fe)}catch{S(fe)}},mt=function(fe,Ge){try{pg(t.removed,{attribute:Ge.getAttributeNode(fe),from:Ge})}catch{pg(t.removed,{attribute:null,from:Ge})}if(Ge.removeAttribute(fe),fe==="is")if(Pe||Oe)try{at(Ge)}catch{}else try{Ge.setAttribute(fe,"")}catch{}},W=function(fe){let Ge=null,Xe=null;if(Se)fe="<remove></remove>"+fe;else{const _t=nE(fe,/^[\r\n\t ]+/);Xe=_t&&_t[0]}Mn==="application/xhtml+xml"&&bt===Ft&&(fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fe+"</body></html>");const ut=_?_.createHTML(fe):fe;if(bt===Ft)try{Ge=new f().parseFromString(ut,Mn)}catch{}if(!Ge||!Ge.documentElement){Ge=T.createDocument(bt,"template",null);try{Ge.documentElement.innerHTML=Jn?x:ut}catch{}}const gt=Ge.body||Ge.documentElement;return fe&&Xe&&gt.insertBefore(n.createTextNode(Xe),gt.childNodes[0]||null),bt===Ft?C.call(Ge,te?"html":"body")[0]:te?Ge.documentElement:gt},le=function(fe){return w.call(fe.ownerDocument||fe,fe,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},he=function(fe){return fe instanceof d&&(typeof fe.nodeName!="string"||typeof fe.textContent!="string"||typeof fe.removeChild!="function"||!(fe.attributes instanceof c)||typeof fe.removeAttribute!="function"||typeof fe.setAttribute!="function"||typeof fe.namespaceURI!="string"||typeof fe.insertBefore!="function"||typeof fe.hasChildNodes!="function")},ve=function(fe){return typeof a=="function"&&fe instanceof a};function be(ze,fe,Ge){v0(ze,Xe=>{Xe.call(t,fe,Ge,$e)})}const _e=function(fe){let Ge=null;if(be(O.beforeSanitizeElements,fe,null),he(fe))return at(fe),!0;const Xe=Zt(fe.nodeName);if(be(O.uponSanitizeElement,fe,{tagName:Xe,allowedTags:N}),$&&fe.hasChildNodes()&&!ve(fe.firstElementChild)&&Qo(/<[/\w!]/g,fe.innerHTML)&&Qo(/<[/\w!]/g,fe.textContent)||fe.nodeType===yg.progressingInstruction||$&&fe.nodeType===yg.comment&&Qo(/<[/\w]/g,fe.data))return at(fe),!0;if(!(de.tagCheck instanceof Function&&de.tagCheck(Xe))&&(!N[Xe]||K[Xe])){if(!K[Xe]&&Ue(Xe)&&(L.tagNameCheck instanceof RegExp&&Qo(L.tagNameCheck,Xe)||L.tagNameCheck instanceof Function&&L.tagNameCheck(Xe)))return!1;if(Ce&&!Qe[Xe]){const ut=b(fe)||fe.parentNode,gt=v(fe)||fe.childNodes;if(gt&&ut){const _t=gt.length;for(let Tt=_t-1;Tt>=0;--Tt){const Jt=g(gt[Tt],!0);Jt.__removalCount=(fe.__removalCount||0)+1,ut.insertBefore(Jt,y(fe))}}}return at(fe),!0}return fe instanceof l&&!tt(fe)||(Xe==="noscript"||Xe==="noembed"||Xe==="noframes")&&Qo(/<\/no(script|embed|frames)/i,fe.innerHTML)?(at(fe),!0):(ge&&fe.nodeType===yg.text&&(Ge=fe.textContent,v0([I,k,B],ut=>{Ge=hg(Ge,ut," ")}),fe.textContent!==Ge&&(pg(t.removed,{element:fe.cloneNode()}),fe.textContent=Ge)),be(O.afterSanitizeElements,fe,null),!1)},Le=function(fe,Ge,Xe){if(Z&&(Ge==="id"||Ge==="name")&&(Xe in n||Xe in qn))return!1;if(!(Te&&!ie[Ge]&&Qo(q,Ge))){if(!(ye&&Qo(H,Ge))){if(!(de.attributeCheck instanceof Function&&de.attributeCheck(Ge,fe))){if(!J[Ge]||ie[Ge]){if(!(Ue(fe)&&(L.tagNameCheck instanceof RegExp&&Qo(L.tagNameCheck,fe)||L.tagNameCheck instanceof Function&&L.tagNameCheck(fe))&&(L.attributeNameCheck instanceof RegExp&&Qo(L.attributeNameCheck,Ge)||L.attributeNameCheck instanceof Function&&L.attributeNameCheck(Ge,fe))||Ge==="is"&&L.allowCustomizedBuiltInElements&&(L.tagNameCheck instanceof RegExp&&Qo(L.tagNameCheck,Xe)||L.tagNameCheck instanceof Function&&L.tagNameCheck(Xe))))return!1}else if(!qe[Ge]){if(!Qo(Q,hg(Xe,ne,""))){if(!((Ge==="src"||Ge==="xlink:href"||Ge==="href")&&fe!=="script"&&Y0e(Xe,"data:")===0&&Ne[fe])){if(!(me&&!Qo(z,hg(Xe,ne,"")))){if(Xe)return!1}}}}}}}return!0},Ue=function(fe){return fe!=="annotation-xml"&&nE(fe,ue)},rt=function(fe){be(O.beforeSanitizeAttributes,fe,null);const{attributes:Ge}=fe;if(!Ge||he(fe))return;const Xe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let ut=Ge.length;for(;ut--;){const gt=Ge[ut],{name:_t,namespaceURI:Tt,value:Jt}=gt,wn=Zt(_t),nn=Jt;let Rt=_t==="value"?nn:K0e(nn);if(Xe.attrName=wn,Xe.attrValue=Rt,Xe.keepAttr=!0,Xe.forceKeepAttr=void 0,be(O.uponSanitizeAttribute,fe,Xe),Rt=Xe.attrValue,ce&&(wn==="id"||wn==="name")&&(mt(_t,fe),Rt=xe+Rt),$&&Qo(/((--!?|])>)|<\/(style|title|textarea)/i,Rt)){mt(_t,fe);continue}if(wn==="attributename"&&nE(Rt,"href")){mt(_t,fe);continue}if(Xe.forceKeepAttr)continue;if(!Xe.keepAttr){mt(_t,fe);continue}if(!ae&&Qo(/\/>/i,Rt)){mt(_t,fe);continue}ge&&v0([I,k,B],en=>{Rt=hg(Rt,en," ")});const Xt=Zt(fe.nodeName);if(!Le(Xt,wn,Rt)){mt(_t,fe);continue}if(_&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!Tt)switch(m.getAttributeType(Xt,wn)){case"TrustedHTML":{Rt=_.createHTML(Rt);break}case"TrustedScriptURL":{Rt=_.createScriptURL(Rt);break}}if(Rt!==nn)try{Tt?fe.setAttributeNS(Tt,_t,Rt):fe.setAttribute(_t,Rt),he(fe)?at(fe):pL(t.removed)}catch{mt(_t,fe)}}be(O.afterSanitizeAttributes,fe,null)},Ke=function ze(fe){let Ge=null;const Xe=le(fe);for(be(O.beforeSanitizeShadowDOM,fe,null);Ge=Xe.nextNode();)be(O.uponSanitizeShadowNode,Ge,null),_e(Ge),rt(Ge),Ge.content instanceof o&&ze(Ge.content);be(O.afterSanitizeShadowDOM,fe,null)};return t.sanitize=function(ze){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ge=null,Xe=null,ut=null,gt=null;if(Jn=!ze,Jn&&(ze="<!-->"),typeof ze!="string"&&!ve(ze))if(typeof ze.toString=="function"){if(ze=ze.toString(),typeof ze!="string")throw mg("dirty is not a string, aborting")}else throw mg("toString is not a function");if(!t.isSupported)return ze;if(oe||jn(fe),t.removed=[],typeof ze=="string"&&(pe=!1),pe){if(ze.nodeName){const Jt=Zt(ze.nodeName);if(!N[Jt]||K[Jt])throw mg("root node is forbidden and cannot be sanitized in-place")}}else if(ze instanceof a)Ge=W("<!---->"),Xe=Ge.ownerDocument.importNode(ze,!0),Xe.nodeType===yg.element&&Xe.nodeName==="BODY"||Xe.nodeName==="HTML"?Ge=Xe:Ge.appendChild(Xe);else{if(!Pe&&!ge&&!te&&ze.indexOf("<")===-1)return _&&Be?_.createHTML(ze):ze;if(Ge=W(ze),!Ge)return Pe?null:Be?x:""}Ge&&Se&&at(Ge.firstChild);const _t=le(pe?ze:Ge);for(;ut=_t.nextNode();)_e(ut),rt(ut),ut.content instanceof o&&Ke(ut.content);if(pe)return ze;if(Pe){if(Oe)for(gt=E.call(Ge.ownerDocument);Ge.firstChild;)gt.appendChild(Ge.firstChild);else gt=Ge;return(J.shadowroot||J.shadowrootmode)&&(gt=D.call(r,gt,!0)),gt}let Tt=te?Ge.outerHTML:Ge.innerHTML;return te&&N["!doctype"]&&Ge.ownerDocument&&Ge.ownerDocument.doctype&&Ge.ownerDocument.doctype.name&&Qo($V,Ge.ownerDocument.doctype.name)&&(Tt="<!DOCTYPE "+Ge.ownerDocument.doctype.name+`>
`+Tt),ge&&v0([I,k,B],Jt=>{Tt=hg(Tt,Jt," ")}),_&&Be?_.createHTML(Tt):Tt},t.setConfig=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};jn(ze),oe=!0},t.clearConfig=function(){$e=null,oe=!1},t.isValidAttribute=function(ze,fe,Ge){$e||jn({});const Xe=Zt(ze),ut=Zt(fe);return Le(Xe,ut,Ge)},t.addHook=function(ze,fe){typeof fe=="function"&&pg(O[ze],fe)},t.removeHook=function(ze,fe){if(fe!==void 0){const Ge=G0e(O[ze],fe);return Ge===-1?void 0:W0e(O[ze],Ge,1)[0]}return pL(O[ze])},t.removeHooks=function(ze){O[ze]=[]},t.removeAllHooks=function(){O=bL()},t}var UV=BV();const c_e=({refId:e,variableIdsByRefIds:t,variablesById:n,variableTracking:r})=>{if(!e)return"";const i=t[e];if(!i)return"";const o=n[i];return o?r[o.refId]??o.defaultValue??"":""},d_e=(e,t)=>e.courseData.variables.byId[t],f_e=(e,t)=>e.courseData.variables.byRefId[t],Tc=(e,t)=>{const n=f_e(e,t);return n?d_e(e,n):void 0},p_e=Zr([e=>e.courseData.variables.byRefId,e=>e.courseData.variables.byId,e=>e.tracking.variableTracking,(e,t)=>t],(e,t,n,r)=>{const i={};return r.forEach(o=>{i[o]=c_e({refId:o,variableIdsByRefIds:e,variablesById:t,variableTracking:n})}),i},{memoize:Mr,argsMemoize:Mr}),bw=e=>Fo(e,Rse(t=>t.parentId),Vy(t=>t.map(n=>n._id))),Uf=e=>Fo(e,zs(t=>t.refId),Vy(t=>t._id)),h_e={byId:{},byRefId:{},byParentId:{},viewed:[],completed:[]},m_e=({columns:e})=>({byId:zs(e,t=>t._id),byRefId:Uf(e),byParentId:bw(e),viewed:[],completed:[]}),FV=Qr({name:"columns",initialState:h_e,reducers:{setColumnViewed(e,t){e.viewed.push(t.payload.columnRefId)},setColumnCompleted(e,t){e.completed.push(t.payload.columnRefId)},resetColumnsViewed(e,t){e.viewed=e.viewed.filter(n=>!t.payload.columnRefIds.includes(n))},resetColumnsCompleted(e,t){e.completed=e.completed.filter(n=>!t.payload.columnRefIds.includes(n))},restoreColumnsViewed(e,t){e.viewed.push(...t.payload.columnRefIds)},restoreColumnsCompleted(e,t){e.completed.push(...t.payload.columnRefIds)}},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>m_e(n)).addCase(Is.fulfilled,t=>{t.viewed=[],t.completed=[]})}}),{setColumnViewed:zV,setColumnCompleted:VV,resetColumnsViewed:qV,resetColumnsCompleted:HV,restoreColumnsViewed:GV,restoreColumnsCompleted:WV}=FV.actions,g_e=FV.reducer,y_e={entity:null},v_e=Qr({name:"course",initialState:y_e,reducers:{},extraReducers:e=>{e.addCase(so,(t,n)=>{t.entity=n.payload.course})}}),b_e=v_e.reducer,__e={showCourseCompletionDialog:!1,showAssessmentAttemptDialog:!1},YV=Qr({name:"courseDialogs",initialState:__e,reducers:{setShowCourseCompletionDialog(e,t){e.showCourseCompletionDialog=t.payload},setShowAssessmentAttemptDialog(e,t){e.showAssessmentAttemptDialog=t.payload}}}),{setShowCourseCompletionDialog:c_,setShowAssessmentAttemptDialog:tC}=YV.actions,S_e=YV.reducer,x_e={isOpen:!0},KV=Qr({name:"courseOutline",initialState:x_e,reducers:{setIsOpen(e,t){e.isOpen=t.payload}}}),{setIsOpen:_L}=KV.actions,w_e=KV.reducer,T_e={entity:null},E_e=Qr({name:"courseSettings",initialState:T_e,reducers:{},extraReducers:e=>{e.addCase(so,(t,n)=>{t.entity=n.payload.courseSettings})}}),A_e=E_e.reducer,C_e={type:"desktop"},XV=Qr({name:"device",initialState:C_e,reducers:{setDevice(e,t){e.type=t.payload}}}),{setDevice:d_}=XV.actions,O_e=XV.reducer,D_e={byId:{},byRefId:{},openDialogs:[]},P_e=({dialogs:e})=>({byId:zs(e,t=>t._id),byRefId:Uf(e),openDialogs:[]}),ZV=Qr({name:"dialogs",initialState:D_e,reducers:{showDialog(e,t){const{refId:n,triggeredBy:r}=t.payload;e.byRefId[n]&&e.openDialogs.push({refId:n,triggeredBy:r})},hideDialog(e,t){e.openDialogs=e.openDialogs.filter(({refId:n})=>n!==t.payload.refId)}},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>P_e(n))}}),{showDialog:QV,hideDialog:JV}=ZV.actions,R_e=ZV.reducer;function I_e(e){const{elements:t,columns:n,rows:r,sections:i,pages:o}=e,s=zs(n,c=>c._id),a=zs(r,c=>c._id),l=zs(i,c=>c._id),u=zs(o,c=>c._id);return t.reduce((c,d)=>{var S,y,v,b,_,x,T,w,E,C;const f=s[d.parentId];if(!f)return c;const m=a[f.parentId];if(!m)return c;const h=l[m.parentId];if(!h)return c;const g=u[h.parentId];return g&&(((S=c.byPageId)[y=g._id]??(S[y]=[])).push(d._id),((v=c.refIdsByPageId)[b=g._id]??(v[b]=[])).push(d.refId),((_=c.bySectionId)[x=h._id]??(_[x]=[])).push(d._id),((T=c.byRowId)[w=m._id]??(T[w]=[])).push(d._id),((E=c.byColumnId)[C=f._id]??(E[C]=[])).push(d._id),c.byRefId[d.refId]=d._id),c},{byId:zs(t,c=>c._id),byRefId:{},byPageId:{},refIdsByPageId:{},bySectionId:{},byRowId:{},byColumnId:{}})}const k_e={byId:{},byRefId:{},byColumnId:{},byRowId:{},bySectionId:{},byPageId:{},refIdsByPageId:{}},N_e=Qr({name:"elements",initialState:k_e,reducers:{},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>I_e(n))}}),M_e=N_e.reducer,j_e="en",eq=Qr({name:"locale",initialState:j_e,reducers:{setLocale(e,t){return t.payload}}}),{setLocale:P4e}=eq.actions,L_e=eq.reducer,$_e={entity:null},B_e=Qr({name:"labelSet",initialState:$_e,reducers:{},extraReducers:e=>{e.addCase(so,(t,n)=>{t.entity=n.payload.labelSet})}}),U_e=B_e.reducer,SL={Variable:"variable",Trigger:"trigger"},F_e={isOpen:!1,logs:[],triggerRunCounts:{}},z_e=Bo("logicInspector/runTrigger"),tq=Qr({name:"logicInspector",initialState:F_e,reducers:{setLogicInspectorOpen:(e,t)=>{e.isOpen=t.payload},logVariableChanged:(e,t)=>{e.logs.push({...t.payload,type:SL.Variable,timestamp:new Date().toISOString()})},logTriggerExecuted:(e,t)=>{var r;const{refId:n}=t.payload;e.logs.push({...t.payload,type:SL.Trigger,timestamp:new Date().toISOString()}),(r=e.triggerRunCounts)[n]??(r[n]=0),e.triggerRunCounts[n]+=1}},extraReducers(e){e.addCase(so,t=>{t.logs=[],t.triggerRunCounts={}})}}),V_e=tq.reducer,{setLogicInspectorOpen:R4e,logVariableChanged:q_e,logTriggerExecuted:H_e}=tq.actions,G_e={captionsLanguage:"none",currentMediaId:null,playbackRate:1,muted:!1,volume:1},nq=Qr({name:"mediaSettings",initialState:G_e,reducers:{setCaptionsLanguage(e,t){e.captionsLanguage=t.payload},setCurrentMedia(e,t){e.currentMediaId=t.payload},setPlaybackRate(e,t){e.playbackRate=t.payload},setMuted(e,t){e.muted=t.payload},setVolume(e,t){e.volume=t.payload}}}),{setCaptionsLanguage:W_e,setCurrentMedia:Y_e,setPlaybackRate:K_e,setMuted:X_e,setVolume:Z_e}=nq.actions,Q_e=nq.reducer,J_e={byId:{},byRefId:{},byParentId:{},viewed:[],completed:[]},eSe=({pages:e})=>({byId:zs(e,t=>t._id),byRefId:Uf(e),byParentId:bw(e),viewed:[],completed:[]}),rq=Qr({name:"pages",initialState:J_e,reducers:{setPageViewed(e,t){e.viewed.push(t.payload.pageRefId)},setPageCompleted(e,t){e.completed.push(t.payload.pageRefId)},resetPagesViewed(e,t){e.viewed=e.viewed.filter(n=>!t.payload.pageRefIds.includes(n))},resetPagesCompleted(e,t){e.completed=e.completed.filter(n=>!t.payload.pageRefIds.includes(n))},restorePagesViewed(e,t){e.viewed.push(...t.payload.pageRefIds)},restorePagesCompleted(e,t){e.completed.push(...t.payload.pageRefIds)}},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>eSe(n)).addCase(Is.fulfilled,t=>{t.viewed=[],t.completed=[]})}}),{setPageViewed:nC,setPageCompleted:rC,resetPagesViewed:tSe,resetPagesCompleted:nSe,restorePagesViewed:rSe,restorePagesCompleted:iSe}=rq.actions,iq=Bo("pages/setPageLoaded"),oq=Bo("pages/setPageUnloaded"),oSe=rq.reducer,sSe={byId:{},byRefId:{},byParentId:{},viewed:[],completed:[]},aSe=({rows:e})=>({byId:zs(e,t=>t._id),byRefId:Uf(e),byParentId:bw(e),viewed:[],completed:[]}),sq=Qr({name:"rows",initialState:sSe,reducers:{setRowViewed(e,t){e.viewed.push(t.payload.rowRefId)},setRowCompleted(e,t){e.completed.push(t.payload.rowRefId)},resetRowsViewed(e,t){e.viewed=e.viewed.filter(n=>!t.payload.rowRefIds.includes(n))},resetRowsCompleted(e,t){e.completed=e.completed.filter(n=>!t.payload.rowRefIds.includes(n))},restoreRowsViewed(e,t){e.viewed.push(...t.payload.rowRefIds)},restoreRowsCompleted(e,t){e.completed.push(...t.payload.rowRefIds)}},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>aSe(n)).addCase(Is.fulfilled,t=>{t.viewed=[],t.completed=[]})}}),{setRowViewed:WP,setRowCompleted:YP,resetRowsViewed:aq,resetRowsCompleted:lq,restoreRowsViewed:uq,restoreRowsCompleted:cq}=sq.actions,lSe=sq.reducer,uSe={byId:{},byRefId:{},byParentId:{},viewed:[],completed:[]},cSe=({sections:e})=>({byId:zs(e,t=>t._id),byRefId:Uf(e),byParentId:bw(e),viewed:[],completed:[]}),dq=Qr({name:"sections",initialState:uSe,reducers:{setSectionViewed(e,t){e.viewed.push(t.payload.sectionRefId)},setSectionCompleted(e,t){e.completed.push(t.payload.sectionRefId)},resetSectionsViewed(e,t){e.viewed=e.viewed.filter(n=>!t.payload.sectionRefIds.includes(n))},resetSectionsCompleted(e,t){e.completed=e.completed.filter(n=>!t.payload.sectionRefIds.includes(n))},restoreSectionsViewed(e,t){e.viewed.push(...t.payload.sectionRefIds)},restoreSectionsCompleted(e,t){e.completed.push(...t.payload.sectionRefIds)}},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>cSe(n)).addCase(Is.fulfilled,t=>{t.viewed=[],t.completed=[]})}}),{setSectionViewed:KP,setSectionCompleted:XP,resetSectionsViewed:fq,resetSectionsCompleted:pq,restoreSectionsViewed:hq,restoreSectionsCompleted:mq}=dq.actions,dSe=dq.reducer,fSe={entity:null},gq=Qr({name:"theme",initialState:fSe,reducers:{updateTheme(e,t){e.entity=t.payload}},extraReducers:e=>{e.addCase(so,(t,n)=>{t.entity=n.payload.theme})}}),{updateTheme:I4e}=gq.actions,pSe=gq.reducer,hSe=eS({assessmentTracking:Kfe,courseTracking:Zfe,elementTracking:Jfe,hiddenTracking:tpe,triggerTracking:ipe,variableTracking:spe}),mSe={byId:{},byRefId:{},byTriggerKey:{},byTarget:{}},gSe=Qr({name:"triggers",initialState:mSe,reducers:{},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>vSe(n))}}),ySe=gSe.reducer;function vSe({triggers:e}){return{byId:zs(e,t=>t._id),byRefId:Uf(e),byTriggerKey:bSe(e),byTarget:_Se(e)}}function bSe(e){return e.reduce((t,n)=>{const r=`${n.type}:${n.condition}`;return(t[r]??(t[r]=[])).push(n._id),t},{})}function _Se(e){return e.reduce((t,n)=>{var i,o;const r=t[i=n.target]??(t[i]={});return(r[o=n.condition]??(r[o]=[])).push(n._id),t},{})}const SSe={byId:{},byRefId:{}},xSe=({variables:e})=>({byId:zs(e,t=>t._id),byRefId:Uf(e)}),wSe=Qr({name:"variables",initialState:SSe,reducers:{},extraReducers:e=>{e.addCase(so,(t,{payload:n})=>xSe(n))}}),TSe=wSe.reducer,ESe=eS({app:Fpe,courseData:eS({course:b_e,pages:oSe,sections:dSe,rows:lSe,columns:g_e,elements:M_e,theme:pSe,labelSet:U_e,courseSettings:A_e,variables:TSe,triggers:ySe,dialogs:R_e}),config:Hpe,courseOutline:w_e,courseDialogs:S_e,mediaSettings:Q_e,tracking:hSe,locale:L_e,device:O_e,logicInspector:V_e});function ASe({preloadedState:e,listenerMiddleware:t}={}){return Woe({reducer:ESe,preloadedState:e,middleware:n=>{const r=n();return t?r.prepend(t.middleware):r},enhancers:n=>n({autoBatch:{type:"tick"}})})}const ua=()=>mm(),un=Cr,Sm=()=>kU(),Qi=e=>{const{id:t,content:n,html:r,className:i,sanitize:o=!0,tag:s="div"}=e,a=jr(),l=R.useMemo(()=>{let f=r??a.rich(n??{});return o&&(f=UV.sanitize(f,{USE_PROFILES:{html:!0},ADD_ATTR:["target","data-id"]})),f},[n,r,a,o]),u=R.useMemo(()=>{const m=new DOMParser().parseFromString(l,"text/html"),h=new Set;return m.body&&m.body.querySelectorAll(".ev-inline-variable").forEach(S=>{const y=S.getAttribute("data-id");y&&h.add(y)}),h},[l]),c=un(f=>p_e(f,u)),d=R.useMemo(()=>{const m=new DOMParser().parseFromString(l,"text/html");return m.body?(m.body.querySelectorAll(".ev-inline-variable").forEach(g=>{const S=g.getAttribute("data-id");if(S){const y=c[S]??"";g.replaceWith(String(y))}}),m.body.innerHTML):l},[l,c]);return U.jsx(s,{id:t,className:Pt(Bt.typography,i),dangerouslySetInnerHTML:{__html:d}})},CSe=e=>{if(!e)return{};const t=new URLSearchParams(e);return Object.fromEntries(t.entries())};function OSe(){const e=CSe(window.location.search);return Ufe.parse(e)}const k4e=$se(OSe);const Qa=e=>{if(e!=null&&e.src)return e==null||e.from,window.__getContentUrl(e.src)},yq=520,vq=768;var DSe="Expected a function",xL=NaN,PSe="[object Symbol]",RSe=/^\s+|\s+$/g,ISe=/^[-+]0x[0-9a-f]+$/i,kSe=/^0b[01]+$/i,NSe=/^0o[0-7]+$/i,MSe=parseInt,jSe=typeof cu=="object"&&cu&&cu.Object===Object&&cu,LSe=typeof self=="object"&&self&&self.Object===Object&&self,$Se=jSe||LSe||Function("return this")(),BSe=Object.prototype,USe=BSe.toString,FSe=Math.max,zSe=Math.min,aE=function(){return $Se.Date.now()};function VSe(e,t,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(DSe);t=wL(t)||0,iC(n)&&(c=!!n.leading,d="maxWait"in n,o=d?FSe(wL(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f);function m(T){var w=r,E=i;return r=i=void 0,u=T,s=e.apply(E,w),s}function h(T){return u=T,a=setTimeout(y,t),c?m(T):s}function g(T){var w=T-l,E=T-u,C=t-w;return d?zSe(C,o-E):C}function S(T){var w=T-l,E=T-u;return l===void 0||w>=t||w<0||d&&E>=o}function y(){var T=aE();if(S(T))return v(T);a=setTimeout(y,g(T))}function v(T){return a=void 0,f&&r?m(T):(r=i=void 0,s)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?s:v(aE())}function x(){var T=aE(),w=S(T);if(r=arguments,i=this,l=T,w){if(a===void 0)return h(l);if(d)return a=setTimeout(y,t),m(l)}return a===void 0&&(a=setTimeout(y,t)),s}return x.cancel=b,x.flush=_,x}function iC(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function qSe(e){return!!e&&typeof e=="object"}function HSe(e){return typeof e=="symbol"||qSe(e)&&USe.call(e)==PSe}function wL(e){if(typeof e=="number")return e;if(HSe(e))return xL;if(iC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=iC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(RSe,"");var n=kSe.test(e);return n||NSe.test(e)?MSe(e.slice(2),n?2:8):ISe.test(e)?xL:+e}var GSe=VSe;const TL=dl(GSe);var WSe=typeof window<"u"?R.useLayoutEffect:R.useEffect;function EL(e){const t=R.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return WSe(()=>{t.current=e},[e]),R.useCallback((...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[t])}function YSe(e){const t=R.useRef(e);t.current=e,R.useEffect(()=>()=>{t.current()},[])}function bq(e,t=500,n){const r=R.useRef();YSe(()=>{r.current&&r.current.cancel()});const i=R.useMemo(()=>{const o=TL(e,t,n),s=(...a)=>o(...a);return s.cancel=()=>{o.cancel()},s.isPending=()=>!!r.current,s.flush=()=>o.flush(),s},[e,t,n]);return R.useEffect(()=>{r.current=TL(e,t,n)},[e,t,n]),i}function KSe(){const e=R.useRef(!1);return R.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),R.useCallback(()=>e.current,[])}var AL={width:void 0,height:void 0};function XSe(e){const{ref:t,box:n="content-box"}=e,[{width:r,height:i},o]=R.useState(AL),s=KSe(),a=R.useRef({...AL}),l=R.useRef(void 0);return l.current=e.onResize,R.useEffect(()=>{if(!t.current||typeof window>"u"||!("ResizeObserver"in window))return;const u=new ResizeObserver(([c])=>{const d=n==="border-box"?"borderBoxSize":n==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",f=CL(c,d,"inlineSize"),m=CL(c,d,"blockSize");if(a.current.width!==f||a.current.height!==m){const g={width:f,height:m};a.current.width=f,a.current.height=m,l.current?l.current(g):s()&&o(g)}});return u.observe(t.current,{box:n}),()=>{u.disconnect()}},[n,t,s]),{width:r,height:i}}function CL(e,t,n){return e[t]?Array.isArray(e[t])?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}const ZSe=()=>{const e=mm(),t=R.useRef(null);R.useEffect(()=>(t.current=document.getElementById("root"),()=>{t.current=null}),[]);const n=i=>{i<=yq?e(d_("mobile")):i<=vq?e(d_("tablet")):e(d_("desktop"))},r=bq(i=>n(i),200);XSe({ref:t,onResize:i=>r(i.width??window.innerWidth)})},Ua=({altText:e,media:t,...n})=>{var r,i;return U.jsxs("picture",{children:[((r=t==null?void 0:t.mobile)==null?void 0:r.src)&&U.jsx("source",{srcSet:Qa(t.mobile),media:`(max-width: ${yq}px)`}),((i=t==null?void 0:t.tablet)==null?void 0:i.src)&&U.jsx("source",{srcSet:Qa(t.tablet),media:`(max-width: ${vq}px)`}),U.jsx("img",{src:Qa(t),alt:e,...n})]})},lE=e=>{if(!e)return!1;const t=e.trim();return!/^<([a-zA-Z][a-zA-Z0-9]*)\b[^>]*>\s*<\/\1>$/.test(t)},Ff=({ref:e,response:t,isFinalAttempt:n,feedback:r,hideMarking:i=!1})=>{var f;const o=jr(),s=()=>{var m,h,g,S,y,v,b;return!n&&(lE(o.rich((h=(m=r.partlyCorrect)==null?void 0:m.interim)==null?void 0:h.text))||(y=(S=(g=r.partlyCorrect)==null?void 0:g.interim)==null?void 0:S.media)!=null&&y.src)?(v=r.partlyCorrect)==null?void 0:v.interim:(b=r.partlyCorrect)==null?void 0:b.final},a=()=>{var m,h,g;return!n&&(lE(o.rich((m=r.incorrect.interim)==null?void 0:m.text))||(g=(h=r.incorrect.interim)==null?void 0:h.media)!=null&&g.src)?r.incorrect.interim:r.incorrect.final},l=()=>{var m;if(t===wt.Neutral)return r.ungraded.final;if(t===wt.Correct)return r.correct.final;if(t===wt.PartlyCorrect){const h=s();if(lE(o.rich(h.text))||(m=h.media)!=null&&m.src)return h}return a()},u=t===wt.None?null:l(),c=u?o.rich(u==null?void 0:u.text):null,d=t===wt.Correct||t===wt.Neutral;return U.jsx(Fz,{initial:!1,children:u?U.jsx(tv.div,{className:N1.root,tabIndex:-1,ref:e,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:"easeIn"},children:U.jsxs(tv.div,{className:N1.inner,initial:{opacity:0,translateY:-30},animate:{opacity:1,translateY:0},exit:{opacity:0,translateY:-30},transition:{duration:.25,ease:"easeIn"},children:[!i&&U.jsx(nv,{isCorrect:d,size:"2"}),c&&U.jsx(Qi,{html:c}),(f=u.media)!=null&&f.src?U.jsx("div",{className:N1.media,children:U.jsx(Ua,{media:u.media,altText:u.altText?o.plain(u.altText):""})}):null]})}):null})},_q=({className:e,ariaLabel:t})=>U.jsx("svg",{className:Pt("ev-icon",e),...t?{"aria-label":t}:{"aria-hidden":!0},viewBox:"0 0 24 24",width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:U.jsx("path",{d:"M11 18C11 19.1 10.1 20 9 20C7.9 20 7 19.1 7 18C7 16.9 7.9 16 9 16C10.1 16 11 16.9 11 18ZM9 10C7.9 10 7 10.9 7 12C7 13.1 7.9 14 9 14C10.1 14 11 13.1 11 12C11 10.9 10.1 10 9 10ZM9 4C7.9 4 7 4.9 7 6C7 7.1 7.9 8 9 8C10.1 8 11 7.1 11 6C11 4.9 10.1 4 9 4ZM15 8C16.1 8 17 7.1 17 6C17 4.9 16.1 4 15 4C13.9 4 13 4.9 13 6C13 7.1 13.9 8 15 8ZM15 10C13.9 10 13 10.9 13 12C13 13.1 13.9 14 15 14C16.1 14 17 13.1 17 12C17 10.9 16.1 10 15 10ZM15 16C13.9 16 13 16.9 13 18C13 19.1 13.9 20 15 20C16.1 20 17 19.1 17 18C17 16.9 16.1 16 15 16Z"})}),ZP={Radio:"radio",Checkbox:"checkbox"},QSe=(e,t)=>e===ZP.Radio?t?U.jsx(_U,{}):U.jsx(vD,{}):t?U.jsx(pU,{}):U.jsx(hU,{}),Sq=({className:e,id:t,uniqueId:n,type:r,name:i,label:o,labelClass:s,isCorrect:a,isSelected:l=!1,isDisabled:u=!1,showMarking:c=!1,hasAnswerImages:d,media:f,altText:m,onOptionSelected:h})=>U.jsxs("div",{className:e,children:[U.jsx("input",{type:r,id:n,...i?{name:i}:{},value:n,checked:l,"aria-labelledby":`${n}-label`,disabled:u,onChange:()=>h==null?void 0:h(t)}),U.jsxs("label",{id:`${n}-label`,className:Pt(l0.optionLabel,{[Bt.isDisabled]:u}),htmlFor:n,"aria-hidden":!0,children:[d&&(f==null?void 0:f.src)&&U.jsx("div",{className:l0.optionLabelImage,children:U.jsx(Ua,{media:f,altText:m})}),U.jsxs("div",{className:l0.optionLabelText,children:[QSe(r,l),o&&U.jsx("span",{className:Pt(Bt.label,l0.optionText,s),dangerouslySetInnerHTML:{__html:o}}),U.jsx(nv,{id:n,size:"1",isCorrect:a,isHidden:!c})]})]})]}),JSe=e=>U.jsx(Sq,{type:ZP.Radio,...e}),exe=e=>U.jsx(Sq,{type:ZP.Checkbox,...e}),xq="carousel",wq="controller",txe="navigation",nxe="no-scroll",QP="portal",rxe="root",Tq="toolbar",OL="zoom",uE="loading",cE="error",dE="complete",ixe="placeholder",oxe=e=>`active-slide-${e}`,sxe="fullsize",JP="flex_center",axe="no_scroll",Eq="no_scroll_padding",eR="slide",Aq="slide_wrapper",lxe="slide_wrapper_interactive",Rd="prev",Id="next",DL="swipe",Nh="close",Cq="onPointerDown",Oq="onPointerMove",Dq="onPointerUp",Pq="onPointerLeave",Rq="onPointerCancel",tR="onKeyDown",uxe="onKeyUp",nR="onWheel",cxe="Escape",dxe="ArrowLeft",fxe="ArrowRight",pxe="button",oC="icon",Iq="contain",PL="cover",kq="Unknown action type",Nq="yarl__";function $l(...e){return[...e].filter(Boolean).join(" ")}function ar(e){return`${Nq}${e}`}function _s(e){return`--${Nq}${e}`}function rb(e,t){return`${e}${t?`_${t}`:""}`}function rR(e){return t=>rb(e,t)}function Mh(e,t){var n;return(n=e==null?void 0:e[t])!==null&&n!==void 0?n:t}function hxe(e,t,n){return Mh(e,"{index} of {total}").replace(/\{index}/g,`${lR(n,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function iR(...e){return()=>{e.forEach(t=>{t()})}}function Wu(e,t,n){return()=>{const r=R.useContext(n);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function oR(){return typeof window<"u"}function sR(e,t=0){const n=10**t;return Math.round((e+Number.EPSILON)*n)/n}function xm(e){return e.type===void 0||e.type==="image"}function aR(e,t){return e.imageFit===PL||e.imageFit!==Iq&&t===PL}function _w(e){return typeof e=="string"?Number.parseInt(e,10):e}function bS(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=_w(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function mxe(e,t){const n=bS(t),r=n.percent!==void 0?e.width/100*n.percent:n.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function gxe(){return(oR()?window==null?void 0:window.devicePixelRatio:void 0)||1}function lR(e,t){return t>0?(e%t+t)%t:0}function Mq(e){return e.length>0}function jq(e,t){return e[lR(t,e.length)]}function sC(e,t){return Mq(e)?jq(e,t):void 0}function yxe(e){return xm(e)?e.src:void 0}function vxe(e,t,n){if(!n)return e;const{buttons:r,...i}=e,o=r.findIndex(a=>a===t),s=R.isValidElement(n)?R.cloneElement(n,{key:t},null):n;if(o>=0){const a=[...r];return a.splice(o,1,s),{buttons:a,...i}}return{buttons:[s,...r],...i}}function bxe(e,t,n=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),n))}const _xe=Number(R.version.split(".")[0])>=19;function Sxe(e){return{inert:_xe?e:e?"":void 0}}function xxe(e){e.scrollTop}const aC={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[Nh]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:Iq,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ud(e,t){return{name:e,component:t}}function fo(e,t){return{module:e,children:t}}function Lq(e,t,n){return e.module.name===t?n(e):e.children?[fo(e.module,e.children.flatMap(r=>{var i;return(i=Lq(r,t,n))!==null&&i!==void 0?i:[]}))]:[e]}function op(e,t,n){return e.flatMap(r=>{var i;return(i=Lq(r,t,n))!==null&&i!==void 0?i:[]})}function wxe(e,t=[],n=[]){let r=e;const i=m=>{const h=[...r];for(;h.length>0;){const g=h.pop();if((g==null?void 0:g.module.name)===m)return!0;g!=null&&g.children&&h.push(...g.children)}return!1},o=(m,h)=>{if(m===""){r=[fo(h,r)];return}r=op(r,m,g=>[fo(h,[g])])},s=(m,h)=>{r=op(r,m,g=>[fo(g.module,[fo(h,g.children)])])},a=(m,h,g)=>{r=op(r,m,S=>{var y;return[fo(S.module,[...g?[fo(h)]:[],...(y=S.children)!==null&&y!==void 0?y:[],...g?[]:[fo(h)]])]})},l=(m,h,g)=>{r=op(r,m,S=>[...g?[fo(h)]:[],S,...g?[]:[fo(h)]])},u=m=>{s(wq,m)},c=(m,h)=>{r=op(r,m,g=>[fo(h,g.children)])},d=m=>{r=op(r,m,h=>h.children)},f=m=>{n.push(m)};return t.forEach(m=>{m({contains:i,addParent:o,append:s,addChild:a,addSibling:l,addModule:u,replace:c,remove:d,augment:f})}),{config:r,augmentation:m=>n.reduce((h,g)=>g(h),m)}}const $q=R.createContext(null),Bq=Wu("useA11yContext","A11yContext",$q);function Txe({children:e}){const[t,n]=R.useState(!1),[r,i]=R.useState(!1),o=R.useMemo(()=>({focusWithin:t,trackFocusWithin:(a,l)=>{const u=c=>d=>{var f;d.currentTarget.contains(d.relatedTarget)||n(c),(f=c?a:l)===null||f===void 0||f(d)};return{onFocus:u(!0),onBlur:u(!1)}},autoPlaying:r,setAutoPlaying:i}),[t,r]);return R.createElement($q.Provider,{value:o},e)}const Uq=R.createContext(null),Sw=Wu("useDocument","DocumentContext",Uq);function Exe({nodeRef:e,children:t}){const n=R.useMemo(()=>{const r=o=>{var s;return((s=o||e.current)===null||s===void 0?void 0:s.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:o=>{var s;return((s=r(o))===null||s===void 0?void 0:s.defaultView)||window}}},[e]);return R.createElement(Uq.Provider,{value:n},t)}const Fq=R.createContext(null),xw=Wu("useEvents","EventsContext",Fq);function Axe({children:e}){const[t]=R.useState({});R.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const n=R.useMemo(()=>{const r=(s,a)=>{var l;(l=t[s])===null||l===void 0||l.splice(0,t[s].length,...t[s].filter(u=>u!==a))};return{publish:(...[s,a])=>{var l;(l=t[s])===null||l===void 0||l.forEach(u=>u(a))},subscribe:(s,a)=>(t[s]||(t[s]=[]),t[s].push(a),()=>r(s,a)),unsubscribe:r}},[t]);return R.createElement(Fq.Provider,{value:n},e)}const zq=R.createContext(null),Fa=Wu("useLightboxProps","LightboxPropsContext",zq);function Cxe({children:e,...t}){return R.createElement(zq.Provider,{value:t},e)}const Vq=R.createContext(null),cd=Wu("useLightboxState","LightboxStateContext",Vq),qq=R.createContext(null),Oxe=Wu("useLightboxDispatch","LightboxDispatchContext",qq);function Dxe(e,t){switch(t.type){case"swipe":{const{slides:n}=e,r=(t==null?void 0:t.increment)||0,i=e.globalIndex+r,o=lR(i,n.length),s=sC(n,o),a=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:n,currentIndex:o,globalIndex:i,currentSlide:s,animation:a}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:sC(t.slides,t.index)}:e;default:throw new Error(kq)}}function Pxe({slides:e,index:t,children:n}){const[r,i]=R.useReducer(Dxe,{slides:e,currentIndex:t,globalIndex:t,currentSlide:sC(e,t)});R.useEffect(()=>{i({type:"update",slides:e,index:t})},[e,t]);const o=R.useMemo(()=>({...r,state:r,dispatch:i}),[r,i]);return R.createElement(qq.Provider,{value:i},R.createElement(Vq.Provider,{value:o},n))}const Hq=R.createContext(null),ww=Wu("useTimeouts","TimeoutsContext",Hq);function Rxe({children:e}){const[t]=R.useState([]);R.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const n=R.useMemo(()=>{const r=s=>{t.splice(0,t.length,...t.filter(a=>a!==s))};return{setTimeout:(s,a)=>{const l=window.setTimeout(()=>{r(l),s()},a);return t.push(l),l},clearTimeout:s=>{s!==void 0&&(r(s),window.clearTimeout(s))}}},[t]);return R.createElement(Hq.Provider,{value:n},e)}const uR=R.forwardRef(function({label:t,className:n,icon:r,renderIcon:i,onClick:o,style:s,...a},l){const{styles:u,labels:c}=Fa(),d=Mh(c,t);return R.createElement("button",{ref:l,type:"button",title:d,"aria-label":d,className:$l(ar(pxe),n),onClick:o,style:{...s,...u.button},...a},i?i():R.createElement(r,{className:ar(oC),style:u.icon}))});function Ixe(e,t){const n=r=>R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return n.displayName=e,n}function zf(e,t){return Ixe(e,R.createElement("g",{fill:"currentColor"},R.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}const kxe=zf("Close",R.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Nxe=zf("Previous",R.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Mxe=zf("Next",R.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),jxe=zf("Loading",R.createElement(R.Fragment,null,Array.from({length:8}).map((e,t,n)=>R.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/n.length*(t+1),transform:`rotate(${360/n.length*t}, 12, 12)`})))),Lxe=zf("Error",R.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),Fl=oR()?R.useLayoutEffect:R.useEffect;function cR(){const[e,t]=R.useState(!1);return R.useEffect(()=>{var n,r;const i=(n=window.matchMedia)===null||n===void 0?void 0:n.call(window,"(prefers-reduced-motion: reduce)");t(i==null?void 0:i.matches);const o=s=>t(s.matches);return(r=i==null?void 0:i.addEventListener)===null||r===void 0||r.call(i,"change",o),()=>{var s;return(s=i==null?void 0:i.removeEventListener)===null||s===void 0?void 0:s.call(i,"change",o)}},[]),e}function $xe(e){let t=0,n=0,r=0;const o=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(o){const s=o[1].split(",").map(_w);s.length===6?(t=s[4],n=s[5]):s.length===16&&(t=s[12],n=s[13],r=s[14])}return{x:t,y:n,z:r}}function RL(e,t){const n=R.useRef(void 0),r=R.useRef(void 0),i=cR();return Fl(()=>{var o,s,a;if(e.current&&n.current!==void 0&&!i){const{keyframes:l,duration:u,easing:c,onfinish:d}=t(n.current,e.current.getBoundingClientRect(),$xe(e.current))||{};if(l&&u){(o=r.current)===null||o===void 0||o.cancel(),r.current=void 0;try{r.current=(a=(s=e.current).animate)===null||a===void 0?void 0:a.call(s,l,{duration:u,easing:c})}catch(f){console.error(f)}r.current&&(r.current.onfinish=()=>{r.current=void 0,d==null||d()})}}n.current=void 0}),{prepareAnimation:o=>{n.current=o},isAnimationPlaying:()=>{var o;return((o=r.current)===null||o===void 0?void 0:o.playState)==="running"}}}function Gq(){const e=R.useRef(null),t=R.useRef(void 0),[n,r]=R.useState();return{setContainerRef:R.useCallback(o=>{e.current=o,t.current&&(t.current.disconnect(),t.current=void 0);const s=()=>{if(o){const a=window.getComputedStyle(o),l=u=>parseFloat(u)||0;r({width:Math.round(o.clientWidth-l(a.paddingLeft)-l(a.paddingRight)),height:Math.round(o.clientHeight-l(a.paddingTop)-l(a.paddingBottom))})}else r(void 0)};s(),o&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(s),t.current.observe(o))},[]),containerRef:e,containerRect:n}}function f_(){const e=R.useRef(void 0),{setTimeout:t,clearTimeout:n}=ww();return R.useCallback((r,i)=>{n(e.current),e.current=t(r,i>0?i:0)},[t,n])}function Er(e){const t=R.useRef(e);return Fl(()=>{t.current=e}),R.useCallback((...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function IL(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function lC(e,t){return R.useMemo(()=>e==null&&t==null?null:n=>{IL(e,n),IL(t,n)},[e,t])}function Bxe(e,t=!1){const n=R.useRef(!1);Fl(()=>{t&&n.current&&(n.current=!1,e())},[t,e]);const r=R.useCallback(()=>{n.current=!0},[]),i=R.useCallback(()=>{n.current=!1},[]);return{onFocus:r,onBlur:i}}function dR(){const[e,t]=R.useState(!1);return Fl(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Uxe(){const[e]=R.useState({}),t=R.useCallback((i,o)=>{var s;(s=e[i])===null||s===void 0||s.forEach(a=>{o.isPropagationStopped()||a(o)})},[e]),n=R.useMemo(()=>({onPointerDown:i=>t(Cq,i),onPointerMove:i=>t(Oq,i),onPointerUp:i=>t(Dq,i),onPointerLeave:i=>t(Pq,i),onPointerCancel:i=>t(Rq,i),onKeyDown:i=>t(tR,i),onKeyUp:i=>t(uxe,i),onWheel:i=>t(nR,i)}),[t]),r=R.useCallback((i,o)=>(e[i]||(e[i]=[]),e[i].unshift(o),()=>{const s=e[i];s&&s.splice(0,s.length,...s.filter(a=>a!==o))}),[e]);return{registerSensors:n,subscribeSensors:r}}function kL(e,t){const n=R.useRef(0),r=f_(),i=Er((...o)=>{n.current=Date.now(),e(o)});return R.useCallback((...o)=>{r(()=>{i(o)},t-(Date.now()-n.current))},[t,i,r])}const fE=rR("slide"),pE=rR("slide_image");function _S({slide:e,offset:t,render:n,rect:r,imageFit:i,imageProps:o,onClick:s,onLoad:a,onError:l,style:u}){var c,d,f,m,h,g,S,y;const[v,b]=R.useState(uE),{publish:_}=xw(),{setTimeout:x}=ww(),T=R.useRef(null);R.useEffect(()=>{t===0&&_(oxe(v))},[t,v,_]);const w=Er(G=>{("decode"in G?G.decode():Promise.resolve()).catch(()=>{}).then(()=>{G.parentNode&&(b(dE),x(()=>{a==null||a(G)},0))})}),E=R.useCallback(G=>{T.current=G,G!=null&&G.complete&&w(G)},[w]),C=R.useCallback(G=>{w(G.currentTarget)},[w]),D=Er(()=>{b(cE),l==null||l()}),O=aR(e,i),I=(G,J)=>Number.isFinite(G)?G:J,k=I(Math.max(...((d=(c=e.srcSet)===null||c===void 0?void 0:c.map(G=>G.width))!==null&&d!==void 0?d:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((f=T.current)===null||f===void 0?void 0:f.naturalWidth)||0),B=I(Math.max(...((h=(m=e.srcSet)===null||m===void 0?void 0:m.map(G=>G.height))!==null&&h!==void 0?h:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((g=T.current)===null||g===void 0?void 0:g.naturalHeight)||0),q=k&&B?{maxWidth:`min(${k}px, 100%)`,maxHeight:`min(${B}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},H=(S=e.srcSet)===null||S===void 0?void 0:S.sort((G,J)=>G.width-J.width).map(G=>`${G.src} ${G.width}w`).join(", "),z=()=>r&&!O&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,ne=H&&r&&oR()?`${Math.round(Math.min(z(),r.width))}px`:void 0,{style:ue,className:Q,...N}=o||{};return R.createElement(R.Fragment,null,R.createElement("img",{ref:E,onLoad:C,onError:D,onClick:s,draggable:!1,className:$l(ar(pE()),O&&ar(pE("cover")),v!==dE&&ar(pE("loading")),Q),style:{...q,...u,...ue},...N,alt:(y=e.alt)!==null&&y!==void 0?y:"",sizes:ne,srcSet:H,src:e.src}),v!==dE&&R.createElement("div",{className:ar(fE(ixe))},v===uE&&(n!=null&&n.iconLoading?n.iconLoading():R.createElement(jxe,{className:$l(ar(oC),ar(fE(uE)))})),v===cE&&(n!=null&&n.iconError?n.iconError():R.createElement(Lxe,{className:$l(ar(oC),ar(fE(cE)))}))))}const Fxe=R.forwardRef(function({className:t,children:n,onFocus:r,onBlur:i,...o},s){const a=R.useRef(null),{trackFocusWithin:l}=Bq();return R.createElement(Exe,{nodeRef:a},R.createElement("div",{ref:lC(s,a),className:$l(ar("root"),t),...l(r,i),...o},n))});var zo;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(zo||(zo={}));function Wq(e,t,n,r,i){R.useEffect(()=>i?()=>{}:iR(e(Cq,t),e(Oq,n),e(Dq,r),e(Pq,r),e(Rq,r)),[e,t,n,r,i])}var Wa;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(Wa||(Wa={}));const hE=30;function zxe({disableSwipeNavigation:e,closeOnBackdropClick:t},n,r,i,o,s,a,l,u,c,d,f,m,h,g,S){const y=R.useRef(0),v=R.useRef([]),b=R.useRef(void 0),_=R.useRef(0),x=R.useRef(Wa.NONE),T=R.useCallback(k=>{b.current===k.pointerId&&(b.current=void 0,x.current=Wa.NONE);const B=v.current;B.splice(0,B.length,...B.filter(q=>q.pointerId!==k.pointerId))},[]),w=R.useCallback(k=>{T(k),k.persist(),v.current.push(k)},[T]),E=R.useCallback(k=>v.current.find(({pointerId:B})=>k.pointerId===B),[]),C=Er(k=>{w(k)}),D=(k,B)=>d&&k>B||c&&k<-B,O=Er(k=>{const B=E(k);if(B)if(b.current===k.pointerId){const q=Date.now()-_.current,H=y.current;x.current===Wa.SWIPE?Math.abs(H)>.3*i||Math.abs(H)>5&&q<o?l(H,q):u(H):x.current===Wa.PULL&&(D(H,2*hE)?h(H,q):g(H)),y.current=0,x.current=Wa.NONE}else{const{target:q}=k;t&&q instanceof HTMLElement&&q===B.target&&(q.classList.contains(ar(eR))||q.classList.contains(ar(Aq)))&&S()}T(k)}),I=Er(k=>{const B=E(k);if(B){const q=b.current===k.pointerId;if(k.buttons===0){q&&y.current!==0?O(k):T(B);return}const H=k.clientX-B.clientX,z=k.clientY-B.clientY;if(b.current===void 0){const ne=ue=>{w(k),b.current=k.pointerId,_.current=Date.now(),x.current=ue};Math.abs(H)>Math.abs(z)&&Math.abs(H)>hE&&r(H)?e||(ne(Wa.SWIPE),s()):Math.abs(z)>Math.abs(H)&&D(z,hE)&&(ne(Wa.PULL),f())}else q&&(x.current===Wa.SWIPE?(y.current=H,a(H)):x.current===Wa.PULL&&(y.current=z,m(z)))}});Wq(n,C,I,O)}function Vxe({preventDefaultWheelX:e,preventDefaultWheelY:t}){const n=R.useRef(null),r=Er(i=>{const o=Math.abs(i.deltaX)>Math.abs(i.deltaY);(o&&e||!o&&t||i.ctrlKey)&&i.preventDefault()});return R.useCallback(i=>{var o;i?i.addEventListener("wheel",r,{passive:!1}):(o=n.current)===null||o===void 0||o.removeEventListener("wheel",r),n.current=i},[r])}function qxe(e,t,n,r,i,o,s,a,l){const u=R.useRef(0),c=R.useRef(0),d=R.useRef(void 0),f=R.useRef(void 0),m=R.useRef(0),h=R.useRef(void 0),g=R.useRef(0),{setTimeout:S,clearTimeout:y}=ww(),v=R.useCallback(()=>{d.current&&(y(d.current),d.current=void 0)},[y]),b=R.useCallback(()=>{f.current&&(y(f.current),f.current=void 0)},[y]),_=Er(()=>{e!==zo.SWIPE&&(u.current=0,g.current=0,v(),b())});R.useEffect(_,[e,_]);const x=Er(w=>{f.current=void 0,u.current===w&&l(u.current)}),T=Er(w=>{if(w.ctrlKey||Math.abs(w.deltaY)>Math.abs(w.deltaX))return;const E=C=>{m.current=C,y(h.current),h.current=C>0?S(()=>{m.current=0,h.current=void 0},300):void 0};if(e===zo.NONE){if(Math.abs(w.deltaX)<=1.2*Math.abs(m.current)){E(w.deltaX);return}if(!n(-w.deltaX))return;if(c.current+=w.deltaX,v(),Math.abs(c.current)>30)c.current=0,E(0),g.current=Date.now(),o();else{const C=c.current;d.current=S(()=>{d.current=void 0,C===c.current&&(c.current=0)},i)}}else if(e===zo.SWIPE){let C=u.current-w.deltaX;if(C=Math.min(Math.abs(C),r)*Math.sign(C),u.current=C,s(C),b(),Math.abs(C)>.2*r){E(w.deltaX),a(C,Date.now()-g.current);return}f.current=S(()=>x(C),2*i)}else E(w.deltaX)});R.useEffect(()=>t(nR,T),[t,T])}const NL=rR("container"),Yq=R.createContext(null),Yu=Wu("useController","ControllerContext",Yq);function Hxe({children:e,...t}){var n;const{carousel:r,animation:i,controller:o,on:s,styles:a,render:l}=t,{closeOnPullUp:u,closeOnPullDown:c,preventDefaultWheelX:d,preventDefaultWheelY:f}=o,[m,h]=R.useState(),g=cd(),S=Oxe(),[y,v]=R.useState(zo.NONE),b=R.useRef(0),_=R.useRef(0),x=R.useRef(1),{registerSensors:T,subscribeSensors:w}=Uxe(),{subscribe:E,publish:C}=xw(),D=f_(),O=f_(),I=f_(),{containerRef:k,setContainerRef:B,containerRect:q}=Gq(),H=lC(Vxe({preventDefaultWheelX:d,preventDefaultWheelY:f}),B),z=R.useRef(null),ne=lC(z,void 0),{getOwnerDocument:ue}=Sw(),Q=dR(),N=Z=>(Q?-1:1)*(typeof Z=="number"?Z:1),G=Er(()=>{var Z;return(Z=k.current)===null||Z===void 0?void 0:Z.focus()}),J=Er(()=>t),Y=Er(()=>g),L=R.useCallback(Z=>C(Rd,Z),[C]),K=R.useCallback(Z=>C(Id,Z),[C]),ie=R.useCallback(()=>C(Nh),[C]),de=Z=>!(r.finite&&(N(Z)>0&&g.currentIndex===0||N(Z)<0&&g.currentIndex===g.slides.length-1)),ye=Z=>{var ce;b.current=Z,(ce=k.current)===null||ce===void 0||ce.style.setProperty(_s("swipe_offset"),`${Math.round(Z)}px`)},Te=Z=>{var ce,xe;_.current=Z,x.current=(()=>{const je=c&&Z>0?Z:u&&Z<0?-Z:0;return Math.min(Math.max(sR(1-je/60*(1-.5),2),.5),1)})(),(ce=k.current)===null||ce===void 0||ce.style.setProperty(_s("pull_offset"),`${Math.round(Z)}px`),(xe=k.current)===null||xe===void 0||xe.style.setProperty(_s("pull_opacity"),`${x.current}`)},{prepareAnimation:me}=RL(z,(Z,ce,xe)=>{if(z.current&&q)return{keyframes:[{transform:`translate(0, ${Z.rect.y-ce.y+xe.y}px)`,opacity:Z.opacity},{transform:"translate(0, 0)",opacity:1}],duration:Z.duration,easing:i.easing.fade}}),ae=(Z,ce)=>{if(u||c){Te(Z);let xe=0;z.current&&(xe=i.fade*(ce?2:1),me({rect:z.current.getBoundingClientRect(),opacity:x.current,duration:xe})),I(()=>{Te(0),v(zo.NONE)},xe),v(zo.ANIMATION),ce||ie()}},{prepareAnimation:ge,isAnimationPlaying:$}=RL(z,(Z,ce,xe)=>{var Ce;if(z.current&&q&&(!((Ce=g.animation)===null||Ce===void 0)&&Ce.duration)){const pe=bS(r.spacing),je=(pe.percent?pe.percent*q.width/100:pe.pixel)||0;return{keyframes:[{transform:`translate(${N(g.globalIndex-Z.index)*(q.width+je)+Z.rect.x-ce.x+xe.x}px, 0)`},{transform:"translate(0, 0)"}],duration:g.animation.duration,easing:g.animation.easing}}}),te=Er(Z=>{var ce,xe;const Ce=Z.offset||0,pe=Ce?i.swipe:(ce=i.navigation)!==null&&ce!==void 0?ce:i.swipe,je=!Ce&&!$()?i.easing.navigation:i.easing.swipe;let{direction:Qe}=Z;const Ve=(xe=Z.count)!==null&&xe!==void 0?xe:1;let Ne=zo.ANIMATION,Je=pe*Ve;if(!Qe){const Ze=q==null?void 0:q.width,Mt=Z.duration||0,Ut=Ze?pe/Ze*Math.abs(Ce):pe;Ve!==0?(Mt<Ut?Je=Je/Ut*Math.max(Mt,Ut/5):Ze&&(Je=pe/Ze*(Ze-Math.abs(Ce))),Qe=N(Ce)>0?Rd:Id):Je=pe/2}let qe=0;Qe===Rd?de(N(1))?qe=-Ve:(Ne=zo.NONE,Je=pe):Qe===Id&&(de(N(-1))?qe=Ve:(Ne=zo.NONE,Je=pe)),Je=Math.round(Je),O(()=>{ye(0),v(zo.NONE)},Je),z.current&&ge({rect:z.current.getBoundingClientRect(),index:g.globalIndex}),v(Ne),C(DL,{type:"swipe",increment:qe,duration:Je,easing:je})});R.useEffect(()=>{var Z,ce;!((Z=g.animation)===null||Z===void 0)&&Z.increment&&(!((ce=g.animation)===null||ce===void 0)&&ce.duration)&&D(()=>S({type:"swipe",increment:0}),g.animation.duration)},[g.animation,S,D]);const oe=[w,de,(q==null?void 0:q.width)||0,i.swipe,()=>v(zo.SWIPE),Z=>ye(Z),(Z,ce)=>te({offset:Z,duration:ce,count:1}),Z=>te({offset:Z,count:0})],Se=[()=>{c&&v(zo.PULL)},Z=>Te(Z),Z=>ae(Z),Z=>ae(Z,!0)];zxe(o,...oe,u,c,...Se,ie),qxe(y,...oe);const Pe=Er(()=>{o.focus&&ue().querySelector(`.${ar(QP)} .${ar(NL())}`)&&G()});R.useEffect(Pe,[Pe]);const Oe=Er(()=>{var Z;(Z=s.view)===null||Z===void 0||Z.call(s,{index:g.currentIndex})});R.useEffect(Oe,[g.globalIndex,Oe]),R.useEffect(()=>iR(E(Rd,Z=>te({direction:Rd,...Z})),E(Id,Z=>te({direction:Id,...Z})),E(DL,Z=>S(Z))),[E,te,S]);const Be=R.useMemo(()=>({prev:L,next:K,close:ie,focus:G,slideRect:q?mxe(q,r.padding):{width:0,height:0},containerRect:q||{width:0,height:0},subscribeSensors:w,containerRef:k,setCarouselRef:ne,toolbarWidth:m,setToolbarWidth:h}),[L,K,ie,G,w,q,k,ne,m,h,r.padding]);return R.useImperativeHandle(o.ref,()=>({prev:L,next:K,close:ie,focus:G,getLightboxProps:J,getLightboxState:Y}),[L,K,ie,G,J,Y]),R.createElement("div",{ref:H,className:$l(ar(NL()),ar(JP)),style:{...y===zo.SWIPE?{[_s("swipe_offset")]:`${Math.round(b.current)}px`}:null,...y===zo.PULL?{[_s("pull_offset")]:`${Math.round(_.current)}px`,[_s("pull_opacity")]:`${x.current}`}:null,...o.touchAction!=="none"?{[_s("controller_touch_action")]:o.touchAction}:null,...a.container},tabIndex:-1,...T},q&&R.createElement(Yq.Provider,{value:Be},e,(n=l.controls)===null||n===void 0?void 0:n.call(l)))}const Gxe=ud(wq,Hxe);function yd(e){return rb(xq,e)}function ML(e){return rb(eR,e)}function Wxe({slide:e,offset:t}){const n=R.useRef(null),{currentIndex:r,slides:i}=cd(),{slideRect:o,focus:s}=Yu(),{render:a,carousel:{imageFit:l,imageProps:u},on:{click:c},styles:{slide:d},labels:f}=Fa(),{getOwnerDocument:m}=Sw(),h=t!==0;R.useEffect(()=>{var S;h&&(!((S=n.current)===null||S===void 0)&&S.contains(m().activeElement))&&s()},[h,s,m]);const g=()=>{var S,y,v,b;let _=(S=a.slide)===null||S===void 0?void 0:S.call(a,{slide:e,offset:t,rect:o});return!_&&xm(e)&&(_=R.createElement(_S,{slide:e,offset:t,render:a,rect:o,imageFit:l,imageProps:u,onClick:h?void 0:()=>c==null?void 0:c({index:r})})),_?R.createElement(R.Fragment,null,(y=a.slideHeader)===null||y===void 0?void 0:y.call(a,{slide:e}),((v=a.slideContainer)!==null&&v!==void 0?v:({children:x})=>x)({slide:e,children:_}),(b=a.slideFooter)===null||b===void 0?void 0:b.call(a,{slide:e})):null};return R.createElement("div",{ref:n,className:$l(ar(ML()),!h&&ar(ML("current")),ar(JP)),...Sxe(h),style:d,role:"group","aria-roledescription":Mh(f,"Slide"),"aria-label":hxe(f,i,r+t)},g())}function Yxe(){const e=Fa().styles.slide;return R.createElement("div",{className:ar(eR),style:e})}function Kxe({carousel:e,labels:t}){const{slides:n,currentIndex:r,globalIndex:i}=cd(),{setCarouselRef:o}=Yu(),{autoPlaying:s,focusWithin:a}=Bq(),l=bS(e.spacing),u=bS(e.padding),c=bxe(e,n,1),d=[];if(Mq(n))for(let f=r-c;f<=r+c;f+=1){const m=jq(n,f),h=i-r+f,g=e.finite&&(f<0||f>n.length-1);d.push(g?{key:h}:{key:[`${h}`,yxe(m)].filter(Boolean).join("|"),offset:f-r,slide:m})}return R.createElement("div",{ref:o,className:$l(ar(yd()),d.length>0&&ar(yd("with_slides"))),style:{[`${_s(yd("slides_count"))}`]:d.length,[`${_s(yd("spacing_px"))}`]:l.pixel||0,[`${_s(yd("spacing_percent"))}`]:l.percent||0,[`${_s(yd("padding_px"))}`]:u.pixel||0,[`${_s(yd("padding_percent"))}`]:u.percent||0},role:"region","aria-live":s&&!a?"off":"polite","aria-roledescription":Mh(t,"Carousel"),"aria-label":Mh(t,"Photo gallery")},d.map(({key:f,slide:m,offset:h})=>m?R.createElement(Wxe,{key:f,slide:m,offset:h}):R.createElement(Yxe,{key:f})))}const Xxe=ud(xq,Kxe);function Kq(){const{carousel:e}=Fa(),{slides:t,currentIndex:n}=cd(),r=t.length===0||e.finite&&n===0,i=t.length===0||e.finite&&n===t.length-1;return{prevDisabled:r,nextDisabled:i}}function Zxe(e){var t;const n=dR(),{publish:r}=xw(),{animation:i}=Fa(),{prevDisabled:o,nextDisabled:s}=Kq(),a=((t=i.navigation)!==null&&t!==void 0?t:i.swipe)/2,l=kL(()=>r(Rd),a),u=kL(()=>r(Id),a),c=Er(d=>{switch(d.key){case cxe:r(Nh);break;case dxe:(n?s:o)||(n?u:l)();break;case fxe:(n?o:s)||(n?l:u)();break}});R.useEffect(()=>e(tR,c),[e,c])}function jL({label:e,icon:t,renderIcon:n,action:r,onClick:i,disabled:o,style:s}){return R.createElement(uR,{label:e,icon:t,renderIcon:n,className:ar(`navigation_${r}`),disabled:o,onClick:i,style:s,...Bxe(Yu().focus,o)})}function Qxe({render:{buttonPrev:e,buttonNext:t,iconPrev:n,iconNext:r},styles:i}){const{prev:o,next:s,subscribeSensors:a}=Yu(),{prevDisabled:l,nextDisabled:u}=Kq();return Zxe(a),R.createElement(R.Fragment,null,e?e():R.createElement(jL,{label:"Previous",action:Rd,icon:Nxe,renderIcon:n,style:i.navigationPrev,disabled:l,onClick:o}),t?t():R.createElement(jL,{label:"Next",action:Id,icon:Mxe,renderIcon:r,style:i.navigationNext,disabled:u,onClick:s}))}const Jxe=ud(txe,Qxe),LL=ar(axe),ewe=ar(Eq);function twe(e){return"style"in e}function $L(e,t,n){const r=window.getComputedStyle(e),i=n?"padding-left":"padding-right",o=n?r.paddingLeft:r.paddingRight,s=e.style.getPropertyValue(i);return e.style.setProperty(i,`${(_w(o)||0)+t}px`),()=>{s?e.style.setProperty(i,s):e.style.removeProperty(i)}}function nwe({noScroll:{disabled:e},children:t}){const n=dR(),{getOwnerDocument:r,getOwnerWindow:i}=Sw();return R.useEffect(()=>{if(e)return()=>{};const o=[],s=i(),{body:a,documentElement:l}=r(),u=Math.round(s.innerWidth-l.clientWidth);if(u>0){o.push($L(a,u,n));const c=a.getElementsByTagName("*");for(let d=0;d<c.length;d+=1){const f=c[d];twe(f)&&s.getComputedStyle(f).getPropertyValue("position")==="fixed"&&!f.classList.contains(ewe)&&o.push($L(f,u,n))}}return a.classList.add(LL),()=>{a.classList.remove(LL),o.forEach(c=>c())}},[n,e,r,i]),R.createElement(R.Fragment,null,t)}const rwe=ud(nxe,nwe);function BL(e){return rb(QP,e)}function UL(e,t,n){const r=e.getAttribute(t);return e.setAttribute(t,n),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function iwe({children:e,animation:t,styles:n,className:r,on:i,portal:o,close:s,labels:a}){const[l,u]=R.useState(!1),[c,d]=R.useState(!1),f=R.useRef([]),m=R.useRef(null),{setTimeout:h}=ww(),{subscribe:g}=xw(),y=cR()?0:t.fade;R.useEffect(()=>(u(!0),()=>{u(!1),d(!1)}),[]);const v=Er(()=>{f.current.forEach(T=>T()),f.current=[]}),b=Er(()=>{var T;d(!1),v(),(T=i.exiting)===null||T===void 0||T.call(i),h(()=>{var w;(w=i.exited)===null||w===void 0||w.call(i),s()},y)});R.useEffect(()=>g(Nh,b),[g,b]);const _=Er(T=>{var w,E,C;xxe(T),d(!0),(w=i.entering)===null||w===void 0||w.call(i);const D=(C=(E=T.parentNode)===null||E===void 0?void 0:E.children)!==null&&C!==void 0?C:[];for(let O=0;O<D.length;O+=1){const I=D[O];["TEMPLATE","SCRIPT","STYLE"].indexOf(I.tagName)===-1&&I!==T&&(f.current.push(UL(I,"inert","")),f.current.push(UL(I,"aria-hidden","true")))}f.current.push(()=>{var O,I;(I=(O=m.current)===null||O===void 0?void 0:O.focus)===null||I===void 0||I.call(O)}),h(()=>{var O;(O=i.entered)===null||O===void 0||O.call(i)},y)}),x=R.useCallback(T=>{T?_(T):v()},[_,v]);return l?Hs.createPortal(R.createElement(Fxe,{ref:x,className:$l(r,ar(BL()),ar(Eq),c&&ar(BL("open"))),"aria-modal":!0,role:"dialog","aria-label":Mh(a,"Lightbox"),style:{...t.fade!==aC.animation.fade?{[_s("fade_animation_duration")]:`${y}ms`}:null,...t.easing.fade!==aC.animation.easing.fade?{[_s("fade_animation_timing_function")]:t.easing.fade}:null,...n.root},onFocus:T=>{m.current||(m.current=T.relatedTarget)}},e),o.root||document.body):null}const owe=ud(QP,iwe);function swe({children:e}){return R.createElement(R.Fragment,null,e)}const awe=ud(rxe,swe);function lwe(e){return rb(Tq,e)}function uwe({toolbar:{buttons:e},render:{buttonClose:t,iconClose:n},styles:r}){const{close:i,setToolbarWidth:o}=Yu(),{setContainerRef:s,containerRect:a}=Gq();Fl(()=>{o(a==null?void 0:a.width)},[o,a==null?void 0:a.width]);const l=()=>t?t():R.createElement(uR,{key:Nh,label:"Close",icon:kxe,renderIcon:n,onClick:i});return R.createElement("div",{ref:s,style:r.toolbar,className:ar(lwe())},e==null?void 0:e.map(u=>u===Nh?l():u))}const cwe=ud(Tq,uwe);function Xq(e,t){var n;return R.createElement(e.module.component,{key:e.module.name,...t},(n=e.children)===null||n===void 0?void 0:n.map(r=>Xq(r,t)))}function dwe(e,t={}){const{easing:n,...r}=e,{easing:i,...o}=t;return{easing:{...n,...i},...r,...o}}function fwe({carousel:e,animation:t,render:n,toolbar:r,controller:i,noScroll:o,on:s,plugins:a,slides:l,index:u,...c}){const{animation:d,carousel:f,render:m,toolbar:h,controller:g,noScroll:S,on:y,slides:v,index:b,plugins:_,...x}=aC,{config:T,augmentation:w}=wxe([fo(owe,[fo(rwe,[fo(Gxe,[fo(Xxe),fo(cwe),fo(Jxe)])])])],a||_),E=w({animation:dwe(d,t),carousel:{...f,...e},render:{...m,...n},toolbar:{...h,...r},controller:{...g,...i},noScroll:{...S,...o},on:{...y,...s},...x,...c});return E.open?R.createElement(Cxe,{...E},R.createElement(Pxe,{slides:l||v,index:_w(u||b)},R.createElement(Rxe,null,R.createElement(Axe,null,R.createElement(Txe,null,Xq(fo(awe,T),E)))))):null}const pwe={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1};function hwe(e){return Math.min(Math.max(e,Number.EPSILON),1)}function Zq(e){const{minZoom:t,...n}={...pwe,...e};return{minZoom:hwe(t),...n}}function mwe(e,t,n,r){const i=R.useRef(void 0),o=R.useRef(void 0),{zoom:s}=Fa().animation,a=cR(),l=Er(()=>{var u,c,d;if((u=i.current)===null||u===void 0||u.cancel(),i.current=void 0,o.current&&(r!=null&&r.current)){try{i.current=(d=(c=r.current).animate)===null||d===void 0?void 0:d.call(c,[{transform:o.current},{transform:`scale(${e}) translateX(${t}px) translateY(${n}px)`}],{duration:a?0:s??500,easing:i.current?"ease-out":"ease-in-out"})}catch(f){console.error(f)}o.current=void 0,i.current&&(i.current.onfinish=()=>{i.current=void 0})}});return Fl(l,[e,t,n,l]),R.useCallback(()=>{o.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function gwe(e,t){const{on:n}=Fa(),r=Er(()=>{var i;t||(i=n.zoom)===null||i===void 0||i.call(n,{zoom:e})});R.useEffect(r,[e,r])}function Tw(){const{zoom:e}=Fa();return Zq(e)}function ywe(e,t){var n,r;let i={width:0,height:0},o={width:0,height:0};const{currentSlide:s}=cd(),{imageFit:a}=Fa().carousel,{maxZoomPixelRatio:l}=Tw();if(e&&s){const c={...s,...t};if(xm(c)){const d=aR(c,a),f=Math.max(...(((n=c.srcSet)===null||n===void 0?void 0:n.map(h=>h.width))||[]).concat(c.width?[c.width]:[])),m=Math.max(...(((r=c.srcSet)===null||r===void 0?void 0:r.map(h=>h.height))||[]).concat(c.height?[c.height]:[]));f>0&&m>0&&e.width>0&&e.height>0&&(o=d?{width:Math.round(Math.min(f,e.width/e.height*m)),height:Math.round(Math.min(m,e.height/e.width*f))}:{width:f,height:m},o={width:o.width*l,height:o.height*l},i=d?{width:Math.min(e.width,o.width,f),height:Math.min(e.height,o.height,m)}:{width:Math.round(Math.min(e.width,e.height/m*f,f)),height:Math.round(Math.min(e.height,e.width/f*m,m))})}}const u=i.width?Math.max(sR(o.width/i.width,5),1):1;return{imageRect:i,maxZoom:u}}function FL(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function zL(e,t,n=100,r=2){return e*Math.min(1+Math.abs(t/n),r)**Math.sign(t)}function vwe(e,t,n,r,i,o,s,a,l){const u=R.useRef([]),c=R.useRef(0),d=R.useRef(void 0),{globalIndex:f}=cd(),{getOwnerWindow:m}=Sw(),{containerRef:h,subscribeSensors:g}=Yu(),{keyboardMoveDistance:S,zoomInMultiplier:y,wheelZoomDistanceFactor:v,scrollToZoom:b,doubleTapDelay:_,doubleClickDelay:x,doubleClickMaxStops:T,pinchZoomDistanceFactor:w}=Tw(),E=R.useCallback(z=>{if(h.current){const{pageX:ne,pageY:ue}=z,{scrollX:Q,scrollY:N}=m(),{left:G,top:J,width:Y,height:L}=h.current.getBoundingClientRect();return[ne-G-Q-Y/2,ue-J-N-L/2]}return[]},[h,m]),C=Er(z=>{const{key:ne,metaKey:ue,ctrlKey:Q}=z,N=ue||Q,G=()=>{z.preventDefault(),z.stopPropagation()};if(e>1){const J=(Y,L)=>{G(),a(Y,L)};ne==="ArrowDown"?J(0,S):ne==="ArrowUp"?J(0,-S):ne==="ArrowLeft"?J(-S,0):ne==="ArrowRight"&&J(S,0)}ne==="+"||N&&ne==="="?(G(),i()):ne==="-"||N&&ne==="_"?(G(),o()):N&&ne==="0"&&(G(),s(1))}),D=Er(z=>{if((z.ctrlKey||b)&&Math.abs(z.deltaY)>Math.abs(z.deltaX)){z.stopPropagation(),s(zL(e,-z.deltaY,v),!0,...E(z));return}e>1&&(z.stopPropagation(),b||a(z.deltaX,z.deltaY))}),O=R.useCallback(z=>{const ne=u.current;ne.splice(0,ne.length,...ne.filter(ue=>ue.pointerId!==z.pointerId))},[]),I=R.useCallback(z=>{O(z),z.persist(),u.current.push(z)},[O]),k=Er(z=>{var ne;const ue=u.current;if(z.pointerType==="mouse"&&z.buttons>1||!(!((ne=l==null?void 0:l.current)===null||ne===void 0)&&ne.contains(z.target)))return;e>1&&z.stopPropagation();const{timeStamp:Q}=z;if(ue.length===0&&Q-c.current<(z.pointerType==="touch"?_:x)){c.current=0;const N=e>=1?e!==n?e*Math.max(n**(1/T),y):1:e!==t?e/Math.max(t**(-1/T),y):1;s(N,!1,...E(z))}else c.current=Q;I(z),ue.length===2&&(d.current=FL(ue[0],ue[1]))}),B=Er(z=>{const ne=u.current,ue=ne.find(Q=>Q.pointerId===z.pointerId);if(ne.length===2&&d.current){z.stopPropagation(),I(z);const Q=FL(ne[0],ne[1]),N=Q-d.current;Math.abs(N)>0&&(s(zL(e,N,w),!0,...ne.map(G=>E(G)).reduce((G,J)=>J.map((Y,L)=>G[L]+Y/2))),d.current=Q);return}e>1&&(z.stopPropagation(),ue&&(ne.length===1&&a((ue.clientX-z.clientX)/e,(ue.clientY-z.clientY)/e),I(z)))}),q=R.useCallback(z=>{const ne=u.current;ne.length===2&&ne.find(ue=>ue.pointerId===z.pointerId)&&(d.current=void 0),O(z)},[O]),H=R.useCallback(()=>{const z=u.current;z.splice(0,z.length),c.current=0,d.current=void 0},[]);Wq(g,k,B,q,r),R.useEffect(H,[f,H]),R.useEffect(()=>r?()=>{}:iR(H,g(tR,C),g(nR,D)),[r,g,H,C,D])}function bwe(e,t,n){const[r,i]=R.useState(1),[o,s]=R.useState(0),[a,l]=R.useState(0),u=mwe(r,o,a,n),{currentSlide:c,globalIndex:d}=cd(),{containerRect:f,slideRect:m}=Yu(),{minZoom:h,zoomInMultiplier:g}=Tw(),S=c&&xm(c)?c.src:void 0,y=!S||!(n!=null&&n.current);Fl(()=>{i(1),s(0),l(0)},[d,S]);const v=R.useCallback((w,E,C)=>{const D=C||r,O=o-(w||0),I=a-(E||0),k=(e.width*D-m.width)/2/D,B=(e.height*D-m.height)/2/D;s(Math.min(Math.abs(O),Math.max(k,0))*Math.sign(O)),l(Math.min(Math.abs(I),Math.max(B,0))*Math.sign(I))},[r,o,a,m,e.width,e.height]),b=R.useCallback((w,E,C,D)=>{const O=sR(Math.min(Math.max(w+.001<t?w:t,h),t),5);O!==r&&(E||u(),v(C?C*(1/r-1/O):0,D?D*(1/r-1/O):0,O),i(O))},[r,h,t,v,u]),_=Er(()=>{r>1&&(r>t&&b(t,!0),v())});Fl(_,[f.width,f.height,_]);const x=R.useCallback(()=>{const w=r*g;b(r<1&&w>1?1:w)},[r,g,b]),T=R.useCallback(()=>{const w=r/g;b(r>1&&w<1?1:w)},[r,g,b]);return{zoom:r,offsetX:o,offsetY:a,disabled:y,changeOffsets:v,changeZoom:b,zoomIn:x,zoomOut:T}}const Qq=R.createContext(null),fR=Wu("useZoom","ZoomControllerContext",Qq);function _we({children:e}){const[t,n]=R.useState(),{slideRect:r}=Yu(),{ref:i,minZoom:o}=Tw(),{imageRect:s,maxZoom:a}=ywe(r,t==null?void 0:t.imageDimensions),{zoom:l,offsetX:u,offsetY:c,disabled:d,changeZoom:f,changeOffsets:m,zoomIn:h,zoomOut:g}=bwe(s,a,t==null?void 0:t.zoomWrapperRef);gwe(l,d),vwe(l,o,a,d,h,g,f,m,t==null?void 0:t.zoomWrapperRef);const S=R.useMemo(()=>({zoom:l,minZoom:o,maxZoom:a,offsetX:u,offsetY:c,disabled:d,zoomIn:h,zoomOut:g,changeZoom:f}),[l,o,a,u,c,d,h,g,f]);R.useImperativeHandle(i,()=>S,[S]);const y=R.useMemo(()=>({...S,setZoomWrapper:n}),[S,n]);return R.createElement(Qq.Provider,{value:y},e)}const Swe=zf("ZoomIn",R.createElement(R.Fragment,null,R.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),R.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),xwe=zf("ZoomOut",R.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),VL=R.forwardRef(function({zoomIn:t,onLoseFocus:n},r){const i=R.useRef(!1),o=R.useRef(!1),{zoom:s,minZoom:a,maxZoom:l,zoomIn:u,zoomOut:c,disabled:d}=fR(),{render:f}=Fa(),m=d||(t?s>=l:s<=a);return R.useEffect(()=>{m&&i.current&&o.current&&n(),m||(i.current=!0)},[m,n]),R.createElement(uR,{ref:r,disabled:m,label:t?"Zoom in":"Zoom out",icon:t?Swe:xwe,renderIcon:t?f.iconZoomIn:f.iconZoomOut,onClick:t?u:c,onFocus:()=>{o.current=!0},onBlur:()=>{o.current=!1}})});function wwe(){const e=R.useRef(null),t=R.useRef(null),{focus:n}=Yu(),r=R.useCallback(s=>{var a,l;!((a=s.current)===null||a===void 0)&&a.disabled?n():(l=s.current)===null||l===void 0||l.focus()},[n]),i=R.useCallback(()=>r(e),[r]),o=R.useCallback(()=>r(t),[r]);return R.createElement(R.Fragment,null,R.createElement(VL,{zoomIn:!0,ref:e,onLoseFocus:o}),R.createElement(VL,{ref:t,onLoseFocus:i}))}function Twe(){const{render:e}=Fa(),t=fR();return e.buttonZoom?R.createElement(R.Fragment,null,e.buttonZoom(t)):R.createElement(wwe,null)}function Ewe(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function Awe({current:e,preload:t},{type:n,source:r}){switch(n){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(kq)}}function Cwe(e){var t,n;const[{current:r,preload:i},o]=R.useReducer(Awe,{}),{slide:s,rect:a,imageFit:l,render:u,interactive:c}=e,d=s.srcSet.sort((x,T)=>x.width-T.width),f=(t=s.width)!==null&&t!==void 0?t:d[d.length-1].width,m=(n=s.height)!==null&&n!==void 0?n:d[d.length-1].height,h=aR(s,l),g=Math.max(...d.map(x=>x.width)),S=Math.min((h?Math.max:Math.min)(a.width,f*(a.height/m)),g),y=gxe(),v=Er(()=>{var x;const T=(x=d.find(w=>w.width>=S*y))!==null&&x!==void 0?x:d[d.length-1];(!r||d.findIndex(w=>w.src===r)<d.findIndex(w=>w===T))&&o({type:"fetch",source:T.src})});Fl(v,[a.width,a.height,y,v]);const b=Er(x=>o({type:"done",source:x})),_={WebkitTransform:c?"initial":"translateZ(0)"};return h||Object.assign(_,a.width/a.height<f/m?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),R.createElement(R.Fragment,null,i&&i!==r&&R.createElement(_S,{key:"preload",...e,offset:void 0,slide:{...s,src:i,srcSet:void 0},style:{position:"absolute",visibility:"hidden",..._},onLoad:()=>b(i),render:{...u,iconLoading:()=>null,iconError:()=>null}}),r&&R.createElement(_S,{key:"current",...e,slide:{...s,src:r,srcSet:void 0},style:_}))}function Owe({render:e,slide:t,offset:n,rect:r}){var i;const[o,s]=R.useState(),a=R.useRef(null),{zoom:l,maxZoom:u,offsetX:c,offsetY:d,setZoomWrapper:f}=fR(),m=l>1,{carousel:h,on:g}=Fa(),{currentIndex:S}=cd();Fl(()=>n===0?(f({zoomWrapperRef:a,imageDimensions:o}),()=>f(void 0)):()=>{},[n,o,f]);let y=(i=e.slide)===null||i===void 0?void 0:i.call(e,{slide:t,offset:n,rect:r,zoom:l,maxZoom:u});if(!y&&xm(t)){const v={slide:t,offset:n,rect:r,render:e,imageFit:h.imageFit,imageProps:h.imageProps,onClick:n===0?()=>{var b;return(b=g.click)===null||b===void 0?void 0:b.call(g,{index:S})}:void 0};y=Ewe(t)?R.createElement(Cwe,{...v,slide:t,interactive:m,rect:n===0?{width:r.width*l,height:r.height*l}:r}):R.createElement(_S,{onLoad:b=>s({width:b.naturalWidth,height:b.naturalHeight}),...v})}return y?R.createElement("div",{ref:a,className:$l(ar(sxe),ar(JP),ar(Aq),m&&ar(lxe)),style:n===0?{transform:`scale(${l}) translateX(${c}px) translateY(${d}px)`}:void 0},y):null}const Dwe=({augment:e,addModule:t})=>{e(({zoom:n,toolbar:r,render:i,controller:o,...s})=>{const a=Zq(n);return{zoom:a,toolbar:vxe(r,OL,R.createElement(Twe,null)),render:{...i,slide:l=>{var u;return xm(l.slide)?R.createElement(Owe,{render:i,...l}):(u=i.slide)===null||u===void 0?void 0:u.call(i,l)}},controller:{...o,preventDefaultWheelY:a.scrollToZoom},...s}}),t(ud(OL,_we))},Pwe=({open:e,setOpen:t,slides:n})=>{const r=n.length===1,i=vr();return U.jsx(fwe,{open:e,close:()=>t(!1),slides:n,plugins:[Dwe],carousel:{finite:r},zoom:{maxZoomPixelRatio:5},labels:{"Zoom in":i("lightboxZoomInAriaLabel"),"Zoom out":i("lightboxZoomOutAriaLabel"),Close:i("lightboxCloseAriaLabel")},render:{buttonPrev:r?()=>null:void 0,buttonNext:r?()=>null:void 0,iconClose:()=>U.jsx(hm,{fill:"currentColor"}),iconZoomIn:()=>U.jsx(SU,{fill:"currentColor"}),iconZoomOut:()=>U.jsx(xU,{fill:"currentColor"})}})},Rwe=()=>U.jsx("div",{className:"ev-loading",children:U.jsx("div",{className:"ev-loading-spinner"})}),Iwe=({className:e,value:t,ariaLabel:n})=>{const r=Bv(t,{min:0,max:100});return U.jsx("div",{className:Pt("ev-progress-bar",e),role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,...n&&{"aria-label":n},children:U.jsx("div",{className:"ev-progress-bar-indicator",style:{transform:`translateX(-${100-r}%)`}})})},Ew=({className:e,radius:t=9,stroke:n=2,value:r,ariaLabel:i})=>{const o=Bv(r,{min:0,max:100}),s=t-n/2,a=s*2*Math.PI,l=a-o/100*a,u=v0e(a);return R.useEffect(()=>{const c=$0e(u,l,{duration:.25});return()=>c.stop()},[u,l]),U.jsxs("svg",{className:Pt("ev-progress-circle",e),height:t*2,width:t*2,...i?{"aria-label":i}:{"aria-hidden":!0},children:[U.jsx("circle",{className:"ev-progress-circle-background",fill:"transparent",shapeRendering:"optimizeQuality",r:s,cx:t,cy:t,strokeWidth:n}),U.jsx(tv.circle,{className:"ev-progress-circle-foreground",fill:"transparent",shapeRendering:"optimizeQuality",r:s,cx:t,cy:t,strokeWidth:n,strokeDasharray:`${a} ${a}`,style:{strokeDashoffset:u}})]})},qL=({align:e,media:t,altText:n})=>U.jsx("div",{className:`ev-text-graphic-layout-column-media ev-layout-column-media-${e}`,children:U.jsx(Ua,{media:t,altText:n})}),kwe=({align:e="center",media:t,side:n="top",text:r,altText:i=""})=>U.jsxs("div",{className:"ev-text-graphic-layout-root",children:[(t==null?void 0:t.src)&&n==="top"&&U.jsx(qL,{align:e,media:t,altText:i}),r&&U.jsx("div",{className:"ev-text-graphic-layout-column",children:U.jsx(Qi,{html:r})}),(t==null?void 0:t.src)&&n==="bottom"&&U.jsx(qL,{align:e,media:t,altText:i})]});function wm(e){return e.split("-")[1]}function pR(e){return e==="y"?"height":"width"}function vu(e){return e.split("-")[0]}function Vf(e){return["top","bottom"].includes(vu(e))?"x":"y"}function HL(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=Vf(t),l=pR(a),u=r[l]/2-i[l]/2,c=a==="x";let d;switch(vu(t)){case"top":d={x:o,y:r.y-i.height};break;case"bottom":d={x:o,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(wm(t)){case"start":d[a]-=u*(n&&c?-1:1);break;case"end":d[a]+=u*(n&&c?-1:1)}return d}const Nwe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:c,y:d}=HL(u,r,l),f=r,m={},h=0;for(let g=0;g<a.length;g++){const{name:S,fn:y}=a[g],{x:v,y:b,data:_,reset:x}=await y({x:c,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});c=v??c,d=b??d,m={...m,[S]:{...m[S],..._}},x&&h<=50&&(h++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(u=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):x.rects),{x:c,y:d}=HL(u,f,l)),g=-1)}return{x:c,y:d,placement:f,strategy:i,middlewareData:m}};function ju(e,t){return typeof e=="function"?e(t):e}function Jq(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function SS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function rv(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:f=!1,padding:m=0}=ju(t,e),h=Jq(m),g=a[f?d==="floating"?"reference":"floating":d],S=SS(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y=d==="floating"?{...s.floating,x:r,y:i}:s.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),b=await(o.isElement==null?void 0:o.isElement(v))&&await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1},_=SS(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:v,strategy:l}):y);return{top:(S.top-_.top+h.top)/b.y,bottom:(_.bottom-S.bottom+h.bottom)/b.y,left:(S.left-_.left+h.left)/b.x,right:(_.right-S.right+h.right)/b.x}}const iv=Math.min,Ad=Math.max;function uC(e,t,n){return Ad(e,iv(t,n))}const GL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a}=t,{element:l,padding:u=0}=ju(e,t)||{};if(l==null)return{};const c=Jq(u),d={x:n,y:r},f=Vf(i),m=pR(f),h=await s.getDimensions(l),g=f==="y",S=g?"top":"left",y=g?"bottom":"right",v=g?"clientHeight":"clientWidth",b=o.reference[m]+o.reference[f]-d[f]-o.floating[m],_=d[f]-o.reference[f],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let T=x?x[v]:0;T&&await(s.isElement==null?void 0:s.isElement(x))||(T=a.floating[v]||o.floating[m]);const w=b/2-_/2,E=T/2-h[m]/2-1,C=iv(c[S],E),D=iv(c[y],E),O=C,I=T-h[m]-D,k=T/2-h[m]/2+w,B=uC(O,k,I),q=wm(i)!=null&&k!=B&&o.reference[m]/2-(k<O?C:D)-h[m]/2<0?k<O?O-k:I-k:0;return{[f]:d[f]-q,data:{[f]:B,centerOffset:k-B+q}}}}),eH=["top","right","bottom","left"];eH.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Mwe={left:"right",right:"left",bottom:"top",top:"bottom"};function xS(e){return e.replace(/left|right|bottom|top/g,t=>Mwe[t])}function jwe(e,t,n){n===void 0&&(n=!1);const r=wm(e),i=Vf(e),o=pR(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=xS(s)),{main:s,cross:xS(s)}}const Lwe={start:"end",end:"start"};function mE(e){return e.replace(/start|end/g,t=>Lwe[t])}const $we=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:h=!0,...g}=ju(e,t),S=vu(r),y=vu(s)===s,v=await(a.isRTL==null?void 0:a.isRTL(l.floating)),b=d||(y||!h?[xS(s)]:function(O){const I=xS(O);return[mE(O),I,mE(I)]}(s));d||m==="none"||b.push(...function(O,I,k,B){const q=wm(O);let H=function(z,ne,ue){const Q=["left","right"],N=["right","left"],G=["top","bottom"],J=["bottom","top"];switch(z){case"top":case"bottom":return ue?ne?N:Q:ne?Q:N;case"left":case"right":return ne?G:J;default:return[]}}(vu(O),k==="start",B);return q&&(H=H.map(z=>z+"-"+q),I&&(H=H.concat(H.map(mE)))),H}(s,h,m,v));const _=[s,...b],x=await rv(t,g),T=[];let w=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&T.push(x[S]),c){const{main:O,cross:I}=jwe(r,o,v);T.push(x[O],x[I])}if(w=[...w,{placement:r,overflows:T}],!T.every(O=>O<=0)){var E,C;const O=(((E=i.flip)==null?void 0:E.index)||0)+1,I=_[O];if(I)return{data:{index:O,overflows:w},reset:{placement:I}};let k=(C=w.filter(B=>B.overflows[0]<=0).sort((B,q)=>B.overflows[1]-q.overflows[1])[0])==null?void 0:C.placement;if(!k)switch(f){case"bestFit":{var D;const B=(D=w.map(q=>[q.placement,q.overflows.filter(H=>H>0).reduce((H,z)=>H+z,0)]).sort((q,H)=>q[1]-H[1])[0])==null?void 0:D[0];B&&(k=B);break}case"initialPlacement":k=s}if(r!==k)return{reset:{placement:k}}}return{}}}};function WL(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YL(e){return eH.some(t=>e[t]>=0)}const Bwe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ju(e,t);switch(r){case"referenceHidden":{const o=WL(await rv(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YL(o)}}}case"escaped":{const o=WL(await rv(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:o,escaped:YL(o)}}}default:return{}}}}},Uwe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(o,s){const{placement:a,platform:l,elements:u}=o,c=await(l.isRTL==null?void 0:l.isRTL(u.floating)),d=vu(a),f=wm(a),m=Vf(a)==="x",h=["left","top"].includes(d)?-1:1,g=c&&m?-1:1,S=ju(s,o);let{mainAxis:y,crossAxis:v,alignmentAxis:b}=typeof S=="number"?{mainAxis:S,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...S};return f&&typeof b=="number"&&(v=f==="end"?-1*b:b),m?{x:v*g,y:y*h}:{x:y*h,y:v*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function tH(e){return e==="x"?"y":"x"}const Fwe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x:y,y:v}=S;return{x:y,y:v}}},...l}=ju(e,t),u={x:n,y:r},c=await rv(t,l),d=Vf(vu(i)),f=tH(d);let m=u[d],h=u[f];if(o){const S=d==="y"?"bottom":"right";m=uC(m+c[d==="y"?"top":"left"],m,m-c[S])}if(s){const S=f==="y"?"bottom":"right";h=uC(h+c[f==="y"?"top":"left"],h,h-c[S])}const g=a.fn({...t,[d]:m,[f]:h});return{...g,data:{x:g.x-n,y:g.y-r}}}}},zwe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=ju(e,t),c={x:n,y:r},d=Vf(i),f=tH(d);let m=c[d],h=c[f];const g=ju(a,t),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const b=d==="y"?"height":"width",_=o.reference[d]-o.floating[b]+S.mainAxis,x=o.reference[d]+o.reference[b]-S.mainAxis;m<_?m=_:m>x&&(m=x)}if(u){var y,v;const b=d==="y"?"width":"height",_=["top","left"].includes(vu(i)),x=o.reference[f]-o.floating[b]+(_&&((y=s.offset)==null?void 0:y[f])||0)+(_?0:S.crossAxis),T=o.reference[f]+o.reference[b]+(_?0:((v=s.offset)==null?void 0:v[f])||0)-(_?S.crossAxis:0);h<x?h=x:h>T&&(h=T)}return{[d]:m,[f]:h}}}},Vwe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=ju(e,t),l=await rv(t,a),u=vu(n),c=wm(n),d=Vf(n)==="x",{width:f,height:m}=r.floating;let h,g;u==="top"||u==="bottom"?(h=u,g=c===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=u,h=c==="end"?"top":"bottom");const S=m-l[h],y=f-l[g],v=!t.middlewareData.shift;let b=S,_=y;if(d){const T=f-l.left-l.right;_=c||v?iv(y,T):T}else{const T=m-l.top-l.bottom;b=c||v?iv(S,T):T}if(v&&!c){const T=Ad(l.left,0),w=Ad(l.right,0),E=Ad(l.top,0),C=Ad(l.bottom,0);d?_=f-2*(T!==0||w!==0?T+w:Ad(l.left,l.right)):b=m-2*(E!==0||C!==0?E+C:Ad(l.top,l.bottom))}await s({...t,availableWidth:_,availableHeight:b});const x=await i.getDimensions(o.floating);return f!==x.width||m!==x.height?{reset:{rects:!0}}:{}}}};function Ra(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function il(e){return Ra(e).getComputedStyle(e)}function nH(e){return e instanceof Ra(e).Node}function Jc(e){return nH(e)?(e.nodeName||"").toLowerCase():"#document"}function ll(e){return e instanceof Ra(e).HTMLElement}function bu(e){return e instanceof Ra(e).Element}function KL(e){return typeof ShadowRoot<"u"&&(e instanceof Ra(e).ShadowRoot||e instanceof ShadowRoot)}function ov(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=il(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function qwe(e){return["table","td","th"].includes(Jc(e))}function cC(e){const t=hR(),n=il(e);return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function hR(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Aw(e){return["html","body","#document"].includes(Jc(e))}const dC=Math.min,Zp=Math.max,wS=Math.round,_0=Math.floor,Ef=e=>({x:e,y:e});function rH(e){const t=il(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=ll(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=wS(n)!==o||wS(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function mR(e){return bu(e)?e:e.contextElement}function Qp(e){const t=mR(e);if(!ll(t))return Ef(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=rH(t);let s=(o?wS(n.width):n.width)/r,a=(o?wS(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const XL=Ef(0);function iH(e,t,n){var r,i;if(t===void 0&&(t=!0),!hR())return XL;const o=e?Ra(e):window;return!n||t&&n!==o?XL:{x:((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,y:((i=o.visualViewport)==null?void 0:i.offsetTop)||0}}function Af(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=mR(e);let s=Ef(1);t&&(r?bu(r)&&(s=Qp(r)):s=Qp(e));const a=iH(o,n,r);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,d=i.height/s.y;if(o){const f=Ra(o),m=r&&bu(r)?Ra(r):r;let h=f.frameElement;for(;h&&r&&m!==f;){const g=Qp(h),S=h.getBoundingClientRect(),y=getComputedStyle(h),v=S.left+(h.clientLeft+parseFloat(y.paddingLeft))*g.x,b=S.top+(h.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,u*=g.y,c*=g.x,d*=g.y,l+=v,u+=b,h=Ra(h).frameElement}}return SS({width:c,height:d,x:l,y:u})}function _u(e){return((nH(e)?e.ownerDocument:e.document)||window.document).documentElement}function Cw(e){return bu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function oH(e){return Af(_u(e)).left+Cw(e).scrollLeft}function jh(e){if(Jc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KL(e)&&e.host||_u(e);return KL(t)?t.host:t}function sH(e){const t=jh(e);return Aw(t)?e.ownerDocument?e.ownerDocument.body:e.body:ll(t)&&ov(t)?t:sH(t)}function TS(e,t){var n;t===void 0&&(t=[]);const r=sH(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Ra(r);return i?t.concat(o,o.visualViewport||[],ov(r)?r:[]):t.concat(r,TS(r))}function ZL(e,t,n){let r;if(t==="viewport")r=function(i,o){const s=Ra(i),a=_u(i),l=s.visualViewport;let u=a.clientWidth,c=a.clientHeight,d=0,f=0;if(l){u=l.width,c=l.height;const m=hR();(!m||m&&o==="fixed")&&(d=l.offsetLeft,f=l.offsetTop)}return{width:u,height:c,x:d,y:f}}(e,n);else if(t==="document")r=function(i){const o=_u(i),s=Cw(i),a=i.ownerDocument.body,l=Zp(o.scrollWidth,o.clientWidth,a.scrollWidth,a.clientWidth),u=Zp(o.scrollHeight,o.clientHeight,a.scrollHeight,a.clientHeight);let c=-s.scrollLeft+oH(i);const d=-s.scrollTop;return il(a).direction==="rtl"&&(c+=Zp(o.clientWidth,a.clientWidth)-l),{width:l,height:u,x:c,y:d}}(_u(e));else if(bu(t))r=function(i,o){const s=Af(i,!0,o==="fixed"),a=s.top+i.clientTop,l=s.left+i.clientLeft,u=ll(i)?Qp(i):Ef(1);return{width:i.clientWidth*u.x,height:i.clientHeight*u.y,x:l*u.x,y:a*u.y}}(t,n);else{const i=iH(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return SS(r)}function aH(e,t){const n=jh(e);return!(n===t||!bu(n)||Aw(n))&&(il(n).position==="fixed"||aH(n,t))}function QL(e,t){return ll(e)&&il(e).position!=="fixed"?t?t(e):e.offsetParent:null}function JL(e,t){const n=Ra(e);if(!ll(e))return n;let r=QL(e,t);for(;r&&qwe(r)&&il(r).position==="static";)r=QL(r,t);return r&&(Jc(r)==="html"||Jc(r)==="body"&&il(r).position==="static"&&!cC(r))?n:r||function(i){let o=jh(i);for(;ll(o)&&!Aw(o);){if(cC(o))return o;o=jh(o)}return null}(e)||n}function Hwe(e,t,n){const r=ll(t),i=_u(t),o=n==="fixed",s=Af(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Ef(0);if(r||!r&&!o)if((Jc(t)!=="body"||ov(i))&&(a=Cw(t)),ll(t)){const u=Af(t,!0,o,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=oH(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}const Gwe={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=n==="clippingAncestors"?function(u,c){const d=c.get(u);if(d)return d;let f=TS(u).filter(S=>bu(S)&&Jc(S)!=="body"),m=null;const h=il(u).position==="fixed";let g=h?jh(u):u;for(;bu(g)&&!Aw(g);){const S=il(g),y=cC(g);y||S.position!=="fixed"||(m=null),(h?!y&&!m:!y&&S.position==="static"&&m&&["absolute","fixed"].includes(m.position)||ov(g)&&!y&&aH(u,g))?f=f.filter(v=>v!==g):m=S,g=jh(g)}return c.set(u,f),f}(t,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((u,c)=>{const d=ZL(t,c,i);return u.top=Zp(d.top,u.top),u.right=dC(d.right,u.right),u.bottom=dC(d.bottom,u.bottom),u.left=Zp(d.left,u.left),u},ZL(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=ll(n),o=_u(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a=Ef(1);const l=Ef(0);if((i||!i&&r!=="fixed")&&((Jc(n)!=="body"||ov(o))&&(s=Cw(n)),ll(n))){const u=Af(n);a=Qp(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}},isElement:bu,getDimensions:function(e){return rH(e)},getOffsetParent:JL,getDocumentElement:_u,getScale:Qp,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||JL,o=this.getDimensions;return{reference:Hwe(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>il(e).direction==="rtl"};function Wwe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=mR(e),c=i||o?[...u?TS(u):[],...TS(t)]:[];c.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const d=u&&a?function(S,y){let v,b=null;const _=_u(S);function x(){clearTimeout(v),b&&b.disconnect(),b=null}return function T(w,E){w===void 0&&(w=!1),E===void 0&&(E=1),x();const{left:C,top:D,width:O,height:I}=S.getBoundingClientRect();if(w||y(),!O||!I)return;const k={rootMargin:-_0(D)+"px "+-_0(_.clientWidth-(C+O))+"px "+-_0(_.clientHeight-(D+I))+"px "+-_0(C)+"px",threshold:Zp(0,dC(1,E))||1};let B=!0;function q(H){const z=H[0].intersectionRatio;if(z!==E){if(!B)return T();z?T(!1,z):v=setTimeout(()=>{T(!1,1e-7)},100)}B=!1}try{b=new IntersectionObserver(q,{...k,root:_.ownerDocument})}catch{b=new IntersectionObserver(q,k)}b.observe(S)}(!0),x}(u,n):null;let f,m=-1,h=null;s&&(h=new ResizeObserver(S=>{let[y]=S;y&&y.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{h&&h.observe(t)})),n()}),u&&!l&&h.observe(u),h.observe(t));let g=l?Af(e):null;return l&&function S(){const y=Af(e);!g||y.x===g.x&&y.y===g.y&&y.width===g.width&&y.height===g.height||n(),g=y,f=requestAnimationFrame(S)}(),n(),()=>{c.forEach(S=>{i&&S.removeEventListener("scroll",n),o&&S.removeEventListener("resize",n)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(f)}}const Ywe=(e,t,n)=>{const r=new Map,i={platform:Gwe,...n},o={...i.platform,_c:r};return Nwe(e,t,{...i,platform:o})};var p_=typeof document<"u"?R.useLayoutEffect:R.useEffect;function ES(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ES(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ES(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function lH(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function e$(e,t){const n=lH(e);return Math.round(t*n)/n}function t$(e){const t=R.useRef(e);return p_(()=>{t.current=e}),t}function Kwe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,d]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,m]=R.useState(r);ES(f,r)||m(r);const[h,g]=R.useState(null),[S,y]=R.useState(null),v=R.useCallback(z=>{z!==T.current&&(T.current=z,g(z))},[]),b=R.useCallback(z=>{z!==w.current&&(w.current=z,y(z))},[]),_=o||h,x=s||S,T=R.useRef(null),w=R.useRef(null),E=R.useRef(c),C=l!=null,D=t$(l),O=t$(i),I=R.useCallback(()=>{if(!T.current||!w.current)return;const z={placement:t,strategy:n,middleware:f};O.current&&(z.platform=O.current),Ywe(T.current,w.current,z).then(ne=>{const ue={...ne,isPositioned:!0};k.current&&!ES(E.current,ue)&&(E.current=ue,Hs.flushSync(()=>{d(ue)}))})},[f,t,n,O]);p_(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(z=>({...z,isPositioned:!1})))},[u]);const k=R.useRef(!1);p_(()=>(k.current=!0,()=>{k.current=!1}),[]),p_(()=>{if(_&&(T.current=_),x&&(w.current=x),_&&x){if(D.current)return D.current(_,x,I);I()}},[_,x,I,D,C]);const B=R.useMemo(()=>({reference:T,floating:w,setReference:v,setFloating:b}),[v,b]),q=R.useMemo(()=>({reference:_,floating:x}),[_,x]),H=R.useMemo(()=>{const z={position:n,left:0,top:0};if(!q.floating)return z;const ne=e$(q.floating,c.x),ue=e$(q.floating,c.y);return a?{...z,transform:"translate("+ne+"px, "+ue+"px)",...lH(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ue}},[n,a,q.floating,c.x,c.y]);return R.useMemo(()=>({...c,update:I,refs:B,elements:q,floatingStyles:H}),[c,I,B,q,H])}const Xwe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?GL({element:r.current,padding:i}).fn(n):{}:r?GL({element:r,padding:i}).fn(n):{}}}},Zwe=(e,t)=>({...Uwe(e),options:[e,t]}),Qwe=(e,t)=>({...Fwe(e),options:[e,t]}),Jwe=(e,t)=>({...zwe(e),options:[e,t]}),eTe=(e,t)=>({...$we(e),options:[e,t]}),tTe=(e,t)=>({...Vwe(e),options:[e,t]}),nTe=(e,t)=>({...Bwe(e),options:[e,t]}),rTe=(e,t)=>({...Xwe(e),options:[e,t]});var iTe="Arrow",uH=R.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return U.jsx(Ui.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});uH.displayName=iTe;var oTe=uH;function sTe(e){const[t,n]=R.useState(void 0);return ku(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var gR="Popper",[cH,Ow]=Zv(gR),[aTe,dH]=cH(gR),fH=e=>{const{__scopePopper:t,children:n}=e,[r,i]=R.useState(null);return U.jsx(aTe,{scope:t,anchor:r,onAnchorChange:i,children:n})};fH.displayName=gR;var pH="PopperAnchor",hH=R.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=dH(pH,n),s=R.useRef(null),a=ao(t,s),l=R.useRef(null);return R.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||s.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:U.jsx(Ui.div,{...i,ref:a})});hH.displayName=pH;var yR="PopperContent",[lTe,uTe]=cH(yR),mH=R.forwardRef((e,t)=>{var ie,de,ye,Te,me,ae;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:c=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:m="optimized",onPlaced:h,...g}=e,S=dH(yR,n),[y,v]=R.useState(null),b=ao(t,ge=>v(ge)),[_,x]=R.useState(null),T=sTe(_),w=(T==null?void 0:T.width)??0,E=(T==null?void 0:T.height)??0,C=r+(o!=="center"?"-"+o:""),D=typeof c=="number"?c:{top:0,right:0,bottom:0,left:0,...c},O=Array.isArray(u)?u:[u],I=O.length>0,k={padding:D,boundary:O.filter(dTe),altBoundary:I},{refs:B,floatingStyles:q,placement:H,isPositioned:z,middlewareData:ne}=Kwe({strategy:"fixed",placement:C,whileElementsMounted:(...ge)=>Wwe(...ge,{animationFrame:m==="always"}),elements:{reference:S.anchor},middleware:[Zwe({mainAxis:i+E,alignmentAxis:s}),l&&Qwe({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Jwe():void 0,...k}),l&&eTe({...k}),tTe({...k,apply:({elements:ge,rects:$,availableWidth:te,availableHeight:oe})=>{const{width:Se,height:Pe}=$.reference,Oe=ge.floating.style;Oe.setProperty("--radix-popper-available-width",`${te}px`),Oe.setProperty("--radix-popper-available-height",`${oe}px`),Oe.setProperty("--radix-popper-anchor-width",`${Se}px`),Oe.setProperty("--radix-popper-anchor-height",`${Pe}px`)}}),_&&rTe({element:_,padding:a}),fTe({arrowWidth:w,arrowHeight:E}),f&&nTe({strategy:"referenceHidden",...k})]}),[ue,Q]=vH(H),N=Vs(h);ku(()=>{z&&(N==null||N())},[z,N]);const G=(ie=ne.arrow)==null?void 0:ie.x,J=(de=ne.arrow)==null?void 0:de.y,Y=((ye=ne.arrow)==null?void 0:ye.centerOffset)!==0,[L,K]=R.useState();return ku(()=>{y&&K(window.getComputedStyle(y).zIndex)},[y]),U.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:L,"--radix-popper-transform-origin":[(Te=ne.transformOrigin)==null?void 0:Te.x,(me=ne.transformOrigin)==null?void 0:me.y].join(" "),...((ae=ne.hide)==null?void 0:ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:U.jsx(lTe,{scope:n,placedSide:ue,onArrowChange:x,arrowX:G,arrowY:J,shouldHideArrow:Y,children:U.jsx(Ui.div,{"data-side":ue,"data-align":Q,...g,ref:b,style:{...g.style,animation:z?void 0:"none"}})})})});mH.displayName=yR;var gH="PopperArrow",cTe={top:"bottom",right:"left",bottom:"top",left:"right"},yH=R.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=uTe(gH,r),s=cTe[o.placedSide];return U.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:U.jsx(oTe,{...i,ref:n,style:{...i.style,display:"block"}})})});yH.displayName=gH;function dTe(e){return e!==null}var fTe=e=>({name:"transformOrigin",options:e,fn(t){var S,y,v;const{placement:n,rects:r,middlewareData:i}=t,s=((S=i.arrow)==null?void 0:S.centerOffset)!==0,a=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[u,c]=vH(n),d={start:"0%",center:"50%",end:"100%"}[c],f=(((y=i.arrow)==null?void 0:y.x)??0)+a/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+l/2;let h="",g="";return u==="bottom"?(h=s?d:`${f}px`,g=`${-l}px`):u==="top"?(h=s?d:`${f}px`,g=`${r.floating.height+l}px`):u==="right"?(h=`${-l}px`,g=s?d:`${m}px`):u==="left"&&(h=`${r.floating.width+l}px`,g=s?d:`${m}px`),{data:{x:h,y:g}}}});function vH(e){const[t,n="center"]=e.split("-");return[t,n]}var bH=fH,vR=hH,_H=mH,SH=yH,[Dw,N4e]=Zv("Tooltip",[Ow]),Pw=Ow(),xH="TooltipProvider",pTe=700,fC="tooltip.open",[hTe,bR]=Dw(xH),wH=e=>{const{__scopeTooltip:t,delayDuration:n=pTe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,s=R.useRef(!0),a=R.useRef(!1),l=R.useRef(0);return R.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),U.jsx(hTe,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(l.current),s.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:R.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:o})};wH.displayName=xH;var sv="Tooltip",[mTe,ib]=Dw(sv),TH=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=e,l=bR(sv,e.__scopeTooltip),u=Pw(t),[c,d]=R.useState(null),f=oy(),m=R.useRef(0),h=s??l.disableHoverableContent,g=a??l.delayDuration,S=R.useRef(!1),[y,v]=ZD({prop:r,defaultProp:i??!1,onChange:w=>{w?(l.onOpen(),document.dispatchEvent(new CustomEvent(fC))):l.onClose(),o==null||o(w)},caller:sv}),b=R.useMemo(()=>y?S.current?"delayed-open":"instant-open":"closed",[y]),_=R.useCallback(()=>{window.clearTimeout(m.current),m.current=0,S.current=!1,v(!0)},[v]),x=R.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),T=R.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{S.current=!0,v(!0),m.current=0},g)},[g,v]);return R.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),U.jsx(bH,{...u,children:U.jsx(mTe,{scope:t,contentId:f,open:y,stateAttribute:b,trigger:c,onTriggerChange:d,onTriggerEnter:R.useCallback(()=>{l.isOpenDelayedRef.current?T():_()},[l.isOpenDelayedRef,T,_]),onTriggerLeave:R.useCallback(()=>{h?x():(window.clearTimeout(m.current),m.current=0)},[x,h]),onOpen:_,onClose:x,disableHoverableContent:h,children:n})})};TH.displayName=sv;var pC="TooltipTrigger",EH=R.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=ib(pC,n),o=bR(pC,n),s=Pw(n),a=R.useRef(null),l=ao(t,a,i.onTriggerChange),u=R.useRef(!1),c=R.useRef(!1),d=R.useCallback(()=>u.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),U.jsx(vR,{asChild:!0,...s,children:U.jsx(Ui.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Wr(e.onPointerMove,f=>{f.pointerType!=="touch"&&!c.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),c.current=!0)}),onPointerLeave:Wr(e.onPointerLeave,()=>{i.onTriggerLeave(),c.current=!1}),onPointerDown:Wr(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Wr(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Wr(e.onBlur,i.onClose),onClick:Wr(e.onClick,i.onClose)})})});EH.displayName=pC;var _R="TooltipPortal",[gTe,yTe]=Dw(_R,{forceMount:void 0}),AH=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=ib(_R,t);return U.jsx(gTe,{scope:t,forceMount:n,children:U.jsx($a,{present:n||o.open,children:U.jsx(lw,{asChild:!0,container:i,children:r})})})};AH.displayName=_R;var Lh="TooltipContent",CH=R.forwardRef((e,t)=>{const n=yTe(Lh,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,s=ib(Lh,e.__scopeTooltip);return U.jsx($a,{present:r||s.open,children:s.disableHoverableContent?U.jsx(OH,{side:i,...o,ref:t}):U.jsx(vTe,{side:i,...o,ref:t})})}),vTe=R.forwardRef((e,t)=>{const n=ib(Lh,e.__scopeTooltip),r=bR(Lh,e.__scopeTooltip),i=R.useRef(null),o=ao(t,i),[s,a]=R.useState(null),{trigger:l,onClose:u}=n,c=i.current,{onPointerInTransitChange:d}=r,f=R.useCallback(()=>{a(null),d(!1)},[d]),m=R.useCallback((h,g)=>{const S=h.currentTarget,y={x:h.clientX,y:h.clientY},v=wTe(y,S.getBoundingClientRect()),b=TTe(y,v),_=ETe(g.getBoundingClientRect()),x=CTe([...b,..._]);a(x),d(!0)},[d]);return R.useEffect(()=>()=>f(),[f]),R.useEffect(()=>{if(l&&c){const h=S=>m(S,c),g=S=>m(S,l);return l.addEventListener("pointerleave",h),c.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",h),c.removeEventListener("pointerleave",g)}}},[l,c,m,f]),R.useEffect(()=>{if(s){const h=g=>{const S=g.target,y={x:g.clientX,y:g.clientY},v=(l==null?void 0:l.contains(S))||(c==null?void 0:c.contains(S)),b=!ATe(y,s);v?f():b&&(f(),u())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[l,c,s,u,f]),U.jsx(OH,{...e,ref:o})}),[bTe,_Te]=Dw(sv,{isInside:!1}),STe=ihe("TooltipContent"),OH=R.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=e,l=ib(Lh,n),u=Pw(n),{onClose:c}=l;return R.useEffect(()=>(document.addEventListener(fC,c),()=>document.removeEventListener(fC,c)),[c]),R.useEffect(()=>{if(l.trigger){const d=f=>{const m=f.target;m!=null&&m.contains(l.trigger)&&c()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,c]),U.jsx(aw,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:d=>d.preventDefault(),onDismiss:c,children:U.jsxs(_H,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[U.jsx(STe,{children:r}),U.jsx(bTe,{scope:n,isInside:!0,children:U.jsx(iP,{id:l.contentId,role:"tooltip",children:i||r})})]})})});CH.displayName=Lh;var DH="TooltipArrow",xTe=R.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Pw(n);return _Te(DH,n).isInside?null:U.jsx(SH,{...i,...r,ref:t})});xTe.displayName=DH;function wTe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function TTe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ETe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function ATe(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o],l=t[s],u=a.x,c=a.y,d=l.x,f=l.y;c>r!=f>r&&n<(d-u)*(r-c)/(f-c)+u&&(i=!i)}return i}function CTe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),OTe(t)}function OTe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var DTe=wH,PTe=TH,RTe=EH,ITe=AH,kTe=CH;const NTe=e=>e.courseData.theme.entity;function MTe(){return Cr(NTe)}function ii(e){const t=MTe();return t==null?void 0:t.variables[e]}const PH=({children:e,content:t,side:n})=>{const r=ii("--ev-tooltip-label");return U.jsx(DTe,{children:U.jsxs(PTe,{delayDuration:250,children:[U.jsx(RTe,{asChild:!0,children:e}),U.jsx(ITe,{children:U.jsx(kTe,{className:Pt(Kpe.content,Bt.label,r),side:n,sideOffset:4,children:t})})]})})},jTe=({platformProgress:e,fetchCourseData:t})=>{const n=Hu(),r=Sm(),i=ua(),o=zpe(),[s,a]=R.useState(!0),[l,u]=R.useState(null);if(R.useEffect(()=>{(async()=>{try{const d=await t(),{config:f,...m}=d;i(qpe(f)),i(so(m)),i(v7({...d,platformProgress:e})),i(ad(d)),i(G7(!0))}catch(d){console.error(d),u(d)}finally{a(!1)}})()},[i,n,t,e]),R.useEffect(()=>{if(!o)return;const c=q7(r.getState());n(c)},[o,n,r]),s)return U.jsx(Rwe,{});if(l){const c=l instanceof Error?l.message:"Unknown error";return U.jsxs("div",{children:["Error: ",c]})}return U.jsx(sU,{})};function LTe({listeners:e,extraArgument:t={}}){const n=xse({extra:t}),r=n.startListening;return e.forEach(i=>i(r)),n}function RH(e,t){return e.object===Qt.Element?[e]:ppe({from:e,...t})}const n$=(e,t)=>RH(e,t).filter(i=>{var o;return(o=t.tracking.elementTracking[i.refId])==null?void 0:o.required}).every(i=>{var o;return(o=t.tracking.elementTracking[i.refId])==null?void 0:o.completed}),Rw=(e,t)=>RH(e,t).some(n=>{var r;return(r=t.tracking.elementTracking[n.refId])==null?void 0:r.viewed}),hC=(e,t)=>{var s;const{sections:n,pages:r}=e.courseData,i=n.byRefId[t]??"",o=((s=n.byId[i])==null?void 0:s.parentId)??"";return r.byId[o]},S0=(e,t)=>Yx(t.map(n=>hC(e,n)).filter(Boolean),n=>n.refId),r$=(e,t)=>z7(e,t._id).every(({refId:r})=>e.courseData.sections.completed.includes(r)),$Te=e=>{e({actionCreator:KP,effect:(t,n)=>{const r=n.getState(),i=hC(r,t.payload.sectionRefId);!i||r.courseData.pages.viewed.includes(i.refId)||n.dispatch(nC({pageRefId:i.refId}))}}),e({actionCreator:XP,effect:(t,n)=>{const r=n.getState(),{pages:i}=r.courseData,o=hC(r,t.payload.sectionRefId);!o||i.completed.includes(o.refId)||!r$(r,o)||n.dispatch(rC({pageRefId:o.refId}))}}),e({actionCreator:fq,effect:(t,n)=>{const r=n.getState(),i=S0(r,t.payload.sectionRefIds);if(!i.length)return;const o=i.filter(s=>!Rw(s,r));o.length&&n.dispatch(tSe({pageRefIds:o.map(({refId:s})=>s)}))}}),e({actionCreator:pq,effect:(t,n)=>{const r=n.getState(),i=S0(r,t.payload.sectionRefIds);i.length&&n.dispatch(nSe({pageRefIds:i.map(({refId:o})=>o)}))}}),e({actionCreator:hq,effect:(t,n)=>{const r=n.getState(),i=S0(r,t.payload.sectionRefIds);i.length&&n.dispatch(rSe({pageRefIds:i.map(({refId:o})=>o)}))}}),e({actionCreator:mq,effect:(t,n)=>{const r=n.getState(),o=S0(r,t.payload.sectionRefIds).filter(s=>r$(r,s));o.length&&n.dispatch(iSe({pageRefIds:o.map(({refId:s})=>s)}))}})},mC=(e,t)=>{var s;const{rows:n,sections:r}=e.courseData,i=n.byRefId[t]??"",o=((s=n.byId[i])==null?void 0:s.parentId)??"";return r.byId[o]},x0=(e,t)=>Yx(t.map(n=>mC(e,n)).filter(Boolean),n=>n.refId),i$=(e,t)=>Npe(e,t._id).every(({refId:r})=>e.courseData.rows.completed.includes(r)),BTe=e=>{e({actionCreator:WP,effect:(t,n)=>{const r=n.getState(),i=mC(r,t.payload.rowRefId);!i||r.courseData.sections.viewed.includes(i.refId)||n.dispatch(KP({sectionRefId:i.refId}))}}),e({actionCreator:YP,effect:(t,n)=>{const r=n.getState(),{sections:i}=r.courseData,o=mC(r,t.payload.rowRefId);!o||i.completed.includes(o.refId)||!i$(r,o)||n.dispatch(XP({sectionRefId:o.refId}))}}),e({actionCreator:aq,effect:(t,n)=>{const r=n.getState(),i=x0(r,t.payload.rowRefIds);if(!i.length)return;const o=i.filter(s=>!Rw(s,r));o.length&&n.dispatch(fq({sectionRefIds:o.map(({refId:s})=>s)}))}}),e({actionCreator:lq,effect:(t,n)=>{const r=n.getState(),i=x0(r,t.payload.rowRefIds);i.length&&n.dispatch(pq({sectionRefIds:i.map(({refId:o})=>o)}))}}),e({actionCreator:uq,effect:(t,n)=>{const r=n.getState(),i=x0(r,t.payload.rowRefIds);i.length&&n.dispatch(hq({sectionRefIds:i.map(({refId:o})=>o)}))}}),e({actionCreator:cq,effect:(t,n)=>{const r=n.getState(),o=x0(r,t.payload.rowRefIds).filter(s=>i$(r,s));o.length&&n.dispatch(mq({sectionRefIds:o.map(({refId:s})=>s)}))}})},IH=[],UTe=Zr([e=>e.courseData.columns.byId,e=>e.courseData.columns.byParentId,(e,t)=>t],(e,t,n)=>{const r=t[n];return r?Fo(e,al(r),jo()):IH},{memoize:Mr,argsMemoize:Mr}),FTe=(e,t)=>e.courseData.columns.byId[t],zTe=(e,t)=>e.courseData.columns.byRefId[t];Zr([e=>e.courseData.columns.byId,zTe],(e,t)=>t?e[t]:void 0);const VTe=(e,t)=>e.courseData.columns.byParentId[t]??IH,gC=(e,t)=>{var s;const{columns:n,rows:r}=e.courseData,i=n.byRefId[t]??"",o=((s=n.byId[i])==null?void 0:s.parentId)??"";return r.byId[o]},w0=(e,t)=>Yx(t.map(n=>gC(e,n)).filter(Boolean),n=>n.refId),o$=(e,t)=>UTe(e,t._id).every(({refId:r})=>e.courseData.columns.completed.includes(r)),qTe=e=>{e({actionCreator:zV,effect:(t,n)=>{const r=n.getState(),i=gC(r,t.payload.columnRefId);!i||r.courseData.rows.viewed.includes(i.refId)||n.dispatch(WP({rowRefId:i.refId}))}}),e({actionCreator:VV,effect:(t,n)=>{const r=n.getState(),{rows:i}=r.courseData,o=gC(r,t.payload.columnRefId);!o||i.completed.includes(o.refId)||!o$(r,o)||n.dispatch(YP({rowRefId:o.refId}))}}),e({actionCreator:qV,effect:(t,n)=>{const r=n.getState(),i=w0(r,t.payload.columnRefIds);if(!i.length)return;const o=i.filter(s=>!Rw(s,r));o.length&&n.dispatch(aq({rowRefIds:o.map(({refId:s})=>s)}))}}),e({actionCreator:HV,effect:(t,n)=>{const r=n.getState(),i=w0(r,t.payload.columnRefIds);i.length&&n.dispatch(lq({rowRefIds:i.map(({refId:o})=>o)}))}}),e({actionCreator:GV,effect:(t,n)=>{const r=n.getState(),i=w0(r,t.payload.columnRefIds);i.length&&n.dispatch(uq({rowRefIds:i.map(({refId:o})=>o)}))}}),e({actionCreator:WV,effect:(t,n)=>{const r=n.getState(),o=w0(r,t.payload.columnRefIds).filter(s=>o$(r,s));o.length&&n.dispatch(cq({rowRefIds:o.map(({refId:s})=>s)}))}})},yC=(e,t)=>{var s;const{elements:n,columns:r}=e.courseData,i=n.byRefId[t]??"",o=((s=n.byId[i])==null?void 0:s.parentId)??"";return r.byId[o]},gE=(e,t)=>Yx(t.map(n=>yC(e,n)).filter(Boolean),n=>n.refId),HTe=e=>{e({actionCreator:ry,effect:(t,n)=>{const r=n.getState(),i=yC(r,t.payload.elementRefId);!i||r.courseData.columns.viewed.includes(i.refId)||n.dispatch(zV({columnRefId:i.refId}))}}),e({actionCreator:Ru,effect:(t,n)=>{const r=n.getState(),{columns:i}=r.courseData,o=yC(r,t.payload.elementRefId);!o||i.completed.includes(o.refId)||n$(o,r)&&n.dispatch(VV({columnRefId:o.refId}))}}),e({matcher:Fr(Wy,Ml),effect:(t,n)=>{const r=n.getState(),i=gE(r,t.payload.elementRefIds);if(!i.length)return;n.dispatch(HV({columnRefIds:i.map(({refId:s})=>s)}));const o=i.filter(s=>!Rw(s,r));o.length&&n.dispatch(qV({columnRefIds:o.map(({refId:s})=>s)}))}}),e({actionCreator:ad,effect:(t,n)=>{const r=n.getState(),{elementTracking:i}=r.tracking,o=Object.entries(i).filter(([,c])=>c.viewed).map(([c])=>c),s=gE(r,o);if(!s.length)return;n.dispatch(GV({columnRefIds:s.map(({refId:c})=>c)}));const a=Object.entries(i).filter(([,c])=>c.completed).map(([c])=>c),u=gE(r,a).filter(c=>n$(c,r));u.length&&n.dispatch(WV({columnRefIds:u.map(({refId:c})=>c)}))}})},GTe=e=>{e({predicate:(t,n)=>_f.match(t)&&n.tracking.assessmentTracking.status===Ni.Completed,effect:(t,n)=>{n.dispatch(tC(!0))}})},WTe=e=>{e({predicate:(t,n)=>qc.match(t)&&n.tracking.courseTracking.status!==ci.Incomplete,effect:(t,n)=>{n.dispatch(c_(!0))}})},YTe=e=>{e({matcher:Fr(iw,_f),effect:(t,{getState:n,dispatch:r,unsubscribe:i})=>{var u;const{courseData:{courseSettings:o},tracking:{assessmentTracking:s,courseTracking:a}}=n(),l=((u=o.entity)==null?void 0:u.courseCompletion.method)??"elements";if(l==="logic")return i();if(a.status===ci.Incomplete){if(l==="elements"&&a.elementsCompleted){r(qc(ci.Completed));return}if(l==="assessment"&&s.isEnabled){let c;switch(s.status){case Ni.Passed:c=ci.Passed;break;case Ni.Failed:c=ci.Failed;break;default:c=ci.Incomplete}r(qc(c))}}}})},ob=[],kH=(e,t)=>e.courseData.elements.byId[t],KTe=(e,t)=>e.courseData.elements.byRefId[t];Zr([e=>e.courseData.elements.byId,KTe],(e,t)=>t?e[t]:void 0);const XTe=(e,t)=>e.courseData.elements.byColumnId[t]??ob;Zr([e=>e.courseData.elements.byId,e=>e.courseData.elements.byColumnId,(e,t)=>t],(e,t,n)=>{const r=t[n];return r?r.map(i=>{var o;return(o=e[i])==null?void 0:o.refId}).filter(Boolean):ob},{memoize:Mr,argsMemoize:Mr});const ZTe=(e,t)=>e.courseData.elements.byPageId[t]??ob,QTe=(e,t)=>e.courseData.elements.refIdsByPageId[t]??ob;Zr([e=>e.courseData.elements.byId,e=>e.courseData.elements.byColumnId,(e,t)=>t],(e,t,n)=>{const r=t[n];return r?Fo(e,al(r),jo()):ob},{memoize:Mr,argsMemoize:Mr});Zr([e=>e.courseData.elements.byRefId,(e,t)=>t],(e,t)=>t.map(n=>e[n]).filter(Boolean),{memoize:Mr,argsMemoize:Mr});const JTe=e=>{e({actionCreator:JV,effect:async(t,{getState:n,getOriginalState:r,delay:i})=>{const{openDialogs:o}=r().courseData.dialogs,s=o.find(({refId:f})=>f===t.payload.refId);if(!(s!=null&&s.triggeredBy))return;const a=n(),l=XD(a),u=kH(a,s.triggeredBy);let c=s.triggeredBy===l?"h1":`[data-id='${s.triggeredBy}']`;(u==null?void 0:u.variant)==="ButtonElement"&&(c+=" button"),await i(100);const d=document.querySelector(c);d==null||d.focus({preventScroll:!0})}})},e1e=e=>{e({actionCreator:Ru,effect:(t,n)=>{var s;const{elementRefId:r}=t.payload,{elementTracking:i}=n.getState().tracking,{response:o}=((s=i[r])==null?void 0:s.state)??{};(o===wt.Incorrect||o===wt.PartlyCorrect)&&n.dispatch(w7({elementRefId:r}))}})},t1e=e=>{e({actionCreator:Ru,effect:(t,n)=>{var s;const{elementRefId:r}=t.payload,{elementTracking:i}=n.getState().tracking,o=(s=i[r])==null?void 0:s.state;(o==null?void 0:o.response)===wt.Correct&&n.dispatch(x7({elementRefId:r}))}})},n1e=e=>{e({actionCreator:Ru,effect:(t,n)=>{const{courseTracking:r,elementTracking:i}=n.getState().tracking;if(r.elementsCompleted)return;Object.values(i).filter(l=>l.required).every(l=>l.completed)&&n.dispatch(iw(!0))}})},r1e=e=>e.tracking.triggerTracking,NH=Zr(r1e,e=>new Set(e)),MH=[],i1e=e=>e.courseData.triggers,jH=e=>e.courseData.triggers.byId,o1e=(e,t)=>e.courseData.triggers.byTriggerKey[t]??MH,s1e=(e,t,n)=>{var r;return((r=e.courseData.triggers.byTarget[t])==null?void 0:r[n])??MH},a1e=Zr([jH,o1e,NH],(e,t,n)=>Fo(e,al(t),jo()).filter(r=>n.has(r.refId)),{memoize:Mr,argsMemoize:Mr}),sb=(e,t,n)=>a1e(e,`${t}:${n}`),Iw=Zr([jH,s1e,NH],(e,t,n)=>Fo(e,al(t),jo()).filter(r=>n.has(r.refId)),{memoize:Mr,argsMemoize:Mr});Zr([i1e,(e,t)=>t],(e,t)=>Fo(e.byId,al(Fo(e.byRefId,al(t),jo())),jo()),{memoize:Mr,argsMemoize:Mr});const ed={Assessment:"assessmentTrigger",DeviceSize:"deviceSizeTrigger",Variable:"variableTrigger",Pages:"pagesTrigger",Sections:"sectionsTrigger",Rows:"rowsTrigger",Elements:"elementsTrigger"},l1e=()=>{const e=Hu(),t=ua(),n=un(s=>{var a;return(a=s.courseData.courseSettings.entity)==null?void 0:a.assessment}),r=un(s=>s.courseDialogs.showAssessmentAttemptDialog),i=vr(),o=`${Bt.button} ${xf.button}`;return U.jsxs(cP,{isOpen:r,onOpenChange:s=>t(tC(s)),onCloseAutoFocus:s=>{var a,l;s.preventDefault(),(l=(a=document.querySelector("h1"))==null?void 0:a.focus)==null||l.call(a,{preventScroll:!0})},children:[(n==null?void 0:n.attemptDialogText)&&U.jsx(lP,{children:U.jsx(Qi,{content:n.attemptDialogText})}),U.jsx(uP,{children:U.jsx(_i,{className:o,onClick:()=>{t(tC(!1)),e("/assessment-results")},children:i("assessmentAttemptDialogViewResultsButton")})})]})},u1e=()=>{const e=Hu(),t=ua(),n=un(l=>l.courseData.courseSettings.entity),r=un(l=>l.tracking.assessmentTracking),i=un(l=>l.courseDialogs.showCourseCompletionDialog),o=vr(),s=`${Bt.button} ${xf.button}`,a=r.isEnabled&&r.status!==Ni.Incomplete;return U.jsxs(cP,{isOpen:i,onOpenChange:l=>t(c_(l)),onCloseAutoFocus:l=>{var u,c;l.preventDefault(),(c=(u=document.querySelector("h1"))==null?void 0:u.focus)==null||c.call(u,{preventScroll:!0})},children:[(n==null?void 0:n.courseCompletion.dialogText)&&U.jsx(lP,{children:U.jsx(Qi,{content:n.courseCompletion.dialogText})}),U.jsx(uP,{children:a?U.jsx(_i,{className:s,onClick:()=>{t(c_(!1)),e("/assessment-results")},children:o("courseCompletionDialogViewResultsButton")}):U.jsx(_i,{className:s,onClick:()=>t(c_(!1)),children:o("courseCompletionDialogCloseButton")})})]})},s$=e=>e<=520?"small":e<=760?"medium":"large";function kw(){const[e,t]=R.useState({width:0,height:0,breakpoint:s$(window.innerWidth)});return R.useLayoutEffect(()=>{const n=()=>{t({width:window.innerWidth,height:window.innerHeight,breakpoint:s$(window.innerWidth)})};return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),e}const c1e=({status:e})=>{const t=vr();return U.jsxs(U.Fragment,{children:[U.jsx(Fx,{}),U.jsx("span",{className:"ev-label",children:t("assessmentResultsTitle")}),e===Ni.Incomplete?U.jsx("span",{className:"ev-course-outline-page-locked",children:U.jsx(mU,{})}):U.jsx("span",{className:"ev-course-outline-page-complete",children:e===Ni.Passed?U.jsx(Lf,{ariaLabel:t("assessmentPassedAria")}):U.jsx(hm,{ariaLabel:t("assessmentFailedAria")})})]})},LH=()=>Cr(e=>XD(e)),SR=e=>Cr(t=>$7(t,e)),d1e={viewed:!1,started:!1,completed:!1,state:{}},$H=(e,t)=>e.tracking.elementTracking[t]||d1e,f1e=Zr([e=>e.tracking.elementTracking,(e,t)=>t],(e,t)=>Fo(e,al(t)),{memoize:Mr,argsMemoize:Mr}),p1e=Zr([e=>e.tracking.elementTracking],e=>{let t=0,n=0;for(const r of Object.values(e))r.required&&(n++,r.completed&&t++);return n===0?Object.values(e).some(r=>r.completed)?100:0:Math.round(t/n*100)}),BH=e=>Cr(t=>f1e(t,e)),h1e=({isEnabled:e,total:t,answered:n,correct:r})=>{if(!e||t===0)return{score:null,isCompleted:null,percentageComplete:null};const i=Math.round(r/t*100),o=n===t;return{score:i,isCompleted:o,percentageComplete:o?100:Math.round(n/t*100)}},Nw=()=>{const e=ua(),t=Hu(),n=LH(),r=SR(n)[0],i=un(x=>{var T;return(T=x.courseData.courseSettings.entity)==null?void 0:T.assessment}),o=!!(i!=null&&i.isEnabled),{allowInfiniteAttempts:s=!1,passingScore:a=80}=i??{},l=s?Number.POSITIVE_INFINITY:(i==null?void 0:i.allowedAttempts)??1,{attempt:u=0,status:c}=un(x=>x.tracking.assessmentTracking),d=un(x=>x.courseData.elements.byId),f=R.useMemo(()=>o?Object.values(d).filter(x=>Yce[x.variant].isAssessable&&!x.props.isUngraded):[],[d,o]),m=R.useMemo(()=>f.map(({refId:x})=>x),[f]),h=BH(m),g=R.useMemo(()=>Object.values(h).filter(x=>x==null?void 0:x.completed),[h]),S=R.useMemo(()=>g.filter(x=>{var T;return((T=x==null?void 0:x.state)==null?void 0:T.response)===wt.Correct}).length,[g]),{score:y,percentageComplete:v,isCompleted:b}=h1e({isEnabled:o,total:f.length,answered:g.length,correct:S}),_=R.useCallback(()=>{e(Ml({elementRefIds:m})),t(`/page/${r==null?void 0:r._id}`)},[m,r,t,e]);return R.useEffect(()=>{if(c===Ni.Incomplete&&b){const x=y>=a;e(_f({score:y,isPassingScore:x,allowedAttempts:l}))}},[c,b,y,a,l,e]),{isEnabled:o,allowedAttempts:l,allowInfiniteAttempts:s,passingScore:a,questions:f,correctlyAnswered:S,percentageComplete:v,score:y,status:c,attempt:u,retake:_}},UH=()=>Cr(e=>Ope(e)),FH=e=>un(Xv).has(e),m1e=e=>FH(e.refId),a$={Hidden:"hidden",Visible:"visible"};function ab({id:e,object:t,children:n}){const r=ype(t,e),i=m1e(r);return U.jsx(R.Activity,{mode:i?a$.Hidden:a$.Visible,children:n})}const g1e=()=>Cr(p1e),l$=e=>U.jsx("li",{children:U.jsx(Hne,{...e,className:({isActive:t})=>Pt("ev-focus-visible:inset ev-course-outline-item ev-course-outline-page-item",{"ev-is-active":t}),onClick:t=>t.currentTarget.ariaDisabled==="true"&&t.preventDefault(),children:e.children})}),y1e=e=>Cr(t=>QTe(t,e)),zH=e=>{const t=y1e(e),n=BH(t);return R.useMemo(()=>{let i=0,o=0;for(const s of Object.values(n))s.required&&(o++,s.completed&&i++);return o===0?Object.values(n).some(s=>s.completed)?100:0:Math.round(i/o*100)},[n])},v1e=({id:e,title:t})=>{const n=vr(),r=zH(e),i=r===100,o=r?n("pageProgressAria",{progress:r}):n("pageNotStartedAria");return U.jsxs(U.Fragment,{children:[U.jsx(vU,{}),U.jsx("span",{className:"ev-label",children:t}),i?U.jsx("span",{className:"ev-course-outline-page-complete",children:U.jsx(Lf,{ariaLabel:n("pageCompletedAria")})}):U.jsx(Ew,{className:"ev-course-outline-progress-circle",stroke:2,radius:9,value:r||0,ariaLabel:o})]})},xR=e=>Cr(t=>Ppe(t,e)),b1e=({isOpen:e,onToggle:t,isHeaderEnabled:n})=>{const r=jr(),i=vr(),{pageId:o=""}=tU(),s=xR(o),a=s?r.plain(s.title)??s.label:"",l=zH(o),u=l===100,c=l?i("pageProgressAria",{progress:l}):i("pageNotStartedAria");return U.jsxs("div",{className:Pt("ev-course-outline-toggle",{"ev-is-open":e,"ev-is-closed":!e,"ev-is-header-enabled":n}),children:[U.jsx("button",{className:"ev-focus-visible ev-course-outline-toggle-button","aria-controls":"ev-course-outline-panel","aria-expanded":e,"aria-label":i("courseOutlineAria"),onClick:t,children:U.jsx(gU,{})}),s&&U.jsx("div",{className:"ev-course-outline-toggle-page-progress","aria-hidden":e,children:u?U.jsx("span",{className:"ev-course-outline-page-complete",children:U.jsx(Lf,{ariaLabel:`${a} ${i("pageCompletedAria")}`})}):U.jsx(Ew,{className:"ev-course-outline-progress-circle",stroke:2,radius:9,value:l||0,ariaLabel:`${a} ${c}`})})]})},_1e=({isHeaderEnabled:e})=>{const t=ua(),n=LH(),r=UH(),i=SR(n),o=un(m=>m.courseOutline.isOpen),{breakpoint:s}=kw(),a=g1e(),l=vr(),u=jr(),{isEnabled:c,status:d}=Nw(),f=d===Ni.Incomplete;return R.useEffect(()=>{s==="small"&&t(_L(!1))},[s,t]),U.jsxs(U.Fragment,{children:[U.jsx(b1e,{isOpen:o,onToggle:()=>t(_L(!o)),isHeaderEnabled:e}),U.jsxs("header",{id:"ev-course-outline-panel","aria-label":l("courseOutlineAria"),inert:!o,className:Pt("ev-course-outline-panel",{"ev-is-header-enabled":e,"ev-is-open":o,"ev-is-closed":!o}),children:[U.jsxs("div",{className:"ev-course-title",children:[U.jsx("h1",{className:"ev-typography",tabIndex:-1,children:r}),U.jsxs("div",{children:[U.jsx(Iwe,{className:"ev-course-outline-progress-bar",value:a,ariaLabel:l("courseProgress")}),U.jsxs("div",{className:"ev-course-outline-progress-label","aria-hidden":!0,children:[U.jsx("div",{className:"ev-course-outline-progress-label-text",children:l("courseProgress")}),U.jsxs("div",{className:"ev-course-outline-progress-label-percentage",children:[a,"%"]})]})]})]}),U.jsx("nav",{children:U.jsxs("ul",{children:[i.map((m,h)=>m?U.jsx(ab,{id:m._id,object:Qt.Page,children:U.jsx(l$,{to:`/page/${m._id}`,children:U.jsx(v1e,{id:m._id,title:u.plain(m.title)||m.label||`Page ${h+1}`})})},m._id):null),c&&U.jsx(l$,{to:"/assessment-results",tabIndex:f||!o?-1:0,"aria-disabled":f,children:U.jsx(c1e,{status:d})})]})})]})]})},S1e=(e,t)=>e.courseData.dialogs.byRefId[t];Zr([e=>e.courseData.dialogs.byId,S1e],(e,t)=>t?e[t]:void 0);const x1e=e=>{var r;const t=(r=e.courseData.dialogs.openDialogs.at(0))==null?void 0:r.refId;if(!t)return;const n=e.courseData.dialogs.byRefId[t];if(n)return e.courseData.dialogs.byId[n]},VH=()=>Cr(e=>x1e(e)),w1e=({hideDialog:e,label:t,linkType:n,internalLinkTarget:r,internalLinkDestination:i,urlLinkTarget:o,urlLinkDestination:s})=>{const a=Sm(),l=Pt(Bt.button,xf.button),u=ii("--ev-button-label"),c=()=>{if(!i)return console.error("Internal link destination not set");Up({refId:i,state:a.getState(),object:r==="page"?Qt.Page:Qt.Section})},d=()=>U.jsx("span",{className:Pt(Bt.label,u),children:t});return n==="url"?U.jsx("a",{className:l,href:s,target:o,onClick:e,children:d()}):U.jsx(_i,{className:l,onClick:()=>{n==="internal"&&c(),e()},children:d()})},T1e=()=>{const e=VH(),t=ua(),n=jr(),r=!!e,i=R.useCallback(o=>{if(!e)return;const s={refId:e.refId};t(o?QV(s):JV(s))},[e,t]);return r?U.jsxs(cP,{isOpen:r,closeOnInteractOutside:!e.button.isEnabled,onOpenChange:i,onCloseAutoFocus:o=>o.preventDefault(),children:[U.jsx(lP,{children:U.jsx(kwe,{align:e.mediaPlacement.align,side:e.mediaPlacement.side,text:n.rich(e.body),media:e.media,altText:n.plain(e.altText)})}),e.button.isEnabled&&U.jsx(uP,{children:U.jsx(w1e,{hideDialog:()=>i(!1),label:n.plain(e.button.label),linkType:e.button.linkType,internalLinkTarget:e.button.internalLinkTarget,internalLinkDestination:e.button.internalLinkDestination,urlLinkTarget:e.button.urlLinkTarget,urlLinkDestination:e.button.urlLinkDestination})})]}):null},qH=({inHeader:e})=>{const t=vr(),n=ua(),r=un(s=>s.tracking.courseTracking.exiting),{breakpoint:i}=kw(),o=i==="small";return U.jsx("nav",{className:Pt("ev-course-exit-button-container",{"ev-in-header":e}),"aria-labelledby":"ev-course-exit-button",children:U.jsx(_i,{id:"ev-course-exit-button",className:Pt("ev-course-exit-button ev-button ev-focus-visible",{"ev-is-mobile":o}),ariaLabel:o?t("courseExit"):void 0,isDisabled:r,onClick:()=>n(ow()),children:o?U.jsx(hm,{}):t("courseExit")})})},E1e=({isExitButtonEnabled:e})=>{const t=un(n=>{var r,i,o;return(o=(i=(r=n.courseData.theme.entity)==null?void 0:r.header)==null?void 0:i.logo)==null?void 0:o.media});return U.jsxs("div",{className:"ev-header",children:[U.jsx("div",{className:"ev-header-inner",children:t&&U.jsx("div",{className:"ev-header-logo",children:U.jsx(Ua,{media:t,altText:""})})}),e&&U.jsx(qH,{inHeader:!0})]})},A1e=()=>{const e=Cr(({app:n})=>n.showExitButton),t=Cr(({courseData:n})=>{var r,i;return((i=(r=n.courseSettings.entity)==null?void 0:r.exitCourseButton)==null?void 0:i.isEnabled)??!0});return e&&t},C1e=()=>{const e=un(l=>{var u,c;return(c=(u=l.courseData.courseSettings.entity)==null?void 0:u.courseCompletion)==null?void 0:c.isDialogEnabled}),t=un(l=>{var u,c;return(c=(u=l.courseData.courseSettings.entity)==null?void 0:u.assessment)==null?void 0:c.isEnabled}),n=e&&t,r=un(l=>{var u,c;return((c=(u=l.courseData.courseSettings.entity)==null?void 0:u.courseOutline)==null?void 0:c.isEnabled)&&l.app.showOutline}),i=un(l=>{var u,c;return(c=(u=l.courseData.theme.entity)==null?void 0:u.header)==null?void 0:c.isEnabled}),o=!!VH(),s=A1e(),a=UH();return ZSe(),U.jsxs(Xye,{reducedMotion:"user",children:[i&&U.jsx(E1e,{isExitButtonEnabled:s}),n&&U.jsx(l1e,{}),e&&U.jsx(u1e,{}),o&&U.jsx(T1e,{}),r?U.jsx(_1e,{isHeaderEnabled:!!i}):U.jsx("h1",{className:"ev-visually-hidden",tabIndex:-1,children:a}),s&&!i&&U.jsx(qH,{inHeader:!1}),U.jsx(sU,{})]})};function O1e(){const e=un(kpe);return e?U.jsx(oU,{to:`/page/${e._id}`,replace:!0}):null}const D1e=()=>{const[e,t]=R.useState(0);return R.useEffect(()=>{const n=()=>{t(window.pageYOffset)};return window.addEventListener("scroll",n),n(),()=>window.removeEventListener("scroll",n)},[]),e},P1e=e=>Cr(t=>ZTe(t,e)),R1e=e=>{const t=mm(),n=R.useCallback(()=>{t(iq({pageRefId:e}))},[t,e]),r=R.useCallback(()=>{t(oq({pageRefId:e}))},[t,e]);return{setPageLoaded:n,setPageUnloaded:r}},I1e=500,HH=R.createContext(void 0),k1e=({pageId:e,children:t})=>{const[n,r]=R.useState([]),[i,o]=R.useState(!1),s=R.useRef(null),a=P1e(e),l=xR(e),{setPageLoaded:u,setPageUnloaded:c}=R1e((l==null?void 0:l.refId)??""),d=R.useCallback(()=>{s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{o(!0)},I1e)},[]),f=R.useCallback(h=>{r(g=>g.includes(h)?g:[...g,h]),d()},[d]);R.useEffect(()=>(d(),()=>{s.current&&clearTimeout(s.current)}),[d]);const m=R.useMemo(()=>n.length===a.length||i,[n,a,i]);return R.useEffect(()=>(m&&u(),()=>{c()}),[m,u,c]),U.jsx(HH.Provider,{value:{setPageElementReady:f,isReady:m},children:t})},Tm=()=>{const e=R.useContext(HH);if(!e)throw new Error("usePageReady must be used within a PageReadyProvider");return e},N1e=()=>{const{isReady:e}=Tm(),t=D1e(),n=kw(),[r,i]=R.useState(0),o=un(s=>{var a,l;return(l=(a=s.courseData.theme.entity)==null?void 0:a.header)==null?void 0:l.isEnabled});return R.useEffect(()=>{const a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-n.height,l=a>0?t/a*100:100;i(Bv(l,{min:0,max:100}))},[t,n,e]),e?U.jsx("div",{className:Pt("ev-scroll-progress",{"ev-is-header-enabled":o}),children:U.jsx("div",{className:"ev-scroll-progress-indicator",style:{width:`${r}%`}})}):null},u$=e=>typeof e=="object"&&e!=null&&e.nodeType===1,c$=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",yE=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return c$(n.overflowY,t)||c$(n.overflowX,t)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},T0=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,M1e=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},d$=(e,t)=>{var n,r,i,o;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:l,boundary:u,skipOverflowHiddenElements:c}=t,d=typeof u=="function"?u:H=>H!==u;if(!u$(e))throw new TypeError("Invalid target");const f=document.scrollingElement||document.documentElement,m=[];let h=e;for(;u$(h)&&d(h);){if(h=M1e(h),h===f){m.push(h);break}h!=null&&h===document.body&&yE(h)&&!yE(document.documentElement)||h!=null&&yE(h,c)&&m.push(h)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,S=(o=(i=window.visualViewport)==null?void 0:i.height)!=null?o:innerHeight,{scrollX:y,scrollY:v}=window,{height:b,width:_,top:x,right:T,bottom:w,left:E}=e.getBoundingClientRect(),{top:C,right:D,bottom:O,left:I}=(H=>{const z=window.getComputedStyle(H);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(e);let k=a==="start"||a==="nearest"?x-C:a==="end"?w+O:x+b/2-C+O,B=l==="center"?E+_/2-I+D:l==="end"?T+D:E-I;const q=[];for(let H=0;H<m.length;H++){const z=m[H],{height:ne,width:ue,top:Q,right:N,bottom:G,left:J}=z.getBoundingClientRect();if(s==="if-needed"&&x>=0&&E>=0&&w<=S&&T<=g&&x>=Q&&w<=G&&E>=J&&T<=N)return q;const Y=getComputedStyle(z),L=parseInt(Y.borderLeftWidth,10),K=parseInt(Y.borderTopWidth,10),ie=parseInt(Y.borderRightWidth,10),de=parseInt(Y.borderBottomWidth,10);let ye=0,Te=0;const me="offsetWidth"in z?z.offsetWidth-z.clientWidth-L-ie:0,ae="offsetHeight"in z?z.offsetHeight-z.clientHeight-K-de:0,ge="offsetWidth"in z?z.offsetWidth===0?0:ue/z.offsetWidth:0,$="offsetHeight"in z?z.offsetHeight===0?0:ne/z.offsetHeight:0;if(f===z)ye=a==="start"?k:a==="end"?k-S:a==="nearest"?T0(v,v+S,S,K,de,v+k,v+k+b,b):k-S/2,Te=l==="start"?B:l==="center"?B-g/2:l==="end"?B-g:T0(y,y+g,g,L,ie,y+B,y+B+_,_),ye=Math.max(0,ye+v),Te=Math.max(0,Te+y);else{ye=a==="start"?k-Q-K:a==="end"?k-G+de+ae:a==="nearest"?T0(Q,G,ne,K,de+ae,k,k+b,b):k-(Q+ne/2)+ae/2,Te=l==="start"?B-J-L:l==="center"?B-(J+ue/2)+me/2:l==="end"?B-N+ie+me:T0(J,N,ue,L,ie+me,B,B+_,_);const{scrollLeft:te,scrollTop:oe}=z;ye=$===0?0:Math.max(0,Math.min(oe+ye/$,z.scrollHeight-ne/$+ae)),Te=ge===0?0:Math.max(0,Math.min(te+Te/ge,z.scrollWidth-ue/ge+me)),k+=oe-ye,B+=te-Te}q.push({el:z,top:ye,left:Te})}return q},j1e=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function L1e(e,t){if(!e.isConnected||!(i=>{let o=i;for(;o&&o.parentNode;){if(o.parentNode===document)return!0;o=o.parentNode instanceof ShadowRoot?o.parentNode.host:o.parentNode}return!1})(e))return;const n=(i=>{const o=window.getComputedStyle(i);return{top:parseFloat(o.scrollMarginTop)||0,right:parseFloat(o.scrollMarginRight)||0,bottom:parseFloat(o.scrollMarginBottom)||0,left:parseFloat(o.scrollMarginLeft)||0}})(e);if((i=>typeof i=="object"&&typeof i.behavior=="function")(t))return t.behavior(d$(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:i,top:o,left:s}of d$(e,j1e(t))){const a=o-n.top+n.bottom,l=s-n.left+n.right;i.scroll({top:a,left:l,behavior:r})}}function wR({id:e,delayBy:t=0}){if(!e)return;let n=document.querySelector(`[data-id="${e}"]`);!n&&(n=document.querySelector(`[data-refid="${e}"]`),!n)||window.setTimeout(()=>{L1e(n,{scrollMode:"if-needed",behavior:"auto",block:"start"}),n.focus({preventScroll:!0})},t)}const $1e=e=>Cr(t=>$pe(t,e));function B1e(e,t){return a_(e,t,kV,pV)}const lb=B1e("div"),U1e=e=>Cr(t=>V7(t,e)),F1e=e=>Cr(t=>jpe(t,e));var vC=new Map,E0=new WeakMap,f$=0,z1e=void 0;function V1e(e){return e?(E0.has(e)||(f$+=1,E0.set(e,f$.toString())),E0.get(e)):"0"}function q1e(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?V1e(e.root):e[t]}`).toString()}function H1e(e){const t=q1e(e);let n=vC.get(t);if(!n){const r=new Map;let i;const o=new IntersectionObserver(s=>{s.forEach(a=>{var l;const u=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);e.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(c=>{c(u,a)})})},e);i=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:o,elements:r},vC.set(t,n)}return n}function G1e(e,t,n={},r=z1e){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:o,elements:s}=H1e(n),a=s.get(e)||[];return s.has(e)||s.set(e,a),a.push(t),o.observe(e),function(){a.splice(a.indexOf(t),1),a.length===0&&(s.delete(e),o.unobserve(e)),s.size===0&&(o.disconnect(),vC.delete(i))}}function TR({threshold:e,delay:t,trackVisibility:n,rootMargin:r,root:i,triggerOnce:o,skip:s,initialInView:a,fallbackInView:l,onChange:u}={}){var c;const[d,f]=R.useState(null),m=R.useRef(u),[h,g]=R.useState({inView:!!a,entry:void 0});m.current=u,R.useEffect(()=>{if(s||!d)return;let b;return b=G1e(d,(_,x)=>{g({inView:_,entry:x}),m.current&&m.current(_,x),x.isIntersecting&&o&&b&&(b(),b=void 0)},{root:i,rootMargin:r,threshold:e,trackVisibility:n,delay:t},l),()=>{b&&b()}},[Array.isArray(e)?e.toString():e,d,i,r,o,s,n,l,t]);const S=(c=h.entry)==null?void 0:c.target,y=R.useRef(void 0);!d&&S&&!o&&!s&&y.current!==S&&(y.current=S,g({inView:!!a,entry:void 0}));const v=[f,h.inView,h.entry];return v.ref=v[0],v.inView=v[1],v.entry=v[2],v}const W1e=e=>Cr(t=>VTe(t,e)),Y1e=e=>Cr(t=>FTe(t,e)),K1e=e=>Cr(t=>XTe(t,e)),GH=e=>Cr(t=>kH(t,e)),vE={opacity:1,scale:1,x:0,y:0,rotate:0},WH=e=>{if(!e)return{initial:vE,animate:vE,transition:{duration:0,delay:0}};const{type:t,opacity:n,scale:r,x:i,y:o,rotate:s,ease:a,bounce:l,duration:u,delay:c}=e.values,d=n===void 0?1:n/100,f=r===void 0?1:r/100,m=u===void 0?0:u/1e3,h=c===void 0?0:c/1e3,g=l===void 0?0:l/100;return{initial:{opacity:d,scale:f,x:i,y:o,rotate:s},animate:vE,transition:{type:t,duration:m,delay:h,...t==="tween"&&{ease:a},...t==="spring"&&{bounce:g}}}};function Mw(e,t){const n=un(a=>{var l,u;return(u=(l=a.courseData.theme.entity)==null?void 0:l.animations)==null?void 0:u[e]}),r=un(a=>a.app.animationsDisabled),i=(t==null?void 0:t.preset)==="theme"?n:t,o=WH(i),s=!r&&!((t==null?void 0:t.preset)==="none"||(t==null?void 0:t.preset)==="theme"&&(n==null?void 0:n.preset)==="none");return{motionProps:o,hasAnimation:s,animationToUse:i}}const To=({elementId:e,variant:t,children:n,card:r,isReady:i,onVisible:o})=>{const s=GH(e),[a,l]=R.useState(!1),{isReady:u,setPageElementReady:c}=Tm(),d=un(_=>{var x,T;return(T=(x=_.courseData.theme.entity)==null?void 0:x.cards)==null?void 0:T.element}),f=r&&r!=="ev-card-default"?r:d,m=s==null?void 0:s.variables,{motionProps:h,hasAnimation:g}=Mw("element",s==null?void 0:s.animation),S=R.useRef(null),{ref:y}=TR({delay:300,skip:!a,threshold:.25,onChange:_=>_&&(o==null?void 0:o())}),v=vw(S,{amount:.5,once:!0});if(R.useEffect(()=>{!a&&i&&(l(i),c==null||c(e))},[e,a,i,c]),!s)return null;const b=()=>{const _=U.jsx("div",{className:Aa.inner,children:n});return g?U.jsx(lb,{ref:y,className:Aa.outer,initial:h.initial,animate:u&&v?h.animate:h.initial,transition:h.transition,children:_}):U.jsx("div",{ref:y,className:Aa.outer,children:_})};return U.jsx("div",{ref:S,className:Pt(Aa.root,Aa.variant(t),f),"data-id":e,"data-refid":s.refId,"data-type":"element",style:m,tabIndex:-1,children:b()})},ER=({elementId:e,variant:t,variables:n,children:r})=>{const i=un(o=>{var s,a;return(a=(s=o.courseData.theme.entity)==null?void 0:s.cards)==null?void 0:a.element});return U.jsx("div",{className:Pt(Aa.root,Aa.variant(t),i),"data-id":e,"data-type":"element",style:n,tabIndex:-1,children:U.jsx("div",{className:Aa.outer,children:U.jsx("div",{className:Aa.inner,children:r})})})};function Fi({className:e,isDisabled:t=!1,children:n}){return U.jsx("div",{className:Pt(Aa.widget,e),inert:t,children:n})}const X1e={};function ca(e,t=X1e){const n=mm(),{state:r}=Cr(a=>$H(a,e)),[i]=R.useState(t),o=R.useMemo(()=>({...i,...r}),[r,i]),s=R.useCallback(a=>{const l=typeof a=="function"?a(o):a;n(tl({elementRefId:e,state:{...o,...l}}))},[o,n,e]);return[o,s]}function Eo(e){const t=mm(),n=Cr(u=>$H(u,e)),{completed:r,started:i,viewed:o}=n,s=R.useCallback(()=>{o||t(ry({elementRefId:e})),i||t(OA({elementRefId:e})),r||t(Ru({elementRefId:e}))},[r,o,i,e,t]),a=R.useCallback(()=>{o||t(ry({elementRefId:e})),i||t(OA({elementRefId:e}))},[o,i,e,t]),l=R.useCallback(()=>{o||t(ry({elementRefId:e}))},[o,e,t]);return R.useMemo(()=>({started:i,completed:r,viewed:o,setElementCompleted:s,setElementStarted:a,setElementViewed:l}),[o,i,r,s,a,l])}const Z1e=({uniqueId:e,id:t,label:n,labelClass:r,content:i,isSelected:o,onClick:s})=>{const a=jr();return U.jsxs("div",{className:xl.item,children:[U.jsxs(_i,{className:Pt("ev-focus-visible",xl.itemButton,{[Bt.isSelected]:o}),id:`${e}-title`,"aria-expanded":o,"aria-controls":`${e}-content`,onClick:()=>s(t),children:[U.jsxs("div",{className:xl.itemButtonIconContainer,children:[U.jsx(yU,{className:xl.itemButtonIcon}),U.jsx(tv.div,{className:xl.itemButtonIconOpenContainer,initial:{scaleY:1},animate:o?{scaleY:0}:{scaleY:1},transition:{duration:.25,ease:"easeIn"},children:U.jsx(hD,{className:xl.itemButtonIcon})})]}),U.jsx("span",{className:Pt(Bt.label,xl.itemButtonLabel,r),dangerouslySetInnerHTML:{__html:UV.sanitize(a.plain(n))}})]}),U.jsx(Fz,{initial:!1,children:o?U.jsx(tv.div,{id:`${e}-content`,className:xl.itemContent,role:"region",initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{duration:.25,ease:"easeIn"},children:U.jsx(Qi,{className:xl.itemContentInner,content:i})}):null})]})},Q1e={viewed:[]},J1e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:{items:o},variables:s}=e,{completed:a,setElementViewed:l,setElementStarted:u,setElementCompleted:c}=Eo(n),[{viewed:d,selected:f},m]=ca(n,Q1e),h=ii("--ev-accordion-item-button-label"),g=S=>{u();let y=a||d.includes(S)?d:[...d,S];!a&&y.length===o.length&&(y=Array(o.length).fill("*")),m({viewed:y,selected:f===S?void 0:S})};return R.useEffect(()=>{d.length<o.length||c()},[o.length,d.length,c]),U.jsx(To,{elementId:t,variant:r,card:i,onVisible:l,isReady:!0,children:U.jsx(Fi,{className:xl.widget,children:o.map(S=>U.jsx(Z1e,{uniqueId:`${n}-${S.id}`,id:S.id,label:S.label,labelClass:(s==null?void 0:s["--ev-accordion-item-button-label"])||h,content:S.content,isSelected:S.id===f,onClick:g},S.id))})})},eEe=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:o,variables:s}=e,a=Sm(),l=ua(),u=un(x=>x.tracking.courseTracking.exiting),c=jr(),d=Hu(),f=ii("--ev-button-label"),{setElementViewed:m,setElementCompleted:h}=Eo(n),g=()=>{if(!o.internalLinkDestination)return console.error("Internal link destination not set");Up({refId:o.internalLinkDestination,state:a.getState(),object:o.internalLinkTarget==="page"?Qt.Page:Qt.Section})},S=()=>{if(o.actionLinkTarget==="scrollTop")return window.scrollTo({top:0,behavior:"auto"});if(o.actionLinkTarget==="restartCourse"){l(Is());const x=q7(a.getState());d(x)}o.actionLinkTarget==="exitCourse"&&l(ow())},y=()=>{o.completionEvent==="clicked"&&h(),o.linkType==="action"&&S(),o.linkType==="internal"&&g(),l(S7({elementRefId:n}))},v=()=>{if(!(o.style!=="imageButton"||!o.media))return U.jsx(Ua,{className:R1.image,media:o.media,"aria-hidden":!0})},b=()=>{if(!(o.style==="imageButton"||!o.icon))return U.jsx(fie,{icon:o.icon})},_=()=>{if(o.style==="imageButton")return;const x=c.plain(o.label);return x?U.jsx("span",{className:Pt(Bt.label,s["--ev-button-label"]||f),children:x}):null};return U.jsx(To,{elementId:t,variant:r,card:i,variables:s,onVisible:()=>o.completionEvent==="viewed"?h():m(),isReady:!0,children:U.jsx(Fi,{className:Pt(Aa.widget,R1.align(e.props.horizontalAlignment)),children:o.linkType==="url"?U.jsxs("a",{className:Pt({[Bt.button]:o.style==="button"}),href:o.urlLinkDestination,target:o.urlLinkTarget,...o.ariaLabel&&{"aria-label":c.plain(o.ariaLabel)},onClick:y,children:[v(),b(),_()]}):U.jsxs(_i,{className:Pt({[Bt.button]:o.style==="button",[R1.icon]:o.style==="button"&&o.icon}),ariaLabel:c.plain(o.ariaLabel),isDisabled:o.linkType==="action"&&o.actionLinkTarget==="exitCourse"&&u,onClick:y,children:[v(),b(),_()]})})})},jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Em(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function AR(e){return"nodeType"in e}function ds(e){var t,n;return e?Em(e)?e:AR(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function CR(e){const{Document:t}=ds(e);return e instanceof t}function ub(e){return Em(e)?!1:e instanceof ds(e).HTMLElement}function YH(e){return e instanceof ds(e).SVGElement}function Am(e){return e?Em(e)?e.document:AR(e)?CR(e)?e:ub(e)||YH(e)?e.ownerDocument:document:document:document}const Lu=jw?R.useLayoutEffect:R.useEffect;function Lw(e){const t=R.useRef(e);return Lu(()=>{t.current=e}),R.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function tEe(){const e=R.useRef(null),t=R.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=R.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function av(e,t){t===void 0&&(t=[e]);const n=R.useRef(e);return Lu(()=>{n.current!==e&&(n.current=e)},t),n}function cb(e,t){const n=R.useRef();return R.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function AS(e){const t=Lw(e),n=R.useRef(null),r=R.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function CS(e){const t=R.useRef();return R.useEffect(()=>{t.current=e},[e]),t.current}let bE={};function $w(e,t){return R.useMemo(()=>{if(t)return t;const n=bE[e]==null?0:bE[e]+1;return bE[e]=n,e+"-"+n},[e,t])}function KH(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,u]of a){const c=o[l];c!=null&&(o[l]=c+e*u)}return o},{...t})}}const Jp=KH(1),OS=KH(-1);function nEe(e){return"clientX"in e&&"clientY"in e}function OR(e){if(!e)return!1;const{KeyboardEvent:t}=ds(e.target);return t&&e instanceof t}function rEe(e){if(!e)return!1;const{TouchEvent:t}=ds(e.target);return t&&e instanceof t}function DS(e){if(rEe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return nEe(e)?{x:e.clientX,y:e.clientY}:null}const $h=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[$h.Translate.toString(e),$h.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),p$="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function iEe(e){return e.matches(p$)?e:e.querySelector(p$)}const oEe={display:"none"};function sEe(e){let{id:t,value:n}=e;return En.createElement("div",{id:t,style:oEe},n)}function aEe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return En.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function lEe(){const[e,t]=R.useState("");return{announce:R.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const XH=R.createContext(null);function uEe(e){const t=R.useContext(XH);R.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function cEe(){const[e]=R.useState(()=>new Set),t=R.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[R.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const dEe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},fEe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function pEe(e){let{announcements:t=fEe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=dEe}=e;const{announce:o,announcement:s}=lEe(),a=$w("DndLiveRegion"),[l,u]=R.useState(!1);if(R.useEffect(()=>{u(!0)},[]),uEe(R.useMemo(()=>({onDragStart(d){let{active:f}=d;o(t.onDragStart({active:f}))},onDragMove(d){let{active:f,over:m}=d;t.onDragMove&&o(t.onDragMove({active:f,over:m}))},onDragOver(d){let{active:f,over:m}=d;o(t.onDragOver({active:f,over:m}))},onDragEnd(d){let{active:f,over:m}=d;o(t.onDragEnd({active:f,over:m}))},onDragCancel(d){let{active:f,over:m}=d;o(t.onDragCancel({active:f,over:m}))}}),[o,t])),!l)return null;const c=En.createElement(En.Fragment,null,En.createElement(sEe,{id:r,value:i.draggable}),En.createElement(aEe,{id:a,announcement:s}));return n?Hs.createPortal(c,n):c}var to;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(to||(to={}));function PS(){}function h$(e,t){return R.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function hEe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return R.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const ul=Object.freeze({x:0,y:0});function mEe(e,t){const n=DS(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function gEe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function yEe(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function vEe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,u=e.width*e.height,c=s*a,d=c/(l+u-c);return Number(d.toFixed(4))}return 0}const bEe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=vEe(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(gEe)};function _Ee(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function ZH(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ul}function SEe(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const xEe=SEe(1);function QH(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function wEe(e,t,n){const r=QH(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),u=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),c=i?e.width/i:e.width,d=o?e.height/o:e.height;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l}}const TEe={ignoreTransform:!1};function db(e,t){t===void 0&&(t=TEe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:c}=ds(e).getComputedStyle(e);u&&(n=wEe(n,u,c))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function m$(e){return db(e,{ignoreTransform:!0})}function EEe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function AEe(e,t){return t===void 0&&(t=ds(e).getComputedStyle(e)),t.position==="fixed"}function CEe(e,t){t===void 0&&(t=ds(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function DR(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(CR(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!ub(i)||YH(i)||n.includes(i))return n;const o=ds(e).getComputedStyle(i);return i!==e&&CEe(i,o)&&n.push(i),AEe(i,o)?n:r(i.parentNode)}return e?r(e):n}function JH(e){const[t]=DR(e,1);return t??null}function _E(e){return!jw||!e?null:Em(e)?e:AR(e)?CR(e)||e===Am(e).scrollingElement?window:ub(e)?e:null:null}function eG(e){return Em(e)?e.scrollX:e.scrollLeft}function tG(e){return Em(e)?e.scrollY:e.scrollTop}function bC(e){return{x:eG(e),y:tG(e)}}var ho;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(ho||(ho={}));function nG(e){return!jw||!e?!1:e===document.scrollingElement}function rG(e){const t={x:0,y:0},n=nG(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const OEe={x:.2,y:.2};function DEe(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=OEe);const{isTop:u,isBottom:c,isLeft:d,isRight:f}=rG(e),m={x:0,y:0},h={x:0,y:0},g={height:t.height*i.y,width:t.width*i.x};return!u&&o<=t.top+g.height?(m.y=ho.Backward,h.y=r*Math.abs((t.top+g.height-o)/g.height)):!c&&l>=t.bottom-g.height&&(m.y=ho.Forward,h.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!f&&a>=t.right-g.width?(m.x=ho.Forward,h.x=r*Math.abs((t.right-g.width-a)/g.width)):!d&&s<=t.left+g.width&&(m.x=ho.Backward,h.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:h}}function PEe(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function iG(e){return e.reduce((t,n)=>Jp(t,bC(n)),ul)}function REe(e){return e.reduce((t,n)=>t+eG(n),0)}function IEe(e){return e.reduce((t,n)=>t+tG(n),0)}function oG(e,t){if(t===void 0&&(t=db),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);JH(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const kEe=[["x",["left","right"],REe],["y",["top","bottom"],IEe]];class PR{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=DR(n),i=iG(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of kEe)for(const l of s)Object.defineProperty(this,l,{get:()=>{const u=a(r),c=i[o]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class dy{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function NEe(e){const{EventTarget:t}=ds(e);return e instanceof t?e:Am(e)}function SE(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var ba;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(ba||(ba={}));function g$(e){e.preventDefault()}function MEe(e){e.stopPropagation()}var rr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(rr||(rr={}));const sG={start:[rr.Space,rr.Enter],cancel:[rr.Esc],end:[rr.Space,rr.Enter,rr.Tab]},jEe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case rr.Right:return{...n,x:n.x+25};case rr.Left:return{...n,x:n.x-25};case rr.Down:return{...n,y:n.y+25};case rr.Up:return{...n,y:n.y-25}}};class RR{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new dy(Am(n)),this.windowListeners=new dy(ds(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ba.Resize,this.handleCancel),this.windowListeners.add(ba.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ba.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&oG(r),n(ul)}handleKeyDown(t){if(OR(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=sG,coordinateGetter:s=jEe,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:u}=r.current,c=u?{x:u.left,y:u.top}:ul;this.referenceCoordinates||(this.referenceCoordinates=c);const d=s(t,{active:n,context:r.current,currentCoordinates:c});if(d){const f=OS(d,c),m={x:0,y:0},{scrollableAncestors:h}=r.current;for(const g of h){const S=t.code,{isTop:y,isRight:v,isLeft:b,isBottom:_,maxScroll:x,minScroll:T}=rG(g),w=PEe(g),E={x:Math.min(S===rr.Right?w.right-w.width/2:w.right,Math.max(S===rr.Right?w.left:w.left+w.width/2,d.x)),y:Math.min(S===rr.Down?w.bottom-w.height/2:w.bottom,Math.max(S===rr.Down?w.top:w.top+w.height/2,d.y))},C=S===rr.Right&&!v||S===rr.Left&&!b,D=S===rr.Down&&!_||S===rr.Up&&!y;if(C&&E.x!==d.x){const O=g.scrollLeft+f.x,I=S===rr.Right&&O<=x.x||S===rr.Left&&O>=T.x;if(I&&!f.y){g.scrollTo({left:O,behavior:a});return}I?m.x=g.scrollLeft-O:m.x=S===rr.Right?g.scrollLeft-x.x:g.scrollLeft-T.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(D&&E.y!==d.y){const O=g.scrollTop+f.y,I=S===rr.Down&&O<=x.y||S===rr.Up&&O>=T.y;if(I&&!f.x){g.scrollTo({top:O,behavior:a});return}I?m.y=g.scrollTop-O:m.y=S===rr.Down?g.scrollTop-x.y:g.scrollTop-T.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,Jp(OS(d,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}RR.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=sG,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function y$(e){return!!(e&&"distance"in e)}function v$(e){return!!(e&&"delay"in e)}class IR{constructor(t,n,r){var i;r===void 0&&(r=NEe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=Am(s),this.documentListeners=new dy(this.document),this.listeners=new dy(r),this.windowListeners=new dy(ds(s)),this.initialCoordinates=(i=DS(o))!=null?i:ul,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(ba.Resize,this.handleCancel),this.windowListeners.add(ba.DragStart,g$),this.windowListeners.add(ba.VisibilityChange,this.handleCancel),this.windowListeners.add(ba.ContextMenu,g$),this.documentListeners.add(ba.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(v$(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(y$(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(ba.Click,MEe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ba.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=DS(t))!=null?n:ul,u=OS(i,l);if(!r&&a){if(y$(a)){if(a.tolerance!=null&&SE(u,a.tolerance))return this.handleCancel();if(SE(u,a.distance))return this.handleStart()}if(v$(a)&&SE(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===rr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const LEe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class kR extends IR{constructor(t){const{event:n}=t,r=Am(n.target);super(t,LEe,r)}}kR.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const $Ee={move:{name:"mousemove"},end:{name:"mouseup"}};var _C;(function(e){e[e.RightClick=2]="RightClick"})(_C||(_C={}));class BEe extends IR{constructor(t){super(t,$Ee,Am(t.event.target))}}BEe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===_C.RightClick?!1:(r==null||r({event:n}),!0)}}];const xE={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class UEe extends IR{constructor(t){super(t,xE)}static setup(){return window.addEventListener(xE.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(xE.move.name,t)};function t(){}}}UEe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var fy;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(fy||(fy={}));var RS;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(RS||(RS={}));function FEe(e){let{acceleration:t,activator:n=fy.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=RS.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:d,threshold:f}=e;const m=VEe({delta:d,disabled:!o}),[h,g]=tEe(),S=R.useRef({x:0,y:0}),y=R.useRef({x:0,y:0}),v=R.useMemo(()=>{switch(n){case fy.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case fy.DraggableRect:return i}},[n,i,l]),b=R.useRef(null),_=R.useCallback(()=>{const T=b.current;if(!T)return;const w=S.current.x*y.current.x,E=S.current.y*y.current.y;T.scrollBy(w,E)},[]),x=R.useMemo(()=>a===RS.TreeOrder?[...u].reverse():u,[a,u]);R.useEffect(()=>{if(!o||!u.length||!v){g();return}for(const T of x){if((r==null?void 0:r(T))===!1)continue;const w=u.indexOf(T),E=c[w];if(!E)continue;const{direction:C,speed:D}=DEe(T,E,v,t,f);for(const O of["x","y"])m[O][C[O]]||(D[O]=0,C[O]=0);if(D.x>0||D.y>0){g(),b.current=T,h(_,s),S.current=D,y.current=C;return}}S.current={x:0,y:0},y.current={x:0,y:0},g()},[t,_,r,g,o,s,JSON.stringify(v),JSON.stringify(m),h,u,x,c,JSON.stringify(f)])}const zEe={x:{[ho.Backward]:!1,[ho.Forward]:!1},y:{[ho.Backward]:!1,[ho.Forward]:!1}};function VEe(e){let{delta:t,disabled:n}=e;const r=CS(t);return cb(i=>{if(n||!r||!i)return zEe;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[ho.Backward]:i.x[ho.Backward]||o.x===-1,[ho.Forward]:i.x[ho.Forward]||o.x===1},y:{[ho.Backward]:i.y[ho.Backward]||o.y===-1,[ho.Forward]:i.y[ho.Forward]||o.y===1}}},[n,t,r])}function qEe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return cb(i=>{var o;return t==null?null:(o=r??i)!=null?o:null},[r,t])}function HEe(e,t){return R.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var lv;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(lv||(lv={}));var SC;(function(e){e.Optimized="optimized"})(SC||(SC={}));const b$=new Map;function GEe(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=R.useState(null),{frequency:a,measure:l,strategy:u}=i,c=R.useRef(e),d=S(),f=av(d),m=R.useCallback(function(y){y===void 0&&(y=[]),!f.current&&s(v=>v===null?y:v.concat(y.filter(b=>!v.includes(b))))},[f]),h=R.useRef(null),g=cb(y=>{if(d&&!n)return b$;if(!y||y===b$||c.current!==e||o!=null){const v=new Map;for(let b of e){if(!b)continue;if(o&&o.length>0&&!o.includes(b.id)&&b.rect.current){v.set(b.id,b.rect.current);continue}const _=b.node.current,x=_?new PR(l(_),_):null;b.rect.current=x,x&&v.set(b.id,x)}return v}return y},[e,o,n,d,l]);return R.useEffect(()=>{c.current=e},[e]),R.useEffect(()=>{d||m()},[n,d]),R.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),R.useEffect(()=>{d||typeof a!="number"||h.current!==null||(h.current=setTimeout(()=>{m(),h.current=null},a))},[a,d,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:o!=null};function S(){switch(u){case lv.Always:return!1;case lv.BeforeDragging:return n;default:return!n}}}function NR(e,t){return cb(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function WEe(e,t){return NR(e,t)}function YEe(e){let{callback:t,disabled:n}=e;const r=Lw(t),i=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return R.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Bw(e){let{callback:t,disabled:n}=e;const r=Lw(t),i=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return R.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function KEe(e){return new PR(db(e),e)}function _$(e,t,n){t===void 0&&(t=KEe);const[r,i]=R.useState(null);function o(){i(l=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=l??n)!=null?u:null}const c=t(e);return JSON.stringify(l)===JSON.stringify(c)?l:c})}const s=YEe({callback(l){if(e)for(const u of l){const{type:c,target:d}=u;if(c==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),a=Bw({callback:o});return Lu(()=>{o(),e?(a==null||a.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[e]),r}function XEe(e){const t=NR(e);return ZH(e,t)}const S$=[];function ZEe(e){const t=R.useRef(e),n=cb(r=>e?r&&r!==S$&&e&&t.current&&e.parentNode===t.current.parentNode?r:DR(e):S$,[e]);return R.useEffect(()=>{t.current=e},[e]),n}function QEe(e){const[t,n]=R.useState(null),r=R.useRef(e),i=R.useCallback(o=>{const s=_E(o.target);s&&n(a=>a?(a.set(s,bC(s)),new Map(a)):null)},[]);return R.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const u=_E(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,bC(u)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const u=_E(l);u==null||u.removeEventListener("scroll",i)})}},[i,e]),R.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>Jp(o,s),ul):iG(e):ul,[e,t])}function x$(e,t){t===void 0&&(t=[]);const n=R.useRef(null);return R.useEffect(()=>{n.current=null},t),R.useEffect(()=>{const r=e!==ul;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?OS(e,n.current):ul}function JEe(e){R.useEffect(()=>{if(!jw)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function e2e(e,t){return R.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function aG(e){return R.useMemo(()=>e?EEe(e):null,[e])}const w$=[];function t2e(e,t){t===void 0&&(t=db);const[n]=e,r=aG(n?ds(n):null),[i,o]=R.useState(w$);function s(){o(()=>e.length?e.map(l=>nG(l)?r:new PR(t(l),l)):w$)}const a=Bw({callback:s});return Lu(()=>{a==null||a.disconnect(),s(),e.forEach(l=>a==null?void 0:a.observe(l))},[e]),i}function lG(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ub(t)?t:e}function n2e(e){let{measure:t}=e;const[n,r]=R.useState(null),i=R.useCallback(u=>{for(const{target:c}of u)if(ub(c)){r(d=>{const f=t(c);return d?{...d,width:f.width,height:f.height}:f});break}},[t]),o=Bw({callback:i}),s=R.useCallback(u=>{const c=lG(u);o==null||o.disconnect(),c&&(o==null||o.observe(c)),r(c?t(c):null)},[t,o]),[a,l]=AS(s);return R.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const r2e=[{sensor:kR,options:{}},{sensor:RR,options:{}}],i2e={current:{}},h_={draggable:{measure:m$},droppable:{measure:m$,strategy:lv.WhileDragging,frequency:SC.Optimized},dragOverlay:{measure:db}};class py extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const o2e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new py,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:PS},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:h_,measureDroppableContainers:PS,windowRect:null,measuringScheduled:!1},uG={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:PS,draggableNodes:new Map,over:null,measureDroppableContainers:PS},fb=R.createContext(uG),cG=R.createContext(o2e);function s2e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new py}}}function a2e(e,t){switch(t.type){case to.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case to.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case to.DragEnd:case to.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case to.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new py(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case to.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new py(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case to.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new py(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function l2e(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=R.useContext(fb),o=CS(r),s=CS(n==null?void 0:n.id);return R.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!OR(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:u}=a;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const d=iEe(c);if(d){d.focus();break}}})}},[r,t,i,s,o]),null}function dG(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function u2e(e){return R.useMemo(()=>({draggable:{...h_.draggable,...e==null?void 0:e.draggable},droppable:{...h_.droppable,...e==null?void 0:e.droppable},dragOverlay:{...h_.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function c2e(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=R.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Lu(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const c=n(u),d=ZH(c,r);if(s||(d.x=0),a||(d.y=0),o.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const f=JH(u);f&&f.scrollBy({top:d.y,left:d.x})}},[t,s,a,r,n])}const Uw=R.createContext({...ul,scaleX:1,scaleY:1});var gc;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(gc||(gc={}));const d2e=R.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:u,sensors:c=r2e,collisionDetection:d=bEe,measuring:f,modifiers:m,...h}=t;const g=R.useReducer(a2e,void 0,s2e),[S,y]=g,[v,b]=cEe(),[_,x]=R.useState(gc.Uninitialized),T=_===gc.Initialized,{draggable:{active:w,nodes:E,translate:C},droppable:{containers:D}}=S,O=w!=null?E.get(w):null,I=R.useRef({initial:null,translated:null}),k=R.useMemo(()=>{var Kt;return w!=null?{id:w,data:(Kt=O==null?void 0:O.data)!=null?Kt:i2e,rect:I}:null},[w,O]),B=R.useRef(null),[q,H]=R.useState(null),[z,ne]=R.useState(null),ue=av(h,Object.values(h)),Q=$w("DndDescribedBy",s),N=R.useMemo(()=>D.getEnabled(),[D]),G=u2e(f),{droppableRects:J,measureDroppableContainers:Y,measuringScheduled:L}=GEe(N,{dragging:T,dependencies:[C.x,C.y],config:G.droppable}),K=qEe(E,w),ie=R.useMemo(()=>z?DS(z):null,[z]),de=An(),ye=WEe(K,G.draggable.measure);c2e({activeNode:w!=null?E.get(w):null,config:de.layoutShiftCompensation,initialRect:ye,measure:G.draggable.measure});const Te=_$(K,G.draggable.measure,ye),me=_$(K?K.parentElement:null),ae=R.useRef({activatorEvent:null,active:null,activeNode:K,collisionRect:null,collisions:null,droppableRects:J,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:D,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ge=D.getNodeFor((n=ae.current.over)==null?void 0:n.id),$=n2e({measure:G.dragOverlay.measure}),te=(r=$.nodeRef.current)!=null?r:K,oe=T?(i=$.rect)!=null?i:Te:null,Se=!!($.nodeRef.current&&$.rect),Pe=XEe(Se?null:Te),Oe=aG(te?ds(te):null),Be=ZEe(T?ge??K:null),Z=t2e(Be),ce=dG(m,{transform:{x:C.x-Pe.x,y:C.y-Pe.y,scaleX:1,scaleY:1},activatorEvent:z,active:k,activeNodeRect:Te,containerNodeRect:me,draggingNodeRect:oe,over:ae.current.over,overlayNodeRect:$.rect,scrollableAncestors:Be,scrollableAncestorRects:Z,windowRect:Oe}),xe=ie?Jp(ie,C):null,Ce=QEe(Be),pe=x$(Ce),je=x$(Ce,[Te]),Qe=Jp(ce,pe),Ve=oe?xEe(oe,ce):null,Ne=k&&Ve?d({active:k,collisionRect:Ve,droppableRects:J,droppableContainers:N,pointerCoordinates:xe}):null,Je=yEe(Ne,"id"),[qe,Ze]=R.useState(null),Mt=Se?ce:Jp(ce,je),Ut=_Ee(Mt,(o=qe==null?void 0:qe.rect)!=null?o:null,Te),Ft=R.useRef(null),bt=R.useCallback((Kt,Mn)=>{let{sensor:et,options:tr}=Mn;if(B.current==null)return;const Zt=E.get(B.current);if(!Zt)return;const $e=Kt.nativeEvent,qn=new et({active:B.current,activeNode:Zt,event:$e,options:tr,context:ae,onAbort(jn){if(!E.get(jn))return;const{onDragAbort:We}=ue.current,tt={id:jn};We==null||We(tt),v({type:"onDragAbort",event:tt})},onPending(jn,Ie,We,tt){if(!E.get(jn))return;const{onDragPending:mt}=ue.current,W={id:jn,constraint:Ie,initialCoordinates:We,offset:tt};mt==null||mt(W),v({type:"onDragPending",event:W})},onStart(jn){const Ie=B.current;if(Ie==null)return;const We=E.get(Ie);if(!We)return;const{onDragStart:tt}=ue.current,at={activatorEvent:$e,active:{id:Ie,data:We.data,rect:I}};Hs.unstable_batchedUpdates(()=>{tt==null||tt(at),x(gc.Initializing),y({type:to.DragStart,initialCoordinates:jn,active:Ie}),v({type:"onDragStart",event:at}),H(Ft.current),ne($e)})},onMove(jn){y({type:to.DragMove,coordinates:jn})},onEnd:gi(to.DragEnd),onCancel:gi(to.DragCancel)});Ft.current=qn;function gi(jn){return async function(){const{active:We,collisions:tt,over:at,scrollAdjustedTranslate:mt}=ae.current;let W=null;if(We&&mt){const{cancelDrop:le}=ue.current;W={activatorEvent:$e,active:We,collisions:tt,delta:mt,over:at},jn===to.DragEnd&&typeof le=="function"&&await Promise.resolve(le(W))&&(jn=to.DragCancel)}B.current=null,Hs.unstable_batchedUpdates(()=>{y({type:jn}),x(gc.Uninitialized),Ze(null),H(null),ne(null),Ft.current=null;const le=jn===to.DragEnd?"onDragEnd":"onDragCancel";if(W){const he=ue.current[le];he==null||he(W),v({type:le,event:W})}})}}},[E]),Jn=R.useCallback((Kt,Mn)=>(et,tr)=>{const Zt=et.nativeEvent,$e=E.get(tr);if(B.current!==null||!$e||Zt.dndKit||Zt.defaultPrevented)return;const qn={active:$e};Kt(et,Mn.options,qn)===!0&&(Zt.dndKit={capturedBy:Mn.sensor},B.current=tr,bt(et,Mn))},[E,bt]),sn=HEe(c,Jn);JEe(c),Lu(()=>{Te&&_===gc.Initializing&&x(gc.Initialized)},[Te,_]),R.useEffect(()=>{const{onDragMove:Kt}=ue.current,{active:Mn,activatorEvent:et,collisions:tr,over:Zt}=ae.current;if(!Mn||!et)return;const $e={active:Mn,activatorEvent:et,collisions:tr,delta:{x:Qe.x,y:Qe.y},over:Zt};Hs.unstable_batchedUpdates(()=>{Kt==null||Kt($e),v({type:"onDragMove",event:$e})})},[Qe.x,Qe.y]),R.useEffect(()=>{const{active:Kt,activatorEvent:Mn,collisions:et,droppableContainers:tr,scrollAdjustedTranslate:Zt}=ae.current;if(!Kt||B.current==null||!Mn||!Zt)return;const{onDragOver:$e}=ue.current,qn=tr.get(Je),gi=qn&&qn.rect.current?{id:qn.id,rect:qn.rect.current,data:qn.data,disabled:qn.disabled}:null,jn={active:Kt,activatorEvent:Mn,collisions:et,delta:{x:Zt.x,y:Zt.y},over:gi};Hs.unstable_batchedUpdates(()=>{Ze(gi),$e==null||$e(jn),v({type:"onDragOver",event:jn})})},[Je]),Lu(()=>{ae.current={activatorEvent:z,active:k,activeNode:K,collisionRect:Ve,collisions:Ne,droppableRects:J,draggableNodes:E,draggingNode:te,draggingNodeRect:oe,droppableContainers:D,over:qe,scrollableAncestors:Be,scrollAdjustedTranslate:Qe},I.current={initial:oe,translated:Ve}},[k,K,Ne,Ve,E,te,oe,J,D,qe,Be,Qe]),FEe({...de,delta:C,draggingRect:Ve,pointerCoordinates:xe,scrollableAncestors:Be,scrollableAncestorRects:Z});const gn=R.useMemo(()=>({active:k,activeNode:K,activeNodeRect:Te,activatorEvent:z,collisions:Ne,containerNodeRect:me,dragOverlay:$,draggableNodes:E,droppableContainers:D,droppableRects:J,over:qe,measureDroppableContainers:Y,scrollableAncestors:Be,scrollableAncestorRects:Z,measuringConfiguration:G,measuringScheduled:L,windowRect:Oe}),[k,K,Te,z,Ne,me,$,E,D,J,qe,Y,Be,Z,G,L,Oe]),vn=R.useMemo(()=>({activatorEvent:z,activators:sn,active:k,activeNodeRect:Te,ariaDescribedById:{draggable:Q},dispatch:y,draggableNodes:E,over:qe,measureDroppableContainers:Y}),[z,sn,k,Te,y,Q,E,qe,Y]);return En.createElement(XH.Provider,{value:b},En.createElement(fb.Provider,{value:vn},En.createElement(cG.Provider,{value:gn},En.createElement(Uw.Provider,{value:Ut},u)),En.createElement(l2e,{disabled:(a==null?void 0:a.restoreFocus)===!1})),En.createElement(pEe,{...a,hiddenTextDescribedById:Q}));function An(){const Kt=(q==null?void 0:q.autoScrollEnabled)===!1,Mn=typeof l=="object"?l.enabled===!1:l===!1,et=T&&!Kt&&!Mn;return typeof l=="object"?{...l,enabled:et}:{enabled:et}}}),f2e=R.createContext(null),T$="button",p2e="Draggable";function h2e(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=$w(p2e),{activators:s,activatorEvent:a,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:d,over:f}=R.useContext(fb),{role:m=T$,roleDescription:h="draggable",tabIndex:g=0}=i??{},S=(l==null?void 0:l.id)===t,y=R.useContext(S?Uw:f2e),[v,b]=AS(),[_,x]=AS(),T=e2e(s,t),w=av(n);Lu(()=>(d.set(t,{id:t,key:o,node:v,activatorNode:_,data:w}),()=>{const C=d.get(t);C&&C.key===o&&d.delete(t)}),[d,t]);const E=R.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":S&&m===T$?!0:void 0,"aria-roledescription":h,"aria-describedby":c.draggable}),[r,m,g,S,h,c.draggable]);return{active:l,activatorEvent:a,activeNodeRect:u,attributes:E,isDragging:S,listeners:r?void 0:T,node:v,over:f,setNodeRef:b,setActivatorNodeRef:x,transform:y}}function m2e(){return R.useContext(cG)}const g2e="Droppable",y2e={timeout:25};function v2e(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=$w(g2e),{active:s,dispatch:a,over:l,measureDroppableContainers:u}=R.useContext(fb),c=R.useRef({disabled:n}),d=R.useRef(!1),f=R.useRef(null),m=R.useRef(null),{disabled:h,updateMeasurementsFor:g,timeout:S}={...y2e,...i},y=av(g??r),v=R.useCallback(()=>{if(!d.current){d.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),m.current=null},S)},[S]),b=Bw({callback:v,disabled:h||!s}),_=R.useCallback((E,C)=>{b&&(C&&(b.unobserve(C),d.current=!1),E&&b.observe(E))},[b]),[x,T]=AS(_),w=av(t);return R.useEffect(()=>{!b||!x.current||(b.disconnect(),d.current=!1,b.observe(x.current))},[x,b]),R.useEffect(()=>(a({type:to.RegisterDroppable,element:{id:r,key:o,disabled:n,node:x,rect:f,data:w}}),()=>a({type:to.UnregisterDroppable,key:o,id:r})),[r]),R.useEffect(()=>{n!==c.current.disabled&&(a({type:to.SetDroppableDisabled,id:r,key:o,disabled:n}),c.current.disabled=n)},[r,o,n,a]),{active:s,rect:f,isOver:(l==null?void 0:l.id)===r,node:x,over:l,setNodeRef:T}}function b2e(e){let{animation:t,children:n}=e;const[r,i]=R.useState(null),[o,s]=R.useState(null),a=CS(n);return!n&&!r&&a&&i(a),Lu(()=>{if(!o)return;const l=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(l==null||u==null){i(null);return}Promise.resolve(t(u,o)).then(()=>{i(null)})},[t,r,o]),En.createElement(En.Fragment,null,n,r?R.cloneElement(r,{ref:s}):null)}const _2e={x:0,y:0,scaleX:1,scaleY:1};function S2e(e){let{children:t}=e;return En.createElement(fb.Provider,{value:uG},En.createElement(Uw.Provider,{value:_2e},t))}const x2e={position:"fixed",touchAction:"none"},w2e=e=>OR(e)?"transform 250ms ease":void 0,T2e=R.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:o,className:s,rect:a,style:l,transform:u,transition:c=w2e}=e;if(!a)return null;const d=i?u:{...u,scaleX:1,scaleY:1},f={...x2e,width:a.width,height:a.height,top:a.top,left:a.left,transform:$h.Transform.toString(d),transformOrigin:i&&r?mEe(r,a):void 0,transition:typeof c=="function"?c(r):c,...l};return En.createElement(n,{className:s,style:f,ref:t},o)}),E2e=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:o,className:s}=e;if(o!=null&&o.active)for(const[a,l]of Object.entries(o.active))l!==void 0&&(i[a]=n.node.style.getPropertyValue(a),n.node.style.setProperty(a,l));if(o!=null&&o.dragOverlay)for(const[a,l]of Object.entries(o.dragOverlay))l!==void 0&&r.node.style.setProperty(a,l);return s!=null&&s.active&&n.node.classList.add(s.active),s!=null&&s.dragOverlay&&r.node.classList.add(s.dragOverlay),function(){for(const[l,u]of Object.entries(i))n.node.style.setProperty(l,u);s!=null&&s.active&&n.node.classList.remove(s.active)}},A2e=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:$h.Transform.toString(t)},{transform:$h.Transform.toString(n)}]},C2e={duration:250,easing:"ease",keyframes:A2e,sideEffects:E2e({styles:{active:{opacity:"0"}}})};function O2e(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return Lw((o,s)=>{if(t===null)return;const a=n.get(o);if(!a)return;const l=a.node.current;if(!l)return;const u=lG(s);if(!u)return;const{transform:c}=ds(s).getComputedStyle(s),d=QH(c);if(!d)return;const f=typeof t=="function"?t:D2e(t);return oG(l,i.draggable.measure),f({active:{id:o,data:a.data,node:l,rect:i.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:s,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:d})})}function D2e(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...C2e,...e};return o=>{let{active:s,dragOverlay:a,transform:l,...u}=o;if(!t)return;const c={x:a.rect.left-s.rect.left,y:a.rect.top-s.rect.top},d={scaleX:l.scaleX!==1?s.rect.width*l.scaleX/a.rect.width:1,scaleY:l.scaleY!==1?s.rect.height*l.scaleY/a.rect.height:1},f={x:l.x-c.x,y:l.y-c.y,...d},m=i({...u,active:s,dragOverlay:a,transform:{initial:l,final:f}}),[h]=m,g=m[m.length-1];if(JSON.stringify(h)===JSON.stringify(g))return;const S=r==null?void 0:r({active:s,dragOverlay:a,...u}),y=a.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(v=>{y.onfinish=()=>{S==null||S(),v()}})}}let E$=0;function P2e(e){return R.useMemo(()=>{if(e!=null)return E$++,E$},[e])}const R2e=En.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:o,modifiers:s,wrapperElement:a="div",className:l,zIndex:u=999}=e;const{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:m,draggableNodes:h,droppableContainers:g,dragOverlay:S,over:y,measuringConfiguration:v,scrollableAncestors:b,scrollableAncestorRects:_,windowRect:x}=m2e(),T=R.useContext(Uw),w=P2e(d==null?void 0:d.id),E=dG(s,{activatorEvent:c,active:d,activeNodeRect:f,containerNodeRect:m,draggingNodeRect:S.rect,over:y,overlayNodeRect:S.rect,scrollableAncestors:b,scrollableAncestorRects:_,transform:T,windowRect:x}),C=NR(f),D=O2e({config:r,draggableNodes:h,droppableContainers:g,measuringConfiguration:v}),O=C?S.setRef:void 0;return En.createElement(S2e,null,En.createElement(b2e,{animation:D},d&&w?En.createElement(T2e,{key:w,id:d.id,ref:O,as:a,activatorEvent:c,adjustScale:t,className:l,transition:o,rect:C,style:{zIndex:u,...i},transform:E},n):null))});function I2e(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const k2e=e=>{let{draggingNodeRect:t,transform:n,scrollableAncestorRects:r}=e;const i=r[0];return!t||!i?n:I2e(n,t,i)},qf=({className:e,children:t})=>U.jsx("div",{className:Pt(Aa.controls,e),children:t}),hy=(e,t,n)=>{var r;return((r=n.find(({id:i})=>i===e))==null?void 0:r.correctDropZone)===t},N2e=[rr.Down,rr.Right,rr.Up,rr.Left],M2e=(e,{context:{collisionRect:t,droppableRects:n,droppableContainers:r,over:i}})=>{if(!N2e.includes(e.code)||!t)return;e.preventDefault();const o=[...r.values()].map(({id:u})=>{const c=n.get(u);return c?{id:u,center:{x:c.left+c.width/2,y:c.top+c.height/2}}:null}).filter(Boolean),s=o.length,a=i?o.findIndex(({id:u})=>u===i.id):-1;let l;switch(e.code){case rr.Right:case rr.Down:{const u=a===-1?0:(a+1)%s;l=o[u];break}case rr.Left:case rr.Up:{const u=a===-1?s-1:(a-1+s)%s;l=o[u];break}}if(l)return{x:l.center.x-t.width/2,y:l.center.y-t.height/2}},Fw=({label:e,labelClass:t,response:n=wt.None})=>{const r=jr();return U.jsxs("span",{className:no.itemInner,children:[U.jsx("span",{className:no.itemContent,children:U.jsx("span",{className:Pt(Bt.label,t),dangerouslySetInnerHTML:{__html:r.plain(e)}})}),U.jsx("span",{className:no.itemFooter,children:n===wt.None?U.jsx(_q,{className:no.itemDragIcon}):U.jsx(nv,{isCorrect:n===wt.Correct,size:"1"})})]})},j2e=({element:e,answers:t})=>{const{props:n,variables:r}=e,{items:i,dropZones:o,cardSize:s}=n,a=R.useRef(null),l=jr(),u=ii("--ev-card-drop-item-label"),c=ii("--ev-card-drop-zone-label");R.useEffect(()=>{var f;(f=a.current)==null||f.focus()},[]);const d=f=>Object.entries(t).filter(([,h])=>h===f).map(([h])=>{const g=i.find(({id:y})=>y===h),S=hy(h,t[h],i)?wt.Correct:wt.Incorrect;return g?U.jsx("li",{children:U.jsx("div",{className:Pt(no.item,"ev-card-drop-item-answer",{[Bt.isCorrect]:S===wt.Correct,[Bt.isIncorrect]:S===wt.Incorrect}),style:{...s},children:U.jsx(Fw,{label:g.label,labelClass:r["--ev-card-drop-item-label"]||u,response:S})})},h):null});return U.jsx("div",{className:no.dropZonesContainer,tabIndex:-1,ref:a,children:o.map(f=>U.jsxs("div",{className:`${no.dropZone} ev-show-answers`,style:{width:s.width+24,minHeight:s.height+24},children:[U.jsx("span",{className:Pt(Bt.label,r["--ev-card-drop-zone-label"]||c),dangerouslySetInnerHTML:{__html:l.plain(f.label)}}),U.jsx("ul",{className:"ev-answers-list",children:d(f.id)})]},f.id))})},L2e=e=>{const t=vr(),{setNodeRef:n,transform:r,attributes:i,listeners:o}=h2e({id:e.id,disabled:e.isDisabled,data:{label:e.label},attributes:{tabIndex:e.isDisabled?-1:0,roleDescription:t("cardDropDescriptionAria")}}),{role:s,...a}=i;return U.jsx("button",{ref:n,className:Pt(no.item,no.itemDefault,{"ev-is-dragging":e.isDragging,"ev-hide-shadow":e.isDisabled}),style:{transform:e.isDragging?"none":$h.Translate.toString(r),zIndex:100-e.index,...e.size},...o,...a,children:U.jsx(Fw,{label:e.label,labelClass:e.labelClass})})},$2e=e=>e.cards.map((t,n)=>U.jsx(L2e,{index:n,id:t.id,label:t.label,labelClass:e.labelClass,size:e.size,isDisabled:n>0,isDragging:e.activeCardId===t.id},t.id)),A$=R.forwardRef((e,t)=>U.jsx("span",{ref:t,className:Pt(no.item,"ev-card-drop-item-dropped",{"ev-is-rejected":e.isRejected}),style:{...e.size},children:U.jsx(Fw,{label:e.card.label,labelClass:e.labelClass})})),B2e=e=>{const{setNodeRef:t,isOver:n}=v2e({id:e.id,disabled:e.isDisabled}),r=jr();return U.jsxs("div",{ref:t,className:no.dropZone,style:{...e.size},children:[U.jsx(_i,{className:Pt(no.dropZoneContent,{"ev-is-drag-over":n}),isDisabled:e.isDisabled,onClick:()=>e.onClick(e.id),children:U.jsx("span",{className:Pt(Bt.label,e.labelClass),dangerouslySetInnerHTML:{__html:r.plain(e.label)}})}),e.children]})},U2e=e=>U.jsx("div",{className:no.dropZonesContainer,children:e.zones.map(t=>U.jsx(B2e,{id:t.id,label:t.label,labelClass:e.zoneLabelClass,isDisabled:e.isDisabled,size:e.zoneSize,onClick:e.onDropZoneClick,children:e.renderDroppedCard(t.id)},t.id))}),F2e=({showScore:e,answers:t,items:n})=>{const r=vr(),i=R.useCallback(()=>({score:Object.keys(t).filter(s=>hy(s,t[s],n)).length,total:n.length}),[t,n]),o=e?i():null;return U.jsx("output",{className:"ev-card-drop-score-card",children:o?U.jsx(U.Fragment,{children:r("cardDropScore",{correct:o.score,total:o.total})}):r("cardDropCompleted")})},z2e={submitted:!1,attempt:1,response:wt.None,answers:{}},V2e=({element:e})=>{var ae;const{_id:t,refId:n,variant:r,card:i,props:o,variables:s}=e,a=jr(),l=vr(),u=R.useRef(null),c=R.useRef(null),d=ii("--ev-card-drop-item-label"),f=s["--ev-card-drop-item-label"]||d,m=ii("--ev-card-drop-zone-label"),h=ii("--ev-button-label"),g=`${Bt.label} ${h}`,{completed:S,setElementViewed:y,setElementStarted:v,setElementCompleted:b}=Eo(n),[{submitted:_,response:x,attempt:T,answers:w},E]=ca(n,z2e),[C,D]=R.useState(null),[O,I]=R.useState(!1),[k,B]=R.useState({}),q=R.useRef(null),H=EL(()=>{var ge,$,te;(ge=q.current)==null||ge.removeEventListener("animationend",H),B({}),G.length&&((te=($=u.current)==null?void 0:$.querySelector("button"))==null||te.focus())});R.useEffect(()=>{var ge;(ge=q.current)==null||ge.addEventListener("animationend",H)},[k,H]);const[z,ne]=R.useState({}),ue=R.useRef(null),Q=EL(()=>{var ge,$;(ge=ue.current)==null||ge.removeEventListener("animationend",Q),ne({}),($=u.current)==null||$.focus()});R.useEffect(()=>{var ge;(ge=ue.current)==null||ge.addEventListener("animationend",Q)},[z,Q]);const N=hEe(h$(kR),h$(RR,{coordinateGetter:M2e})),G=R.useMemo(()=>{const ge=o.items.filter(({id:te})=>!w[te]),$=Object.values(z)[0];return $?ge.filter(({id:te})=>te!==$.id):ge},[o.items,w,z]),J=ge=>Object.keys(ge).every($=>hy($,ge[$],o.items))?wt.Correct:Object.keys(ge).some($=>hy($,ge[$],o.items))?wt.PartlyCorrect:wt.Incorrect,Y=(ge,$)=>{var Pe;if(D(null),v(),o.rejectIncorrectCards&&!hy(ge.id,$,o.items))return ne({[$]:ge});B({[$]:ge});const te={...w,[ge.id]:$},oe=Object.keys(te).length===o.items.length,Se=oe?J(te):wt.None;E({answers:te,submitted:oe,response:Se}),oe&&((Pe=c.current)==null||Pe.focus(),(Se===wt.Correct||!o.allowInfiniteAttempts&&T===o.allowedAttempts)&&b())},L=ge=>{if(!C)return;if(!ge.over)return D(null);const $=o.items.find(({id:te})=>te===C);$&&Y($,ge.over.id)},K=ge=>{const $=G[0];$&&Y($,ge)},ie=()=>{E({response:wt.None,attempt:T+1,submitted:!1,answers:{}})},de=()=>{B({}),I(!O)},ye=R.useCallback(ge=>{var te;const $=(te=o.items.find(({id:oe})=>oe===ge))==null?void 0:te.label;return $?a.plain($):ge},[o.items,a]),Te=R.useCallback(ge=>{var te;const $=(te=o.dropZones.find(({id:oe})=>oe===ge))==null?void 0:te.label;return $?a.plain($):ge},[o.dropZones,a]),me=R.useMemo(()=>({onDragStart({active:ge}){return l("cardDropDragStartAria",{cardLabel:ye(ge.id)})},onDragOver({active:ge,over:$}){const te=ye(ge.id);return $?l("cardDropCardOverDropZoneAria",{cardLabel:te,dropZoneLabel:Te($.id)}):l("cardDropCardOffDropZoneAria",{cardLabel:te})},onDragEnd({active:ge,over:$}){const te=ye(ge.id);return $?l("cardDropCardDroppedOnDropZoneAria",{cardLabel:te,dropZoneLabel:Te($.id)}):l("cardDropCardDroppedAria",{cardLabel:te})},onDragCancel({active:ge}){return l("cardDropDragCancelledAria",{cardLabel:ye(ge.id)})}}),[l,ye,Te]);return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:y,isReady:!0,children:U.jsxs(Fi,{className:no.widget,children:[U.jsx(Qi,{className:no.question,content:o.questionText}),U.jsx("div",{className:no.container,children:U.jsxs(d2e,{accessibility:{announcements:me,screenReaderInstructions:{draggable:l("cardDropInstructionAria")}},sensors:N,onDragStart:ge=>D(ge.active.id),onDragEnd:L,onDragAbort:()=>D(null),onDragCancel:()=>D(null),children:[U.jsx("div",{className:no.itemsContainer,ref:u,style:{...o.cardSize},tabIndex:-1,children:_?U.jsx(F2e,{showScore:o.showScore,answers:w,items:o.items}):U.jsx($2e,{cards:G,size:o.cardSize,activeCardId:C,labelClass:f})}),O?U.jsx(j2e,{element:e,answers:w}):U.jsx(U2e,{zones:o.dropZones,zoneLabelClass:s["--ev-card-drop-zone-label"]||m,zoneSize:{width:o.cardSize.width+24,height:o.cardSize.height+24},isDisabled:_,onDropZoneClick:K,renderDroppedCard:ge=>U.jsxs(U.Fragment,{children:[k[ge]&&U.jsx(A$,{ref:q,card:k[ge],size:o.cardSize,labelClass:f}),z[ge]&&U.jsx(A$,{ref:ue,card:z[ge],size:o.cardSize,labelClass:f,isRejected:!0})]})}),U.jsx(R2e,{modifiers:[k2e],children:C?U.jsx("div",{className:`${no.item} ev-card-drop-item-dragging ev-focus-visible`,style:{...o.cardSize},children:U.jsx(Fw,{label:((ae=o.items.find(({id:ge})=>ge===C))==null?void 0:ae.label)??{en:""},labelClass:f})}):null})]})}),U.jsxs(qf,{children:[U.jsx(Ff,{ref:c,response:x,feedback:o.feedback,isFinalAttempt:S}),!S&&U.jsxs(U.Fragment,{children:[_&&U.jsx(_i,{className:Bt.button,onClick:ie,children:U.jsx("span",{className:g,children:l("questionReset")})}),o.showAttempts&&U.jsx(sw,{className:no.attempts,attempt:T,maxAttempts:o.allowedAttempts,allowInfiniteAttempts:o.allowInfiniteAttempts})]}),S&&o.allowShowAnswers&&Object.keys(w).length&&U.jsx(_i,{className:Bt.button,onClick:de,children:U.jsx("span",{className:g,children:l(O?"cardDropHideAnswers":"cardDropShowAnswers")})})]})]})})},q2e={selected:[]},H2e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:{items:o,instructionText:s,requireAllItems:a,requiredItemsCount:l,feedback:u},variables:c}=e,d=jr(),{completed:f,setElementViewed:m,setElementStarted:h,setElementCompleted:g}=Eo(n),[{selected:S},y]=ca(n,q2e),v=ii("--ev-checklist-item-label"),b=(x,T)=>{h();const w=T?[...S,x]:S.filter(E=>E!==x);y({selected:w})},_=R.useCallback(()=>{const x=o.length;if(x===0)return!1;const T=S.length;return a?T===x:T>=l},[S,o,a,l]);return R.useEffect(()=>{if(f)return;_()&&g()},[f,_,g]),U.jsx(To,{elementId:t,variant:r,card:i,onVisible:m,isReady:!0,children:U.jsxs(Fi,{children:[U.jsxs("fieldset",{children:[U.jsx("legend",{className:Pt(Bt.typography,ic.instruction),dangerouslySetInnerHTML:{__html:d.rich(s)}}),U.jsx("div",{className:ic.items,children:o.map(x=>{const T=f&&a?!0:S.includes(x.id);return U.jsxs("div",{className:ic.item,children:[U.jsx("input",{type:"checkbox",id:`${n}-${x.id}`,checked:T,onChange:w=>b(x.id,w.target.checked)}),U.jsxs("label",{htmlFor:`${n}-${x.id}`,className:Pt(ic.itemLabel,Bt.label,(c==null?void 0:c["--ev-checklist-item-label"])||v),children:[U.jsxs("span",{className:Pt(ic.itemCheckbox,{[Bt.isSelected]:T}),children:[U.jsx(vD,{className:ic.itemCheckboxIcon}),T&&U.jsx(mD,{className:Pt(ic.itemCheckboxIcon,ic.itemCheckboxCheck)})]}),U.jsx("span",{dangerouslySetInnerHTML:{__html:d.plain(x.label)}})]})]},x.id)})})]}),U.jsx(qf,{children:U.jsx(Ff,{response:f?wt.Neutral:wt.None,feedback:u,hideMarking:!0})})]})})},G2e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:o}=e,{setElementCompleted:s}=Eo(n);return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:s,isReady:!0,children:U.jsx(Fi,{children:U.jsx("pre",{className:"ev-code-snippet",children:(o==null?void 0:o.code)??""})})})};function zw(e,t){var n,r,i;if(t!=null&&t.src)return e==="mobile"?(n=t.mobile)!=null&&n.src?Qa(t.mobile):(r=t.tablet)!=null&&r.src?Qa(t.tablet):Qa(t):e==="tablet"&&(i=t.tablet)!=null&&i.src?Qa(t.tablet):Qa(t)}const MR=e=>(e==null?void 0:e.key)==="Enter",W2e=e=>["Enter","Space"].includes(e.code),Y2e=e=>(e==null?void 0:e.key)==="ArrowLeft",K2e=e=>(e==null?void 0:e.key)==="ArrowRight",X2e=e=>(e==null?void 0:e.key)==="ArrowDown",C$=({className:e,config:t,data:n,isHidden:r})=>{const i=jr(),o=vr(),s=un(l=>l.device.type),a=R.useMemo(()=>{var c;const l={};if(!((c=t==null?void 0:t.media)!=null&&c.src))return l;const u=zw(s,t.media);return u&&(l.backgroundImage=`url('${u}')`),l},[t,s]);return U.jsxs("div",{className:e,style:a,inert:r,children:[n.media&&U.jsx("div",{className:`${e}-media`,children:U.jsx(Ua,{media:n.media,altText:n.altText?i.plain(n.altText):""})}),n.hasText&&n.content&&U.jsx("div",{className:`${e}-content`,children:U.jsx(Qi,{content:n.content})}),U.jsx(PH,{content:o("flipCardButtonTooltip"),children:U.jsx("div",{className:Ud.itemButton,children:U.jsx(fU,{})})})]})},Z2e=({uniqueId:e,ariaDescriptionId:t,config:n,data:r,isFlipped:i,onClick:o})=>U.jsx("div",{"data-testid":e,className:Ud.item,role:"button",tabIndex:0,"aria-pressed":i,"aria-describedby":t,style:{...n.size},onClick:()=>{o(r.id),document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape"}))},onKeyDown:s=>{W2e(s)&&(s.preventDefault(),o(r.id))},children:U.jsxs("div",{className:Ud.itemInner,children:[U.jsx(C$,{className:Ud.itemFront,config:n.front,data:r.front,isHidden:i}),U.jsx(C$,{className:Ud.itemBack,config:n.back,data:r.back,isHidden:!i})]})}),Q2e={viewed:[],flipped:[]},J2e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:o}=e,s=vr(),{setElementViewed:a,setElementStarted:l,setElementCompleted:u}=Eo(n),[{viewed:c,flipped:d},f]=ca(n,Q2e),m=S=>{l(),f(({viewed:y,flipped:v})=>({viewed:y.includes(S)?y:[...y,S],flipped:v.includes(S)?v.filter(b=>b!==S):o.allowOnlyOneCardFlipped?[S]:[...v,S]}))};R.useEffect(()=>{c.length<o.items.length||u()},[c.length,o.items.length,u]);const h=o.showAnimations&&window.matchMedia("(prefers-reduced-motion: no-preference)").matches,g=`flip-card-desc-${n}`;return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:a,isReady:!0,children:U.jsxs(Fi,{className:Pt(Ud.widget,{[Bt.showAnimations]:h}),children:[U.jsx("ul",{className:Ud.items,children:o.items.map(S=>U.jsx("li",{children:U.jsx(Z2e,{uniqueId:`${n}-${S.id}`,ariaDescriptionId:g,isFlipped:d.includes(S.id),data:S,config:{size:o.cardSize,front:o.cardFront,back:o.cardBack},onClick:m})},S.id))}),U.jsx("div",{id:g,className:"ev-visually-hidden","aria-hidden":!0,children:s("flipCardAria")})]})})},eAe=({element:e})=>{var g,S,y,v;const{_id:t,refId:n,variant:r,card:i}=e,o=un(b=>b.device.type),{setElementCompleted:s}=Eo(n),a=jr(),[l,u]=R.useState(!1),[c,d]=R.useState(!1),f=e.props.caption&&a.rich(e.props.caption),m=(g=e.props.lightbox)==null?void 0:g.isEnabled,h=()=>U.jsx(Ua,{className:Mj.imageAlign(e.props.horizontalAlignment),id:n,media:e.props.media,altText:a.plain(e.props.altText),onLoad:()=>d(!0)});return U.jsxs(To,{elementId:t,variant:r,card:i,onVisible:s,isReady:c||!((S=e.props.media)!=null&&S.src),children:[U.jsx(Fi,{children:U.jsxs("figure",{className:Mj.figure,children:[m?U.jsx("button",{type:"button",className:`${Bt.isExpandable} ev-focus-visible`,onClick:()=>u(!0),children:h()}):h(),f&&U.jsx(Qi,{className:Bt.caption,html:f,tag:"figcaption"})]})}),m&&U.jsx(Pwe,{open:l,setOpen:u,slides:[{src:zw(o,((y=e.props.lightbox)==null?void 0:y.media)||e.props.media)||"",alt:a.plain(((v=e.props.lightbox)==null?void 0:v.altText)||e.props.altText)}]})]})},O$=20,tAe=e=>{const[t,n]=R.useState({x:0,y:0}),r=()=>{if(!e.current)return{x:0,y:0};const o={x:e.current.offsetWidth,y:e.current.offsetHeight};return{x:O$/o.x*100,y:O$/o.y*100}};return{hotspotsOffset:t,setHotspotsOffset:n,getHotspotsOffset:r,updateHotspotsOffset:()=>{n(r())}}},fG=({index:e,size:t,isViewed:n,isSelected:r,hotspotType:i,...o})=>{const s=()=>n?U.jsx(Lf,{}):i==="icon"?U.jsx(hD,{}):U.jsx("span",{className:Uo.hotspotButtonNumber,children:e+1});return U.jsx("button",{className:Pt(Uo.hotspotButton,Uo.hotspotButtonSize(t),{[Bt.isSelected]:r}),"aria-expanded":r,...o,children:s()})},pG=e=>{const t=vr();return U.jsx("button",{className:Uo.hotspotToolbarButton,"aria-label":t("hotgraphicCloseButtonAria"),...e,children:U.jsx(hm,{})})},hG=({item:e})=>{var n;const t=jr();return U.jsx(V9,{className:Uo.hotspotContent,type:"always",children:U.jsxs("div",{className:Uo.hotspotContentInner,children:[((n=e.media)==null?void 0:n.src)&&U.jsx(Ua,{media:e.media,altText:t.plain(e.altText),draggable:!1}),U.jsx(Qi,{content:e.content})]})})},mG=({onNextItem:e,onPreviousItem:t})=>{const n=vr();return U.jsxs("div",{className:Uo.hotspotToolbarNavigation,children:[U.jsx("button",{className:Uo.hotspotToolbarButton,onClick:t,"aria-label":n("hotgraphicPrevButtonAria"),children:U.jsx(yD,{})}),U.jsx("button",{className:Uo.hotspotToolbarButton,onClick:e,"aria-label":n("hotgraphicNextButtonAria"),children:U.jsx(Ux,{})})]})},nAe=({item:e,isViewed:t,isOpen:n,onOpenChange:r,onNextItem:i,onPreviousItem:o,index:s,hotspotType:a,variables:l})=>{const u=jr();return U.jsxs(E9,{open:n,onOpenChange:r,children:[U.jsx(Ame,{asChild:!0,children:U.jsx(fG,{size:"small",isSelected:n,isViewed:t,index:s,hotspotType:a,"aria-label":u.plain(e.altText)})}),U.jsxs(A9,{children:[U.jsx(C9,{className:Uo.hotspotDialogOverlay}),U.jsxs(O9,{className:Uo.hotspotDialog,style:l,"aria-describedby":void 0,children:[U.jsx(iP,{children:U.jsx(D9,{})}),U.jsxs("div",{className:Uo.hotspotToolbar,children:[U.jsx(mG,{onNextItem:i,onPreviousItem:o}),U.jsx(Cme,{asChild:!0,children:U.jsx(pG,{})})]}),U.jsx(hG,{item:e})]})]})]})};var Vw="Popover",[gG,M4e]=Zv(Vw,[Ow]),pb=Ow(),[rAe,dd]=gG(Vw),yG=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=pb(t),l=R.useRef(null),[u,c]=R.useState(!1),[d,f]=ZD({prop:r,defaultProp:i??!1,onChange:o,caller:Vw});return U.jsx(bH,{...a,children:U.jsx(rAe,{scope:t,contentId:oy(),triggerRef:l,open:d,onOpenChange:f,onOpenToggle:R.useCallback(()=>f(m=>!m),[f]),hasCustomAnchor:u,onCustomAnchorAdd:R.useCallback(()=>c(!0),[]),onCustomAnchorRemove:R.useCallback(()=>c(!1),[]),modal:s,children:n})})};yG.displayName=Vw;var vG="PopoverAnchor",iAe=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=dd(vG,n),o=pb(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return R.useEffect(()=>(s(),()=>a()),[s,a]),U.jsx(vR,{...o,...r,ref:t})});iAe.displayName=vG;var bG="PopoverTrigger",_G=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=dd(bG,n),o=pb(n),s=ao(t,i.triggerRef),a=U.jsx(Ui.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":AG(i.open),...r,ref:s,onClick:Wr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:U.jsx(vR,{asChild:!0,...o,children:a})});_G.displayName=bG;var jR="PopoverPortal",[oAe,sAe]=gG(jR,{forceMount:void 0}),SG=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=dd(jR,t);return U.jsx(oAe,{scope:t,forceMount:n,children:U.jsx($a,{present:n||o.open,children:U.jsx(lw,{asChild:!0,container:i,children:r})})})};SG.displayName=jR;var Bh="PopoverContent",xG=R.forwardRef((e,t)=>{const n=sAe(Bh,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=dd(Bh,e.__scopePopover);return U.jsx($a,{present:r||o.open,children:o.modal?U.jsx(lAe,{...i,ref:t}):U.jsx(uAe,{...i,ref:t})})});xG.displayName=Bh;var aAe=QD("PopoverContent.RemoveScroll"),lAe=R.forwardRef((e,t)=>{const n=dd(Bh,e.__scopePopover),r=R.useRef(null),i=ao(t,r),o=R.useRef(!1);return R.useEffect(()=>{const s=r.current;if(s)return u9(s)},[]),U.jsx(eP,{as:aAe,allowPinchZoom:!0,children:U.jsx(wG,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Wr(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Wr(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,u=a.button===2||l;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Wr(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),uAe=R.forwardRef((e,t)=>{const n=dd(Bh,e.__scopePopover),r=R.useRef(!1),i=R.useRef(!1);return U.jsx(wG,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),wG=R.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:c,...d}=e,f=dd(Bh,n),m=pb(n);return t9(),U.jsx(JD,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:U.jsx(aw,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:c,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:U.jsx(_H,{"data-state":AG(f.open),role:"dialog",id:f.contentId,...m,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),TG="PopoverClose",EG=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=dd(TG,n);return U.jsx(Ui.button,{type:"button",...r,ref:t,onClick:Wr(e.onClick,()=>i.onOpenChange(!1))})});EG.displayName=TG;var cAe="PopoverArrow",dAe=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=pb(n);return U.jsx(SH,{...i,...r,ref:t})});dAe.displayName=cAe;function AG(e){return e?"open":"closed"}var fAe=yG,pAe=_G,hAe=SG,mAe=xG,gAe=EG;const yAe=500,vAe=({item:e,isViewed:t,isOpen:n,onOpenChange:r,onNextItem:i,onPreviousItem:o,hotspotsRef:s,index:a,hotspotType:l,variables:u})=>{const c=jr(),d=R.useMemo(()=>{var f;return s.current&&((f=s.current)==null?void 0:f.getBoundingClientRect().height)>yAe?s.current:null},[s]);return U.jsxs(fAe,{open:n,onOpenChange:r,children:[U.jsx(pAe,{asChild:!0,children:U.jsx(fG,{size:"medium",isSelected:n,isViewed:t,index:a,hotspotType:l,"aria-label":c.plain(e.ariaLabel)})}),U.jsx(hAe,{children:U.jsxs(mAe,{className:Uo.hotspotPopover,side:"right",align:"center",sideOffset:10,collisionBoundary:d,collisionPadding:10,style:u,children:[U.jsxs("div",{className:Uo.hotspotToolbar,children:[U.jsx(mG,{onNextItem:i,onPreviousItem:o}),U.jsx(gAe,{asChild:!0,children:U.jsx(pG,{})})]}),U.jsx(hG,{item:e})]})})]})},bAe=({item:e,isViewed:t,isOpen:n,onOpenChange:r,onNextItem:i,onPreviousItem:o,hotspotsRef:s,index:a,hotspotType:l,variables:u})=>{const{breakpoint:c}=kw();return U.jsx("div",{className:Uo.hotspot,style:{left:`${e.position.x}%`,top:`${e.position.y}%`},children:c==="small"?U.jsx(nAe,{item:e,isViewed:t,isOpen:n,onOpenChange:r,onNextItem:()=>i(!1),onPreviousItem:()=>o(!1),index:a,hotspotType:l,variables:u}):U.jsx(vAe,{item:e,isViewed:t,isOpen:n,onOpenChange:r,onNextItem:()=>i(!0),onPreviousItem:()=>o(!0),hotspotsRef:s,index:a,hotspotType:l,variables:u})},e.id)},_Ae={viewed:[]},SAe=({element:e})=>{const t=R.useRef(null),{_id:n,refId:r,variant:i,card:o,props:{items:s,image:a,altText:l,hotspotType:u},variables:c}=e,d=jr(),{hotspotsOffset:f,updateHotspotsOffset:m}=tAe(t),{completed:h,setElementViewed:g,setElementStarted:S,setElementCompleted:y}=Eo(r),[{viewed:v,selected:b},_]=ca(r,_Ae),x=D=>{if(S(),!D)return _({viewed:v,selected:void 0});let O=h||v.includes(D)?v:[...v,D];!h&&O.length===s.length&&(O=Array(s.length).fill("*")),_({viewed:O,selected:b===D?void 0:D})},T=()=>_({selected:void 0}),w=(D,O=!0)=>{if(!b||s.length===0)return;const I=s.findIndex(H=>H.id===b),k=D==="next"?(I+1)%s.length:(I-1+s.length)%s.length,B=s[k];if(!B)return;T();const q=()=>x(B.id);return O?setTimeout(q,100):q()},E=D=>w("next",D),C=D=>w("previous",D);return R.useEffect(()=>{v.length<s.length||y()},[s.length,v.length,y]),U.jsx(To,{elementId:n,variant:i,card:o,onVisible:g,isReady:!0,children:U.jsx(Fi,{children:U.jsxs("div",{className:Uo.container,children:[U.jsx(Ua,{media:a,altText:d.plain(l),onLoad:m,draggable:!1}),(a==null?void 0:a.src)&&U.jsx("div",{ref:t,className:Uo.hotspots,style:{top:`${f.y}%`,bottom:`${f.y}%`,left:`${f.x}%`,right:`${f.x}%`},children:s.map((D,O)=>U.jsx(bAe,{item:D,isViewed:v.includes(D.id)||h,isOpen:b===D.id,onOpenChange:I=>I?x(D.id):T(),onNextItem:E,onPreviousItem:C,hotspotsRef:t,hotspotType:u,index:O,variables:c},D.id))})]})})})},CG=()=>typeof window<"u",xAe=()=>window.self!==window.top,D$=e=>e instanceof HTMLIFrameElement,wAe=e=>{window.document.readyState==="complete"?e():window.addEventListener("load",e)},TAe=(e,t)=>{t(),e.addEventListener("load",t)},EAe=(e,t)=>{var n,r;const i=((n=e.contentWindow)==null?void 0:n.document.readyState)==="complete";return e.src!=="about:blank"&&((r=e.contentWindow)==null?void 0:r.location.href)!=="about:blank"&&i?t():e.addEventListener("load",t)},AAe=()=>({offsetSize:0,checkOrigin:!0,enableLegacyLibSupport:!1}),CAe=e=>{try{return new URL(e.src).origin===window.location.origin}catch{return!1}},OAe=e=>{try{const t=new URL(e.src).origin;if(t!=="about:blank")return t}catch{}return null},DAe=e=>(Object.keys(e).forEach(t=>e[t]===void 0&&delete e[t]),e),OG=e=>{const{height:t,width:n}=e.getBoundingClientRect();return{height:Math.ceil(t),width:Math.ceil(n)}},IS=(e,t)=>e?t?e.querySelector(t):e.documentElement:null,DG=(e,t)=>{e&&(t.bodyPadding&&(e.body.style.padding=t.bodyPadding),t.bodyMargin&&(e.body.style.margin=t.bodyMargin))},LR=e=>e<=100?100:e<=120?1e3:1e4,PAe=()=>"[iFrameSizer]ID:0:false:false:32:true:true::auto:::0:false:child:auto:true:::true:::false";function RAe(e){if(typeof e.data!="string"||!e.data.startsWith("[iFrameSizer]")||!e.data.endsWith("mutationObserver")&&!e.data.endsWith("resizeObserver"))return null;const[t,n]=e.data.split(":"),r=+n;return r>0?r:null}const P$=BAe();let m_=[];const IAe=(e,t)=>{if(!CG())return[];const n={...AAe(),...DAe(e??{})},r=kAe(t),i=NAe(n,r);return r.map(o=>{const s={iframe:o,settings:n,interactionState:{isHovered:!1},initContext:{isInitialized:!1,retryAttempts:0}},a=MAe(s,i);return m_.push(s),{unsubscribe:()=>{a(),m_=m_.filter(l=>l.iframe!==o)}}})};function kAe(e){return typeof e=="string"?Array.from(document.querySelectorAll(e)).filter(D$):e?D$(e)?[e]:[]:Array.from(document.getElementsByTagName("iframe"))}function NAe(e,t){if(Array.isArray(e.checkOrigin))return e.checkOrigin;if(!e.checkOrigin)return[];const n=[];for(const r of t){const i=OAe(r);i&&n.push(i)}return n}function MAe(e,t){const n=CAe(e.iframe)?LAe(e):jAe(e,t),r=$Ae(e);return()=>{n(),r()}}function jAe(e,t){const{iframe:n,initContext:r,settings:{checkOrigin:i,enableLegacyLibSupport:o,targetElementSelector:s,bodyPadding:a,bodyMargin:l}}=e,u=f=>{var m;const h=!i||t.includes(f.origin);if(!(n.contentWindow!==f.source||!h)){if(((m=f.data)==null?void 0:m.type)==="iframe-resized"){const{height:g}=f.data;g&&xC({newHeight:g,registeredElement:e});return}if(o){const g=RAe(f);g!==null&&xC({newHeight:g,registeredElement:e});return}}};window.addEventListener("message",u);const c=o?PAe():{type:"iframe-child-init",targetElementSelector:s,bodyPadding:a,bodyMargin:l},d=()=>{TAe(n,()=>{var f;return(f=n.contentWindow)==null?void 0:f.postMessage(c,"*")}),r.retryAttempts++,r.retryTimeoutId=window.setTimeout(d,LR(r.retryAttempts))};return d(),()=>window.removeEventListener("message",u)}function LAe(e){const{iframe:t,settings:n}=e,{targetElementSelector:r}=n;let i=0;const o=()=>{const s=IS(t.contentDocument,r);if(!t.contentDocument||!s)return i++,setTimeout(o,LR(i));DG(t.contentDocument,n),P$().observe(s)};return EAe(t,o),()=>{const s=IS(t.contentDocument,r);s&&P$().unobserve(s),t.removeEventListener("load",o)}}function $Ae({iframe:e,interactionState:t}){const n=()=>{t.isHovered=!0},r=()=>{t.isHovered=!1};return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",r),()=>{e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",r)}}function BAe(){let e=null;return()=>{if(!e){const t=({target:n})=>{const r=m_.find(({iframe:l})=>l.contentDocument===n.ownerDocument);if(!r)return;const{iframe:i,settings:o}=r,s=IS(i.contentDocument,o.targetElementSelector);if(!s)return;const{height:a}=OG(s);a&&xC({newHeight:a,registeredElement:r})};e=new ResizeObserver(n=>n.forEach(t))}return e}}function xC({registeredElement:e,newHeight:t}){var n;const{iframe:r,settings:i,interactionState:o,initContext:s}=e;if(s.isInitialized||(s.isInitialized=!0,clearTimeout(s.retryTimeoutId)),((n=i.onBeforeIframeResize)==null?void 0:n.call(i,{iframe:r,settings:{...i},observedHeight:t}))===!1)return;const a=r.getBoundingClientRect(),l=t+i.offsetSize;if(r.style.height=`${l}px`,!i.onIframeResize)return;const u={iframe:r,settings:{...i},interactionState:{...o},previousRenderState:{rect:a},nextRenderState:{rect:r.getBoundingClientRect()}};i.onIframeResize(u)}const UAe=zAe();let R$=!1;FAe();function FAe(){!CG()||!xAe()||window.addEventListener("message",e=>{var t;((t=e.data)==null?void 0:t.type)==="iframe-child-init"&&wAe(()=>PG(e))})}function PG(e,t=0){const{targetElementSelector:n,bodyPadding:r,bodyMargin:i}=e.data,o=IS(document,n);if(R$||window.parent!==e.source)return;if(!o)return setTimeout(()=>PG(e,t+1),LR(t));DG(document,{bodyMargin:i,bodyPadding:r});const s=UAe();s.disconnect(),s.observe(o),R$=!0}function zAe(){let e=null;return()=>(e||(e=new ResizeObserver(t=>{if(!t[0].target)return;const{height:n,width:r}=OG(t[0].target),i={type:"iframe-resized",width:r,height:n};window.parent.postMessage(i,"*")})),e)}const RG=R.forwardRef((e,t)=>{const n=R.useRef(null),{settings:r,iframeAttributes:i}=VAe(e);R.useEffect(()=>{if(!n.current)return;const s=IAe(r,n.current);return()=>s.forEach(a=>a.unsubscribe())},[]);const o=R.useCallback(s=>{n.current=s,typeof t=="function"?t(s):t&&(t.current=s)},[t]);return U.jsx("iframe",{...i,ref:o})});RG.displayName="IframeResizer";function VAe(e){const{offsetSize:t,enableLegacyLibSupport:n,checkOrigin:r,onIframeResize:i,onBeforeIframeResize:o,targetElementSelector:s,bodyMargin:a,bodyPadding:l,...u}=e;return{iframeAttributes:u,settings:{offsetSize:t,enableLegacyLibSupport:n,checkOrigin:r,onIframeResize:i,onBeforeIframeResize:o,targetElementSelector:s,bodyMargin:a,bodyPadding:l}}}function kS(e){try{return new URL(e)}catch{return null}}const qAe=/<iframe[^>]*src=["']([^"']+)["'][^>]*>/i;function IG(e){if(!e)return null;const t=e.match(qAe);return(t==null?void 0:t[1])??null}function HAe(e){if(!e)return"/";const t=kS(e);if(t)return t.origin;const n=IG(e);if(!n)return"/";const r=kS(n);return r?r.origin:"/"}const GAe=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:o}=e,{autoHeight:s,completionEvent:a,embed:l,height:u,iFrameTitle:c}=o,d=jr(),f=R.useRef(null),m=R.useRef(null),{setElementViewed:h,setElementCompleted:g}=Eo(n),S=()=>{var x,T;if(a!=="contentEvent")return;const b=new MessageChannel;b.port1.onmessage=w=>typeof w.data=="string"&&["completed","complete"].includes(w.data.toLowerCase())?g():null;const _=HAe(l);(T=(x=f.current)==null?void 0:x.contentWindow)==null||T.postMessage("evolve-iframe",_,[b.port2]),m.current=b};R.useEffect(()=>()=>{var b,_;(b=m.current)==null||b.port1.close(),(_=m.current)==null||_.port2.close(),m.current=null},[]);const y=R.useMemo(()=>{const b=kS(l);if(b)return b;const _=IG(l);return _?kS(_):null},[l]),v=s?void 0:u??500;return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:a==="contentEvent"?h:g,isReady:!0,children:U.jsx(Fi,{children:U.jsx(RG,{ref:f,"data-testid":`iframe-${n}`,allow:"fullscreen",width:"100%",height:v,src:(y==null?void 0:y.href)??"",title:d.plain(c),onLoad:S})})})},WAe=()=>Cr(e=>e.app.isPreview);var jg;typeof window<"u"?jg=window:typeof cu<"u"?jg=cu:typeof self<"u"?jg=self:jg={};var qw=jg;const De=dl(qw),YAe={},KAe=Object.freeze(Object.defineProperty({__proto__:null,default:YAe},Symbol.toStringTag,{value:"Module"})),XAe=hQ(KAe);var I$=typeof cu<"u"?cu:typeof window<"u"?window:{},ZAe=XAe,Lg;typeof document<"u"?Lg=document:(Lg=I$["__GLOBAL_DOCUMENT_CACHE@4"],Lg||(Lg=I$["__GLOBAL_DOCUMENT_CACHE@4"]=ZAe));var kG=Lg;const Et=dl(kG);var $R={exports:{}},NG={exports:{}};(function(e){function t(){return e.exports=t=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0})(NG);var QAe=NG.exports,JAe=tCe,eCe=Object.prototype.toString;function tCe(e){if(!e)return!1;var t=eCe.call(e);return t==="[object Function]"||typeof e=="function"&&t!=="[object RegExp]"||typeof window<"u"&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}function nCe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=rCe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rCe(e,t){if(e){if(typeof e=="string")return k$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k$(e,t)}}function k$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var iCe=function(){function e(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},t.addInterceptor=function(r,i){this.typeToInterceptorsMap_.has(r)||this.typeToInterceptorsMap_.set(r,new Set);var o=this.typeToInterceptorsMap_.get(r);return o.has(i)?!1:(o.add(i),!0)},t.removeInterceptor=function(r,i){var o=this.typeToInterceptorsMap_.get(r);return o&&o.has(i)?(o.delete(i),!0):!1},t.clearInterceptorsByType=function(r){var i=this.typeToInterceptorsMap_.get(r);return i?(this.typeToInterceptorsMap_.delete(r),this.typeToInterceptorsMap_.set(r,new Set),!0):!1},t.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},t.getForType=function(r){return this.typeToInterceptorsMap_.get(r)||new Set},t.execute=function(r,i){for(var o=this.getForType(r),s=nCe(o),a;!(a=s()).done;){var l=a.value;try{i=l(i)}catch{}}return i},e}(),oCe=iCe,sCe=function(){function e(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var t=e.prototype;return t.getIsEnabled=function(){return this.enabled_},t.enable=function(){this.enabled_=!0},t.disable=function(){this.enabled_=!1},t.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},t.getMaxAttempts=function(){return this.maxAttempts_},t.setMaxAttempts=function(r){this.maxAttempts_=r},t.getDelayFactor=function(){return this.delayFactor_},t.setDelayFactor=function(r){this.delayFactor_=r},t.getFuzzFactor=function(){return this.fuzzFactor_},t.setFuzzFactor=function(r){this.fuzzFactor_=r},t.getInitialDelay=function(){return this.initialDelay_},t.setInitialDelay=function(r){this.initialDelay_=r},t.createRetry=function(r){var i=r===void 0?{}:r,o=i.maxAttempts,s=i.delayFactor,a=i.fuzzFactor,l=i.initialDelay;return new aCe({maxAttempts:o||this.maxAttempts_,delayFactor:s||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},e}(),aCe=function(){function e(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var t=e.prototype;return t.moveToNextAttempt=function(){this.currentAttempt_++;var r=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+r},t.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},t.getCurrentDelay=function(){return this.currentDelay_},t.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},t.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},t.getCurrentFuzzedDelay=function(){var r=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return r+Math.random()*(i-r)},e}(),lCe=sCe,uCe=qw,cCe=function(t,n){return n===void 0&&(n=!1),function(r,i,o){if(r){t(r);return}if(i.statusCode>=400&&i.statusCode<=599){var s=o;if(n)if(uCe.TextDecoder){var a=dCe(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(a).decode(o)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(o));t({cause:s});return}t(null,o)}};function dCe(e){return e===void 0&&(e=""),e.toLowerCase().split(";").reduce(function(t,n){var r=n.split("="),i=r[0],o=r[1];return i.trim()==="charset"?o.trim():t},"utf-8")}var fCe=cCe,MG=qw,pCe=QAe,hCe=JAe,jG=oCe,mCe=lCe;ki.httpHandler=fCe;ki.requestInterceptorsStorage=new jG;ki.responseInterceptorsStorage=new jG;ki.retryManager=new mCe;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var gCe=function(t){var n={};return t&&t.trim().split(`
`).forEach(function(r){var i=r.indexOf(":"),o=r.slice(0,i).trim().toLowerCase(),s=r.slice(i+1).trim();typeof n[o]>"u"?n[o]=s:Array.isArray(n[o])?n[o].push(s):n[o]=[n[o],s]}),n};$R.exports=ki;$R.exports.default=ki;ki.XMLHttpRequest=MG.XMLHttpRequest||_Ce;ki.XDomainRequest="withCredentials"in new ki.XMLHttpRequest?ki.XMLHttpRequest:MG.XDomainRequest;yCe(["get","put","post","patch","head","delete"],function(e){ki[e==="delete"?"del":e]=function(t,n,r){return n=LG(t,n,r),n.method=e.toUpperCase(),BR(n)}});function yCe(e,t){for(var n=0;n<e.length;n++)t(e[n])}function vCe(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function LG(e,t,n){var r=e;return hCe(t)?(n=t,typeof e=="string"&&(r={uri:e})):r=pCe({},t,{uri:e}),r.callback=n,r}function ki(e,t,n){return t=LG(e,t,n),BR(t)}function BR(e){if(typeof e.callback>"u")throw new Error("callback argument missing");if(e.requestType&&ki.requestInterceptorsStorage.getIsEnabled()){var t={uri:e.uri||e.url,headers:e.headers||{},body:e.body,metadata:e.metadata||{},retry:e.retry,timeout:e.timeout},n=ki.requestInterceptorsStorage.execute(e.requestType,t);e.uri=n.uri,e.headers=n.headers,e.body=n.body,e.metadata=n.metadata,e.retry=n.retry,e.timeout=n.timeout}var r=!1,i=function(x,T,w){r||(r=!0,e.callback(x,T,w))};function o(){u.readyState===4&&!ki.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function s(){var _=void 0;if(u.response?_=u.response:_=u.responseText||bCe(u),y)try{_=JSON.parse(_)}catch{}return _}function a(_){if(clearTimeout(v),clearTimeout(e.retryTimeout),_ instanceof Error||(_=new Error(""+(_||"Unknown XMLHttpRequest Error"))),_.statusCode=0,!d&&ki.retryManager.getIsEnabled()&&e.retry&&e.retry.shouldRetry()){e.retryTimeout=setTimeout(function(){e.retry.moveToNextAttempt(),e.xhr=u,BR(e)},e.retry.getCurrentFuzzedDelay());return}if(e.requestType&&ki.responseInterceptorsStorage.getIsEnabled()){var x={headers:b.headers||{},body:b.body,responseUrl:u.responseURL,responseType:u.responseType},T=ki.responseInterceptorsStorage.execute(e.requestType,x);b.body=T.body,b.headers=T.headers}return i(_,b)}function l(){if(!d){var _;clearTimeout(v),clearTimeout(e.retryTimeout),e.useXDR&&u.status===void 0?_=200:_=u.status===1223?204:u.status;var x=b,T=null;if(_!==0?(x={body:s(),statusCode:_,method:m,headers:{},url:f,rawRequest:u},u.getAllResponseHeaders&&(x.headers=gCe(u.getAllResponseHeaders()))):T=new Error("Internal XMLHttpRequest Error"),e.requestType&&ki.responseInterceptorsStorage.getIsEnabled()){var w={headers:x.headers||{},body:x.body,responseUrl:u.responseURL,responseType:u.responseType},E=ki.responseInterceptorsStorage.execute(e.requestType,w);x.body=E.body,x.headers=E.headers}return i(T,x,x.body)}}var u=e.xhr||null;u||(e.cors||e.useXDR?u=new ki.XDomainRequest:u=new ki.XMLHttpRequest);var c,d,f=u.url=e.uri||e.url,m=u.method=e.method||"GET",h=e.body||e.data,g=u.headers=e.headers||{},S=!!e.sync,y=!1,v,b={body:void 0,headers:{},statusCode:0,method:m,url:f,rawRequest:u};if("json"in e&&e.json!==!1&&(y=!0,g.accept||g.Accept||(g.Accept="application/json"),m!=="GET"&&m!=="HEAD"&&(g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json"),h=JSON.stringify(e.json===!0?h:e.json))),u.onreadystatechange=o,u.onload=l,u.onerror=a,u.onprogress=function(){},u.onabort=function(){d=!0,clearTimeout(e.retryTimeout)},u.ontimeout=a,u.open(m,f,!S,e.username,e.password),S||(u.withCredentials=!!e.withCredentials),!S&&e.timeout>0&&(v=setTimeout(function(){if(!d){d=!0,u.abort("timeout");var _=new Error("XMLHttpRequest timeout");_.code="ETIMEDOUT",a(_)}},e.timeout)),u.setRequestHeader)for(c in g)g.hasOwnProperty(c)&&u.setRequestHeader(c,g[c]);else if(e.headers&&!vCe(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(u.responseType=e.responseType),"beforeSend"in e&&typeof e.beforeSend=="function"&&e.beforeSend(u),u.send(h||null),u}function bCe(e){try{if(e.responseType==="document")return e.responseXML;var t=e.responseXML&&e.responseXML.documentElement.nodeName==="parsererror";if(e.responseType===""&&!t)return e.responseXML}catch{}return null}function _Ce(){}var SCe=$R.exports;const $G=dl(SCe);var BG={exports:{}},N$=kG,UR=Object.create||function(){function e(){}return function(t){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function qs(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}qs.prototype=UR(Error.prototype);qs.prototype.constructor=qs;qs.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function FR(e){function t(r,i,o,s){return(r|0)*3600+(i|0)*60+(o|0)+(s|0)/1e3}var n=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function my(){this.values=UR(null)}my.prototype={set:function(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t),t>=0&&t<=100)?(this.set(e,t),!0):!1}};function $g(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if(typeof i[o]=="string"){var s=i[o].split(n);if(s.length===2){var a=s[0].trim(),l=s[1].trim();t(a,l)}}}function xCe(e,t,n){var r=e;function i(){var a=FR(e);if(a===null)throw new qs(qs.Errors.BadTimeStamp,"Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),a}function o(a,l){var u=new my;$g(a,function(c,d){switch(c){case"region":for(var f=n.length-1;f>=0;f--)if(n[f].id===d){u.set(c,n[f].region);break}break;case"vertical":u.alt(c,d,["rl","lr"]);break;case"line":var m=d.split(","),h=m[0];u.integer(c,h),u.percent(c,h)&&u.set("snapToLines",!1),u.alt(c,h,["auto"]),m.length===2&&u.alt("lineAlign",m[1],["start","center","end"]);break;case"position":m=d.split(","),u.percent(c,m[0]),m.length===2&&u.alt("positionAlign",m[1],["start","center","end"]);break;case"size":u.percent(c,d);break;case"align":u.alt(c,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function s(){e=e.replace(/^\s+/,"")}if(s(),t.startTime=i(),s(),e.substr(0,3)!=="-->")throw new qs(qs.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);e=e.substr(3),s(),t.endTime=i(),s(),o(e,t)}var wE=N$.createElement&&N$.createElement("textarea"),wCe={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},M$={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},TCe={v:"title",lang:"lang"},j$={rt:"ruby"};function UG(e,t){function n(){if(!t)return null;function h(S){return t=t.substr(S.length),S}var g=t.match(/^([^<]*)(<[^>]*>?)?/);return h(g[1]?g[1]:g[2])}function r(h){return wE.innerHTML=h,h=wE.textContent,wE.textContent="",h}function i(h,g){return!j$[g.localName]||j$[g.localName]===h.localName}function o(h,g){var S=wCe[h];if(!S)return null;var y=e.document.createElement(S),v=TCe[h];return v&&g&&(y[v]=g.trim()),y}for(var s=e.document.createElement("div"),a=s,l,u=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),a=a.parentNode);continue}var c=FR(l.substr(1,l.length-2)),d;if(c){d=e.document.createProcessingInstruction("timestamp",c),a.appendChild(d);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(d=o(f[1],f[3]),!d)||!i(a,d))continue;if(f[2]){var m=f[2].split(".");m.forEach(function(h){var g=/^bg_/.test(h),S=g?h.slice(3):h;if(M$.hasOwnProperty(S)){var y=g?"background-color":"color",v=M$[S];d.style[y]=v}}),d.className=m.join(" ")}u.push(f[1]),a.appendChild(d),a=d;continue}a.appendChild(e.document.createTextNode(r(l)))}return s}var L$=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function ECe(e){for(var t=0;t<L$.length;t++){var n=L$[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function ACe(e){var t=[],n="",r;if(!e||!e.childNodes)return"ltr";function i(a,l){for(var u=l.childNodes.length-1;u>=0;u--)a.push(l.childNodes[u])}function o(a){if(!a||!a.length)return null;var l=a.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(a.length=0,c[0]):u}if(l.tagName==="ruby")return o(a);if(l.childNodes)return i(a,l),o(a)}for(i(t,e);n=o(t);)for(var s=0;s<n.length;s++)if(r=n.charCodeAt(s),ECe(r))return"rtl";return"ltr"}function CCe(e){if(typeof e.line=="number"&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,r=0,i=0;i<n.length&&n[i]!==t;i++)n[i].mode==="showing"&&r++;return++r*-1}function Hw(){}Hw.prototype.applyStyles=function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])};Hw.prototype.formatStyle=function(e,t){return e===0?0:e+t};function NS(e,t,n){Hw.call(this),this.cue=t,this.cueDiv=UG(e,t.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=e.document.createElement("div"),r={direction:ACe(this.cueDiv),writingMode:t.vertical===""?"horizontal-tb":t.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:t.align==="middle"?"center":t.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var i=0;switch(t.positionAlign){case"start":case"line-left":i=t.position;break;case"center":i=t.position-t.size/2;break;case"end":case"line-right":i=t.position-t.size;break}t.vertical===""?this.applyStyles({left:this.formatStyle(i,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(i,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(o){this.applyStyles({top:this.formatStyle(o.top,"px"),bottom:this.formatStyle(o.bottom,"px"),left:this.formatStyle(o.left,"px"),right:this.formatStyle(o.right,"px"),height:this.formatStyle(o.height,"px"),width:this.formatStyle(o.width,"px")})}}NS.prototype=UR(Hw.prototype);NS.prototype.constructor=NS;function is(e){var t,n,r,i;if(e.div){n=e.div.offsetHeight,r=e.div.offsetWidth,i=e.div.offsetTop;var o=(o=e.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();e=e.div.getBoundingClientRect(),t=o?Math.max(o[0]&&o[0].height||0,e.height/o.length):0}this.left=e.left,this.right=e.right,this.top=e.top||i,this.height=e.height||n,this.bottom=e.bottom||i+(e.height||n),this.width=e.width||r,this.lineHeight=t!==void 0?t:e.lineHeight}is.prototype.move=function(e,t){switch(t=t!==void 0?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t;break}};is.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};is.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1};is.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right};is.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}};is.prototype.intersectPercentage=function(e){var t=Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left)),n=Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top)),r=t*n;return r/(this.height*this.width)};is.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}};is.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,r=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e;var i={left:e.left,right:e.right,top:e.top||r,height:e.height||t,bottom:e.bottom||r+(e.height||t),width:e.width||n};return i};function OCe(e,t,n,r){function i(S,y){for(var v,b=new is(S),_=1,x=0;x<y.length;x++){for(;S.overlapsOppositeAxis(n,y[x])||S.within(n)&&S.overlapsAny(r);)S.move(y[x]);if(S.within(n))return S;var T=S.intersectPercentage(n);_>T&&(v=new is(S),_=T),S=new is(b)}return v||b}var o=new is(t),s=t.cue,a=CCe(s),l=[];if(s.snapToLines){var u;switch(s.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=o.lineHeight,d=c*Math.round(a),f=n[u]+c,m=l[0];Math.abs(d)>f&&(d=d<0?-1:1,d*=Math.ceil(f/c)*c),a<0&&(d+=s.vertical===""?n.height:n.width,l=l.reverse()),o.move(m,d)}else{var h=o.lineHeight/n.height*100;switch(s.lineAlign){case"center":a-=h/2;break;case"end":a-=h;break}switch(s.vertical){case"":t.applyStyles({top:t.formatStyle(a,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(a,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],o=new is(t)}var g=i(o,l);t.move(g.toCSSCompatValues(n))}function Cm(){}Cm.StringDecoder=function(){return{decode:function(e){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};Cm.convertCueToDOMTree=function(e,t){return!e||!t?null:UG(e,t)};var DCe=.05,PCe="sans-serif",RCe="1.5%";Cm.processCues=function(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=e.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=RCe,n.appendChild(r);function i(c){for(var d=0;d<c.length;d++)if(c[d].hasBeenReset||!c[d].displayState)return!0;return!1}if(!i(t)){for(var o=0;o<t.length;o++)r.appendChild(t[o].displayState);return}var s=[],a=is.getSimpleBoxPosition(r),l=Math.round(a.height*DCe*100)/100,u={font:l+"px "+PCe};(function(){for(var c,d,f=0;f<t.length;f++)d=t[f],c=new NS(e,d,u),r.appendChild(c.div),OCe(e,c,a,s),d.displayState=c.div,s.push(is.getSimpleBoxPosition(c))})()};Cm.Parser=function(e,t,n){n||(n=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Cm.Parser.prototype={reportOrThrowError:function(e){if(e instanceof qs)this.onparsingerror&&this.onparsingerror(e);else throw e},parse:function(e){var t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function n(){for(var c=t.buffer,d=0;d<c.length&&c[d]!=="\r"&&c[d]!==`
`;)++d;var f=c.substr(0,d);return c[d]==="\r"&&++d,c[d]===`
`&&++d,t.buffer=c.substr(d),f}function r(c){var d=new my;if($g(c,function(m,h){switch(m){case"id":d.set(m,h);break;case"width":d.percent(m,h);break;case"lines":d.integer(m,h);break;case"regionanchor":case"viewportanchor":var g=h.split(",");if(g.length!==2)break;var S=new my;if(S.percent("x",g[0]),S.percent("y",g[1]),!S.has("x")||!S.has("y"))break;d.set(m+"X",S.get("x")),d.set(m+"Y",S.get("y"));break;case"scroll":d.alt(m,h,["up"]);break}},/=/,/\s/),d.has("id")){var f=new(t.vttjs.VTTRegion||t.window.VTTRegion);f.width=d.get("width",100),f.lines=d.get("lines",3),f.regionAnchorX=d.get("regionanchorX",0),f.regionAnchorY=d.get("regionanchorY",100),f.viewportAnchorX=d.get("viewportanchorX",0),f.viewportAnchorY=d.get("viewportanchorY",100),f.scroll=d.get("scroll",""),t.onregion&&t.onregion(f),t.regionList.push({id:d.get("id"),region:f})}}function i(c){var d=new my;$g(c,function(f,m){switch(f){case"MPEGT":d.integer(f+"S",m);break;case"LOCA":d.set(f+"L",FR(m));break}},/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function o(c){c.match(/X-TIMESTAMP-MAP/)?$g(c,function(d,f){switch(d){case"X-TIMESTAMP-MAP":i(f);break}},/=/):$g(c,function(d,f){switch(d){case"Region":r(f);break}},/:/)}try{var s;if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=n();var a=s.match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new qs(qs.Errors.BadSignature);t.state="HEADER"}for(var l=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(l?l=!1:s=n(),t.state){case"HEADER":/:/.test(s)?o(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch{t.cue.align="middle"}if(t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":try{xCe(s,t.cue,t.regionList)}catch(c){t.reportOrThrowError(c),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=s.indexOf("-->")!==-1;if(!s||u&&(l=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":s||(t.state="ID");continue}}}catch(c){t.reportOrThrowError(c),t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL")throw new qs(qs.Errors.BadSignature)}catch(t){e.reportOrThrowError(t)}return e.onflush&&e.onflush(),this}};var ICe=Cm,kCe="auto",NCe={"":1,lr:1,rl:1},MCe={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function jCe(e){if(typeof e!="string")return!1;var t=NCe[e.toLowerCase()];return t?e.toLowerCase():!1}function TE(e){if(typeof e!="string")return!1;var t=MCe[e.toLowerCase()];return t?e.toLowerCase():!1}function FG(e,t,n){this.hasBeenReset=!1;var r="",i=!1,o=e,s=t,a=n,l=null,u="",c=!0,d="auto",f="start",m="auto",h="auto",g=100,S="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(y){r=""+y}},pauseOnExit:{enumerable:!0,get:function(){return i},set:function(y){i=!!y}},startTime:{enumerable:!0,get:function(){return o},set:function(y){if(typeof y!="number")throw new TypeError("Start time must be set to a number.");o=y,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number")throw new TypeError("End time must be set to a number.");s=y,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(y){a=""+y,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(y){l=y,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(y){var v=jCe(y);if(v===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=v,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(y){c=!!y,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(y){if(typeof y!="number"&&y!==kCe)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=y,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(y){var v=TE(y);v?(f=v,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return m},set:function(y){if(y<0||y>100)throw new Error("Position must be between 0 and 100.");m=y,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return h},set:function(y){var v=TE(y);v?(h=v,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(y){if(y<0||y>100)throw new Error("Size must be between 0 and 100.");g=y,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return S},set:function(y){var v=TE(y);if(!v)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");S=v,this.hasBeenReset=!0}}}),this.displayState=void 0}FG.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var LCe=FG,$Ce={"":!0,up:!0};function BCe(e){if(typeof e!="string")return!1;var t=$Ce[e.toLowerCase()];return t?e.toLowerCase():!1}function vg(e){return typeof e=="number"&&e>=0&&e<=100}function UCe(){var e=100,t=3,n=0,r=100,i=0,o=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(a){if(!vg(a))throw new Error("Width must be between 0 and 100.");e=a}},lines:{enumerable:!0,get:function(){return t},set:function(a){if(typeof a!="number")throw new TypeError("Lines must be set to a number.");t=a}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(a){if(!vg(a))throw new Error("RegionAnchorX must be between 0 and 100.");r=a}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(a){if(!vg(a))throw new Error("RegionAnchorY must be between 0 and 100.");n=a}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(a){if(!vg(a))throw new Error("ViewportAnchorY must be between 0 and 100.");o=a}},viewportAnchorX:{enumerable:!0,get:function(){return i},set:function(a){if(!vg(a))throw new Error("ViewportAnchorX must be between 0 and 100.");i=a}},scroll:{enumerable:!0,get:function(){return s},set:function(a){var l=BCe(a);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):s=l}}})}var FCe=UCe,$u=qw,Hf=BG.exports={WebVTT:ICe,VTTCue:LCe,VTTRegion:FCe};$u.vttjs=Hf;$u.WebVTT=Hf.WebVTT;var zCe=Hf.VTTCue,VCe=Hf.VTTRegion,qCe=$u.VTTCue,HCe=$u.VTTRegion;Hf.shim=function(){$u.VTTCue=zCe,$u.VTTRegion=VCe};Hf.restore=function(){$u.VTTCue=qCe,$u.VTTRegion=HCe};$u.VTTCue||Hf.shim();var GCe=BG.exports;const $$=dl(GCe);function No(){return No=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(this,arguments)}var B$="https://example.com",WCe=function(t,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(t)&&(t=De.location&&De.location.href||"");var r=/^\/\//.test(t),i=!De.location&&!/\/\//i.test(t);t=new De.URL(t,De.location||B$);var o=new URL(n,t);return i?o.href.slice(B$.length):r?o.href.slice(o.protocol.length):o.href},zR=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(r,i){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(i)},t.off=function(r,i){if(!this.listeners[r])return!1;var o=this.listeners[r].indexOf(i);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(o,1),o>-1},t.trigger=function(r){var i=this.listeners[r];if(i)if(arguments.length===2)for(var o=i.length,s=0;s<o;++s)i[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,a)},t.dispose=function(){this.listeners={}},t.pipe=function(r){this.on("data",function(i){r.push(i)})},e}();function eh(){return eh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(this,arguments)}var YCe=function(t){return De.atob?De.atob(t):Buffer.from(t,"base64").toString("binary")};function KCe(e){for(var t=YCe(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class XCe extends zR{constructor(){super(),this.buffer=""}push(t){let n;for(this.buffer+=t,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const ZCe="	",EE=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},QCe=function(){const n="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+n+")")},Jo=function(e){const t={};if(!e)return t;const n=e.split(QCe());let r=n.length,i;for(;r--;)n[r]!==""&&(i=/([^=]*)=(.*)/.exec(n[r]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),t[i[0]]=i[1]);return t},U$=e=>{const t=e.split("x"),n={};return t[0]&&(n.width=parseInt(t[0],10)),t[1]&&(n.height=parseInt(t[1],10)),n};class JCe extends zR{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(t){let n,r;if(t=t.trim(),t.length===0)return;if(t[0]!=="#"){this.trigger("data",{type:"uri",uri:t});return}this.tagMappers.reduce((o,s)=>{const a=s(t);return a===t?o:o.concat([a])},[t]).forEach(o=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,o))return;if(o.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:o.slice(1)});return}if(o=o.replace("\r",""),n=/^#EXTM3U/.exec(o),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(o),n){r={type:"tag",tagType:"inf"},n[1]&&(r.duration=parseFloat(n[1])),n[2]&&(r.title=n[2]),this.trigger("data",r);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(o),n){r={type:"tag",tagType:"targetduration"},n[1]&&(r.duration=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(o),n){r={type:"tag",tagType:"version"},n[1]&&(r.version=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(o),n){r={type:"tag",tagType:"media-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(o),n){r={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(r.number=parseInt(n[1],10)),this.trigger("data",r);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(o),n){r={type:"tag",tagType:"playlist-type"},n[1]&&(r.playlistType=n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(o),n){r=eh(EE(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",r);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(o),n){r={type:"tag",tagType:"allow-cache"},n[1]&&(r.allowed=!/NO/.test(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(o),n){if(r={type:"tag",tagType:"map"},n[1]){const s=Jo(n[1]);s.URI&&(r.uri=s.URI),s.BYTERANGE&&(r.byterange=EE(s.BYTERANGE))}this.trigger("data",r);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(o),n){r={type:"tag",tagType:"stream-inf"},n[1]&&(r.attributes=Jo(n[1]),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=U$(r.attributes.RESOLUTION)),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),r.attributes["PROGRAM-ID"]&&(r.attributes["PROGRAM-ID"]=parseInt(r.attributes["PROGRAM-ID"],10))),this.trigger("data",r);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(o),n){r={type:"tag",tagType:"media"},n[1]&&(r.attributes=Jo(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-ENDLIST/.exec(o),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(o),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(o),n){r={type:"tag",tagType:"program-date-time"},n[1]&&(r.dateTimeString=n[1],r.dateTimeObject=new Date(n[1])),this.trigger("data",r);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(o),n){r={type:"tag",tagType:"key"},n[1]&&(r.attributes=Jo(n[1]),r.attributes.IV&&(r.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(r.attributes.IV=r.attributes.IV.substring(2)),r.attributes.IV=r.attributes.IV.match(/.{8}/g),r.attributes.IV[0]=parseInt(r.attributes.IV[0],16),r.attributes.IV[1]=parseInt(r.attributes.IV[1],16),r.attributes.IV[2]=parseInt(r.attributes.IV[2],16),r.attributes.IV[3]=parseInt(r.attributes.IV[3],16),r.attributes.IV=new Uint32Array(r.attributes.IV))),this.trigger("data",r);return}if(n=/^#EXT-X-START:(.*)$/.exec(o),n){r={type:"tag",tagType:"start"},n[1]&&(r.attributes=Jo(n[1]),r.attributes["TIME-OFFSET"]=parseFloat(r.attributes["TIME-OFFSET"]),r.attributes.PRECISE=/YES/.test(r.attributes.PRECISE)),this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(o),n){r={type:"tag",tagType:"cue-out-cont"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(o),n){r={type:"tag",tagType:"cue-out"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(o),n){r={type:"tag",tagType:"cue-in"},n[1]?r.data=n[1]:r.data="",this.trigger("data",r);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"skip"},r.attributes=Jo(n[1]),r.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(r.attributes["SKIPPED-SEGMENTS"]=parseInt(r.attributes["SKIPPED-SEGMENTS"],10)),r.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(r.attributes["RECENTLY-REMOVED-DATERANGES"]=r.attributes["RECENTLY-REMOVED-DATERANGES"].split(ZCe)),this.trigger("data",r);return}if(n=/^#EXT-X-PART:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"part"},r.attributes=Jo(n[1]),["DURATION"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),r.attributes.hasOwnProperty("BYTERANGE")&&(r.attributes.byterange=EE(r.attributes.BYTERANGE)),this.trigger("data",r);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"server-control"},r.attributes=Jo(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=/YES/.test(r.attributes[s]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"part-inf"},r.attributes=Jo(n[1]),["PART-TARGET"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseFloat(r.attributes[s]))}),this.trigger("data",r);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"preload-hint"},r.attributes=Jo(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(r.attributes.hasOwnProperty(s)){r.attributes[s]=parseInt(r.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";r.attributes.byterange=r.attributes.byterange||{},r.attributes.byterange[a]=r.attributes[s],delete r.attributes[s]}}),this.trigger("data",r);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"rendition-report"},r.attributes=Jo(n[1]),["LAST-MSN","LAST-PART"].forEach(function(s){r.attributes.hasOwnProperty(s)&&(r.attributes[s]=parseInt(r.attributes[s],10))}),this.trigger("data",r);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(o),n&&n[1]){r={type:"tag",tagType:"daterange"},r.attributes=Jo(n[1]),["ID","CLASS"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=String(r.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=new Date(r.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=parseFloat(r.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=/YES/i.test(r.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){r.attributes.hasOwnProperty(a)&&(r.attributes[a]=r.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in r.attributes){if(!s.test(a))continue;const l=/[0-9A-Fa-f]{6}/g.test(r.attributes[a]),u=/^\d+(\.\d+)?$/.test(r.attributes[a]);r.attributes[a]=l?r.attributes[a].toString(16):u?parseFloat(r.attributes[a]):String(r.attributes[a])}this.trigger("data",r);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(o),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(o),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(o),n){r={type:"tag",tagType:"content-steering"},r.attributes=Jo(n[1]),this.trigger("data",r);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(o),n){r={type:"tag",tagType:"i-frame-playlist"},r.attributes=Jo(n[1]),r.attributes.URI&&(r.uri=r.attributes.URI),r.attributes.BANDWIDTH&&(r.attributes.BANDWIDTH=parseInt(r.attributes.BANDWIDTH,10)),r.attributes.RESOLUTION&&(r.attributes.RESOLUTION=U$(r.attributes.RESOLUTION)),r.attributes["AVERAGE-BANDWIDTH"]&&(r.attributes["AVERAGE-BANDWIDTH"]=parseInt(r.attributes["AVERAGE-BANDWIDTH"],10)),r.attributes["FRAME-RATE"]&&(r.attributes["FRAME-RATE"]=parseFloat(r.attributes["FRAME-RATE"])),this.trigger("data",r);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(o),n){r={type:"tag",tagType:"define"},r.attributes=Jo(n[1]),this.trigger("data",r);return}this.trigger("data",{type:"tag",data:o.slice(4)})})}addParser({expression:t,customType:n,dataParser:r,segment:i}){typeof r!="function"&&(r=o=>o),this.customParsers.push(o=>{if(t.exec(o))return this.trigger("data",{type:"custom",data:r(o),customType:n,segment:i}),!0})}addTagMapper({expression:t,map:n}){const r=i=>t.test(i)?n(i):i;this.tagMappers.push(r)}}const eOe=e=>e.toLowerCase().replace(/-(\w)/g,t=>t[1].toUpperCase()),oc=function(e){const t={};return Object.keys(e).forEach(function(n){t[eOe(n)]=e[n]}),t},AE=function(e){const{serverControl:t,targetDuration:n,partTargetDuration:r}=e;if(!t)return;const i="#EXT-X-SERVER-CONTROL",o="holdBack",s="partHoldBack",a=n&&n*3,l=r&&r*2;n&&!t.hasOwnProperty(o)&&(t[o]=a,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${a}).`})),a&&t[o]<a&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${t[o]}) to targetDuration * 3 (${a})`}),t[o]=a),r&&!t.hasOwnProperty(s)&&(t[s]=r*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[s]}).`})),r&&t[s]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${t[s]}) to partTargetDuration * 2 (${l}).`}),t[s]=l)};class tOe extends zR{constructor(t={}){super(),this.lineStream=new XCe,this.parseStream=new JCe,this.lineStream.pipe(this.parseStream),this.mainDefinitions=t.mainDefinitions||{},this.params=new URL(t.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,r=[];let i={},o,s,a=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,m=0;const h={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&o&&(i.map=o),!i.key&&s&&(i.key=s),!i.timeline&&typeof d=="number"&&(i.timeline=d),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(g){let S,y;if(n.manifest.definitions){for(const v in n.manifest.definitions)if(g.uri&&(g.uri=g.uri.replace(`{$${v}}`,n.manifest.definitions[v])),g.attributes)for(const b in g.attributes)typeof g.attributes[b]=="string"&&(g.attributes[b]=g.attributes[b].replace(`{$${v}}`,n.manifest.definitions[v]))}({tag(){({version(){g.version&&(this.manifest.version=g.version)},"allow-cache"(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const v={};"length"in g&&(i.byterange=v,v.length=g.length,"offset"in g||(g.offset=f)),"offset"in g&&(i.byterange=v,v.offset=g.offset),f=v.offset+v.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.title&&(i.title=g.title),g.duration>0&&(i.duration=g.duration),g.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){s=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:g.attributes.URI};return}if(g.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:KCe(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV<"u"&&(s.iv=g.attributes.IV)},"media-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,d=g.number},"playlist-type"(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map(){o={},g.uri&&(o.uri=g.uri),g.byterange&&(o.byterange=g.byterange),s&&(o.key=s)},"stream-inf"(){if(this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),eh(i.attributes,g.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const v=this.manifest.mediaGroups[g.attributes.TYPE];v[g.attributes["GROUP-ID"]]=v[g.attributes["GROUP-ID"]]||{},S=v[g.attributes["GROUP-ID"]],y={default:/yes/i.test(g.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(y.language=g.attributes.LANGUAGE),g.attributes.URI&&(y.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(y.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(y.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(y.forced=/yes/i.test(g.attributes.FORCED)),S[g.attributes.NAME]=y},discontinuity(){d+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),i.dateTimeString=g.dateTimeString,i.dateTimeObject=g.dateTimeObject;const{lastProgramDateTime:v}=this;this.lastProgramDateTime=new Date(g.dateTimeString).getTime(),v===null&&this.manifest.segments.reduceRight((b,_)=>(_.programDateTime=b-_.duration*1e3,_.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,AE.call(this,this.manifest)},start(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out"(){i.cueOut=g.data},"cue-out-cont"(){i.cueOutCont=g.data},"cue-in"(){i.cueIn=g.data},skip(){this.manifest.skip=oc(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const v=this.manifest.segments.length,b=oc(g.attributes);i.parts=i.parts||[],i.parts.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=m),m=b.byterange.offset+b.byterange.length);const _=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${_} for segment #${v}`,g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((x,T)=>{x.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${T} lacks required attribute(s): LAST-PART`})})},"server-control"(){const v=this.manifest.serverControl=oc(g.attributes);v.hasOwnProperty("canBlockReload")||(v.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),AE.call(this,this.manifest),v.canSkipDateranges&&!v.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const v=this.manifest.segments.length,b=oc(g.attributes),_=b.type&&b.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(b),b.byterange&&(b.byterange.hasOwnProperty("offset")||(b.byterange.offset=_?m:0,_&&(m=b.byterange.offset+b.byterange.length)));const x=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${x} for segment #${v}`,g.attributes,["TYPE","URI"]),!!b.type)for(let T=0;T<i.preloadHints.length-1;T++){const w=i.preloadHints[T];w.type&&w.type===b.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${x} for segment #${v} has the same TYPE ${b.type} as preload hint #${T}`})}},"rendition-report"(){const v=oc(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(v);const b=this.manifest.renditionReports.length-1,_=["LAST-MSN","URI"];a&&_.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${b}`,g.attributes,_)},"part-inf"(){this.manifest.partInf=oc(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),AE.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(oc(g.attributes));const v=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${v}`,g.attributes,["ID","START-DATE"]);const b=this.manifest.dateRanges[v];b.endDate&&b.startDate&&new Date(b.endDate)<new Date(b.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),b.duration&&b.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),b.plannedDuration&&b.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const _=!!b.endOnNext;if(_&&!b.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),_&&(b.duration||b.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),b.duration&&b.endDate){const T=b.startDate.getTime()+b.duration*1e3;this.manifest.dateRanges[v].endDate=new Date(T)}if(!h[b.id])h[b.id]=b;else{for(const T in h[b.id])if(b[T]&&JSON.stringify(h[b.id][T])!==JSON.stringify(b[T])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const x=this.manifest.dateRanges.findIndex(T=>T.id===b.id);this.manifest.dateRanges[x]=eh(this.manifest.dateRanges[x],b),h[b.id]=eh(h[b.id],b),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=oc(g.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",g.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const v=(b,_)=>{if(b in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${b}`});return}this.manifest.definitions[b]=_};if("QUERYPARAM"in g.attributes){if("NAME"in g.attributes||"IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const b=this.params.get(g.attributes.QUERYPARAM);if(!b){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${g.attributes.QUERYPARAM}`});return}v(g.attributes.QUERYPARAM,decodeURIComponent(b));return}if("NAME"in g.attributes){if("IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in g.attributes)||typeof g.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${g.attributes.NAME}`});return}v(g.attributes.NAME,g.attributes.VALUE);return}if("IMPORT"in g.attributes){if(!this.mainDefinitions[g.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${g.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}v(g.attributes.IMPORT,this.mainDefinitions[g.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:g.attributes,uri:g.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",g.attributes,["BANDWIDTH","URI"])}}[g.tagType]||l).call(n)},uri(){i.uri=g.uri,r.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),s&&(i.key=s),i.timeline=d,o&&(i.map=o),m=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){g.segment?(i.custom=i.custom||{},i.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(n)})}requiredCompatibilityversion(t,n){(t<n||!t)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(t,n,r){const i=[];r.forEach(function(o){n.hasOwnProperty(o)||i.push(o)}),i.length&&this.trigger("warn",{message:`${t} lacks required attribute(s): ${i.join(", ")}`})}push(t){this.lineStream.push(t)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(t){this.parseStream.addParser(t)}addTagMapper(t){this.parseStream.addTagMapper(t)}}var nf={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},nOe=["video","audio","text"],F$=["Video","Audio","Text"],zG=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(n,r,i){var o=("00"+Number(r).toString(16)).slice(-2),s=("00"+Number(i).toString(16)).slice(-2);return"avc1."+o+"00"+s})},wl=function(t){t===void 0&&(t="");var n=t.split(","),r=[];return n.forEach(function(i){i=i.trim();var o;nOe.forEach(function(s){var a=nf[s].exec(i.toLowerCase());if(!(!a||a.length<=1)){o=s;var l=i.substring(0,a[1].length),u=i.replace(l,"");r.push({type:l,details:u,mediaType:s})}}),o||r.push({type:i,details:"",mediaType:"unknown"})}),r},rOe=function(t,n){if(!t.mediaGroups.AUDIO||!n)return null;var r=t.mediaGroups.AUDIO[n];if(!r)return null;for(var i in r){var o=r[i];if(o.default&&o.playlists)return wl(o.playlists[0].attributes.CODECS)}return null},VG=function(t){return t===void 0&&(t=""),nf.audio.test(t.trim().toLowerCase())},iOe=function(t){return t===void 0&&(t=""),nf.text.test(t.trim().toLowerCase())},Uh=function(t){if(!(!t||typeof t!="string")){var n=t.toLowerCase().split(",").map(function(o){return zG(o.trim())}),r="video";n.length===1&&VG(n[0])?r="audio":n.length===1&&iOe(n[0])&&(r="application");var i="mp4";return n.every(function(o){return nf.mp4.test(o)})?i="mp4":n.every(function(o){return nf.webm.test(o)})?i="webm":n.every(function(o){return nf.ogg.test(o)})&&(i="ogg"),r+"/"+i+';codecs="'+t+'"'}},gy=function(t,n){return t===void 0&&(t=""),n===void 0&&(n=!1),De.MediaSource&&De.MediaSource.isTypeSupported&&De.MediaSource.isTypeSupported(Uh(t))||n&&De.ManagedMediaSource&&De.ManagedMediaSource.isTypeSupported&&De.ManagedMediaSource.isTypeSupported(Uh(t))||!1},CE=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(n){n=n.trim();for(var r=0;r<F$.length;r++){var i=F$[r];if(nf["muxer"+i].test(n))return!0}return!1})},z$="mp4a.40.2",oOe="avc1.4d400d",sOe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,aOe=/^application\/dash\+xml/i,qG=function(t){return sOe.test(t)?"hls":aOe.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},lOe=function(t){return t.toString(2).length},uOe=function(t){return Math.ceil(lOe(t)/8)},HG=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},cOe=function(t){return HG(t)},mn=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!cOe(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},Ro=De.BigInt||Number,wC=[Ro("0x1"),Ro("0x100"),Ro("0x10000"),Ro("0x1000000"),Ro("0x100000000"),Ro("0x10000000000"),Ro("0x1000000000000"),Ro("0x100000000000000"),Ro("0x10000000000000000")];(function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);return t[0]===255?"big":t[0]===204?"little":"unknown"})();var dOe=function(t,n){var r=n===void 0?{}:n,i=r.signed,o=i===void 0?!1:i,s=r.le,a=s===void 0?!1:s;t=mn(t);var l=a?"reduce":"reduceRight",u=t[l]?t[l]:Array.prototype[l],c=u.call(t,function(f,m,h){var g=a?h:Math.abs(h+1-t.length);return f+Ro(m)*wC[g]},Ro(0));if(o){var d=wC[t.length]/Ro(2)-Ro(1);c=Ro(c),c>d&&(c-=d,c-=d,c-=Ro(2))}return Number(c)},fOe=function(t,n){var r={},i=r.le,o=i===void 0?!1:i;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=Ro(t);for(var s=uOe(t),a=new Uint8Array(new ArrayBuffer(s)),l=0;l<s;l++){var u=o?l:Math.abs(l+1-a.length);a[u]=Number(t/wC[l]&Ro(255)),t<0&&(a[u]=Math.abs(~a[u]),a[u]-=l===0?1:2)}return a},GG=function(t,n){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;n||(t=unescape(encodeURIComponent(t)));for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r},pOe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n=n.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),n.length<=1)return mn(n[0]);var i=n.reduce(function(a,l,u){return a+(l.byteLength||l.length)},0),o=new Uint8Array(i),s=0;return n.forEach(function(a){a=mn(a),o.set(a,s),s+=a.byteLength}),o},ui=function(t,n,r){var i=r===void 0?{}:r,o=i.offset,s=o===void 0?0:o,a=i.mask,l=a===void 0?[]:a;t=mn(t),n=mn(n);var u=n.every?n.every:Array.prototype.every;return n.length&&t.length-s>=n.length&&u.call(n,function(c,d){var f=l[d]?l[d]&t[s+d]:t[s+d];return c===f})},WG={exports:{}};(function(e,t){(function(n){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,o=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var d=a.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=a.normalizePath(d.path),a.buildURLFromParts(d)}var f=a.parseURL(u);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=a.normalizePath(f.path),a.buildURLFromParts(f)):u;var m=a.parseURL(l);if(!m)throw new Error("Error trying to parse base URL.");if(!m.netLoc&&m.path&&m.path[0]!=="/"){var h=i.exec(m.path);m.netLoc=h[1],m.path=h[2]}m.netLoc&&!m.path&&(m.path="/");var g={scheme:m.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(g.netLoc=m.netLoc,f.path[0]!=="/"))if(!f.path)g.path=m.path,f.params||(g.params=m.params,f.query||(g.query=m.query));else{var S=m.path,y=S.substring(0,S.lastIndexOf("/")+1)+f.path;g.path=a.normalizePath(y)}return g.path===null&&(g.path=c.alwaysNormalize?a.normalizePath(f.path):f.path),a.buildURLFromParts(g)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(o,"");l.length!==(l=l.replace(s,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};e.exports=a})()})(WG);var hOe=WG.exports;const V$=dl(hOe);var q$="http://example.com",VR=function(t,n){if(/^[a-z]+:/i.test(n))return n;/^data:/.test(t)&&(t=De.location&&De.location.href||"");var r=typeof De.URL=="function",i=/^\/\//.test(t),o=!De.location&&!/\/\//i.test(t);if(r?t=new De.URL(t,De.location||q$):/\/\//i.test(t)||(t=V$.buildAbsoluteURL(De.location&&De.location.href||"",t)),r){var s=new URL(n,t);return o?s.href.slice(q$.length):i?s.href.slice(s.protocol.length):s.href}return V$.buildAbsoluteURL(t,n)},mOe=function(t,n,r){n.forEach(function(i){for(var o in t.mediaGroups[i])for(var s in t.mediaGroups[i][o]){var a=t.mediaGroups[i][o][s];r(a,i,o,s)}})},gOe=function(t){return De.atob?De.atob(t):Buffer.from(t,"base64").toString("binary")};function yOe(e){for(var t=gOe(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}var fd={},Ku={};function vOe(e,t,n){if(n===void 0&&(n=Array.prototype),e&&typeof n.find=="function")return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}}function qR(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function bOe(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var YG=qR({HTML:"text/html",isHTML:function(e){return e===YG.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),KG=qR({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===KG.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ku.assign=bOe;Ku.find=vOe;Ku.freeze=qR;Ku.MIME_TYPE=YG;Ku.NAMESPACE=KG;var XG=Ku,Bl=XG.find,uv=XG.NAMESPACE;function _Oe(e){return e!==""}function SOe(e){return e?e.split(/[\t\n\f\r ]+/).filter(_Oe):[]}function xOe(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function H$(e){if(!e)return[];var t=SOe(e);return Object.keys(t.reduce(xOe,{}))}function wOe(e){return function(t){return e&&e.indexOf(t)!==-1}}function hb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function ks(e,t){var n=e.prototype;if(!(n instanceof t)){let i=function(){};var r=i;i.prototype=t.prototype,i=new i,hb(n,i),e.prototype=n=i}n.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),n.constructor=e)}var Ns={},ol=Ns.ELEMENT_NODE=1,Fh=Ns.ATTRIBUTE_NODE=2,MS=Ns.TEXT_NODE=3,ZG=Ns.CDATA_SECTION_NODE=4,QG=Ns.ENTITY_REFERENCE_NODE=5,TOe=Ns.ENTITY_NODE=6,JG=Ns.PROCESSING_INSTRUCTION_NODE=7,eW=Ns.COMMENT_NODE=8,tW=Ns.DOCUMENT_NODE=9,nW=Ns.DOCUMENT_TYPE_NODE=10,Bu=Ns.DOCUMENT_FRAGMENT_NODE=11,EOe=Ns.NOTATION_NODE=12,Wo={},xo={};Wo.INDEX_SIZE_ERR=(xo[1]="Index size error",1);Wo.DOMSTRING_SIZE_ERR=(xo[2]="DOMString size error",2);var Ss=Wo.HIERARCHY_REQUEST_ERR=(xo[3]="Hierarchy request error",3);Wo.WRONG_DOCUMENT_ERR=(xo[4]="Wrong document",4);Wo.INVALID_CHARACTER_ERR=(xo[5]="Invalid character",5);Wo.NO_DATA_ALLOWED_ERR=(xo[6]="No data allowed",6);Wo.NO_MODIFICATION_ALLOWED_ERR=(xo[7]="No modification allowed",7);var rW=Wo.NOT_FOUND_ERR=(xo[8]="Not found",8);Wo.NOT_SUPPORTED_ERR=(xo[9]="Not supported",9);var G$=Wo.INUSE_ATTRIBUTE_ERR=(xo[10]="Attribute in use",10);Wo.INVALID_STATE_ERR=(xo[11]="Invalid state",11);Wo.SYNTAX_ERR=(xo[12]="Syntax error",12);Wo.INVALID_MODIFICATION_ERR=(xo[13]="Invalid modification",13);Wo.NAMESPACE_ERR=(xo[14]="Invalid namespace",14);Wo.INVALID_ACCESS_ERR=(xo[15]="Invalid access",15);function Mi(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,xo[e]),this.message=xo[e],Error.captureStackTrace&&Error.captureStackTrace(this,Mi);return n.code=e,t&&(this.message=this.message+": "+t),n}Mi.prototype=Error.prototype;hb(Wo,Mi);function Su(){}Su.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)jp(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function zh(e,t){this._node=e,this._refresh=t,HR(this)}function HR(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(mW(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)Object.prototype.hasOwnProperty.call(e,r)&&delete e[r];hb(n,e),e._inc=t}}zh.prototype.item=function(e){return HR(this),this[e]||null};ks(zh,Su);function jS(){}function iW(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function W$(e,t,n,r){if(r?t[iW(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&aW(i,e,r),AOe(i,e,n))}}function Y$(e,t,n){var r=iW(t,n);if(r>=0){for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var o=e.ownerDocument;o&&(aW(o,e,n),n.ownerElement=null)}}else throw new Mi(rW,new Error(e.tagName+"@"+n))}jS.prototype={length:0,item:Su.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Mi(G$);var n=this.getNamedItem(e.nodeName);return W$(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t=e.ownerElement,n;if(t&&t!=this._ownerElement)throw new Mi(G$);return n=this.getNamedItemNS(e.namespaceURI,e.localName),W$(this._ownerElement,this,e,n),n},removeNamedItem:function(e){var t=this.getNamedItem(e);return Y$(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return Y$(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}};function oW(){}oW.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new mb;if(r.implementation=this,r.childNodes=new Su,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new Gw;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}};function Ar(){}Ar.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return LS(this,e,t)},replaceChild:function(e,t){LS(this,e,t,uW),t&&this.removeChild(t)},removeChild:function(e){return lW(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return TC(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==MS&&e.nodeType==MS?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r}t=t.nodeType==Fh?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==Fh?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function sW(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}hb(Ns,Ar);hb(Ns,Ar.prototype);function cv(e,t){if(t(e))return!0;if(e=e.firstChild)do if(cv(e,t))return!0;while(e=e.nextSibling)}function mb(){this.ownerDocument=this}function AOe(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===uv.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function aW(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;i===uv.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function GR(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o,delete r[r.length]}}}function lW(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,GR(e.ownerDocument,e),t}function COe(e){return e&&(e.nodeType===Ar.DOCUMENT_NODE||e.nodeType===Ar.DOCUMENT_FRAGMENT_NODE||e.nodeType===Ar.ELEMENT_NODE)}function OOe(e){return e&&(Ul(e)||WR(e)||Uu(e)||e.nodeType===Ar.DOCUMENT_FRAGMENT_NODE||e.nodeType===Ar.COMMENT_NODE||e.nodeType===Ar.PROCESSING_INSTRUCTION_NODE)}function Uu(e){return e&&e.nodeType===Ar.DOCUMENT_TYPE_NODE}function Ul(e){return e&&e.nodeType===Ar.ELEMENT_NODE}function WR(e){return e&&e.nodeType===Ar.TEXT_NODE}function K$(e,t){var n=e.childNodes||[];if(Bl(n,Ul)||Uu(t))return!1;var r=Bl(n,Uu);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function X$(e,t){var n=e.childNodes||[];function r(o){return Ul(o)&&o!==t}if(Bl(n,r))return!1;var i=Bl(n,Uu);return!(t&&i&&n.indexOf(i)>n.indexOf(t))}function DOe(e,t,n){if(!COe(e))throw new Mi(Ss,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new Mi(rW,"child not in parent");if(!OOe(t)||Uu(t)&&e.nodeType!==Ar.DOCUMENT_NODE)throw new Mi(Ss,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function POe(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Ar.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Ul);if(o.length>1||Bl(i,WR))throw new Mi(Ss,"More than one element or text in fragment");if(o.length===1&&!K$(e,n))throw new Mi(Ss,"Element in fragment can not be inserted before doctype")}if(Ul(t)&&!K$(e,n))throw new Mi(Ss,"Only one element can be added and only after doctype");if(Uu(t)){if(Bl(r,Uu))throw new Mi(Ss,"Only one doctype is allowed");var s=Bl(r,Ul);if(n&&r.indexOf(s)<r.indexOf(n))throw new Mi(Ss,"Doctype can only be inserted before an element");if(!n&&s)throw new Mi(Ss,"Doctype can not be appended since element is present")}}function uW(e,t,n){var r=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Ar.DOCUMENT_FRAGMENT_NODE){var o=i.filter(Ul);if(o.length>1||Bl(i,WR))throw new Mi(Ss,"More than one element or text in fragment");if(o.length===1&&!X$(e,n))throw new Mi(Ss,"Element in fragment can not be inserted before doctype")}if(Ul(t)&&!X$(e,n))throw new Mi(Ss,"Only one element can be added and only after doctype");if(Uu(t)){let l=function(u){return Uu(u)&&u!==n};var a=l;if(Bl(r,l))throw new Mi(Ss,"Only one doctype is allowed");var s=Bl(r,Ul);if(n&&r.indexOf(s)<r.indexOf(n))throw new Mi(Ss,"Doctype can only be inserted before an element")}}function LS(e,t,n,r){DOe(e,t,n),e.nodeType===Ar.DOCUMENT_NODE&&(r||POe)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Bu){var o=t.firstChild;if(o==null)return t;var s=t.lastChild}else o=s=t;var a=n?n.previousSibling:e.lastChild;o.previousSibling=a,s.nextSibling=n,a?a.nextSibling=o:e.firstChild=o,n==null?e.lastChild=s:n.previousSibling=s;do o.parentNode=e;while(o!==s&&(o=o.nextSibling));return GR(e.ownerDocument||e,e),t.nodeType==Bu&&(t.firstChild=t.lastChild=null),t}function ROe(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,GR(e.ownerDocument,e,t),t}mb.prototype={nodeName:"#document",nodeType:tW,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Bu){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return LS(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===ol&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),lW(this,e)},replaceChild:function(e,t){LS(this,e,t,uW),e.ownerDocument=this,t&&this.removeChild(t),Ul(e)&&(this.documentElement=e)},importNode:function(e,t){return hW(this,e,t)},getElementById:function(e){var t=null;return cv(this.documentElement,function(n){if(n.nodeType==ol&&n.getAttribute("id")==e)return t=n,!0}),t},getElementsByClassName:function(e){var t=H$(e);return new zh(this,function(n){var r=[];return t.length>0&&cv(n.documentElement,function(i){if(i!==n&&i.nodeType===ol){var o=i.getAttribute("class");if(o){var s=e===o;if(!s){var a=H$(o);s=t.every(wOe(a))}s&&r.push(i)}}}),r})},createElement:function(e){var t=new Cf;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Su;var n=t.attributes=new jS;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new Ww;return e.ownerDocument=this,e.childNodes=new Su,e},createTextNode:function(e){var t=new YR;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new KR;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new XR;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new QR;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new $S;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ZR;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new Cf,r=t.split(":"),i=n.attributes=new jS;return n.childNodes=new Su,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new $S,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,r.length==2?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}};ks(mb,Ar);function Cf(){this._nsMap={}}Cf.prototype={nodeType:ol,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Bu?this.insertBefore(e,null):ROe(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new zh(this,function(t){var n=[];return cv(t,function(r){r!==t&&r.nodeType==ol&&(e==="*"||r.tagName==e)&&n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new zh(this,function(n){var r=[];return cv(n,function(i){i!==n&&i.nodeType===ol&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&r.push(i)}),r})}};mb.prototype.getElementsByTagName=Cf.prototype.getElementsByTagName;mb.prototype.getElementsByTagNameNS=Cf.prototype.getElementsByTagNameNS;ks(Cf,Ar);function $S(){}$S.prototype.nodeType=Fh;ks($S,Ar);function gb(){}gb.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(xo[Ss])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}};ks(gb,Ar);function YR(){}YR.prototype={nodeName:"#text",nodeType:MS,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};ks(YR,gb);function KR(){}KR.prototype={nodeName:"#comment",nodeType:eW};ks(KR,gb);function XR(){}XR.prototype={nodeName:"#cdata-section",nodeType:ZG};ks(XR,gb);function Gw(){}Gw.prototype.nodeType=nW;ks(Gw,Ar);function cW(){}cW.prototype.nodeType=EOe;ks(cW,Ar);function dW(){}dW.prototype.nodeType=TOe;ks(dW,Ar);function ZR(){}ZR.prototype.nodeType=QG;ks(ZR,Ar);function Ww(){}Ww.prototype.nodeName="#document-fragment";Ww.prototype.nodeType=Bu;ks(Ww,Ar);function QR(){}QR.prototype.nodeType=JG;ks(QR,Ar);function fW(){}fW.prototype.serializeToString=function(e,t,n){return pW.call(e,t,n)};Ar.prototype.toString=pW;function pW(e,t){var n=[],r=this.nodeType==9&&this.documentElement||this,i=r.prefix,o=r.namespaceURI;if(o&&i==null){var i=r.lookupPrefix(o);if(i==null)var s=[{namespace:o,prefix:null}]}return jp(this,n,e,t,s),n.join("")}function Z$(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i||r==="xml"&&i===uv.XML||i===uv.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===r)return s.namespace!==i}return!0}function OE(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,sW),'"')}function jp(e,t,n,r,i){if(i||(i=[]),r)if(e=r(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case ol:var o=e.attributes,s=o.length,y=e.firstChild,a=e.tagName;n=uv.isHTML(e.namespaceURI)||n;var l=a;if(!n&&!e.prefix&&e.namespaceURI){for(var u,c=0;c<o.length;c++)if(o.item(c).name==="xmlns"){u=o.item(c).value;break}if(!u)for(var d=i.length-1;d>=0;d--){var f=i[d];if(f.prefix===""&&f.namespace===e.namespaceURI){u=f.namespace;break}}if(u!==e.namespaceURI)for(var d=i.length-1;d>=0;d--){var f=i[d];if(f.namespace===e.namespaceURI){f.prefix&&(l=f.prefix+":"+a);break}}}t.push("<",l);for(var m=0;m<s;m++){var h=o.item(m);h.prefix=="xmlns"?i.push({prefix:h.localName,namespace:h.value}):h.nodeName=="xmlns"&&i.push({prefix:"",namespace:h.value})}for(var m=0;m<s;m++){var h=o.item(m);if(Z$(h,n,i)){var g=h.prefix||"",S=h.namespaceURI;OE(t,g?"xmlns:"+g:"xmlns",S),i.push({prefix:g,namespace:S})}jp(h,t,n,r,i)}if(a===l&&Z$(e,n,i)){var g=e.prefix||"",S=e.namespaceURI;OE(t,g?"xmlns:"+g:"xmlns",S),i.push({prefix:g,namespace:S})}if(y||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(a)){if(t.push(">"),n&&/^script$/i.test(a))for(;y;)y.data?t.push(y.data):jp(y,t,n,r,i.slice()),y=y.nextSibling;else for(;y;)jp(y,t,n,r,i.slice()),y=y.nextSibling;t.push("</",l,">")}else t.push("/>");return;case tW:case Bu:for(var y=e.firstChild;y;)jp(y,t,n,r,i.slice()),y=y.nextSibling;return;case Fh:return OE(t,e.name,e.value);case MS:return t.push(e.data.replace(/[<&>]/g,sW));case ZG:return t.push("<![CDATA[",e.data,"]]>");case eW:return t.push("<!--",e.data,"-->");case nW:var v=e.publicId,b=e.systemId;if(t.push("<!DOCTYPE ",e.name),v)t.push(" PUBLIC ",v),b&&b!="."&&t.push(" ",b),t.push(">");else if(b&&b!=".")t.push(" SYSTEM ",b,">");else{var _=e.internalSubset;_&&t.push(" [",_,"]"),t.push(">")}return;case JG:return t.push("<?",e.target," ",e.data,"?>");case QG:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function hW(e,t,n){var r;switch(t.nodeType){case ol:r=t.cloneNode(!1),r.ownerDocument=e;case Bu:break;case Fh:n=!0;break}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(hW(e,i,n)),i=i.nextSibling;return r}function TC(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=t[i];typeof o!="object"&&o!=r[i]&&(r[i]=o)}switch(t.childNodes&&(r.childNodes=new Su),r.ownerDocument=e,r.nodeType){case ol:var s=t.attributes,a=r.attributes=new jS,l=s.length;a._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(TC(e,s.item(u),!0));break;case Fh:n=!0}if(n)for(var c=t.firstChild;c;)r.appendChild(TC(e,c,n)),c=c.nextSibling;return r}function mW(e,t,n){e[t]=n}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case ol:case Bu:var n=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}};var j4e=e;Object.defineProperty(zh.prototype,"length",{get:function(){return HR(this),this.$$length}}),Object.defineProperty(Ar.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case ol:case Bu:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),mW=function(t,n,r){t["$$"+n]=r}}}catch{}fd.DocumentType=Gw;fd.DOMException=Mi;fd.DOMImplementation=oW;fd.Element=Cf;fd.Node=Ar;fd.NodeList=Su;fd.XMLSerializer=fW;var Yw={},gW={};(function(e){var t=Ku.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES})(gW);var JR={},dv=Ku.NAMESPACE,EC=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Q$=new RegExp("[\\-\\.0-9"+EC.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),J$=new RegExp("^"+EC.source+Q$.source+"*(?::"+EC.source+Q$.source+"*)?$"),bg=0,sc=1,sp=2,_g=3,ap=4,lp=5,Sg=6,A0=7;function Vh(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Vh)}Vh.prototype=new Error;Vh.prototype.name=Vh.name;function yW(){}yW.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),vW(t,t={}),IOe(e,t,n,r,this.errorHandler),r.endDocument()}};function IOe(e,t,n,r,i){function o(H){if(H>65535){H-=65536;var z=55296+(H>>10),ne=56320+(H&1023);return String.fromCharCode(z,ne)}else return String.fromCharCode(H)}function s(H){var z=H.slice(1,-1);return Object.hasOwnProperty.call(n,z)?n[z]:z.charAt(0)==="#"?o(parseInt(z.substr(1).replace("x","0x"))):(i.error("entity not found:"+H),H)}function a(H){if(H>g){var z=e.substring(g,H).replace(/&#?\w+;/g,s);f&&l(g),r.characters(z,0,H-g),g=H}}function l(H,z){for(;H>=c&&(z=d.exec(e));)u=z.index,c=u+z[0].length,f.lineNumber++;f.columnNumber=H-u+1}for(var u=0,c=0,d=/.*(?:\r\n?|\n)|.*$/g,f=r.locator,m=[{currentNSMap:t}],h={},g=0;;){try{var S=e.indexOf("<",g);if(S<0){if(!e.substr(g).match(/^\s*$/)){var y=r.doc,v=y.createTextNode(e.substr(g));y.appendChild(v),r.currentElement=v}return}switch(S>g&&a(S),e.charAt(S+1)){case"/":var O=e.indexOf(">",S+3),b=e.substring(S+2,O).replace(/[ \t\n\r]+$/g,""),_=m.pop();O<0?(b=e.substring(S+2).replace(/[\s<].*/,""),i.error("end tag name: "+b+" is not complete:"+_.tagName),O=S+1+b.length):b.match(/\s</)&&(b=b.replace(/[\s<].*/,""),i.error("end tag name: "+b+" maybe not complete"),O=S+1+b.length);var x=_.localNSMap,T=_.tagName==b,w=T||_.tagName&&_.tagName.toLowerCase()==b.toLowerCase();if(w){if(r.endElement(_.uri,_.localName,b),x)for(var E in x)Object.prototype.hasOwnProperty.call(x,E)&&r.endPrefixMapping(E);T||i.fatalError("end tag name: "+b+" is not match the current start tagName:"+_.tagName)}else m.push(_);O++;break;case"?":f&&l(S),O=LOe(e,S,r);break;case"!":f&&l(S),O=jOe(e,S,r,i);break;default:f&&l(S);var C=new bW,D=m[m.length-1].currentNSMap,O=kOe(e,S,C,D,s,i),I=C.length;if(!C.closed&&MOe(e,O,C.tagName,h)&&(C.closed=!0,n.nbsp||i.warning("unclosed xml attribute")),f&&I){for(var k=e4(f,{}),B=0;B<I;B++){var q=C[B];l(q.offset),q.locator=e4(f,{})}r.locator=k,t4(C,r,D)&&m.push(C),r.locator=f}else t4(C,r,D)&&m.push(C);dv.isHTML(C.uri)&&!C.closed?O=NOe(e,O,C.tagName,s,r):O++}}catch(H){if(H instanceof Vh)throw H;i.error("element parse error: "+H),O=-1}O>g?g=O:a(Math.max(S,g)+1)}}function e4(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function kOe(e,t,n,r,i,o){function s(f,m,h){n.attributeNames.hasOwnProperty(f)&&o.fatalError("Attribute "+f+" redefined"),n.addValue(f,m.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),h)}for(var a,l,u=++t,c=bg;;){var d=e.charAt(u);switch(d){case"=":if(c===sc)a=e.slice(t,u),c=_g;else if(c===sp)c=_g;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===_g||c===sc)if(c===sc&&(o.warning('attribute value must after "="'),a=e.slice(t,u)),t=u+1,u=e.indexOf(d,t),u>0)l=e.slice(t,u),s(a,l,t-1),c=lp;else throw new Error("attribute value no end '"+d+"' match");else if(c==ap)l=e.slice(t,u),s(a,l,t),o.warning('attribute "'+a+'" missed start quot('+d+")!!"),t=u+1,c=lp;else throw new Error('attribute value must after "="');break;case"/":switch(c){case bg:n.setTagName(e.slice(t,u));case lp:case Sg:case A0:c=A0,n.closed=!0;case ap:case sc:break;case sp:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),c==bg&&n.setTagName(e.slice(t,u)),u;case">":switch(c){case bg:n.setTagName(e.slice(t,u));case lp:case Sg:case A0:break;case ap:case sc:l=e.slice(t,u),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case sp:c===sp&&(l=a),c==ap?(o.warning('attribute "'+l+'" missed quot(")!'),s(a,l,t)):((!dv.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),s(l,l,t));break;case _g:throw new Error("attribute value missed!!")}return u;case"":d=" ";default:if(d<=" ")switch(c){case bg:n.setTagName(e.slice(t,u)),c=Sg;break;case sc:a=e.slice(t,u),c=sp;break;case ap:var l=e.slice(t,u);o.warning('attribute "'+l+'" missed quot(")!!'),s(a,l,t);case lp:c=Sg;break}else switch(c){case sp:n.tagName,(!dv.isHTML(r[""])||!a.match(/^(?:disabled|checked|selected)$/i))&&o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,t),t=u,c=sc;break;case lp:o.warning('attribute space is required"'+a+'"!!');case Sg:c=sc,t=u;break;case _g:c=ap,t=u;break;case A0:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function t4(e,t,n){for(var r=e.tagName,i=null,d=e.length;d--;){var o=e[d],s=o.qName,a=o.value,f=s.indexOf(":");if(f>0)var l=o.prefix=s.slice(0,f),u=s.slice(f+1),c=l==="xmlns"&&u;else u=s,l=null,c=s==="xmlns"&&"";o.localName=u,c!==!1&&(i==null&&(i={},vW(n,n={})),n[c]=i[c]=a,o.uri=dv.XMLNS,t.startPrefixMapping(c,a))}for(var d=e.length;d--;){o=e[d];var l=o.prefix;l&&(l==="xml"&&(o.uri=dv.XML),l!=="xmlns"&&(o.uri=n[l||""]))}var f=r.indexOf(":");f>0?(l=e.prefix=r.slice(0,f),u=e.localName=r.slice(f+1)):(l=null,u=e.localName=r);var m=e.uri=n[l||""];if(t.startElement(m,u,r,e),e.closed){if(t.endElement(m,u,r),i)for(l in i)Object.prototype.hasOwnProperty.call(i,l)&&t.endPrefixMapping(l)}else return e.currentNSMap=n,e.localNSMap=i,!0}function NOe(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var o=e.indexOf("</"+n+">",t),s=e.substring(t+1,o);if(/[&<]/.test(s))return/^script$/i.test(n)?(i.characters(s,0,s.length),o):(s=s.replace(/&#?\w+;/g,r),i.characters(s,0,s.length),o)}return t+1}function MOe(e,t,n,r){var i=r[n];return i==null&&(i=e.lastIndexOf("</"+n+">"),i<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function vW(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function jOe(e,t,n,r){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var o=e.indexOf("-->",t+4);return o>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var s=$Oe(e,t),a=s.length;if(a>1&&/!doctype/i.test(s[0][0])){var l=s[1][0],u=!1,c=!1;a>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],c=a>4&&s[4][0]):/^system$/i.test(s[2][0])&&(c=s[3][0]));var d=s[a-1];return n.startDTD(l,u,c),n.endDTD(),d.index+d[0].length}}return-1}function LOe(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return i?(i[0].length,n.processingInstruction(i[1],i[2]),r+2):-1}return-1}function bW(){this.attributeNames={}}bW.prototype={setTagName:function(e){if(!J$.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!J$.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function $Oe(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);n=i.exec(e);)if(r.push(n),n[1])return r}JR.XMLReader=yW;JR.ParseError=Vh;var BOe=Ku,UOe=fd,n4=gW,_W=JR,FOe=UOe.DOMImplementation,r4=BOe.NAMESPACE,zOe=_W.ParseError,VOe=_W.XMLReader;function SW(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function xW(e){this.options=e||{locator:{}}}xW.prototype.parseFromString=function(e,t){var n=this.options,r=new VOe,i=n.domBuilder||new yb,o=n.errorHandler,s=n.locator,a=n.xmlns||{},l=/\/x?html?$/.test(t),u=l?n4.HTML_ENTITIES:n4.XML_ENTITIES;s&&i.setDocumentLocator(s),r.errorHandler=qOe(o,i,s),r.domBuilder=n.domBuilder||i,l&&(a[""]=r4.HTML),a.xml=a.xml||r4.XML;var c=n.normalizeLineEndings||SW;return e&&typeof e=="string"?r.parse(c(e),a,u):r.errorHandler.error("invalid doc source"),i.doc};function qOe(e,t,n){if(!e){if(t instanceof yb)return t;e=t}var r={},i=e instanceof Function;n=n||{};function o(s){var a=e[s];!a&&i&&(a=e.length==2?function(l){e(s,l)}:e),r[s]=a&&function(l){a("[xmldom "+s+"]	"+l+AC(n))}||function(){}}return o("warning"),o("error"),o("fatalError"),r}function yb(){this.cdata=!1}function up(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}yb.prototype={startDocument:function(){this.doc=new FOe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,o=i.createElementNS(e,n||t),s=r.length;C0(this,o),this.currentElement=o,this.locator&&up(this.locator,o);for(var a=0;a<s;a++){var e=r.getURI(a),l=r.getValue(a),n=r.getQName(a),u=i.createAttributeNS(e,n);this.locator&&up(r.getLocator(a),u),u.value=u.nodeValue=l,o.setAttributeNode(u)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&up(this.locator,n),C0(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=i4.apply(this,arguments),e){if(this.cdata)var r=this.doc.createCDATASection(e);else var r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&up(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=i4.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&up(this.locator,r),C0(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&up(this.locator,i),C0(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,AC(this.locator))},error:function(e){console.error("[xmldom error]	"+e,AC(this.locator))},fatalError:function(e){throw new zOe(e,this.locator)}};function AC(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function i4(e,t,n){return typeof e=="string"?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){yb.prototype[e]=function(){return null}});function C0(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}Yw.__DOMHandler=yb;Yw.normalizeLineEndings=SW;Yw.DOMParser=xW;var HOe=Yw.DOMParser;/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const o4=e=>!!e&&typeof e=="object",yo=(...e)=>e.reduce((t,n)=>(typeof n!="object"||Object.keys(n).forEach(r=>{Array.isArray(t[r])&&Array.isArray(n[r])?t[r]=t[r].concat(n[r]):o4(t[r])&&o4(n[r])?t[r]=yo(t[r],n[r]):t[r]=n[r]}),t),{}),wW=e=>Object.keys(e).map(t=>e[t]),GOe=(e,t)=>{const n=[];for(let r=e;r<t;r++)n.push(r);return n},qh=e=>e.reduce((t,n)=>t.concat(n),[]),TW=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t},WOe=(e,t)=>e.reduce((n,r,i)=>(r[t]&&n.push(i),n),[]),YOe=(e,t)=>wW(e.reduce((n,r)=>(r.forEach(i=>{n[t(i)]=i}),n),{}));var Hh={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const fv=({baseUrl:e="",source:t="",range:n="",indexRange:r=""})=>{const i={uri:t,resolvedUri:VR(e||"",t)};if(n||r){const s=(n||r).split("-");let a=De.BigInt?De.BigInt(s[0]):parseInt(s[0],10),l=De.BigInt?De.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof a=="bigint"?u=De.BigInt(l)-De.BigInt(a)+De.BigInt(1):u=l-a+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),i.byterange={length:u,offset:a}}return i},KOe=e=>{let t;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=De.BigInt(e.offset)+De.BigInt(e.length)-De.BigInt(1):t=e.offset+e.length-1,`${e.offset}-${t}`},s4=e=>(e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e),XOe={static(e){const{duration:t,timescale:n=1,sourceDuration:r,periodDuration:i}=e,o=s4(e.endNumber),s=t/n;return typeof o=="number"?{start:0,end:o}:typeof i=="number"?{start:0,end:i/s}:{start:0,end:r/s}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:o,periodStart:s=0,minimumUpdatePeriod:a=0,timeShiftBufferDepth:l=1/0}=e,u=s4(e.endNumber),c=(t+n)/1e3,d=r+s,m=c+a-d,h=Math.ceil(m*i/o),g=Math.floor((c-d-l)*i/o),S=Math.floor((c-d)*i/o);return{start:Math.max(0,g),end:typeof u=="number"?u:Math.min(h,S)}}},ZOe=e=>t=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:o=1}=e;return{number:o+t,duration:n/r,timeline:i,time:t*n}},eI=e=>{const{type:t,duration:n,timescale:r=1,periodDuration:i,sourceDuration:o}=e,{start:s,end:a}=XOe[t](e),l=GOe(s,a).map(ZOe(e));if(t==="static"){const u=l.length-1,c=typeof i=="number"?i:o;l[u].duration=c-n/r*u}return l},EW=e=>{const{baseUrl:t,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:o,presentationTime:s,number:a=0,duration:l}=e;if(!t)throw new Error(Hh.NO_BASE_URL);const u=fv({baseUrl:t,source:n.sourceURL,range:n.range}),c=fv({baseUrl:t,source:t,indexRange:i});if(c.map=u,l){const d=eI(e);d.length&&(c.duration=d[0].duration,c.timeline=d[0].timeline)}else r&&(c.duration=r,c.timeline=o);return c.presentationTime=s||o,c.number=a,[c]},tI=(e,t,n)=>{const r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,o=e.timeline||0,s=e.sidx.byterange,a=s.offset+s.length,l=t.timescale,u=t.references.filter(S=>S.referenceType!==1),c=[],d=e.endList?"static":"dynamic",f=e.sidx.timeline;let m=f,h=e.mediaSequence||0,g;typeof t.firstOffset=="bigint"?g=De.BigInt(a)+t.firstOffset:g=a+t.firstOffset;for(let S=0;S<u.length;S++){const y=t.references[S],v=y.referencedSize,b=y.subsegmentDuration;let _;typeof g=="bigint"?_=g+De.BigInt(v)-De.BigInt(1):_=g+v-1;const x=`${g}-${_}`,w=EW({baseUrl:n,timescale:l,timeline:o,periodStart:f,presentationTime:m,number:h,duration:b,sourceDuration:i,indexRange:x,type:d})[0];r&&(w.map=r),c.push(w),typeof g=="bigint"?g+=De.BigInt(v):g+=v,m+=b/l,h++}return e.segments=c,e},QOe=["AUDIO","SUBTITLES"],JOe=1/60,AW=e=>YOe(e,({timeline:t})=>t).sort((t,n)=>t.timeline>n.timeline?1:-1),eDe=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null},a4=e=>{let t=[];return mOe(e,QOe,(n,r,i,o)=>{t=t.concat(n.playlists||[])}),t},l4=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach((n,r)=>{n.number=e.mediaSequence+r})},tDe=({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach(r=>{r.discontinuitySequence=n.findIndex(function({timeline:l}){return l===r.timeline});const i=eDe(e,r.attributes.NAME);if(!i||r.sidx)return;const o=r.segments[0],s=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-o.presentationTime)<JOe});if(s===-1){l4({playlist:r,mediaSequence:i.mediaSequence+i.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),(!i.segments.length&&r.timeline>i.timeline||i.segments.length&&r.timeline>i.segments[i.segments.length-1].timeline)&&r.discontinuitySequence--;return}i.segments[s].discontinuity&&!o.discontinuity&&(o.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),l4({playlist:r,mediaSequence:i.segments[s].number})})},nDe=({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(a4(e)),r=t.playlists.concat(a4(t));return t.timelineStarts=AW([e.timelineStarts,t.timelineStarts]),tDe({oldPlaylists:n,newPlaylists:r,timelineStarts:t.timelineStarts}),t},Kw=e=>e&&e.uri+"-"+KOe(e.byterange),DE=e=>{const t=e.reduce(function(r,i){return r[i.attributes.baseUrl]||(r[i.attributes.baseUrl]=[]),r[i.attributes.baseUrl].push(i),r},{});let n=[];return Object.values(t).forEach(r=>{const i=wW(r.reduce((o,s)=>{const a=s.attributes.id+(s.attributes.lang||"");return o[a]?(s.segments&&(s.segments[0]&&(s.segments[0].discontinuity=!0),o[a].segments.push(...s.segments)),s.attributes.contentProtection&&(o[a].attributes.contentProtection=s.attributes.contentProtection)):(o[a]=s,o[a].attributes.timelineStarts=[]),o[a].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),o},{}));n=n.concat(i)}),n.map(r=>(r.discontinuityStarts=WOe(r.segments||[],"discontinuity"),r))},nI=(e,t)=>{const n=Kw(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&tI(e,r,e.sidx.resolvedUri),e},rDe=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=nI(e[n],t);return e},iDe=({attributes:e,segments:t,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:o},s)=>{const a={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:i,discontinuityStarts:o,timelineStarts:e.timelineStarts,mediaSequence:r,segments:t};return e.contentProtection&&(a.contentProtection=e.contentProtection),e.serviceLocation&&(a.attributes.serviceLocation=e.serviceLocation),n&&(a.sidx=n),s&&(a.attributes.AUDIO="audio",a.attributes.SUBTITLES="subs"),a},oDe=({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{typeof t>"u"&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const o={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(o.CODECS=e.codecs);const s={attributes:o,uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:t};return e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),s},sDe=(e,t={},n=!1)=>{let r;const i=e.reduce((o,s)=>{const a=s.attributes.role&&s.attributes.role.value||"",l=s.attributes.lang||"";let u=s.attributes.label||"main";if(l&&!s.attributes.label){const d=a?` (${a})`:"";u=`${s.attributes.lang}${d}`}o[u]||(o[u]={language:l,autoselect:!0,default:a==="main",playlists:[],uri:""});const c=nI(iDe(s,n),t);return o[u].playlists.push(c),typeof r>"u"&&a==="main"&&(r=s,r.default=!0),o},{});if(!r){const o=Object.keys(i)[0];i[o].default=!0}return i},aDe=(e,t={})=>e.reduce((n,r)=>{const i=r.attributes.label||r.attributes.lang||"text",o=r.attributes.lang||"und";return n[i]||(n[i]={language:o,default:!1,autoselect:!1,playlists:[],uri:""}),n[i].playlists.push(nI(oDe(r),t)),n},{}),lDe=e=>e.reduce((t,n)=>(n&&n.forEach(r=>{const{channel:i,language:o}=r;t[o]={autoselect:!1,default:!1,instreamId:i,language:o},r.hasOwnProperty("aspectRatio")&&(t[o].aspectRatio=r.aspectRatio),r.hasOwnProperty("easyReader")&&(t[o].easyReader=r.easyReader),r.hasOwnProperty("3D")&&(t[o]["3D"]=r["3D"])}),t),{}),uDe=({attributes:e,segments:t,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:e.type==="static",timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:r,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(i.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(i.contentProtection=e.contentProtection),e.serviceLocation&&(i.attributes.serviceLocation=e.serviceLocation),n&&(i.sidx=n),i},cDe=({attributes:e})=>e.mimeType==="video/mp4"||e.mimeType==="video/webm"||e.contentType==="video",dDe=({attributes:e})=>e.mimeType==="audio/mp4"||e.mimeType==="audio/webm"||e.contentType==="audio",fDe=({attributes:e})=>e.mimeType==="text/vtt"||e.contentType==="text",pDe=(e,t)=>{e.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=t.findIndex(function({timeline:r}){return r===n.timeline}),n.segments&&n.segments.forEach((r,i)=>{r.number=i})})},u4=e=>e?Object.keys(e).reduce((t,n)=>{const r=e[n];return t.concat(r.playlists)},[]):[],hDe=({dashPlaylists:e,locations:t,contentSteering:n,sidxMapping:r={},previousManifest:i,eventStream:o})=>{if(!e.length)return{};const{sourceDuration:s,type:a,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=e[0].attributes,c=DE(e.filter(cDe)).map(uDe),d=DE(e.filter(dDe)),f=DE(e.filter(fDe)),m=e.map(_=>_.attributes.captionServices).filter(Boolean),h={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:rDe(c,r)};u>=0&&(h.minimumUpdatePeriod=u*1e3),t&&(h.locations=t),n&&(h.contentSteering=n),a==="dynamic"&&(h.suggestedPresentationDelay=l),o&&o.length>0&&(h.eventStream=o);const g=h.playlists.length===0,S=d.length?sDe(d,r,g):null,y=f.length?aDe(f,r):null,v=c.concat(u4(S),u4(y)),b=v.map(({timelineStarts:_})=>_);return h.timelineStarts=AW(b),pDe(v,h.timelineStarts),S&&(h.mediaGroups.AUDIO.audio=S),y&&(h.mediaGroups.SUBTITLES.subs=y),m.length&&(h.mediaGroups["CLOSED-CAPTIONS"].cc=lDe(m)),i?nDe({oldManifest:i,newManifest:h}):h},mDe=(e,t,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:o,timescale:s=1,periodStart:a=0,minimumUpdatePeriod:l=0}=e,u=(r+i)/1e3,c=o+a,f=u+l-c;return Math.ceil((f*s-t)/n)},CW=(e,t)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:o,timescale:s=1,startNumber:a=1,periodStart:l}=e,u=[];let c=-1;for(let d=0;d<t.length;d++){const f=t[d],m=f.d,h=f.r||0,g=f.t||0;c<0&&(c=g),g&&g>c&&(c=g);let S;if(h<0){const b=d+1;b===t.length?n==="dynamic"&&r>0&&i.indexOf("$Number$")>0?S=mDe(e,c,m):S=(o*s-c)/m:S=(t[b].t-c)/m}else S=h+1;const y=a+u.length+S;let v=a+u.length;for(;v<y;)u.push({number:v,duration:m/s,time:c,timeline:l}),c+=m,v++}return u},gDe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,yDe=e=>(t,n,r,i)=>{if(t==="$$")return"$";if(typeof e[n]>"u")return t;const o=""+e[n];return n==="RepresentationID"||(r?i=parseInt(i,10):i=1,o.length>=i)?o:`${new Array(i-o.length+1).join("0")}${o}`},c4=(e,t)=>e.replace(gDe,yDe(t)),vDe=(e,t)=>!e.duration&&!t?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?eI(e):CW(e,t),bDe=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=e,i=fv({baseUrl:e.baseUrl,source:c4(r.sourceURL,n),range:r.range});return vDe(e,t).map(s=>{n.Number=s.number,n.Time=s.time;const a=c4(e.media||"",n),l=e.timescale||1,u=e.presentationTimeOffset||0,c=e.periodStart+(s.time-u)/l;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:VR(e.baseUrl||"",a),map:i,number:s.number,presentationTime:c}})},_De=(e,t)=>{const{baseUrl:n,initialization:r={}}=e,i=fv({baseUrl:n,source:r.sourceURL,range:r.range}),o=fv({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=i,o},SDe=(e,t)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=e;if(!n&&!t||n&&t)throw new Error(Hh.SEGMENT_TIME_UNSPECIFIED);const o=r.map(l=>_De(e,l));let s;return n&&(s=eI(e)),t&&(s=CW(e,t)),s.map((l,u)=>{if(o[u]){const c=o[u],d=e.timescale||1,f=e.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=i+(l.time-f)/d,c}}).filter(l=>l)},xDe=({attributes:e,segmentInfo:t})=>{let n,r;t.template?(r=bDe,n=yo(e,t.template)):t.base?(r=EW,n=yo(e,t.base)):t.list&&(r=SDe,n=yo(e,t.list));const i={attributes:e};if(!r)return i;const o=r(n,t.segmentTimeline);if(n.duration){const{duration:s,timescale:a=1}=n;n.duration=s/a}else o.length?n.duration=o.reduce((s,a)=>Math.max(s,Math.ceil(a.duration)),0):n.duration=0;return i.attributes=n,i.segments=o,t.base&&n.indexRange&&(i.sidx=o[0],i.segments=[]),i},wDe=e=>e.map(xDe),di=(e,t)=>TW(e.childNodes).filter(({tagName:n})=>n===t),vb=e=>e.textContent.trim(),TDe=e=>parseFloat(e.split("/").reduce((t,n)=>t/n)),cp=e=>{const a=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!a)return 0;const[l,u,c,d,f,m]=a.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(d||0)*3600+parseFloat(f||0)*60+parseFloat(m||0)},EDe=e=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),Date.parse(e)),d4={mediaPresentationDuration(e){return cp(e)},availabilityStartTime(e){return EDe(e)/1e3},minimumUpdatePeriod(e){return cp(e)},suggestedPresentationDelay(e){return cp(e)},type(e){return e},timeShiftBufferDepth(e){return cp(e)},start(e){return cp(e)},width(e){return parseInt(e,10)},height(e){return parseInt(e,10)},bandwidth(e){return parseInt(e,10)},frameRate(e){return TDe(e)},startNumber(e){return parseInt(e,10)},timescale(e){return parseInt(e,10)},presentationTimeOffset(e){return parseInt(e,10)},duration(e){const t=parseInt(e,10);return isNaN(t)?cp(e):t},d(e){return parseInt(e,10)},t(e){return parseInt(e,10)},r(e){return parseInt(e,10)},presentationTime(e){return parseInt(e,10)},DEFAULT(e){return e}},Ki=e=>e&&e.attributes?TW(e.attributes).reduce((t,n)=>{const r=d4[n.name]||d4.DEFAULT;return t[n.name]=r(n.value),t},{}):{},ADe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},Xw=(e,t)=>t.length?qh(e.map(function(n){return t.map(function(r){const i=vb(r),o=VR(n.baseUrl,i),s=yo(Ki(r),{baseUrl:o});return o!==i&&!s.serviceLocation&&n.serviceLocation&&(s.serviceLocation=n.serviceLocation),s})})):e,rI=e=>{const t=di(e,"SegmentTemplate")[0],n=di(e,"SegmentList")[0],r=n&&di(n,"SegmentURL").map(d=>yo({tag:"SegmentURL"},Ki(d))),i=di(e,"SegmentBase")[0],o=n||t,s=o&&di(o,"SegmentTimeline")[0],a=n||i||t,l=a&&di(a,"Initialization")[0],u=t&&Ki(t);u&&l?u.initialization=l&&Ki(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:s&&di(s,"S").map(d=>Ki(d)),list:n&&yo(Ki(n),{segmentUrls:r,initialization:Ki(l)}),base:i&&yo(Ki(i),{initialization:Ki(l)})};return Object.keys(c).forEach(d=>{c[d]||delete c[d]}),c},CDe=(e,t,n)=>r=>{const i=di(r,"BaseURL"),o=Xw(t,i),s=yo(e,Ki(r)),a=rI(r);return o.map(l=>({segmentInfo:yo(n,a),attributes:yo(s,l)}))},ODe=e=>e.reduce((t,n)=>{const r=Ki(n);r.schemeIdUri&&(r.schemeIdUri=r.schemeIdUri.toLowerCase());const i=ADe[r.schemeIdUri];if(i){t[i]={attributes:r};const o=di(n,"cenc:pssh")[0];if(o){const s=vb(o);t[i].pssh=s&&yOe(s)}}return t},{}),DDe=e=>{if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof e.value!="string"?[]:e.value.split(";")).map(n=>{let r,i;return i=n,/^CC\d=/.test(n)?[r,i]=n.split("="):/^CC\d$/.test(n)&&(r=n),{channel:r,language:i}});if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof e.value!="string"?[]:e.value.split(";")).map(n=>{const r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){const[i,o=""]=n.split("=");r.channel=i,r.language=n,o.split(",").forEach(s=>{const[a,l]=s.split(":");a==="lang"?r.language=l:a==="er"?r.easyReader=Number(l):a==="war"?r.aspectRatio=Number(l):a==="3D"&&(r["3D"]=Number(l))})}else r.language=n;return r.channel&&(r.channel="SERVICE"+r.channel),r})},PDe=e=>qh(di(e.node,"EventStream").map(t=>{const n=Ki(t),r=n.schemeIdUri;return di(t,"Event").map(i=>{const o=Ki(i),s=o.presentationTime||0,a=n.timescale||1,l=o.duration||0,u=s/a+e.attributes.start;return{schemeIdUri:r,value:n.value,id:o.id,start:u,end:u+l/a,messageData:vb(i)||o.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),RDe=(e,t,n)=>r=>{const i=Ki(r),o=Xw(t,di(r,"BaseURL")),s=di(r,"Role")[0],a={role:Ki(s)};let l=yo(e,i,a);const u=di(r,"Accessibility")[0],c=DDe(Ki(u));c&&(l=yo(l,{captionServices:c}));const d=di(r,"Label")[0];if(d&&d.childNodes.length){const S=d.childNodes[0].nodeValue.trim();l=yo(l,{label:S})}const f=ODe(di(r,"ContentProtection"));Object.keys(f).length&&(l=yo(l,{contentProtection:f}));const m=rI(r),h=di(r,"Representation"),g=yo(n,m);return qh(h.map(CDe(l,o,g)))},IDe=(e,t)=>(n,r)=>{const i=Xw(t,di(n.node,"BaseURL")),o=yo(e,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(o.periodDuration=n.attributes.duration);const s=di(n.node,"AdaptationSet"),a=rI(n.node);return qh(s.map(RDe(o,i,a)))},kDe=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const n=yo({serverURL:vb(e[0])},Ki(e[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},NDe=({attributes:e,priorPeriodAttributes:t,mpdType:n})=>typeof e.start=="number"?e.start:t&&typeof t.start=="number"&&typeof t.duration=="number"?t.start+t.duration:!t&&n==="static"?0:null,MDe=(e,t={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0,eventHandler:o=function(){}}=t,s=di(e,"Period");if(!s.length)throw new Error(Hh.INVALID_NUMBER_OF_PERIOD);const a=di(e,"Location"),l=Ki(e),u=Xw([{baseUrl:n}],di(e,"BaseURL")),c=di(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=r,l.clientOffset=i,a.length&&(l.locations=a.map(vb));const d=[];return s.forEach((f,m)=>{const h=Ki(f),g=d[m-1];h.start=NDe({attributes:h,priorPeriodAttributes:g?g.attributes:null,mpdType:l.type}),d.push({node:f,attributes:h})}),{locations:l.locations,contentSteeringInfo:kDe(c,o),representationInfo:qh(d.map(IDe(l,u))),eventStream:qh(d.map(PDe))}},OW=e=>{if(e==="")throw new Error(Hh.DASH_EMPTY_MANIFEST);const t=new HOe;let n,r;try{n=t.parseFromString(e,"application/xml"),r=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(Hh.DASH_INVALID_XML);return r},jDe=e=>{const t=di(e,"UTCTiming")[0];if(!t)return null;const n=Ki(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Hh.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},LDe=(e,t={})=>{const n=MDe(OW(e),t),r=wDe(n.representationInfo);return hDe({dashPlaylists:r,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})},$De=e=>jDe(OW(e));var BDe=Math.pow(2,32),UDe=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n;return t.getBigUint64?(n=t.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):t.getUint32(0)*BDe+t.getUint32(4)},FDe={getUint64:UDe},f4=FDe.getUint64,zDe=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},r=12;n.version===0?(n.earliestPresentationTime=t.getUint32(r),n.firstOffset=t.getUint32(r+4),r+=8):(n.earliestPresentationTime=f4(e.subarray(r)),n.firstOffset=f4(e.subarray(r+8)),r+=16),r+=2;var i=t.getUint16(r);for(r+=2;i>0;r+=12,i--)n.references.push({referenceType:(e[r]&128)>>>7,referencedSize:t.getUint32(r)&2147483647,subsegmentDuration:t.getUint32(r+4),startsWithSap:!!(e[r+8]&128),sapType:(e[r+8]&112)>>>4,sapDeltaTime:t.getUint32(r+8)&268435455});return n},VDe=zDe;const qDe=dl(VDe);var HDe=mn([73,68,51]),GDe=function(t,n){n===void 0&&(n=0),t=mn(t);var r=t[n+5],i=t[n+6]<<21|t[n+7]<<14|t[n+8]<<7|t[n+9],o=(r&16)>>4;return o?i+20:i+10},Bg=function e(t,n){return n===void 0&&(n=0),t=mn(t),t.length-n<10||!ui(t,HDe,{offset:n})?n:(n+=GDe(t,n),e(t,n))},p4=function(t){return typeof t=="string"?GG(t):t},WDe=function(t){return Array.isArray(t)?t.map(function(n){return p4(n)}):[p4(t)]},YDe=function e(t,n,r){r===void 0&&(r=!1),n=WDe(n),t=mn(t);var i=[];if(!n.length)return i;for(var o=0;o<t.length;){var s=(t[o]<<24|t[o+1]<<16|t[o+2]<<8|t[o+3])>>>0,a=t.subarray(o+4,o+8);if(s===0)break;var l=o+s;if(l>t.length){if(r)break;l=t.length}var u=t.subarray(o+8,l);ui(a,n[0])&&(n.length===1?i.push(u):i.push.apply(i,e(u,n.slice(1),r))),o=l}return i},O0={EBML:mn([26,69,223,163]),DocType:mn([66,130]),Segment:mn([24,83,128,103]),SegmentInfo:mn([21,73,169,102]),Tracks:mn([22,84,174,107]),Track:mn([174]),TrackNumber:mn([215]),DefaultDuration:mn([35,227,131]),TrackEntry:mn([174]),TrackType:mn([131]),FlagDefault:mn([136]),CodecID:mn([134]),CodecPrivate:mn([99,162]),VideoTrack:mn([224]),AudioTrack:mn([225]),Cluster:mn([31,67,182,117]),Timestamp:mn([231]),TimestampScale:mn([42,215,177]),BlockGroup:mn([160]),BlockDuration:mn([155]),Block:mn([161]),SimpleBlock:mn([163])},CC=[128,64,32,16,8,4,2,1],KDe=function(t){for(var n=1,r=0;r<CC.length&&!(t&CC[r]);r++)n++;return n},BS=function(t,n,r,i){r===void 0&&(r=!0),i===void 0&&(i=!1);var o=KDe(t[n]),s=t.subarray(n,n+o);return r&&(s=Array.prototype.slice.call(t,n,n+o),s[0]^=CC[o-1]),{length:o,value:dOe(s,{signed:i}),bytes:s}},h4=function e(t){return typeof t=="string"?t.match(/.{1,2}/g).map(function(n){return e(n)}):typeof t=="number"?fOe(t):t},XDe=function(t){return Array.isArray(t)?t.map(function(n){return h4(n)}):[h4(t)]},ZDe=function e(t,n,r){if(r>=n.length)return n.length;var i=BS(n,r,!1);if(ui(t.bytes,i.bytes))return r;var o=BS(n,r+i.length);return e(t,n,r+o.length+o.value+i.length)},m4=function e(t,n){n=XDe(n),t=mn(t);var r=[];if(!n.length)return r;for(var i=0;i<t.length;){var o=BS(t,i,!1),s=BS(t,i+o.length),a=i+o.length+s.length;s.value===127&&(s.value=ZDe(o,t,a),s.value!==t.length&&(s.value-=a));var l=a+s.value>t.length?t.length:a+s.value,u=t.subarray(a,l);ui(n[0],o.bytes)&&(n.length===1?r.push(u):r=r.concat(e(u,n.slice(1))));var c=o.length+s.length+u.length;i+=c}return r},QDe=mn([0,0,0,1]),JDe=mn([0,0,1]),ePe=mn([0,0,3]),tPe=function(t){for(var n=[],r=1;r<t.length-2;)ui(t.subarray(r,r+3),ePe)&&(n.push(r+2),r++),r++;if(n.length===0)return t;var i=t.length-n.length,o=new Uint8Array(i),s=0;for(r=0;r<i;s++,r++)s===n[0]&&(s++,n.shift()),o[r]=t[s];return o},DW=function(t,n,r,i){t=mn(t),r=[].concat(r);for(var o=0,s,a=0;o<t.length&&(a<i||s);){var l=void 0;if(ui(t.subarray(o),QDe)?l=4:ui(t.subarray(o),JDe)&&(l=3),!l){o++;continue}if(a++,s)return tPe(t.subarray(s,o));var u=void 0;n==="h264"?u=t[o+l]&31:n==="h265"&&(u=t[o+l]>>1&63),r.indexOf(u)!==-1&&(s=o+l),o+=l+(n==="h264"?1:2)}return t.subarray(0,0)},nPe=function(t,n,r){return DW(t,"h264",n,r)},rPe=function(t,n,r){return DW(t,"h265",n,r)},es={webm:mn([119,101,98,109]),matroska:mn([109,97,116,114,111,115,107,97]),flac:mn([102,76,97,67]),ogg:mn([79,103,103,83]),ac3:mn([11,119]),riff:mn([82,73,70,70]),avi:mn([65,86,73]),wav:mn([87,65,86,69]),"3gp":mn([102,116,121,112,51,103]),mp4:mn([102,116,121,112]),fmp4:mn([115,116,121,112]),mov:mn([102,116,121,112,113,116]),moov:mn([109,111,111,118]),moof:mn([109,111,111,102])},Gh={aac:function(t){var n=Bg(t);return ui(t,[255,16],{offset:n,mask:[255,22]})},mp3:function(t){var n=Bg(t);return ui(t,[255,2],{offset:n,mask:[255,6]})},webm:function(t){var n=m4(t,[O0.EBML,O0.DocType])[0];return ui(n,es.webm)},mkv:function(t){var n=m4(t,[O0.EBML,O0.DocType])[0];return ui(n,es.matroska)},mp4:function(t){if(Gh["3gp"](t)||Gh.mov(t))return!1;if(ui(t,es.mp4,{offset:4})||ui(t,es.fmp4,{offset:4})||ui(t,es.moof,{offset:4})||ui(t,es.moov,{offset:4}))return!0},mov:function(t){return ui(t,es.mov,{offset:4})},"3gp":function(t){return ui(t,es["3gp"],{offset:4})},ac3:function(t){var n=Bg(t);return ui(t,es.ac3,{offset:n})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var n=0;n+188<t.length&&n<188;){if(t[n]===71&&t[n+188]===71)return!0;n+=1}return!1},flac:function(t){var n=Bg(t);return ui(t,es.flac,{offset:n})},ogg:function(t){return ui(t,es.ogg)},avi:function(t){return ui(t,es.riff)&&ui(t,es.avi,{offset:8})},wav:function(t){return ui(t,es.riff)&&ui(t,es.wav,{offset:8})},h264:function(t){return nPe(t,7,3).length},h265:function(t){return rPe(t,[32,33],3).length}},OC=Object.keys(Gh).filter(function(e){return e!=="ts"&&e!=="h264"&&e!=="h265"}).concat(["ts","h264","h265"]);OC.forEach(function(e){var t=Gh[e];Gh[e]=function(n){return t(mn(n))}});var iPe=Gh,iI=function(t){t=mn(t);for(var n=0;n<OC.length;n++){var r=OC[n];if(iPe[r](t))return r}return""},oPe=function(t){return YDe(t,["moof"]).length>0},Vd={};/**
 * @license
 * Video.js 8.23.4 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var DC="8.23.4";const lu={},td=function(e,t){return lu[e]=lu[e]||[],t&&(lu[e]=lu[e].concat(t)),lu[e]},sPe=function(e,t){td(e,t)},PW=function(e,t){const n=td(e).indexOf(t);return n<=-1?!1:(lu[e]=lu[e].slice(),lu[e].splice(n,1),!0)},aPe=function(e,t){td(e,[].concat(t).map(n=>{const r=(...i)=>(PW(e,r),n(...i));return r}))},US={prefixed:!0},g_=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],g4=g_[0];let Ug;for(let e=0;e<g_.length;e++)if(g_[e][1]in Et){Ug=g_[e];break}if(Ug){for(let e=0;e<Ug.length;e++)US[g4[e]]=Ug[e];US.prefixed=Ug[0]!==g4[0]}let vs=[];const lPe=(e,t,n)=>(r,i,o)=>{const s=t.levels[i],a=new RegExp(`^(${s})$`);let l=e;if(r!=="log"&&o.unshift(r.toUpperCase()+":"),n&&(l=`%c${e}`,o.unshift(n)),o.unshift(l+":"),vs){vs.push([].concat(o));const c=vs.length-1e3;vs.splice(0,c>0?c:0)}if(!De.console)return;let u=De.console[r];!u&&r==="debug"&&(u=De.console.info||De.console.log),!(!u||!s||!a.test(r))&&u[Array.isArray(o)?"apply":"call"](De.console,o)};function PC(e,t=":",n=""){let r="info",i;function o(...s){i("log",r,s)}return i=lPe(e,o,n),o.createLogger=(s,a,l)=>{const u=a!==void 0?a:t,c=l!==void 0?l:n,d=`${e} ${u} ${s}`;return PC(d,u,c)},o.createNewLogger=(s,a,l)=>PC(s,a,l),o.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:r},o.level=s=>{if(typeof s=="string"){if(!o.levels.hasOwnProperty(s))throw new Error(`"${s}" in not a valid log level`);r=s}return r},o.history=()=>vs?[].concat(vs):[],o.history.filter=s=>(vs||[]).filter(a=>new RegExp(`.*${s}.*`).test(a[0])),o.history.clear=()=>{vs&&(vs.length=0)},o.history.disable=()=>{vs!==null&&(vs.length=0,vs=null)},o.history.enable=()=>{vs===null&&(vs=[])},o.error=(...s)=>i("error",r,s),o.warn=(...s)=>i("warn",r,s),o.debug=(...s)=>i("debug",r,s),o}const Vn=PC("VIDEOJS"),RW=Vn.createLogger,uPe=Object.prototype.toString,IW=function(e){return zl(e)?Object.keys(e):[]};function th(e,t){IW(e).forEach(n=>t(e[n],n))}function kW(e,t,n=0){return IW(e).reduce((r,i)=>t(r,e[i],i),n)}function zl(e){return!!e&&typeof e=="object"}function Wh(e){return zl(e)&&uPe.call(e)==="[object Object]"&&e.constructor===Object}function Nr(...e){const t={};return e.forEach(n=>{n&&th(n,(r,i)=>{if(!Wh(r)){t[i]=r;return}Wh(t[i])||(t[i]={}),t[i]=Nr(t[i],r)})}),t}function NW(e={}){const t=[];for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];t.push(r)}return t}function Zw(e,t,n,r=!0){const i=s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),o={configurable:!0,enumerable:!0,get(){const s=n();return i(s),s}};return r&&(o.set=i),Object.defineProperty(e,t,o)}var cPe=Object.freeze({__proto__:null,each:th,reduce:kW,isObject:zl,isPlain:Wh,merge:Nr,values:NW,defineLazyProperty:Zw});let oI=!1,MW=null,cl=!1,jW,LW=!1,nh=!1,rh=!1,Vl=!1,sI=null,Qw=null;const dPe=!!(De.cast&&De.cast.framework&&De.cast.framework.CastReceiverContext);let $W=null,FS=!1,Jw=!1,zS=!1,eT=!1,VS=!1,qS=!1,HS=!1;const pv=!!(Om()&&("ontouchstart"in De||De.navigator.maxTouchPoints||De.DocumentTouch&&De.document instanceof De.DocumentTouch)),ac=De.navigator&&De.navigator.userAgentData;ac&&ac.platform&&ac.brands&&(cl=ac.platform==="Android",nh=!!ac.brands.find(e=>e.brand==="Microsoft Edge"),rh=!!ac.brands.find(e=>e.brand==="Chromium"),Vl=!nh&&rh,sI=Qw=(ac.brands.find(e=>e.brand==="Chromium")||{}).version||null,Jw=ac.platform==="Windows");if(!rh){const e=De.navigator&&De.navigator.userAgent||"";oI=/iPod/i.test(e),MW=function(){const t=e.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),cl=/Android/i.test(e),jW=function(){const t=e.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;const n=t[1]&&parseFloat(t[1]),r=t[2]&&parseFloat(t[2]);return n&&r?parseFloat(t[1]+"."+t[2]):n||null}(),LW=/Firefox/i.test(e),nh=/Edg/i.test(e),rh=/Chrome/i.test(e)||/CriOS/i.test(e),Vl=!nh&&rh,sI=Qw=function(){const t=e.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),$W=function(){const t=/MSIE\s(\d+)\.\d/.exec(e);let n=t&&parseFloat(t[1]);return!n&&/Trident\/7.0/i.test(e)&&/rv:11.0/.test(e)&&(n=11),n}(),VS=/Tizen/i.test(e),qS=/Web0S/i.test(e),HS=VS||qS,FS=/Safari/i.test(e)&&!Vl&&!cl&&!nh&&!HS,Jw=/Windows/i.test(e),zS=/iPad/i.test(e)||FS&&pv&&!/iPhone/i.test(e),eT=/iPhone/i.test(e)&&!zS}const qo=eT||zS||oI,tT=(FS||qo)&&!Vl;var BW=Object.freeze({__proto__:null,get IS_IPOD(){return oI},get IOS_VERSION(){return MW},get IS_ANDROID(){return cl},get ANDROID_VERSION(){return jW},get IS_FIREFOX(){return LW},get IS_EDGE(){return nh},get IS_CHROMIUM(){return rh},get IS_CHROME(){return Vl},get CHROMIUM_VERSION(){return sI},get CHROME_VERSION(){return Qw},IS_CHROMECAST_RECEIVER:dPe,get IE_VERSION(){return $W},get IS_SAFARI(){return FS},get IS_WINDOWS(){return Jw},get IS_IPAD(){return zS},get IS_IPHONE(){return eT},get IS_TIZEN(){return VS},get IS_WEBOS(){return qS},get IS_SMART_TV(){return HS},TOUCH_ENABLED:pv,IS_IOS:qo,IS_ANY_SAFARI:tT});function y4(e){return typeof e=="string"&&!!e.trim()}function fPe(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Om(){return Et===De.document}function Dm(e){return zl(e)&&e.nodeType===1}function UW(){try{return De.parent!==De.self}catch{return!0}}function FW(e){return function(t,n){if(!y4(t))return Et[e](null);y4(n)&&(n=Et.querySelector(n));const r=Dm(n)?n:Et;return r[e]&&r[e](t)}}function yn(e="div",t={},n={},r){const i=Et.createElement(e);return Object.getOwnPropertyNames(t).forEach(function(o){const s=t[o];o==="textContent"?pd(i,s):(i[o]!==s||o==="tabIndex")&&(i[o]=s)}),Object.getOwnPropertyNames(n).forEach(function(o){i.setAttribute(o,n[o])}),r&&aI(i,r),i}function pd(e,t){return typeof e.textContent>"u"?e.innerText=t:e.textContent=t,e}function RC(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function yy(e,t){return fPe(t),e.classList.contains(t)}function rf(e,...t){return e.classList.add(...t.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),e}function nT(e,...t){return e?(e.classList.remove(...t.reduce((n,r)=>n.concat(r.split(/\s+/)),[])),e):(Vn.warn("removeClass was called with an element that doesn't exist"),null)}function zW(e,t,n){return typeof n=="function"&&(n=n(e,t)),typeof n!="boolean"&&(n=void 0),t.split(/\s+/).forEach(r=>e.classList.toggle(r,n)),e}function VW(e,t){Object.getOwnPropertyNames(t).forEach(function(n){const r=t[n];r===null||typeof r>"u"||r===!1?e.removeAttribute(n):e.setAttribute(n,r===!0?"":r)})}function yc(e){const t={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const r=e.attributes;for(let i=r.length-1;i>=0;i--){const o=r[i].name;let s=r[i].value;n.includes(o)&&(s=s!==null),t[o]=s}}return t}function qW(e,t){return e.getAttribute(t)}function Yh(e,t,n){e.setAttribute(t,n)}function rT(e,t){e.removeAttribute(t)}function HW(){Et.body.focus(),Et.onselectstart=function(){return!1}}function GW(){Et.onselectstart=function(){return!0}}function Kh(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(r=>{t[r]!==void 0&&(n[r]=t[r])}),n.height||(n.height=parseFloat(Xh(e,"height"))),n.width||(n.width=parseFloat(Xh(e,"width"))),n}}function hv(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,n=e.offsetHeight;let r=0,i=0;for(;e.offsetParent&&e!==Et[US.fullscreenElement];)r+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{left:r,top:i,width:t,height:n}}function iT(e,t){const n={x:0,y:0};if(qo){let c=e;for(;c&&c.nodeName.toLowerCase()!=="html";){const d=Xh(c,"transform");if(/^matrix/.test(d)){const f=d.slice(7,-1).split(/,\s/).map(Number);n.x+=f[4],n.y+=f[5]}else if(/^matrix3d/.test(d)){const f=d.slice(9,-1).split(/,\s/).map(Number);n.x+=f[12],n.y+=f[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&De.WebKitCSSMatrix){const f=De.getComputedStyle(c.assignedSlot.parentElement).transform,m=new De.WebKitCSSMatrix(f);n.x+=m.m41,n.y+=m.m42}c=c.parentNode||c.host}}const r={},i=hv(t.target),o=hv(e),s=o.width,a=o.height;let l=t.offsetY-(o.top-i.top),u=t.offsetX-(o.left-i.left);return t.changedTouches&&(u=t.changedTouches[0].pageX-o.left,l=t.changedTouches[0].pageY+o.top,qo&&(u-=n.x,l-=n.y)),r.y=1-Math.max(0,Math.min(1,l/a)),r.x=Math.max(0,Math.min(1,u/s)),r}function WW(e){return zl(e)&&e.nodeType===3}function oT(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function YW(e){return typeof e=="function"&&(e=e()),(Array.isArray(e)?e:[e]).map(t=>{if(typeof t=="function"&&(t=t()),Dm(t)||WW(t))return t;if(typeof t=="string"&&/\S/.test(t))return Et.createTextNode(t)}).filter(t=>t)}function aI(e,t){return YW(t).forEach(n=>e.appendChild(n)),e}function KW(e,t){return aI(oT(e),t)}function mv(e){return e.button===void 0&&e.buttons===void 0||e.button===0&&e.buttons===void 0||e.type==="mouseup"&&e.button===0&&e.buttons===0||e.type==="mousedown"&&e.button===0&&e.buttons===0?!0:!(e.button!==0||e.buttons!==1)}const nd=FW("querySelector"),XW=FW("querySelectorAll");function Xh(e,t){if(!e||!t)return"";if(typeof De.getComputedStyle=="function"){let n;try{n=De.getComputedStyle(e)}catch{return""}return n?n.getPropertyValue(t)||n[t]:""}return""}function ZW(e){[...Et.styleSheets].forEach(t=>{try{const n=[...t.cssRules].map(i=>i.cssText).join(""),r=Et.createElement("style");r.textContent=n,e.document.head.appendChild(r)}catch{const r=Et.createElement("link");r.rel="stylesheet",r.type=t.type,r.media=t.media.mediaText,r.href=t.href,e.document.head.appendChild(r)}})}var QW=Object.freeze({__proto__:null,isReal:Om,isEl:Dm,isInFrame:UW,createEl:yn,textContent:pd,prependTo:RC,hasClass:yy,addClass:rf,removeClass:nT,toggleClass:zW,setAttributes:VW,getAttributes:yc,getAttribute:qW,setAttribute:Yh,removeAttribute:rT,blockTextSelection:HW,unblockTextSelection:GW,getBoundingClientRect:Kh,findPosition:hv,getPointerPosition:iT,isTextNode:WW,emptyEl:oT,normalizeContent:YW,appendContent:aI,insertContent:KW,isSingleLeftClick:mv,$:nd,$$:XW,computedStyle:Xh,copyStyleSheetsToWindow:ZW});let JW=!1,IC;const pPe=function(){if(IC.options.autoSetup===!1)return;const e=Array.prototype.slice.call(Et.getElementsByTagName("video")),t=Array.prototype.slice.call(Et.getElementsByTagName("audio")),n=Array.prototype.slice.call(Et.getElementsByTagName("video-js")),r=e.concat(t,n);if(r&&r.length>0)for(let i=0,o=r.length;i<o;i++){const s=r[i];if(s&&s.getAttribute)s.player===void 0&&s.getAttribute("data-setup")!==null&&IC(s);else{kC(1);break}}else JW||kC(1)};function kC(e,t){Om()&&(t&&(IC=t),De.setTimeout(pPe,e))}function NC(){JW=!0,De.removeEventListener("load",NC)}Om()&&(Et.readyState==="complete"?NC():De.addEventListener("load",NC));const eY=function(e){const t=Et.createElement("style");return t.className=e,t},tY=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var os=new WeakMap;const hPe=3;let mPe=hPe;function ja(){return mPe++}function v4(e,t){if(!os.has(e))return;const n=os.get(e);n.handlers[t].length===0&&(delete n.handlers[t],e.removeEventListener?e.removeEventListener(t,n.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&os.delete(e)}function lI(e,t,n,r){n.forEach(function(i){e(t,i,r)})}function sT(e){if(e.fixed_)return e;function t(){return!0}function n(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const r=e||De.event;e={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const o in r)i.includes(o)||o==="returnValue"&&r.preventDefault||(e[o]=r[o]);if(e.target||(e.target=e.srcElement||Et),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){r.preventDefault&&r.preventDefault(),e.returnValue=!1,r.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),e.cancelBubble=!0,r.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=n,e.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=n,e.clientX!==null&&e.clientX!==void 0){const o=Et.documentElement,s=Et.body;e.pageX=e.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),e.pageY=e.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}e.which=e.charCode||e.keyCode,e.button!==null&&e.button!==void 0&&(e.button=e.button&1?0:e.button&4?1:e.button&2?2:0)}return e.fixed_=!0,e}let D0;const gPe=function(){if(typeof D0!="boolean"){D0=!1;try{const e=Object.defineProperty({},"passive",{get(){D0=!0}});De.addEventListener("test",null,e),De.removeEventListener("test",null,e)}catch{}}return D0},yPe=["touchstart","touchmove"];function sa(e,t,n){if(Array.isArray(t))return lI(sa,e,t,n);os.has(e)||os.set(e,{});const r=os.get(e);if(r.handlers||(r.handlers={}),r.handlers[t]||(r.handlers[t]=[]),n.guid||(n.guid=ja()),r.handlers[t].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(i,o){if(r.disabled)return;i=sT(i);const s=r.handlers[i.type];if(s){const a=s.slice(0);for(let l=0,u=a.length;l<u&&!i.isImmediatePropagationStopped();l++)try{a[l].call(e,i,o)}catch(c){Vn.error(c)}}}),r.handlers[t].length===1)if(e.addEventListener){let i=!1;gPe()&&yPe.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,r.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,r.dispatcher)}function Ho(e,t,n){if(!os.has(e))return;const r=os.get(e);if(!r.handlers)return;if(Array.isArray(t))return lI(Ho,e,t,n);const i=function(s,a){r.handlers[a]=[],v4(s,a)};if(t===void 0){for(const s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&i(e,s);return}const o=r.handlers[t];if(o){if(!n){i(e,t);return}if(n.guid)for(let s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);v4(e,t)}}function Pm(e,t,n){const r=os.has(e)?os.get(e):{},i=e.parentNode||e.ownerDocument;if(typeof t=="string"?t={type:t,target:e}:t.target||(t.target=e),t=sT(t),r.dispatcher&&r.dispatcher.call(e,t,n),i&&!t.isPropagationStopped()&&t.bubbles===!0)Pm.call(null,i,t,n);else if(!i&&!t.defaultPrevented&&t.target&&t.target[t.type]){os.has(t.target)||os.set(t.target,{});const o=os.get(t.target);t.target[t.type]&&(o.disabled=!0,typeof t.target[t.type]=="function"&&t.target[t.type](),o.disabled=!1)}return!t.defaultPrevented}function aT(e,t,n){if(Array.isArray(t))return lI(aT,e,t,n);const r=function(){Ho(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||ja(),sa(e,t,r)}function uI(e,t,n){const r=function(){Ho(e,t,r),n.apply(this,arguments)};r.guid=n.guid=n.guid||ja(),sa(e,t,r)}var vPe=Object.freeze({__proto__:null,fixEvent:sT,on:sa,off:Ho,trigger:Pm,one:aT,any:uI});const La=30,Yr=function(e,t,n){t.guid||(t.guid=ja());const r=t.bind(e);return r.guid=n?n+"_"+t.guid:t.guid,r},ql=function(e,t){let n=De.performance.now();return function(...i){const o=De.performance.now();o-n>=t&&(e(...i),n=o)}},nY=function(e,t,n,r=De){let i;const o=()=>{r.clearTimeout(i),i=null},s=function(){const a=this,l=arguments;let u=function(){i=null,u=null,n||e.apply(a,l)};!i&&n&&e.apply(a,l),r.clearTimeout(i),i=r.setTimeout(u,t)};return s.cancel=o,s};var bPe=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:La,bind_:Yr,throttle:ql,debounce:nY});let xg;class aa{on(t,n){const r=this.addEventListener;this.addEventListener=()=>{},sa(this,t,n),this.addEventListener=r}off(t,n){Ho(this,t,n)}one(t,n){const r=this.addEventListener;this.addEventListener=()=>{},aT(this,t,n),this.addEventListener=r}any(t,n){const r=this.addEventListener;this.addEventListener=()=>{},uI(this,t,n),this.addEventListener=r}trigger(t){const n=t.type||t;typeof t=="string"&&(t={type:n}),t=sT(t),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](t),Pm(this,t)}queueTrigger(t){xg||(xg=new Map);const n=t.type||t;let r=xg.get(this);r||(r=new Map,xg.set(this,r));const i=r.get(n);r.delete(n),De.clearTimeout(i);const o=De.setTimeout(()=>{r.delete(n),r.size===0&&(r=null,xg.delete(this)),this.trigger(t)},0);r.set(n,o)}}aa.prototype.allowedEvents_={};aa.prototype.addEventListener=aa.prototype.on;aa.prototype.removeEventListener=aa.prototype.off;aa.prototype.dispatchEvent=aa.prototype.trigger;const lT=e=>typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,xu=e=>e instanceof aa||!!e.eventBusEl_&&["on","one","off","trigger"].every(t=>typeof e[t]=="function"),_Pe=(e,t)=>{xu(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},MC=e=>typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length,GS=(e,t,n)=>{if(!e||!e.nodeName&&!xu(e))throw new Error(`Invalid target for ${lT(t)}#${n}; must be a DOM node or evented object.`)},rY=(e,t,n)=>{if(!MC(e))throw new Error(`Invalid event type for ${lT(t)}#${n}; must be a non-empty string or array.`)},iY=(e,t,n)=>{if(typeof e!="function")throw new Error(`Invalid listener for ${lT(t)}#${n}; must be a function.`)},PE=(e,t,n)=>{const r=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let i,o,s;return r?(i=e.eventBusEl_,t.length>=3&&t.shift(),[o,s]=t):(i=t[0],o=t[1],s=t[2]),GS(i,e,n),rY(o,e,n),iY(s,e,n),s=Yr(e,s),{isTargetingSelf:r,target:i,type:o,listener:s}},vd=(e,t,n,r)=>{GS(e,e,t),e.nodeName?vPe[t](e,n,r):e[t](n,r)},SPe={on(...e){const{isTargetingSelf:t,target:n,type:r,listener:i}=PE(this,e,"on");if(vd(n,"on",r,i),!t){const o=()=>this.off(n,r,i);o.guid=i.guid;const s=()=>this.off("dispose",o);s.guid=i.guid,vd(this,"on","dispose",o),vd(n,"on","dispose",s)}},one(...e){const{isTargetingSelf:t,target:n,type:r,listener:i}=PE(this,e,"one");if(t)vd(n,"one",r,i);else{const o=(...s)=>{this.off(n,r,o),i.apply(null,s)};o.guid=i.guid,vd(n,"one",r,o)}},any(...e){const{isTargetingSelf:t,target:n,type:r,listener:i}=PE(this,e,"any");if(t)vd(n,"any",r,i);else{const o=(...s)=>{this.off(n,r,o),i.apply(null,s)};o.guid=i.guid,vd(n,"any",r,o)}},off(e,t,n){if(!e||MC(e))Ho(this.eventBusEl_,e,t);else{const r=e,i=t;GS(r,this,"off"),rY(i,this,"off"),iY(n,this,"off"),n=Yr(this,n),this.off("dispose",n),r.nodeName?(Ho(r,i,n),Ho(r,"dispose",n)):xu(r)&&(r.off(i,n),r.off("dispose",n))}},trigger(e,t){GS(this.eventBusEl_,this,"trigger");const n=e&&typeof e!="string"?e.type:e;if(!MC(n))throw new Error(`Invalid event type for ${lT(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Pm(this.eventBusEl_,e,t)}};function cI(e,t={}){const{eventBusKey:n}=t;if(n){if(!e[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);e.eventBusEl_=e[n]}else e.eventBusEl_=yn("span",{className:"vjs-event-bus"});return Object.assign(e,SPe),e.eventedCallbacks&&e.eventedCallbacks.forEach(r=>{r()}),e.on("dispose",()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach(function(r){r&&os.has(r)&&os.delete(r)}),De.setTimeout(()=>{e.eventBusEl_=null},0)}),e}const xPe={state:{},setState(e){typeof e=="function"&&(e=e());let t;return th(e,(n,r)=>{this.state[r]!==n&&(t=t||{},t[r]={from:this.state[r],to:n}),this.state[r]=n}),t&&xu(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function oY(e,t){return Object.assign(e,xPe),e.state=Object.assign({},e.state,t),typeof e.handleStateChanged=="function"&&xu(e)&&e.on("statechanged",e.handleStateChanged),e}const vy=function(e){return typeof e!="string"?e:e.replace(/./,t=>t.toLowerCase())},Ci=function(e){return typeof e!="string"?e:e.replace(/./,t=>t.toUpperCase())},sY=function(e,t){return Ci(e)===Ci(t)};var wPe=Object.freeze({__proto__:null,toLowerCase:vy,toTitleCase:Ci,titleCaseEquals:sY});class lt{constructor(t,n,r){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Nr({},this.options_),n=this.options_=Nr(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const i=t&&t.id&&t.id()||"no_player";this.id_=`${i}_component_${ja()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),n.evented!==!1&&(cI(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),oY(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(r),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(t={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(t.restoreEl?this.el_.parentNode.replaceChild(t.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(t){return t?(this.options_=Nr(this.options_,t),this.options_):this.options_}el(){return this.el_}createEl(t,n,r){return yn(t,n,r)}localize(t,n,r=t){const i=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),s=o&&o[i],a=i&&i.split("-")[0],l=o&&o[a];let u=r;return s&&s[t]?u=s[t]:l&&l[t]&&(u=l[t]),n&&(u=u.replace(/\{(\d+)\}/g,function(c,d){const f=n[d-1];let m=f;return typeof f>"u"&&(m=c),m})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(t){return this.childIndex_[t]}getChild(t){if(t)return this.childNameIndex_[t]}getDescendant(...t){t=t.reduce((r,i)=>r.concat(i),[]);let n=this;for(let r=0;r<t.length;r++)if(n=n.getChild(t[r]),!n||!n.getChild)return;return n}setIcon(t,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const r="http://www.w3.org/2000/svg",i=yn("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),o=Et.createElementNS(r,"svg");o.setAttributeNS(null,"viewBox","0 0 512 512");const s=Et.createElementNS(r,"use");return o.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${t}`),i.appendChild(o),this.iconIsSet_?n.replaceChild(i,n.querySelector(".vjs-icon-placeholder")):n.appendChild(i),this.iconIsSet_=!0,i}addChild(t,n={},r=this.children_.length){let i,o;if(typeof t=="string"){o=Ci(t);const s=n.componentClass||o;n.name=o;const a=lt.getComponent(s);if(!a)throw new Error(`Component ${s} does not exist`);if(typeof a!="function")return null;i=new a(this.player_||this,n)}else i=t;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(r,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),o=o||i.name&&Ci(i.name()),o&&(this.childNameIndex_[o]=i,this.childNameIndex_[vy(o)]=i),typeof i.el=="function"&&i.el()){let s=null;this.children_[r+1]&&(this.children_[r+1].el_?s=this.children_[r+1].el_:Dm(this.children_[r+1])&&(s=this.children_[r+1])),this.contentEl().insertBefore(i.el(),s)}return i}removeChild(t){if(typeof t=="string"&&(t=this.getChild(t)),!t||!this.children_)return;let n=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){n=!0,this.children_.splice(i,1);break}if(!n)return;t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[Ci(t.name())]=null,this.childNameIndex_[vy(t.name())]=null;const r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}initChildren(){const t=this.options_.children;if(t){const n=this.options_,r=s=>{const a=s.name;let l=s.opts;if(n[a]!==void 0&&(l=n[a]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(a,l);u&&(this[a]=u)};let i;const o=lt.getComponent("Tech");Array.isArray(t)?i=t:i=Object.keys(t),i.concat(Object.keys(this.options_).filter(function(s){return!i.some(function(a){return typeof a=="string"?s===a:s===a.name})})).map(s=>{let a,l;return typeof s=="string"?(a=s,l=t[a]||this.options_[a]||{}):(a=s.name,l=s),{name:a,opts:l}}).filter(s=>{const a=lt.getComponent(s.opts.componentClass||Ci(s.name));return a&&!o.isTech(a)}).forEach(r)}}buildCSSClass(){return""}ready(t,n=!1){if(t){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t);return}n?t.call(this):this.setTimeout(t,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(t,n){return nd(t,n||this.contentEl())}$$(t,n){return XW(t,n||this.contentEl())}hasClass(t){return yy(this.el_,t)}addClass(...t){rf(this.el_,...t)}removeClass(...t){nT(this.el_,...t)}toggleClass(t,n){zW(this.el_,t,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(t){return qW(this.el_,t)}setAttribute(t,n){Yh(this.el_,t,n)}removeAttribute(t){rT(this.el_,t)}width(t,n){return this.dimension("width",t,n)}height(t,n){return this.dimension("height",t,n)}dimensions(t,n){this.width(t,!0),this.height(n)}dimension(t,n,r){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[t]=n:n==="auto"?this.el_.style[t]="":this.el_.style[t]=n+"px",r||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[t],o=i.indexOf("px");return parseInt(o!==-1?i.slice(0,o):this.el_["offset"+Ci(t)],10)}currentDimension(t){let n=0;if(t!=="width"&&t!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Xh(this.el_,t),n=parseFloat(n),n===0||isNaN(n)){const r=`offset${Ci(t)}`;n=this.el_[r]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const t=this.el_.getBoundingClientRect(),n={x:t.x,y:t.y,width:t.width,height:t.height,top:t.top,right:t.right,bottom:t.bottom,left:t.left},r={x:t.left+t.width/2,y:t.top+t.height/2,width:0,height:0,top:t.top+t.height/2,right:t.left+t.width/2,bottom:t.top+t.height/2,left:t.left+t.width/2};return{boundingClientRect:n,center:r}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(t){this.player_&&(t.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&t.stopPropagation(),this.player_.handleKeyDown(t))}handleKeyPress(t){this.handleKeyDown(t)}emitTapEvents(){let t=0,n=null;const r=10,i=200;let o;this.on("touchstart",function(a){a.touches.length===1&&(n={pageX:a.touches[0].pageX,pageY:a.touches[0].pageY},t=De.performance.now(),o=!0)}),this.on("touchmove",function(a){if(a.touches.length>1)o=!1;else if(n){const l=a.touches[0].pageX-n.pageX,u=a.touches[0].pageY-n.pageY;Math.sqrt(l*l+u*u)>r&&(o=!1)}});const s=function(){o=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(a){n=null,o===!0&&De.performance.now()-t<i&&(a.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const t=Yr(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){t(),this.clearInterval(n),n=this.setInterval(t,250)});const r=function(i){t(),this.clearInterval(n)};this.on("touchmove",t),this.on("touchend",r),this.on("touchcancel",r)}setTimeout(t,n){var r;return t=Yr(this,t),this.clearTimersOnDispose_(),r=De.setTimeout(()=>{this.setTimeoutIds_.has(r)&&this.setTimeoutIds_.delete(r),t()},n),this.setTimeoutIds_.add(r),r}clearTimeout(t){return this.setTimeoutIds_.has(t)&&(this.setTimeoutIds_.delete(t),De.clearTimeout(t)),t}setInterval(t,n){t=Yr(this,t),this.clearTimersOnDispose_();const r=De.setInterval(t,n);return this.setIntervalIds_.add(r),r}clearInterval(t){return this.setIntervalIds_.has(t)&&(this.setIntervalIds_.delete(t),De.clearInterval(t)),t}requestAnimationFrame(t){this.clearTimersOnDispose_();var n;return t=Yr(this,t),n=De.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),t()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(t,n){this.namedRafs_.has(t)&&this.cancelNamedAnimationFrame(t),this.clearTimersOnDispose_(),n=Yr(this,n);const r=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(t)&&this.namedRafs_.delete(t)});return this.namedRafs_.set(t,r),t}cancelNamedAnimationFrame(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))}cancelAnimationFrame(t){return this.rafIds_.has(t)&&(this.rafIds_.delete(t),De.cancelAnimationFrame(t)),t}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([t,n])=>{this[t].forEach((r,i)=>this[n](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(t){return(t||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(t){function n(o){const s=De.getComputedStyle(o,null),a=s.getPropertyValue("visibility");return s.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(a)}function r(o){return!(!n(o.parentElement)||!n(o)||o.style.opacity==="0"||De.getComputedStyle(o).height==="0px"||De.getComputedStyle(o).width==="0px")}function i(o){if(o.offsetWidth+o.offsetHeight+o.getBoundingClientRect().height+o.getBoundingClientRect().width===0)return!1;const s={x:o.getBoundingClientRect().left+o.offsetWidth/2,y:o.getBoundingClientRect().top+o.offsetHeight/2};if(s.x<0||s.x>(Et.documentElement.clientWidth||De.innerWidth)||s.y<0||s.y>(Et.documentElement.clientHeight||De.innerHeight))return!1;let a=Et.elementFromPoint(s.x,s.y);for(;a;){if(a===o)return!0;if(a.parentNode)a=a.parentNode;else return!1}}return t||(t=this.el()),!!(i(t)&&r(t)&&(!t.parentElement||t.tabIndex>=0))}static registerComponent(t,n){if(typeof t!="string"||!t)throw new Error(`Illegal component name, "${t}"; must be a non-empty string.`);const r=lt.getComponent("Tech"),i=r&&r.isTech(n),o=lt===n||lt.prototype.isPrototypeOf(n.prototype);if(i||!o){let a;throw i?a="techs must be registered using Tech.registerTech()":a="must be a Component subclass",new Error(`Illegal component, "${t}"; ${a}.`)}t=Ci(t),lt.components_||(lt.components_={});const s=lt.getComponent("Player");if(t==="Player"&&s&&s.players){const a=s.players,l=Object.keys(a);if(a&&l.length>0){for(let u=0;u<l.length;u++)if(a[l[u]]!==null)throw new Error("Can not register Player component after player has been created.")}}return lt.components_[t]=n,lt.components_[vy(t)]=n,n}static getComponent(t){if(!(!t||!lt.components_))return lt.components_[t]}}lt.registerComponent("Component",lt);function TPe(e,t,n){if(typeof t!="number"||t<0||t>n)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${n}).`)}function b4(e,t,n,r){return TPe(e,r,n.length-1),n[r][t]}function RE(e){let t;return e===void 0||e.length===0?t={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:t={length:e.length,start:b4.bind(null,"start",0,e),end:b4.bind(null,"end",1,e)},De.Symbol&&De.Symbol.iterator&&(t[De.Symbol.iterator]=()=>(e||[]).values()),t}function sl(e,t){return Array.isArray(e)?RE(e):e===void 0||t===void 0?RE():RE([[e,t]])}const aY=function(e,t){e=e<0?0:e;let n=Math.floor(e%60),r=Math.floor(e/60%60),i=Math.floor(e/3600);const o=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(i=r=n="-"),i=i>0||s>0?i+":":"",r=((i||o>=10)&&r<10?"0"+r:r)+":",n=n<10?"0"+n:n,i+r+n};let dI=aY;function lY(e){dI=e}function uY(){dI=aY}function Of(e,t=e){return dI(e,t)}var EPe=Object.freeze({__proto__:null,createTimeRanges:sl,createTimeRange:sl,setFormatTime:lY,resetFormatTime:uY,formatTime:Of});function cY(e,t){let n=0,r,i;if(!t)return 0;(!e||!e.length)&&(e=sl(0,0));for(let o=0;o<e.length;o++)r=e.start(o),i=e.end(o),i>t&&(i=t),n+=i-r;return n/t}function Si(e){if(e instanceof Si)return e;typeof e=="number"?this.code=e:typeof e=="string"?this.message=e:zl(e)&&(typeof e.code=="number"&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=Si.defaultMessages[this.code]||"")}Si.prototype.code=0;Si.prototype.message="";Si.prototype.status=null;Si.prototype.metadata=null;Si.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Si.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Si.MEDIA_ERR_CUSTOM=0;Si.prototype.MEDIA_ERR_CUSTOM=0;Si.MEDIA_ERR_ABORTED=1;Si.prototype.MEDIA_ERR_ABORTED=1;Si.MEDIA_ERR_NETWORK=2;Si.prototype.MEDIA_ERR_NETWORK=2;Si.MEDIA_ERR_DECODE=3;Si.prototype.MEDIA_ERR_DECODE=3;Si.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Si.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Si.MEDIA_ERR_ENCRYPTED=5;Si.prototype.MEDIA_ERR_ENCRYPTED=5;function by(e){return e!=null&&typeof e.then=="function"}function Pl(e){by(e)&&e.then(null,t=>{})}const jC=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((n,r,i)=>(e[r]&&(n[r]=e[r]),n),{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})})},APe=function(e){const t=e.$$("track"),n=Array.prototype.map.call(t,i=>i.track);return Array.prototype.map.call(t,function(i){const o=jC(i.track);return i.src&&(o.src=i.src),o}).concat(Array.prototype.filter.call(e.textTracks(),function(i){return n.indexOf(i)===-1}).map(jC))},CPe=function(e,t){return e.forEach(function(n){const r=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(i=>r.addCue(i))}),t.textTracks()};var LC={textTracksToJson:APe,jsonToTextTracks:CPe,trackToJson:jC};const IE="vjs-modal-dialog";class Rm extends lt{constructor(t,n){super(t,n),this.handleKeyDown_=r=>this.handleKeyDown(r),this.close_=r=>this.close(r),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=yn("div",{className:`${IE}-content`},{role:"document"}),this.descEl_=yn("p",{className:`${IE}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),pd(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${IE} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(t){return typeof t=="boolean"&&this[t?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(t){if(typeof t=="boolean"){const n=this.closeable_=!!t;let r=this.getChild("closeButton");if(n&&!r){const i=this.contentEl_;this.contentEl_=this.el_,r=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(r,"close",this.close_)}!n&&r&&(this.off(r,"close",this.close_),this.removeChild(r),r.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(t){const n=this.contentEl(),r=n.parentNode,i=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,r.removeChild(n),this.empty(),KW(n,t),this.trigger("modalfill"),i?r.insertBefore(n,i):r.appendChild(n);const o=this.getChild("closeButton");o&&r.appendChild(o.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),oT(this.contentEl()),this.trigger("modalempty")}content(t){return typeof t<"u"&&(this.content_=t),this.content_}conditionalFocus_(){const t=Et.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(t)||n===t)&&(this.previouslyActiveEl_=t,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(t){if(this.trigger({type:"modalKeydown",originalEvent:t,target:this,bubbles:!0}),t.stopPropagation(),t.key==="Escape"&&this.closeable()){t.preventDefault(),this.close();return}if(t.key!=="Tab")return;const n=this.focusableEls_(),r=this.el_.querySelector(":focus");let i;for(let o=0;o<n.length;o++)if(r===n[o]){i=o;break}Et.activeElement===this.el_&&(i=0),t.shiftKey&&i===0?(n[n.length-1].focus(),t.preventDefault()):!t.shiftKey&&i===n.length-1&&(n[0].focus(),t.preventDefault())}focusableEls_(){const t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,n=>(n instanceof De.HTMLAnchorElement||n instanceof De.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof De.HTMLInputElement||n instanceof De.HTMLSelectElement||n instanceof De.HTMLTextAreaElement||n instanceof De.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof De.HTMLIFrameElement||n instanceof De.HTMLObjectElement||n instanceof De.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}Rm.prototype.options_={pauseOnOpen:!0,temporary:!0};lt.registerComponent("ModalDialog",Rm);class Df extends aa{constructor(t=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<t.length;n++)this.addTrack(t[n])}addTrack(t){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(t)===-1&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=()=>{this.trigger({track:t,type:"labelchange",target:this})},xu(t)&&t.addEventListener("labelchange",t.labelchange_)}removeTrack(t){let n;for(let r=0,i=this.length;r<i;r++)if(this[r]===t){n=this[r],n.off&&n.off(),this.tracks_.splice(r,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(t){let n=null;for(let r=0,i=this.length;r<i;r++){const o=this[r];if(o.id===t){n=o;break}}return n}}Df.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const e in Df.prototype.allowedEvents_)Df.prototype["on"+e]=null;const kE=function(e,t){for(let n=0;n<e.length;n++)!Object.keys(e[n]).length||t.id===e[n].id||(e[n].enabled=!1)};class dY extends Df{constructor(t=[]){for(let n=t.length-1;n>=0;n--)if(t[n].enabled){kE(t,t[n]);break}super(t),this.changing_=!1}addTrack(t){t.enabled&&kE(this,t),super.addTrack(t),t.addEventListener&&(t.enabledChange_=()=>{this.changing_||(this.changing_=!0,kE(this,t),this.changing_=!1,this.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))}removeTrack(t){super.removeTrack(t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)}}const NE=function(e,t){for(let n=0;n<e.length;n++)!Object.keys(e[n]).length||t.id===e[n].id||(e[n].selected=!1)};class fY extends Df{constructor(t=[]){for(let n=t.length-1;n>=0;n--)if(t[n].selected){NE(t,t[n]);break}super(t),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(t){t.selected&&NE(this,t),super.addTrack(t),t.addEventListener&&(t.selectedChange_=()=>{this.changing_||(this.changing_=!0,NE(this,t),this.changing_=!1,this.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))}removeTrack(t){super.removeTrack(t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)}}class fI extends Df{addTrack(t){super.addTrack(t),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),t.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(t.kind)===-1&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(t){super.removeTrack(t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(t=>t.toJSON())}}class OPe{constructor(t=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,r=t.length;n<r;n++)this.addTrackElement_(t[n])}addTrackElement_(t){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(t)===-1&&this.trackElements_.push(t)}getTrackElementByTrack_(t){let n;for(let r=0,i=this.trackElements_.length;r<i;r++)if(t===this.trackElements_[r].track){n=this.trackElements_[r];break}return n}removeTrackElement_(t){for(let n=0,r=this.trackElements_.length;n<r;n++)if(t===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class WS{constructor(t){WS.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(t){const n=this.length||0;let r=0;const i=t.length;this.cues_=t,this.length_=t.length;const o=function(s){""+s in this||Object.defineProperty(this,""+s,{get(){return this.cues_[s]}})};if(n<i)for(r=n;r<i;r++)o.call(this,r)}getCueById(t){let n=null;for(let r=0,i=this.length;r<i;r++){const o=this[r];if(o.id===t){n=o;break}}return n}}const DPe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},PPe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},RPe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},_4={disabled:"disabled",hidden:"hidden",showing:"showing"};class pI extends aa{constructor(t={}){super();const n={id:t.id||"vjs_track_"+ja(),kind:t.kind||"",language:t.language||""};let r=t.label||"";for(const i in n)Object.defineProperty(this,i,{get(){return n[i]},set(){}});Object.defineProperty(this,"label",{get(){return r},set(i){i!==r&&(r=i,this.trigger("labelchange"))}})}}const hI=function(e){return new URL(e,Et.baseURI)},pY=function(e){return new URL(e,Et.baseURI).href},mI=function(e){if(typeof e=="string"){const n=e.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return n?n[1].toLowerCase():""}return""},uT=function(e,t=De.location){return hI(e).origin!==t.origin};var IPe=Object.freeze({__proto__:null,parseUrl:hI,getAbsoluteURL:pY,getFileExtension:mI,isCrossOrigin:uT});const S4=function(e,t){const n=new De.WebVTT.Parser(De,De.vttjs,De.WebVTT.StringDecoder()),r=[];n.oncue=function(i){t.addCue(i)},n.onparsingerror=function(i){r.push(i)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),r.length>0&&(De.console&&De.console.groupCollapsed&&De.console.groupCollapsed(`Text Track parsing errors for ${t.src}`),r.forEach(i=>Vn.error(i)),De.console&&De.console.groupEnd&&De.console.groupEnd()),n.flush()},x4=function(e,t){const n={uri:e},r=uT(e);r&&(n.cors=r);const i=t.tech_.crossOrigin()==="use-credentials";i&&(n.withCredentials=i),$G(n,Yr(this,function(o,s,a){if(o)return Vn.error(o,s);t.loaded_=!0,typeof De.WebVTT!="function"?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Vn.error(`vttjs failed to load, stopping trying to process ${t.src}`);return}return S4(a,t)}):S4(a,t)}))};class bb extends pI{constructor(t={}){if(!t.tech)throw new Error("A tech was not provided.");const n=Nr(t,{kind:RPe[t.kind]||"subtitles",language:t.language||t.srclang||""});let r=_4[n.mode]||"disabled";const i=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(r="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const o=new WS(this.cues_),s=new WS(this.activeCues_);let a=!1;this.timeupdateHandler=Yr(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,a&&(this.trigger("cuechange"),a=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),r!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return r},set(u){_4[u]&&r!==u&&(r=u,!this.preload_&&r!=="disabled"&&this.cues.length===0&&x4(this.src,this),this.stopTracking(),r!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?o:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return s;const u=this.tech_.currentTime(),c=[];for(let d=0,f=this.cues.length;d<f;d++){const m=this.cues[d];m.startTime<=u&&m.endTime>=u&&c.push(m)}if(a=!1,c.length!==this.activeCues_.length)a=!0;else for(let d=0;d<c.length;d++)this.activeCues_.indexOf(c[d])===-1&&(a=!0);return this.activeCues_=c,s.setCues_(this.activeCues_),s},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&x4(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(t){let n=t;if(!("getCueAsHTML"in n)){n=new De.vttjs.VTTCue(t.startTime,t.endTime,t.text);for(const i in t)i in n||(n[i]=t[i]);n.id=t.id,n.originalCue_=t}const r=this.tech_.textTracks();for(let i=0;i<r.length;i++)r[i]!==this&&r[i].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}toJSON(){return LC.trackToJson(this)}removeCue(t){let n=this.cues_.length;for(;n--;){const r=this.cues_[n];if(r===t||r.originalCue_&&r.originalCue_===t){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}bb.prototype.allowedEvents_={cuechange:"cuechange"};class hY extends pI{constructor(t={}){const n=Nr(t,{kind:PPe[t.kind]||""});super(n);let r=!1;Object.defineProperty(this,"enabled",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class mY extends pI{constructor(t={}){const n=Nr(t,{kind:DPe[t.kind]||""});super(n);let r=!1;Object.defineProperty(this,"selected",{get(){return r},set(i){typeof i!="boolean"||i===r||(r=i,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class Fu extends aa{constructor(t={}){super();let n;const r=new bb(t);this.kind=r.kind,this.src=r.src,this.srclang=r.language,this.label=r.label,this.default=r.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return r}}}),n=Fu.NONE,r.addEventListener("loadeddata",()=>{n=Fu.LOADED,this.trigger({type:"load",target:this})})}}Fu.prototype.allowedEvents_={load:"load"};Fu.NONE=0;Fu.LOADING=1;Fu.LOADED=2;Fu.ERROR=3;const Ia={audio:{ListClass:dY,TrackClass:hY,capitalName:"Audio"},video:{ListClass:fY,TrackClass:mY,capitalName:"Video"},text:{ListClass:fI,TrackClass:bb,capitalName:"Text"}};Object.keys(Ia).forEach(function(e){Ia[e].getterName=`${e}Tracks`,Ia[e].privateName=`${e}Tracks_`});const Zh={remoteText:{ListClass:fI,TrackClass:bb,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:OPe,TrackClass:Fu,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},rs=Object.assign({},Ia,Zh);Zh.names=Object.keys(Zh);Ia.names=Object.keys(Ia);rs.names=[].concat(Zh.names).concat(Ia.names);function kPe(e,t,n,r,i={}){const o=e.textTracks();i.kind=t,n&&(i.label=n),r&&(i.language=r),i.tech=e;const s=new rs.text.TrackClass(i);return o.addTrack(s),s}class On extends lt{constructor(t={},n=function(){}){t.reportTouchActivity=!1,super(null,t,n),this.onDurationChange_=r=>this.onDurationChange(r),this.trackProgress_=r=>this.trackProgress(r),this.trackCurrentTime_=r=>this.trackCurrentTime(r),this.stopTrackingCurrentTime_=r=>this.stopTrackingCurrentTime(r),this.disposeSourceHandler_=r=>this.disposeSourceHandler(r),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),rs.names.forEach(r=>{const i=rs[r];t&&t[i.getterName]&&(this[i.privateName]=t[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(r=>{t[`native${r}Tracks`]===!1&&(this[`featuresNative${r}Tracks`]=!1)}),t.nativeCaptions===!1||t.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(t.nativeCaptions===!0||t.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=t.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new rs.text.ListClass,this.initTrackListeners(),t.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(t){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(t),1)),this.trigger({src:t,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Yr(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(t){this.duration_=this.duration()}buffered(){return sl(0,0)}bufferedPercent(){return cY(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Ia.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(t){t=[].concat(t),t.forEach(n=>{const r=this[`${n}Tracks`]()||[];let i=r.length;for(;i--;){const o=r[i];n==="text"&&this.removeRemoteTextTrack(o),r.removeTrack(o)}})}cleanupAutoTextTracks(){const t=this.autoRemoteTextTracks_||[];let n=t.length;for(;n--;){const r=t[n];this.removeRemoteTextTrack(r)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(t){return t!==void 0&&(this.error_=new Si(t),this.trigger("error")),this.error_}played(){return this.hasStarted_?sl(0,0):sl()}play(){}setScrubbing(t){}scrubbing(){}setCurrentTime(t){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Ia.names.forEach(t=>{const n=Ia[t],r=()=>{this.trigger(`${t}trackchange`)},i=this[n.getterName]();i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),this.on("dispose",()=>{i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r)})})}addWebVttScript_(){if(!De.WebVTT)if(Et.body.contains(this.el())){if(!this.options_["vtt.js"]&&Wh($$)&&Object.keys($$).length>0){this.trigger("vttjsloaded");return}const t=Et.createElement("script");t.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",t.onload=()=>{this.trigger("vttjsloaded")},t.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{t.onload=null,t.onerror=null}),De.WebVTT=!0,this.el().parentNode.appendChild(t)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const t=this.textTracks(),n=this.remoteTextTracks(),r=a=>t.addTrack(a.track),i=a=>t.removeTrack(a.track);n.on("addtrack",r),n.on("removetrack",i),this.addWebVttScript_();const o=()=>this.trigger("texttrackchange"),s=()=>{o();for(let a=0;a<t.length;a++){const l=t[a];l.removeEventListener("cuechange",o),l.mode==="showing"&&l.addEventListener("cuechange",o)}};s(),t.addEventListener("change",s),t.addEventListener("addtrack",s),t.addEventListener("removetrack",s),this.on("dispose",function(){n.off("addtrack",r),n.off("removetrack",i),t.removeEventListener("change",s),t.removeEventListener("addtrack",s),t.removeEventListener("removetrack",s);for(let a=0;a<t.length;a++)t[a].removeEventListener("cuechange",o)})}addTextTrack(t,n,r){if(!t)throw new Error("TextTrack kind is required but was not provided");return kPe(this,t,n,r)}createRemoteTextTrack(t){const n=Nr(t,{tech:this});return new Zh.remoteTextEl.TrackClass(n)}addRemoteTextTrack(t={},n){const r=this.createRemoteTextTrack(t);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(r.track)),r}removeRemoteTextTrack(t){const n=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(t){const n=ja();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),t())})):this.requestNamedAnimationFrame(n,t),n}cancelVideoFrameCallback(t){this.queuedHanders_.has(t)?this.queuedHanders_.delete(t):this.cancelNamedAnimationFrame(t)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(t){}overrideNativeVideoTracks(t){}canPlayType(t){return""}static canPlayType(t){return""}static canPlaySource(t,n){return On.canPlayType(t.type)}static isTech(t){return t.prototype instanceof On||t instanceof On||t===On}static registerTech(t,n){if(On.techs_||(On.techs_={}),!On.isTech(n))throw new Error(`Tech ${t} must be a Tech`);if(!On.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!On.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ci(t),On.techs_[t]=n,On.techs_[vy(t)]=n,t!=="Tech"&&On.defaultTechOrder_.push(t),n}static getTech(t){if(t){if(On.techs_&&On.techs_[t])return On.techs_[t];if(t=Ci(t),De&&De.videojs&&De.videojs[t])return Vn.warn(`The ${t} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),De.videojs[t]}}}rs.names.forEach(function(e){const t=rs[e];On.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}});On.prototype.featuresVolumeControl=!0;On.prototype.featuresMuteControl=!0;On.prototype.featuresFullscreenResize=!1;On.prototype.featuresPlaybackRate=!1;On.prototype.featuresProgressEvents=!1;On.prototype.featuresSourceset=!1;On.prototype.featuresTimeupdateEvents=!1;On.prototype.featuresNativeTextTracks=!1;On.prototype.featuresVideoFrameCallback=!1;On.withSourceHandlers=function(e){e.registerSourceHandler=function(n,r){let i=e.sourceHandlers;i||(i=e.sourceHandlers=[]),r===void 0&&(r=i.length),i.splice(r,0,n)},e.canPlayType=function(n){const r=e.sourceHandlers||[];let i;for(let o=0;o<r.length;o++)if(i=r[o].canPlayType(n),i)return i;return""},e.selectSourceHandler=function(n,r){const i=e.sourceHandlers||[];let o;for(let s=0;s<i.length;s++)if(o=i[s].canHandleSource(n,r),o)return i[s];return null},e.canPlaySource=function(n,r){const i=e.selectSourceHandler(n,r);return i?i.canHandleSource(n,r):""},["seekable","seeking","duration"].forEach(function(n){const r=this[n];typeof r=="function"&&(this[n]=function(){return this.sourceHandler_&&this.sourceHandler_[n]?this.sourceHandler_[n].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},e.prototype),e.prototype.setSource=function(n){let r=e.selectSourceHandler(n,this.options_);r||(e.nativeSourceHandler?r=e.nativeSourceHandler:Vn.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==e.nativeSourceHandler&&(this.currentSource_=n),this.sourceHandler_=r.handleSource(n,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};lt.registerComponent("Tech",On);On.registerTech("Tech",On);On.defaultTechOrder_=[];const of={},YS={},KS={};function NPe(e,t){of[e]=of[e]||[],of[e].push(t)}function MPe(e,t,n){e.setTimeout(()=>Cd(t,of[t.type],n,e),1)}function jPe(e,t){e.forEach(n=>n.setTech&&n.setTech(t))}function LPe(e,t,n){return e.reduceRight(gI(n),t[n]())}function $Pe(e,t,n,r){return t[n](e.reduce(gI(n),r))}function w4(e,t,n,r=null){const i="call"+Ci(n),o=e.reduce(gI(i),r),s=o===KS,a=s?null:t[n](o);return FPe(e,n,a,s),a}const BPe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},UPe={setCurrentTime:1,setMuted:1,setVolume:1},T4={play:1,pause:1};function gI(e){return(t,n)=>t===KS?KS:n[e]?n[e](t):t}function FPe(e,t,n,r){for(let i=e.length-1;i>=0;i--){const o=e[i];o[t]&&o[t](r,n)}}function zPe(e){YS.hasOwnProperty(e.id())&&delete YS[e.id()]}function VPe(e,t){const n=YS[e.id()];let r=null;if(n==null)return r=t(e),YS[e.id()]=[[t,r]],r;for(let i=0;i<n.length;i++){const[o,s]=n[i];o===t&&(r=s)}return r===null&&(r=t(e),n.push([t,r])),r}function Cd(e={},t=[],n,r,i=[],o=!1){const[s,...a]=t;if(typeof s=="string")Cd(e,of[s],n,r,i,o);else if(s){const l=VPe(r,s);if(!l.setSource)return i.push(l),Cd(e,a,n,r,i,o);l.setSource(Object.assign({},e),function(u,c){if(u)return Cd(e,a,n,r,i,o);i.push(l),Cd(c,e.type===c.type?a:of[c.type],n,r,i,o)})}else a.length?Cd(e,a,n,r,i,o):o?n(e,i):Cd(e,of["*"],n,r,i,!0)}const qPe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},XS=function(e=""){const t=mI(e);return qPe[t.toLowerCase()]||""},HPe=(e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const n=e.cache_.sources.filter(i=>i.src===t);if(n.length)return n[0].type;const r=e.$$("source");for(let i=0;i<r.length;i++){const o=r[i];if(o.type&&o.src&&o.src===t)return o.type}return XS(t)},gY=function(e){if(Array.isArray(e)){let t=[];e.forEach(function(n){n=gY(n),Array.isArray(n)?t=t.concat(n):zl(n)&&t.push(n)}),e=t}else typeof e=="string"&&e.trim()?e=[E4({src:e})]:zl(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[E4(e)]:e=[];return e};function E4(e){if(!e.type){const t=XS(e.src);t&&(e.type=t)}return e}var GPe=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const A4=VS?10009:qS?461:8,dp={codes:{play:415,pause:19,ff:417,rw:412,back:A4},names:{415:"play",19:"pause",417:"ff",412:"rw",[A4]:"back"},isEventKey(e,t){return t=t.toLowerCase(),!!(this.names[e.keyCode]&&this.names[e.keyCode]===t)},getEventName(e){if(this.names[e.keyCode])return this.names[e.keyCode];if(this.codes[e.code]){const t=this.codes[e.code];return this.names[t]}return null}},C4=5;class WPe extends aa{constructor(t){super(),this.player_=t,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(t){const n=t.originalEvent?t.originalEvent:t;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const r=n.key.substring(5).toLowerCase();this.move(r)}else if(dp.isEventKey(n,"play")||dp.isEventKey(n,"pause")||dp.isEventKey(n,"ff")||dp.isEventKey(n,"rw")){n.preventDefault();const r=dp.getEventName(n);this.performMediaAction_(r)}else dp.isEventKey(n,"Back")&&t.target&&typeof t.target.closeable=="function"&&t.target.closeable()&&(n.preventDefault(),t.target.close())}performMediaAction_(t){if(this.player_)switch(t){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+C4);break;case"rw":this.userSeek_(this.player_.currentTime()-C4);break}}userSeek_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(t){const n=t.relatedTarget;let r=null;const i=this.getCurrentComponent(t.target);n&&(r=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!t.currentTarget.contains(t.relatedTarget)&&!r||!n)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const t=this.player_,n=[];function r(i){for(const o of i)o.hasOwnProperty("el_")&&o.getIsFocusable()&&o.getIsAvailableToBeFocused(o.el())&&n.push(o),o.hasOwnProperty("children_")&&o.children_.length>0&&r(o.children_)}return t.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){n.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?r(i.children_):i.hasOwnProperty("items")&&i.items.length>0?r(i.items):this.findSuitableDOMChild(i)&&n.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const o=i.el_.querySelector(".vjs-errors-ok-button-container");o&&o.querySelectorAll("button").forEach((a,l)=>{n.push({name:()=>"ModalButton"+(l+1),el:()=>a,getPositions:()=>{const u=a.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},d={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:d}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(t){function n(r){if(t.getIsFocusable(r)&&t.getIsAvailableToBeFocused(r))return r;for(let i=0;i<r.children.length;i++){const o=r.children[i],s=n(o);if(s)return s}return null}return t.el()?n(t.el()):null}getCurrentComponent(t){this.updateFocusableComponents();const n=t||document.activeElement;if(this.focusableComponents.length){for(const r of this.focusableComponents)if(r.el()===n)return r}}add(t){const n=[...this.focusableComponents];t.hasOwnProperty("el_")&&t.getIsFocusable()&&t.getIsAvailableToBeFocused(t.el())&&n.push(t),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(t){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===t.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(t){const n=this.getCurrentComponent();if(!n)return;const r=n.getPositions(),i=this.focusableComponents.filter(s=>s!==n&&this.isInDirection_(r.boundingClientRect,s.getPositions().boundingClientRect,t)),o=this.findBestCandidate_(r.center,i,t);o?this.focus(o):this.trigger({type:"endOfFocusableComponents",direction:t,focusedComponent:n})}findBestCandidate_(t,n,r){let i=1/0,o=null;for(const s of n){const a=s.getPositions().center,l=this.calculateDistance_(t,a,r);l<i&&(i=l,o=s)}return o}isInDirection_(t,n,r){switch(r){case"right":return n.left>=t.right;case"left":return n.right<=t.left;case"down":return n.top>=t.bottom;case"up":return n.bottom<=t.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[t]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(t){typeof t=="object"&&(t.getIsAvailableToBeFocused(t.el())?t.focus():this.findSuitableDOMChild(t)&&this.findSuitableDOMChild(t).focus())}calculateDistance_(t,n,r){const i=Math.abs(t.x-n.x),o=Math.abs(t.y-n.y);let s;switch(r){case"right":case"left":s=i+o*100;break;case"up":s=o*2+i*.5;break;case"down":s=o*5+i;break;default:s=i+o}return s}searchForTrackSelect_(){const t=this;for(const n of t.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){t.focus(n);break}}}class YPe extends lt{constructor(t,n,r){const i=Nr({createEl:!1},n);if(super(t,i,r),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let o=0,s=n.playerOptions.techOrder;o<s.length;o++){const a=Ci(s[o]);let l=On.getTech(a);if(a||(l=lt.getComponent(a)),l&&l.isSupported()){t.loadTech_(a);break}}else t.src(n.playerOptions.sources)}}lt.registerComponent("MediaLoader",YPe);class cT extends lt{constructor(t,n){super(t,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=r=>this.handleMouseOver(r),this.handleMouseOut_=r=>this.handleMouseOut(r),this.handleClick_=r=>this.handleClick(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.emitTapEvents(),this.enable()}createEl(t="div",n={},r={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),t==="button"&&Vn.error(`Creating a ClickableComponent with an HTML element of ${t} is not supported; use a Button instead.`),r=Object.assign({role:"button"},r),this.tabIndex_=n.tabIndex;const i=yn(t,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(yn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(t){return this.controlTextEl_=yn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_}controlText(t,n=this.el()){if(t===void 0)return this.controlText_||"Need Text";const r=this.localize(t);this.controlText_=t,pd(this.controlTextEl_,r),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",r)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(t){t.key===" "||t.key==="Enter"?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):super.handleKeyDown(t)}}lt.registerComponent("ClickableComponent",cT);class $C extends cT{constructor(t,n){super(t,n),this.update(),this.update_=r=>this.update(r),t.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return yn("div",{className:"vjs-poster"})}crossOrigin(t){if(typeof t>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(t!==null&&t!=="anonymous"&&t!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${t}"`);return}this.$("img")&&(this.$("img").crossOrigin=t)}update(t){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(t){if(!t){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(yn("picture",{className:"vjs-poster",tabIndex:-1},{},yn("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=t}handleClick(t){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Pl(this.player_.play()):this.player_.pause())}}$C.prototype.crossorigin=$C.prototype.crossOrigin;lt.registerComponent("PosterImage",$C);const pa="#222",O4="#ccc",KPe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function ME(e,t){let n;if(e.length===4)n=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else if(e.length===7)n=e.slice(1);else throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+t+")"}function Sl(e,t,n){try{e.style[t]=n}catch{return}}function D4(e){return e?`${e}px`:""}class XPe extends lt{constructor(t,n,r){super(t,n,r);const i=s=>this.updateDisplay(s),o=s=>{this.updateDisplayOverlay(),this.updateDisplay(s)};t.on("loadstart",s=>this.toggleDisplay(s)),t.on("useractive",i),t.on("userinactive",i),t.on("texttrackchange",i),t.on("loadedmetadata",s=>{this.updateDisplayOverlay(),this.preselectTrack(s)}),t.ready(Yr(this,function(){if(t.tech_&&t.tech_.featuresNativeTextTracks){this.hide();return}t.on("fullscreenchange",o),t.on("playerresize",o);const s=De.screen.orientation||De,a=De.screen.orientation?"change":"orientationchange";s.addEventListener(a,o),t.on("dispose",()=>s.removeEventListener(a,o));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const t={captions:1,subtitles:1},n=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage;let i,o,s;for(let a=0;a<n.length;a++){const l=n[a];r&&r.enabled&&r.language&&r.language===l.language&&l.kind in t?l.kind===r.kind?s=l:s||(s=l):r&&!r.enabled?(s=null,i=null,o=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in t&&!o&&(o=l))}s?s.mode="showing":o?o.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof De.WebVTT=="function"&&De.WebVTT.processCues(De,[],this.el_)}updateDisplay(){const t=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const s=[];for(let a=0;a<t.length;++a){const l=t[a];l.mode==="showing"&&s.push(l)}this.updateForTrack(s);return}let r=null,i=null,o=t.length;for(;o--;){const s=t[o];s.mode==="showing"&&(s.kind==="descriptions"?r=s:i=s)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):r&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(r)),!De.CSS.supports("inset","10px")){const s=this.el_,a=s.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;s.style="",Sl(s,"position","relative"),Sl(s,"height",u-l+"px"),Sl(s,"top","unset"),HS?Sl(s,"bottom",u+"px"):Sl(s,"bottom","0px"),a.length>0&&a.forEach(c=>{if(c.style.inset){const d=c.style.inset.split(" ");d.length===3&&Object.assign(c.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!De.CSS.supports("inset-inline: 10px"))return;const t=this.player_.currentWidth(),n=this.player_.currentHeight(),r=t/n,i=this.player_.videoWidth()/this.player_.videoHeight();let o=0,s=0;Math.abs(r-i)>.1&&(r>i?o=Math.round((t-n*i)/2):s=Math.round((n-t/i)/2)),Sl(this.el_,"insetInline",D4(o)),Sl(this.el_,"insetBlock",D4(s))}updateDisplayState(t){const n=this.player_.textTrackSettings.getValues(),r=t.activeCues;let i=r.length;for(;i--;){const o=r[i];if(!o)continue;const s=o.displayState;if(n.color&&(s.firstChild.style.color=n.color),n.textOpacity&&Sl(s.firstChild,"color",ME(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(s.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Sl(s.firstChild,"backgroundColor",ME(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Sl(s,"backgroundColor",ME(n.windowColor,n.windowOpacity)):s.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?s.firstChild.style.textShadow=`2px 2px 3px ${pa}, 2px 2px 4px ${pa}, 2px 2px 5px ${pa}`:n.edgeStyle==="raised"?s.firstChild.style.textShadow=`1px 1px ${pa}, 2px 2px ${pa}, 3px 3px ${pa}`:n.edgeStyle==="depressed"?s.firstChild.style.textShadow=`1px 1px ${O4}, 0 1px ${O4}, -1px -1px ${pa}, 0 -1px ${pa}`:n.edgeStyle==="uniform"&&(s.firstChild.style.textShadow=`0 0 4px ${pa}, 0 0 4px ${pa}, 0 0 4px ${pa}, 0 0 4px ${pa}`)),n.fontPercent&&n.fontPercent!==1){const a=De.parseFloat(s.style.fontSize);s.style.fontSize=a*n.fontPercent+"px",s.style.height="auto",s.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=KPe[n.fontFamily])}}updateForTrack(t){if(Array.isArray(t)||(t=[t]),typeof De.WebVTT!="function"||t.every(r=>!r.activeCues))return;const n=[];for(let r=0;r<t.length;++r){const i=t[r];for(let o=0;o<i.activeCues.length;++o)n.push(i.activeCues[o])}De.WebVTT.processCues(De,n,this.el_);for(let r=0;r<t.length;++r){const i=t[r];for(let o=0;o<i.activeCues.length;++o){const s=i.activeCues[o].displayState;rf(s,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:r)),i.language&&Yh(s,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}}lt.registerComponent("TextTrackDisplay",XPe);class ZPe extends lt{createEl(){const t=this.player_.isAudio(),n=this.localize(t?"Audio Player":"Video Player"),r=yn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(r),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}lt.registerComponent("LoadingSpinner",ZPe);class Go extends cT{createEl(t,n={},r={}){t="button",n=Object.assign({className:this.buildCSSClass()},n),r=Object.assign({type:"button"},r);const i=yn(t,n,r);return this.player_.options_.experimentalSvgIcons||i.appendChild(yn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(t,n={}){const r=this.constructor.name;return Vn.warn(`Adding an actionable (user controllable) child to a Button (${r}) is not supported; use a ClickableComponent instead.`),lt.prototype.addChild.call(this,t,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(t){if(t.key===" "||t.key==="Enter"){t.stopPropagation();return}super.handleKeyDown(t)}}lt.registerComponent("Button",Go);class yY extends Go{constructor(t,n){super(t,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",r=>this.handleMouseDown(r))}buildCSSClass(){return"vjs-big-play-button"}handleClick(t){const n=this.player_.play();if(t.type==="tap"||this.mouseused_&&"clientX"in t&&"clientY"in t){Pl(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const r=this.player_.getChild("controlBar"),i=r&&r.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const o=()=>i.focus();by(n)?n.then(o,()=>{}):this.setTimeout(o,1)}handleKeyDown(t){this.mouseused_=!1,super.handleKeyDown(t)}handleMouseDown(t){this.mouseused_=!0}}yY.prototype.controlText_="Play Video";lt.registerComponent("BigPlayButton",yY);class QPe extends Go{constructor(t,n){super(t,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(t){this.trigger({type:"close",bubbles:!1})}handleKeyDown(t){t.key==="Escape"?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):super.handleKeyDown(t)}}lt.registerComponent("CloseButton",QPe);class vY extends Go{constructor(t,n={}){super(t,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(t,"play",r=>this.handlePlay(r)),this.on(t,"pause",r=>this.handlePause(r)),n.replay&&this.on(t,"ended",r=>this.handleEnded(r))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(t){this.player_.paused()?Pl(this.player_.play()):this.player_.pause()}handleSeeked(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)}handlePlay(t){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}vY.prototype.controlText_="Play";lt.registerComponent("PlayToggle",vY);class Im extends lt{constructor(t,n){super(t,n),this.on(t,["timeupdate","ended","seeking"],r=>this.update(r)),this.updateTextNode_()}createEl(){const t=this.buildCSSClass(),n=super.createEl("div",{className:`${t} vjs-time-control vjs-control`}),r=yn("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(r),this.contentEl_=yn("span",{className:`${t}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(t){!this.player_.options_.enableSmoothSeeking&&t.type==="seeking"||this.updateContent(t)}updateTextNode_(t=0){t=Of(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,Vn.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Et.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(t){}}Im.prototype.labelText_="Time";Im.prototype.controlText_="Time";lt.registerComponent("TimeDisplay",Im);class yI extends Im{buildCSSClass(){return"vjs-current-time"}updateContent(t){let n;this.player_.ended()?n=this.player_.duration():t&&t.target&&typeof t.target.pendingSeekTime=="function"?n=t.target.pendingSeekTime():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}yI.prototype.labelText_="Current Time";yI.prototype.controlText_="Current Time";lt.registerComponent("CurrentTimeDisplay",yI);class vI extends Im{constructor(t,n){super(t,n);const r=i=>this.updateContent(i);this.on(t,"durationchange",r),this.on(t,"loadstart",r),this.on(t,"loadedmetadata",r)}buildCSSClass(){return"vjs-duration"}updateContent(t){const n=this.player_.duration();this.updateTextNode_(n)}}vI.prototype.labelText_="Duration";vI.prototype.controlText_="Duration";lt.registerComponent("DurationDisplay",vI);class JPe extends lt{createEl(){const t=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),r=super.createEl("span",{textContent:"/"});return n.appendChild(r),t.appendChild(n),t}}lt.registerComponent("TimeDivider",JPe);class bI extends Im{constructor(t,n){super(t,n),this.on(t,"durationchange",r=>this.updateContent(r))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const t=super.createEl();return this.options_.displayNegative!==!1&&t.insertBefore(yn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t}updateContent(t){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}bI.prototype.labelText_="Remaining Time";bI.prototype.controlText_="Remaining Time";lt.registerComponent("RemainingTimeDisplay",bI);class eRe extends lt{constructor(t,n){super(t,n),this.updateShowing(),this.on(this.player(),"durationchange",r=>this.updateShowing(r))}createEl(){const t=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=yn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(yn("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Et.createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,super.dispose()}updateShowing(t){this.player().duration()===1/0?this.show():this.hide()}}lt.registerComponent("LiveDisplay",eRe);class bY extends Go{constructor(t,n){super(t,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=r=>this.updateLiveEdgeStatus(r),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const t=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",t),this.textEl_=yn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}bY.prototype.controlText_="Seek to live, currently playing live";lt.registerComponent("SeekToLive",bY);function _b(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))}var tRe=Object.freeze({__proto__:null,clamp:_b});class _I extends lt{constructor(t,n){super(t,n),this.handleMouseDown_=r=>this.handleMouseDown(r),this.handleMouseUp_=r=>this.handleMouseUp(r),this.handleKeyDown_=r=>this.handleKeyDown(r),this.handleClick_=r=>this.handleClick(r),this.handleMouseMove_=r=>this.handleMouseMove(r),this.update_=r=>this.update(r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(t,n={},r={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),r=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},r),super.createEl(t,n,r)}handleMouseDown(t){const n=this.bar.el_.ownerDocument;t.type==="mousedown"&&t.preventDefault(),t.type==="touchstart"&&!Vl&&t.preventDefault(),HW(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)}handleMouseMove(t){}handleMouseUp(t){const n=this.bar.el_.ownerDocument;GW(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const t=this.getProgress();return t===this.progress_||(this.progress_=t,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(t*100).toFixed(2)+"%"})),t}getProgress(){return Number(_b(this.getPercent(),0,1).toFixed(4))}calculateDistance(t){const n=iT(this.el_,t);return this.vertical()?n.y:n.x}handleKeyDown(t){const n=this.options_.playerOptions.spatialNavigation,r=n&&n.enabled,i=n&&n.horizontalSeek;r?i&&t.key==="ArrowLeft"||!i&&t.key==="ArrowDown"?(t.preventDefault(),t.stopPropagation(),this.stepBack()):i&&t.key==="ArrowRight"||!i&&t.key==="ArrowUp"?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(t)):t.key==="ArrowLeft"||t.key==="ArrowDown"?(t.preventDefault(),t.stopPropagation(),this.stepBack()):t.key==="ArrowUp"||t.key==="ArrowRight"?(t.preventDefault(),t.stopPropagation(),this.stepForward()):super.handleKeyDown(t)}handleClick(t){t.stopPropagation(),t.preventDefault()}vertical(t){if(t===void 0)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}lt.registerComponent("Slider",_I);const jE=(e,t)=>_b(e/t*100,0,100).toFixed(2)+"%";class nRe extends lt{constructor(t,n){super(t,n),this.partEls_=[],this.on(t,"progress",r=>this.update(r))}createEl(){const t=super.createEl("div",{className:"vjs-load-progress"}),n=yn("span",{className:"vjs-control-text"}),r=yn("span",{textContent:this.localize("Loaded")}),i=Et.createTextNode(": ");return this.percentageEl_=yn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(n),n.appendChild(r),n.appendChild(i),n.appendChild(this.percentageEl_),t}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(t){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,r=this.player_.buffered(),i=n&&n.isLive()?n.seekableEnd():this.player_.duration(),o=this.player_.bufferedEnd(),s=this.partEls_,a=jE(o,i);this.percent_!==a&&(this.el_.style.width=a,pd(this.percentageEl_,a),this.percent_=a);for(let l=0;l<r.length;l++){const u=r.start(l),c=r.end(l);let d=s[l];d||(d=this.el_.appendChild(yn()),s[l]=d),!(d.dataset.start===u&&d.dataset.end===c)&&(d.dataset.start=u,d.dataset.end=c,d.style.left=jE(u,o),d.style.width=jE(c-u,o))}for(let l=s.length;l>r.length;l--)this.el_.removeChild(s[l-1]);s.length=r.length})}}lt.registerComponent("LoadProgressBar",nRe);class rRe extends lt{constructor(t,n){super(t,n),this.update=ql(Yr(this,this.update),La)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(t,n,r){const i=hv(this.el_),o=Kh(this.player_.el()),s=t.width*n;if(!o||!i)return;let a=t.left-o.left+s,l=t.width-s+(o.right-t.right);l||(l=t.width-s,a=s);let u=i.width/2;a<u?u+=u-a:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(r)}write(t){pd(this.el_,t)}updateTime(t,n,r,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let o;const s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const a=this.player_.liveTracker.liveWindow(),l=a-n*a;o=(l<1?"":"-")+Of(l,a)}else o=Of(r,s);this.update(t,n,o),i&&i()})}}lt.registerComponent("TimeTooltip",rRe);class SI extends lt{constructor(t,n){super(t,n),this.setIcon("circle"),this.update=ql(Yr(this,this.update),La)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(t,n,r){const i=this.getChild("timeTooltip");if(!i)return;const o=r&&r.target&&typeof r.target.pendingSeekTime=="function"?r.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(t,n,o)}}SI.prototype.options_={children:[]};!qo&&!cl&&SI.prototype.options_.children.push("timeTooltip");lt.registerComponent("PlayProgressBar",SI);class _Y extends lt{constructor(t,n){super(t,n),this.update=ql(Yr(this,this.update),La)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(t,n){const r=n*this.player_.duration();this.getChild("timeTooltip").updateTime(t,n,r,()=>{this.el_.style.left=`${t.width*n}px`})}}_Y.prototype.options_={children:["timeTooltip"]};lt.registerComponent("MouseTimeDisplay",_Y);class dT extends _I{constructor(t,n){n=Nr(dT.prototype.options_,n),n.children=[...n.children];const r=t.options_.disableSeekWhileScrubbingOnMobile&&(qo||cl)||t.options_.disableSeekWhileScrubbingOnSTV;(!qo&&!cl||r)&&n.children.splice(1,0,"mouseTimeDisplay"),super(t,n),this.shouldDisableSeekWhileScrubbing_=r,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Yr(this,this.update),this.update=ql(this.update_,La),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=t=>this.enableInterval_(t),this.disableIntervalHandler_=t=>this.disableInterval_(t),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Et&&"visibilityState"in Et&&this.on(Et,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(t){Et.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,La))}disableInterval_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&t.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(t){if(Et.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const r=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let o=this.player_.duration();i&&i.isLive()&&(o=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==r||this.duration_!==o)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Of(r,o),Of(o,o)],"{1} of {2}")),this.currentTime_=r,this.duration_=o),this.bar&&this.bar.update(Kh(this.el()),this.getProgress(),t)}),n}userSeek_(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(t){if(t!==void 0)if(t!==null){const n=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(t,n))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(this.pendingSeekTime()!==null)return this.pendingSeekTime()/this.player_.duration();const t=this.getCurrentTime_();let n;const r=this.player_.liveTracker;return r&&r.isLive()?(n=(t-r.seekableStart())/r.liveWindow(),r.atLiveEdge()&&(n=1)):n=t/this.player_.duration(),n}handleMouseDown(t){mv(t)&&(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(t))}handleMouseMove(t,n=!1){if(!mv(t)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let r;const i=this.calculateDistance(t),o=this.player_.liveTracker;if(!o||!o.isLive())r=i*this.player_.duration(),r===this.player_.duration()&&(r=r-.1);else{if(i>=.99){o.seekToLiveEdge();return}const s=o.seekableStart(),a=o.liveCurrentTime();if(r=s+i*o.liveWindow(),r>=a&&(r=a),r<=s&&(r=s+.1),r===1/0)return}this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(r):this.userSeek_(r),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const t=this.getChild("mouseTimeDisplay");t&&t.show()}disable(){super.disable();const t=this.getChild("mouseTimeDisplay");t&&t.hide()}handleMouseUp(t){super.handleMouseUp(t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Pl(this.player_.play()):this.update_()}handlePendingSeek_(t){this.player_.paused()||this.player_.pause();const n=this.pendingSeekTime()!==null?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(n+t),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(t){this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(t){const n=this.player_.liveTracker;if(t.key===" "||t.key==="Enter")t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(t.key==="Home")t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(t.key==="End")t.preventDefault(),t.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(t.key)){t.preventDefault(),t.stopPropagation();const r=parseInt(t.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*r):this.userSeek_(this.player_.duration()*r)}else t.key==="PageDown"?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):t.key==="PageUp"?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(t)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Et&&"visibilityState"in Et&&this.off(Et,"visibilitychange",this.toggleVisibility_),super.dispose()}}dT.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};lt.registerComponent("SeekBar",dT);class SY extends lt{constructor(t,n){super(t,n),this.handleMouseMove=ql(Yr(this,this.handleMouseMove),La),this.throttledHandleMouseSeek=ql(Yr(this,this.handleMouseSeek),La),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.handleMouseDownHandler_=r=>this.handleMouseDown(r),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(t){const n=this.getChild("seekBar");if(!n)return;const r=n.getChild("playProgressBar"),i=n.getChild("mouseTimeDisplay");if(!r&&!i)return;const o=n.el(),s=hv(o);let a=iT(o,t).x;a=_b(a,0,1),i&&i.update(s,a),r&&r.update(s,n.getProgress())}handleMouseSeek(t){const n=this.getChild("seekBar");n&&n.handleMouseMove(t)}enabled(){return this.enabled_}disable(){if(this.children().forEach(t=>t.disable&&t.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Pl(this.player_.play())}}enable(){this.children().forEach(t=>t.enable&&t.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseDown(t){const n=this.el_.ownerDocument,r=this.getChild("seekBar");r&&r.handleMouseDown(t),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(t){const n=this.getChild("seekBar");n&&n.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()}}SY.prototype.options_={children:["seekBar"]};lt.registerComponent("ProgressControl",SY);class xY extends Go{constructor(t,n){super(t,n),this.setIcon("picture-in-picture-enter"),this.on(t,["enterpictureinpicture","leavepictureinpicture"],r=>this.handlePictureInPictureChange(r)),this.on(t,["disablepictureinpicturechanged","loadedmetadata"],r=>this.handlePictureInPictureEnabledChange(r)),this.on(t,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Et.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in De?this.enable():this.disable()}handlePictureInPictureChange(t){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Et.exitPictureInPicture=="function"&&super.show()}}xY.prototype.controlText_="Picture-in-Picture";lt.registerComponent("PictureInPictureToggle",xY);class wY extends Go{constructor(t,n){super(t,n),this.setIcon("fullscreen-enter"),this.on(t,"fullscreenchange",r=>this.handleFullscreenChange(r)),Et[t.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(t){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}wY.prototype.controlText_="Fullscreen";lt.registerComponent("FullscreenToggle",wY);const iRe=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})};class oRe extends lt{createEl(){const t=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",t),t.appendChild(super.createEl("span",{className:"vjs-control-text"})),t}}lt.registerComponent("VolumeLevel",oRe);class sRe extends lt{constructor(t,n){super(t,n),this.update=ql(Yr(this,this.update),La)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(t,n,r,i){if(!r){const o=Kh(this.el_),s=Kh(this.player_.el()),a=t.width*n;if(!s||!o)return;const l=t.left-s.left+a,u=t.width-a+(s.right-t.right);let c=o.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>o.width&&(c=o.width),this.el_.style.right=`-${c}px`}this.write(`${i}%`)}write(t){pd(this.el_,t)}updateVolume(t,n,r,i,o){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(t,n,r,i.toFixed(0)),o&&o()})}}lt.registerComponent("VolumeLevelTooltip",sRe);class TY extends lt{constructor(t,n){super(t,n),this.update=ql(Yr(this,this.update),La)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(t,n,r){const i=100*n;this.getChild("volumeLevelTooltip").updateVolume(t,n,r,i,()=>{r?this.el_.style.bottom=`${t.height*n}px`:this.el_.style.left=`${t.width*n}px`})}}TY.prototype.options_={children:["volumeLevelTooltip"]};lt.registerComponent("MouseVolumeLevelDisplay",TY);class fT extends _I{constructor(t,n){super(t,n),this.on("slideractive",r=>this.updateLastVolume_(r)),this.on(t,"volumechange",r=>this.updateARIAAttributes(r)),t.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(t){mv(t)&&super.handleMouseDown(t)}handleMouseMove(t){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const r=this.el(),i=Kh(r),o=this.vertical();let s=iT(r,t);s=o?s.y:s.x,s=_b(s,0,1),n.update(i,s,o)}mv(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(t){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const t=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(t)})}}fT.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!qo&&!cl&&fT.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");fT.prototype.playerEvent="volumechange";lt.registerComponent("VolumeBar",fT);class EY extends lt{constructor(t,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Wh(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(t,n),iRe(this,t),this.throttledHandleMouseMove=ql(Yr(this,this.handleMouseMove),La),this.handleMouseUpHandler_=r=>this.handleMouseUp(r),this.on("mousedown",r=>this.handleMouseDown(r)),this.on("touchstart",r=>this.handleMouseDown(r)),this.on("mousemove",r=>this.handleMouseMove(r)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${t}`})}handleMouseDown(t){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(t){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(t){this.volumeBar.handleMouseMove(t)}}EY.prototype.options_={children:["volumeBar"]};lt.registerComponent("VolumeControl",EY);const aRe=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})};class AY extends Go{constructor(t,n){super(t,n),aRe(this,t),this.on(t,["loadstart","volumechange"],r=>this.update(r))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(t){const n=this.player_.volume(),r=this.player_.lastVolume_();if(n===0){const i=r<.1?.1:r;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(t){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const t=this.player_.volume();let n=3;this.setIcon("volume-high"),qo&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),t===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):t<.33?(this.setIcon("volume-low"),n=1):t<.67&&(this.setIcon("volume-medium"),n=2),nT(this.el_,[0,1,2,3].reduce((r,i)=>r+`${i?" ":""}vjs-vol-${i}`,"")),rf(this.el_,`vjs-vol-${n}`)}updateControlText_(){const n=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==n&&this.controlText(n)}}AY.prototype.controlText_="Mute";lt.registerComponent("MuteToggle",AY);class CY extends lt{constructor(t,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Wh(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(t,n),this.handleKeyPressHandler_=r=>this.handleKeyPress(r),this.on(t,["loadstart"],r=>this.volumePanelState_(r)),this.on(this.muteToggle,"keyup",r=>this.handleKeyPress(r)),this.on(this.volumeControl,"keyup",r=>this.handleVolumeControlKeyUp(r)),this.on("keydown",r=>this.handleKeyPress(r)),this.on("mouseover",r=>this.handleMouseOver(r)),this.on("mouseout",r=>this.handleMouseOut(r)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${t}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(t){t.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(t){this.addClass("vjs-hover"),sa(Et,"keyup",this.handleKeyPressHandler_)}handleMouseOut(t){this.removeClass("vjs-hover"),Ho(Et,"keyup",this.handleKeyPressHandler_)}handleKeyPress(t){t.key==="Escape"&&this.handleMouseOut()}}CY.prototype.options_={children:["muteToggle","volumeControl"]};lt.registerComponent("VolumePanel",CY);class OY extends Go{constructor(t,n){super(t,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(t.language())])),this.show()):this.hide()}getSkipForwardTime(){const t=this.options_.playerOptions;return t.controlBar&&t.controlBar.skipButtons&&t.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(t){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()?r.seekableEnd():this.player_.duration();let o;n+this.skipTime<=i?o=n+this.skipTime:o=i,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}OY.prototype.controlText_="Skip Forward";lt.registerComponent("SkipForward",OY);class DY extends Go{constructor(t,n){super(t,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(t.language())])),this.show()):this.hide()}getSkipBackwardTime(){const t=this.options_.playerOptions;return t.controlBar&&t.controlBar.skipButtons&&t.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(t){const n=this.player_.currentTime(),r=this.player_.liveTracker,i=r&&r.isLive()&&r.seekableStart();let o;i&&n-this.skipTime<=i?o=i:n>=this.skipTime?o=n-this.skipTime:o=0,this.player_.currentTime(o)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}DY.prototype.controlText_="Skip Backward";lt.registerComponent("SkipBackward",DY);class PY extends lt{constructor(t,n){super(t,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",r=>this.handleKeyDown(r)),this.boundHandleBlur_=r=>this.handleBlur(r),this.boundHandleTapClick_=r=>this.handleTapClick(r)}addEventListenerForItem(t){t instanceof lt&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(t){t instanceof lt&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))}removeChild(t){typeof t=="string"&&(t=this.getChild(t)),this.removeEventListenerForItem(t),super.removeChild(t)}addItem(t){const n=this.addChild(t);n&&this.addEventListenerForItem(n)}createEl(){const t=this.options_.contentElType||"ul";this.contentEl_=yn(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),sa(n,"click",function(r){r.preventDefault(),r.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(t){const n=t.relatedTarget||Et.activeElement;if(!this.children().some(r=>r.el()===n)){const r=this.menuButton_;r&&r.buttonPressed_&&n!==r.el().firstChild&&r.unpressButton()}}handleTapClick(t){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const r=n.filter(i=>i.el()===t.target)[0];if(!r)return;r.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(t){t.key==="ArrowLeft"||t.key==="ArrowDown"?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(t.key==="ArrowRight"||t.key==="ArrowUp")&&(t.preventDefault(),t.stopPropagation(),this.stepBack())}stepForward(){let t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_+1),this.focus(t)}stepBack(){let t=0;this.focusedChild_!==void 0&&(t=this.focusedChild_-1),this.focus(t)}focus(t=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(t<0?t=0:t>=n.length&&(t=n.length-1),this.focusedChild_=t,n[t].el_.focus())}}lt.registerComponent("Menu",PY);class xI extends lt{constructor(t,n={}){super(t,n),this.menuButton_=new Go(t,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const r=Go.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+r,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=o=>this.handleClick(o);this.handleMenuKeyUp_=o=>this.handleMenuKeyUp(o),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",o=>this.handleKeyDown(o)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),sa(Et,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",o=>this.handleMouseLeave(o)),this.on("keydown",o=>this.handleSubmenuKeyDown(o))}update(){const t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const t=new PY(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=yn("li",{className:"vjs-menu-title",textContent:Ci(this.options_.title),tabIndex:-1}),r=new lt(this.player_,{el:n});t.addItem(r)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(t){super.setIcon(t,this.menuButton_.el_)}buildWrapperCSSClass(){let t="vjs-menu-button";this.options_.inline===!0?t+="-inline":t+="-popup";const n=Go.prototype.buildCSSClass();return`vjs-menu-button ${t} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let t="vjs-menu-button";return this.options_.inline===!0?t+="-inline":t+="-popup",`vjs-menu-button ${t} ${super.buildCSSClass()}`}controlText(t,n=this.menuButton_.el()){return this.menuButton_.controlText(t,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(t){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(t){this.removeClass("vjs-hover"),Ho(Et,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(t){t.key==="Escape"||t.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!t.key==="Tab"&&(t.preventDefault(),this.menuButton_.focus())):(t.key==="Up"||t.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))}handleMenuKeyUp(t){(t.key==="Escape"||t.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(t){this.handleSubmenuKeyDown(t)}handleSubmenuKeyDown(t){(t.key==="Escape"||t.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!t.key==="Tab"&&(t.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),qo&&UW())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}lt.registerComponent("MenuButton",xI);class wI extends xI{constructor(t,n){const r=n.tracks;if(super(t,n),this.items.length<=1&&this.hide(),!r)return;const i=Yr(this,this.update);r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),r.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i),r.removeEventListener("labelchange",i)})}}lt.registerComponent("TrackButton",wI);class Sb extends cT{constructor(t,n){super(t,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(t,n,r){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),r),o=yn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(o):i.replaceChild(o,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(t){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(t.key)||super.handleKeyDown(t)}handleClick(t){this.selected(!0)}selected(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}lt.registerComponent("MenuItem",Sb);class xb extends Sb{constructor(t,n){const r=n.track,i=t.textTracks();n.label=r.label||r.language||"Unknown",n.selected=r.mode==="showing",super(t,n),this.track=r,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const o=(...a)=>{this.handleTracksChange.apply(this,a)},s=(...a)=>{this.handleSelectedLanguageChange.apply(this,a)};if(t.on(["loadstart","texttrackchange"],o),i.addEventListener("change",o),i.addEventListener("selectedlanguagechange",s),this.on("dispose",function(){t.off(["loadstart","texttrackchange"],o),i.removeEventListener("change",o),i.removeEventListener("selectedlanguagechange",s)}),i.onchange===void 0){let a;this.on(["tap","click"],function(){if(typeof De.Event!="object")try{a=new De.Event("change")}catch{}a||(a=Et.createEvent("Event"),a.initEvent("change",!0,!0)),i.dispatchEvent(a)})}this.handleTracksChange()}handleClick(t){const n=this.track,r=this.player_.textTracks();if(super.handleClick(t),!!r)for(let i=0;i<r.length;i++){const o=r[i];this.kinds.indexOf(o.kind)!==-1&&(o===n?o.mode!=="showing"&&(o.mode="showing"):o.mode!=="disabled"&&(o.mode="disabled"))}}handleTracksChange(t){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(t){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}lt.registerComponent("TextTrackMenuItem",xb);class RY extends xb{constructor(t,n){n.track={player:t,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(t,n)}handleTracksChange(t){const n=this.player().textTracks();let r=!0;for(let i=0,o=n.length;i<o;i++){const s=n[i];if(this.options_.kinds.indexOf(s.kind)>-1&&s.mode==="showing"){r=!1;break}}r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(t){const n=this.player().textTracks();let r=!0;for(let i=0,o=n.length;i<o;i++){const s=n[i];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&s.mode==="showing"){r=!1;break}}r&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}lt.registerComponent("OffTextTrackMenuItem",RY);class km extends wI{constructor(t,n={}){n.tracks=t.textTracks(),super(t,n)}createItems(t=[],n=xb){let r;this.label_&&(r=`${this.label_} off`),t.push(new RY(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let o=0;o<i.length;o++){const s=i[o];if(this.kinds_.indexOf(s.kind)>-1){const a=new n(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass(`vjs-${s.kind}-menu-item`),t.push(a)}}return t}}lt.registerComponent("TextTrackButton",km);class IY extends Sb{constructor(t,n){const r=n.track,i=n.cue,o=t.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=i.text,n.selected=i.startTime<=o&&o<i.endTime,super(t,n),this.track=r,this.cue=i}handleClick(t){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}lt.registerComponent("ChaptersTrackMenuItem",IY);class TI extends km{constructor(t,n,r){super(t,n,r),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(t){if(t&&t.track&&t.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const t=this.player_.textTracks()||[];for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.kind===this.kind_)return r}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ci(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const t=[];if(!this.track_)return t;const n=this.track_.cues;if(!n)return t;for(let r=0,i=n.length;r<i;r++){const o=n[r],s=new IY(this.player_,{track:this.track_,cue:o});t.push(s)}return t}}TI.prototype.kind_="chapters";TI.prototype.controlText_="Chapters";lt.registerComponent("ChaptersButton",TI);class EI extends km{constructor(t,n,r){super(t,n,r),this.setIcon("audio-description");const i=t.textTracks(),o=Yr(this,this.handleTracksChange);i.addEventListener("change",o),this.on("dispose",function(){i.removeEventListener("change",o)})}handleTracksChange(t){const n=this.player().textTracks();let r=!1;for(let i=0,o=n.length;i<o;i++){const s=n[i];if(s.kind!==this.kind_&&s.mode==="showing"){r=!0;break}}r?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}EI.prototype.kind_="descriptions";EI.prototype.controlText_="Descriptions";lt.registerComponent("DescriptionsButton",EI);class AI extends km{constructor(t,n,r){super(t,n,r),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}AI.prototype.kind_="subtitles";AI.prototype.controlText_="Subtitles";lt.registerComponent("SubtitlesButton",AI);class CI extends xb{constructor(t,n){n.track={player:t,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(t,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(t){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}lt.registerComponent("CaptionSettingsMenuItem",CI);class OI extends km{constructor(t,n,r){super(t,n,r),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new CI(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(t)}}OI.prototype.kind_="captions";OI.prototype.controlText_="Captions";lt.registerComponent("CaptionsButton",OI);class kY extends xb{createEl(t,n,r){const i=super.createEl(t,n,r),o=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):o.appendChild(yn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(yn("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}}lt.registerComponent("SubsCapsMenuItem",kY);class DI extends km{constructor(t,n={}){super(t,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ci(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new CI(this.player_,{kind:this.label_})),this.hideThreshold_+=1),t=super.createItems(t,kY),t}}DI.prototype.kinds_=["captions","subtitles"];DI.prototype.controlText_="Subtitles";lt.registerComponent("SubsCapsButton",DI);class NY extends Sb{constructor(t,n){const r=n.track,i=t.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled,super(t,n),this.track=r,this.addClass(`vjs-${r.kind}-menu-item`);const o=(...s)=>{this.handleTracksChange.apply(this,s)};i.addEventListener("change",o),this.on("dispose",()=>{i.removeEventListener("change",o)})}createEl(t,n,r){const i=super.createEl(t,n,r),o=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(o.appendChild(yn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),o.appendChild(yn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(t){if(super.handleClick(t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(t){this.selected(this.track.enabled)}}lt.registerComponent("AudioTrackMenuItem",NY);class MY extends wI{constructor(t,n={}){n.tracks=t.audioTracks(),super(t,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(t=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let r=0;r<n.length;r++){const i=n[r];t.push(new NY(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return t}}MY.prototype.controlText_="Audio Track";lt.registerComponent("AudioTrackButton",MY);class PI extends Sb{constructor(t,n){const r=n.rate,i=parseFloat(r,10);n.label=r,n.selected=i===t.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(t,n),this.label=r,this.rate=i,this.on(t,"ratechange",o=>this.update(o))}handleClick(t){super.handleClick(),this.player().playbackRate(this.rate)}update(t){this.selected(this.player().playbackRate()===this.rate)}}PI.prototype.contentElType="button";lt.registerComponent("PlaybackRateMenuItem",PI);class jY extends xI{constructor(t,n){super(t,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(t,"loadstart",r=>this.updateVisibility(r)),this.on(t,"ratechange",r=>this.updateLabel(r)),this.on(t,"playbackrateschange",r=>this.handlePlaybackRateschange(r))}createEl(){const t=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=yn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const t=this.playbackRates(),n=[];for(let r=t.length-1;r>=0;r--)n.push(new PI(this.player(),{rate:t[r]+"x"}));return n}handlePlaybackRateschange(t){this.update()}playbackRates(){const t=this.player();return t.playbackRates&&t.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}jY.prototype.controlText_="Playback Rate";lt.registerComponent("PlaybackRateMenuButton",jY);class LY extends lt{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(t="div",n={},r={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(t,n,r)}}lt.registerComponent("Spacer",LY);class lRe extends LY{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}lt.registerComponent("CustomControlSpacer",lRe);class $Y extends lt{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}$Y.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};lt.registerComponent("ControlBar",$Y);class BY extends Rm{constructor(t,n){super(t,n),this.on(t,"error",r=>{this.open(r)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const t=this.player().error();return t?this.localize(t.message):""}}BY.prototype.options_=Object.assign({},Rm.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});lt.registerComponent("ErrorDisplay",BY);class UY extends lt{constructor(t,n={}){super(t,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),yn("select",{id:this.options_.id},{},this.options_.SelectOptions.map(n=>{const r=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${ja()}`)+"-"+n[1].replace(/\W+/g,""),i=yn("option",{id:r,value:this.localize(n[0]),textContent:this.localize(n[1])});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${r}`),i}))}}lt.registerComponent("TextTrackSelect",UY);class sf extends lt{constructor(t,n={}){super(t,n);const r=yn("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(r);const i=this.options_.selects;for(const o of i){const s=this.options_.selectConfigs[o],a=s.className,l=s.id.replace("%s",this.options_.id_);let u=null;const c=`vjs_select_${ja()}`;if(this.options_.type==="colors"){u=yn("span",{className:a});const f=yn("label",{id:l,className:"vjs-label",textContent:this.localize(s.label)});f.setAttribute("for",c),u.appendChild(f)}const d=new UY(t,{SelectOptions:s.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(d),this.options_.type==="colors"&&(u.appendChild(d.el()),this.el().appendChild(u))}}createEl(){return yn("fieldset",{className:this.options_.className})}}lt.registerComponent("TextTrackFieldset",sf);class FY extends lt{constructor(t,n={}){super(t,n);const r=this.options_.textTrackComponentid,i=new sf(t,{id_:r,legendId:`captions-text-legend-${r}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const o=new sf(t,{id_:r,legendId:`captions-background-${r}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(o);const s=new sf(t,{id_:r,legendId:`captions-window-${r}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s)}createEl(){return yn("div",{className:"vjs-track-settings-colors"})}}lt.registerComponent("TextTrackSettingsColors",FY);class zY extends lt{constructor(t,n={}){super(t,n);const r=this.options_.textTrackComponentid,i=new sf(t,{id_:r,legendId:`captions-font-size-${r}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const o=new sf(t,{id_:r,legendId:`captions-edge-style-${r}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(o);const s=new sf(t,{id_:r,legendId:`captions-font-family-${r}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s)}createEl(){return yn("div",{className:"vjs-track-settings-font"})}}lt.registerComponent("TextTrackSettingsFont",zY);class VY extends lt{constructor(t,n={}){super(t,n);const r=new Go(t,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Reset"),this.addChild(r);const i=this.localize("Done"),o=new Go(t,{controlText:i,className:"vjs-done-button"});o.el().classList.remove("vjs-control","vjs-button"),o.el().textContent=i,this.addChild(o)}createEl(){return yn("div",{className:"vjs-track-settings-controls"})}}lt.registerComponent("TrackSettingsControls",VY);const LE="vjs-text-track-settings",P4=["#000","Black"],R4=["#00F","Blue"],I4=["#0FF","Cyan"],k4=["#0F0","Green"],N4=["#F0F","Magenta"],M4=["#F00","Red"],j4=["#FFF","White"],L4=["#FF0","Yellow"],$E=["1","Opaque"],BE=["0.5","Semi-Transparent"],$4=["0","Transparent"],vc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[P4,j4,M4,k4,R4,L4,N4,I4],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[$E,BE,$4],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[j4,P4,M4,k4,R4,L4,N4,I4],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>e==="1.00"?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[$E,BE],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[$4,BE,$E],className:"vjs-window-opacity vjs-opacity"}};vc.windowColor.options=vc.backgroundColor.options;function qY(e,t){if(t&&(e=t(e)),e&&e!=="none")return e}function uRe(e,t){const n=e.options[e.options.selectedIndex].value;return qY(n,t)}function cRe(e,t,n){if(t){for(let r=0;r<e.options.length;r++)if(qY(e.options[r].value,n)===t){e.selectedIndex=r;break}}}class dRe extends Rm{constructor(t,n){n.temporary=!1,super(t,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(t),this.endDialog=yn("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(t){const n=new FY(t,{textTrackComponentid:this.id_,selectConfigs:vc,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const r=new zY(t,{textTrackComponentid:this.id_,selectConfigs:vc,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(r);const i=new VY(t);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),th(vc,t=>{this.on(this.$(t.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return kW(vc,(t,n,r)=>{const i=uRe(this.$(n.selector),n.parser);return i!==void 0&&(t[r]=i),t},{})}setValues(t){th(vc,(n,r)=>{cRe(this.$(n.selector),t[r],n.parser)})}setDefaults(){th(vc,t=>{const n=t.hasOwnProperty("default")?t.default:0;this.$(t.selector).selectedIndex=n})}restoreSettings(){let t;try{t=JSON.parse(De.localStorage.getItem(LE))}catch(n){Vn.warn(n)}t&&this.setValues(t)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const t=this.getValues();try{Object.keys(t).length?De.localStorage.setItem(LE,JSON.stringify(t)):De.localStorage.removeItem(LE)}catch(n){Vn.warn(n)}}updateDisplay(){const t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}lt.registerComponent("TextTrackSettings",dRe);class fRe extends lt{constructor(t,n){let r=n.ResizeObserver||De.ResizeObserver;n.ResizeObserver===null&&(r=!1);const i=Nr({createEl:!r,reportTouchActivity:!1},n);super(t,i),this.ResizeObserver=n.ResizeObserver||De.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=nY(()=>{this.resizeHandler()},100,!1,this),r?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(t.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const o=this.debouncedHandler_;let s=this.unloadListener_=function(){Ho(this,"resize",o),Ho(this,"unload",s),s=null};sa(this.el_.contentWindow,"unload",s),sa(this.el_.contentWindow,"resize",o)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}lt.registerComponent("ResizeManager",fRe);const pRe={trackingThreshold:20,liveTolerance:15};class hRe extends lt{constructor(t,n){const r=Nr(pRe,n,{createEl:!1});super(t,r),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const t=this.player_.seekable();if(!t||!t.length)return;const n=Number(De.performance.now().toFixed(4)),r=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+r;const i=this.liveCurrentTime(),o=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-o)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,La),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const t=this.player_.seekable(),n=[];let r=t?t.length:0;for(;r--;)n.push(t.end(r));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const t=this.player_.seekable(),n=[];let r=t?t.length:0;for(;r--;)n.push(t.start(r));return n.length?n.sort()[0]:0}liveWindow(){const t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const t=this.seekableEnd();return this.lastSeekEnd_!==-1&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}lt.registerComponent("LiveTracker",hRe);class mRe extends lt{constructor(t,n){super(t,n),this.on("statechanged",r=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:yn("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${ja()}`}),description:yn("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${ja()}`})},yn("div",{className:"vjs-title-bar"},{},NW(this.els))}updateDom_(){const t=this.player_.tech_,n=t&&t.el_,r={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const o=this.state[i],s=this.els[i],a=r[i];oT(s),o&&pd(s,o),n&&(n.removeAttribute(a),o&&n.setAttribute(a,s.id))}),this.state.title||this.state.description?this.show():this.hide()}update(t){this.setState(t)}dispose(){const t=this.player_.tech_,n=t&&t.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}lt.registerComponent("TitleBar",mRe);const gRe={initialDisplay:4e3,position:[],takeFocus:!1};class yRe extends Go{constructor(t,n){n=Nr(gRe,n),super(t,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],r=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(t=>`vjs-${t}`).join(" ")}`}createEl(){const t=yn("button",{},{type:"button",class:this.buildCSSClass()},yn("span"));return this.controlTextEl_=t.querySelector("span"),t}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}lt.registerComponent("TransientButton",yRe);const BC=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const n=e.$$("source"),r=[];let i="";if(!n.length)return!1;for(let o=0;o<n.length;o++){const s=n[o].src;s&&r.indexOf(s)===-1&&r.push(s)}return r.length?(r.length===1&&(i=r[0]),e.triggerSourceset(i),!0):!1},vRe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=Et.createElement(this.nodeName.toLowerCase());t.innerHTML=e;const n=Et.createDocumentFragment();for(;t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",De.Element.prototype.appendChild.call(this,n),this.innerHTML}}),HY=(e,t)=>{let n={};for(let r=0;r<e.length&&(n=Object.getOwnPropertyDescriptor(e[r],t),!(n&&n.set&&n.get));r++);return n.enumerable=!0,n.configurable=!0,n},bRe=e=>HY([e.el(),De.HTMLMediaElement.prototype,De.Element.prototype,vRe],"innerHTML"),B4=function(e){const t=e.el();if(t.resetSourceWatch_)return;const n={},r=bRe(e),i=o=>(...s)=>{const a=o.apply(t,s);return BC(e),a};["append","appendChild","insertAdjacentHTML"].forEach(o=>{t[o]&&(n[o]=t[o],t[o]=i(n[o]))}),Object.defineProperty(t,"innerHTML",Nr(r,{set:i(r.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(n).forEach(o=>{t[o]=n[o]}),Object.defineProperty(t,"innerHTML",r)},e.one("sourceset",t.resetSourceWatch_)},_Re=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?pY(De.Element.prototype.getAttribute.call(this,"src")):""},set(e){return De.Element.prototype.setAttribute.call(this,"src",e),e}}),SRe=e=>HY([e.el(),De.HTMLMediaElement.prototype,_Re],"src"),xRe=function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const n=SRe(e),r=t.setAttribute,i=t.load;Object.defineProperty(t,"src",Nr(n,{set:o=>{const s=n.set.call(t,o);return e.triggerSourceset(t.src),s}})),t.setAttribute=(o,s)=>{const a=r.call(t,o,s);return/src/i.test(o)&&e.triggerSourceset(t.src),a},t.load=()=>{const o=i.call(t);return BC(e)||(e.triggerSourceset(""),B4(e)),o},t.currentSrc?e.triggerSourceset(t.currentSrc):BC(e)||B4(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=i,t.setAttribute=r,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}};class qt extends On{constructor(t,n){super(t,n);const r=t.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",r&&(this.el_.currentSrc!==r.src||t.tag&&t.tag.initNetworkState_===3)?this.setSource(r):this.handleLateInit_(this.el_),t.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const o=this.el_.childNodes;let s=o.length;const a=[];for(;s--;){const l=o[s];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&uT(l.src)&&(i=!0)):a.push(l))}for(let l=0;l<a.length;l++)this.el_.removeChild(a[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&Vn.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(pv||eT)&&t.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),qt.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){xRe(this)}restoreMetadataTracksInIOSNativePlayer_(){const t=this.textTracks();let n;const r=()=>{n=[];for(let o=0;o<t.length;o++){const s=t[o];s.kind==="metadata"&&n.push({track:s,storedMode:s.mode})}};r(),t.addEventListener("change",r),this.on("dispose",()=>t.removeEventListener("change",r));const i=()=>{for(let o=0;o<n.length;o++){const s=n[o];s.track.mode==="disabled"&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{t.removeEventListener("change",r),t.removeEventListener("change",i),t.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{t.removeEventListener("change",r),t.addEventListener("change",r),t.removeEventListener("change",i)})}overrideNative_(t,n){if(n!==this[`featuresNative${t}Tracks`])return;const r=t.toLowerCase();this[`${r}TracksListeners_`]&&Object.keys(this[`${r}TracksListeners_`]).forEach(i=>{this.el()[`${r}Tracks`].removeEventListener(i,this[`${r}TracksListeners_`][i])}),this[`featuresNative${t}Tracks`]=!n,this[`${r}TracksListeners_`]=null,this.proxyNativeTracksForType_(r)}overrideNativeAudioTracks(t){this.overrideNative_("Audio",t)}overrideNativeVideoTracks(t){this.overrideNative_("Video",t)}proxyNativeTracksForType_(t){const n=Ia[t],r=this.el()[n.getterName],i=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!r||!r.addEventListener)return;const o={change:a=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),t==="text"&&this[Zh.remoteText.getterName]().trigger(l)},addtrack(a){i.addTrack(a.track)},removetrack(a){i.removeTrack(a.track)}},s=function(){const a=[];for(let l=0;l<i.length;l++){let u=!1;for(let c=0;c<r.length;c++)if(r[c]===i[l]){u=!0;break}u||a.push(i[l])}for(;a.length;)i.removeTrack(a.shift())};this[n.getterName+"Listeners_"]=o,Object.keys(o).forEach(a=>{const l=o[a];r.addEventListener(a,l),this.on("dispose",u=>r.removeEventListener(a,l))}),this.on("loadstart",s),this.on("dispose",a=>this.off("loadstart",s))}proxyNativeTracks_(){Ia.names.forEach(t=>{this.proxyNativeTracksForType_(t)})}createEl(){let t=this.options_.tag;if(!t||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(t){const r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),qt.disposeMediaElement(t),t=r}else{t=Et.createElement("video");const r=this.options_.tag&&yc(this.options_.tag),i=Nr({},r);(!pv||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,VW(t,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Yh(t,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let r=0;r<n.length;r++){const i=n[r],o=this.options_[i];typeof o<"u"&&(o?Yh(t,i,i):rT(t,i),t[i]=o)}return t}handleLateInit_(t){if(t.networkState===0||t.networkState===3)return;if(t.readyState===0){let r=!1;const i=function(){r=!0};this.on("loadstart",i);const o=function(){r||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",o),r||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),t.readyState>=2&&n.push("loadeddata"),t.readyState>=3&&n.push("canplay"),t.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(r){this.trigger(r)},this)})}setScrubbing(t){this.isScrubbing_=t}scrubbing(){return this.isScrubbing_}setCurrentTime(t){try{this.isScrubbing_&&this.el_.fastSeek&&tT?this.el_.fastSeek(t):this.el_.currentTime=t}catch(n){Vn(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&cl&&Vl&&this.el_.currentTime===0){const t=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",t))};return this.on("timeupdate",t),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const t=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",t),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",t)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Pl(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{t.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(t){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(t):super.requestVideoFrameCallback(t)}cancelVideoFrameCallback(t){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(t):super.cancelVideoFrameCallback(t)}src(t){if(t===void 0)return this.el_.src;this.setSrc(t)}addSourceElement(t,n){if(!t)return Vn.error("Invalid source URL."),!1;const r={src:t};n&&(r.type=n);const i=yn("source",{},r);return this.el_.appendChild(i),!0}removeSourceElement(t){if(!t)return Vn.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const r of n)if(r.src===t)return this.el_.removeChild(r),!0;return Vn.warn(`No matching source element found with src: ${t}`),!1}reset(){qt.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(t){this.el_.controls=!!t}addTextTrack(t,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,n,r):super.addTextTrack(t,n,r)}createRemoteTextTrack(t){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(t);const n=Et.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n}addRemoteTextTrack(t,n){const r=super.addRemoteTextTrack(t,n);return this.featuresNativeTextTracks&&this.el().appendChild(r),r}removeRemoteTextTrack(t){if(super.removeRemoteTextTrack(t),this.featuresNativeTextTracks){const n=this.$$("track");let r=n.length;for(;r--;)(t===n[r]||t===n[r].track)&&this.el().removeChild(n[r])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const t={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),De.performance&&(t.creationTime=De.performance.now()),t}}Zw(qt,"TEST_VID",function(){if(!Om())return;const e=Et.createElement("video"),t=Et.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e});qt.isSupported=function(){try{qt.TEST_VID.volume=.5}catch{return!1}return!!(qt.TEST_VID&&qt.TEST_VID.canPlayType)};qt.canPlayType=function(e){return qt.TEST_VID.canPlayType(e)};qt.canPlaySource=function(e,t){return qt.canPlayType(e.type)};qt.canControlVolume=function(){try{const e=qt.TEST_VID.volume;qt.TEST_VID.volume=e/2+.1;const t=e!==qt.TEST_VID.volume;return t&&qo?(De.setTimeout(()=>{qt&&qt.prototype&&(qt.prototype.featuresVolumeControl=e!==qt.TEST_VID.volume)}),!1):t}catch{return!1}};qt.canMuteVolume=function(){try{const e=qt.TEST_VID.muted;return qt.TEST_VID.muted=!e,qt.TEST_VID.muted?Yh(qt.TEST_VID,"muted","muted"):rT(qt.TEST_VID,"muted","muted"),e!==qt.TEST_VID.muted}catch{return!1}};qt.canControlPlaybackRate=function(){if(cl&&Vl&&Qw<58)return!1;try{const e=qt.TEST_VID.playbackRate;return qt.TEST_VID.playbackRate=e/2+.1,e!==qt.TEST_VID.playbackRate}catch{return!1}};qt.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(Et.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(Et.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(Et.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(Et.createElement("audio"),"innerHTML",{get:e,set:e})}catch{return!1}return!0};qt.supportsNativeTextTracks=function(){return tT||qo&&Vl};qt.supportsNativeVideoTracks=function(){return!!(qt.TEST_VID&&qt.TEST_VID.videoTracks)};qt.supportsNativeAudioTracks=function(){return!!(qt.TEST_VID&&qt.TEST_VID.audioTracks)};qt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([e,t]){Zw(qt.prototype,e,()=>qt[t](),!0)});qt.prototype.featuresVolumeControl=qt.canControlVolume();qt.prototype.movingMediaElementInDOM=!qo;qt.prototype.featuresFullscreenResize=!0;qt.prototype.featuresProgressEvents=!0;qt.prototype.featuresTimeupdateEvents=!0;qt.prototype.featuresVideoFrameCallback=!!(qt.TEST_VID&&qt.TEST_VID.requestVideoFrameCallback);qt.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()}};qt.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let n=t.length;for(;n--;)e.removeChild(t[n]);e.removeAttribute("src"),typeof e.load=="function"&&function(){try{e.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(e){qt.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(e){qt.prototype["set"+Ci(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(e){qt.prototype[e]=function(){return this.el_[e]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(e){qt.prototype["set"+Ci(e)]=function(t){this.el_[e]=t}});["pause","load","play"].forEach(function(e){qt.prototype[e]=function(){return this.el_[e]()}});On.withSourceHandlers(qt);qt.nativeSourceHandler={};qt.nativeSourceHandler.canPlayType=function(e){try{return qt.TEST_VID.canPlayType(e)}catch{return""}};qt.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return qt.nativeSourceHandler.canPlayType(e.type);if(e.src){const n=mI(e.src);return qt.nativeSourceHandler.canPlayType(`video/${n}`)}return""};qt.nativeSourceHandler.handleSource=function(e,t,n){t.setSrc(e.src)};qt.nativeSourceHandler.dispose=function(){};qt.registerSourceHandler(qt.nativeSourceHandler);On.registerTech("Html5",qt);const GY=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],UE={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},UC=["tiny","xsmall","small","medium","large","xlarge","huge"],y_={};UC.forEach(e=>{const t=e.charAt(0)==="x"?`x-${e.substring(1)}`:e;y_[e]=`vjs-layout-${t}`});const wRe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class mr extends lt{constructor(t,n,r){if(t.id=t.id||n.id||`vjs_video_${ja()}`,n=Object.assign(mr.getTagSettings(t),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const s=t.closest("[lang]");s&&(n.language=s.getAttribute("lang"))}if(super(null,n,r),this.boundDocumentFullscreenChange_=s=>this.documentFullscreenChange_(s),this.boundFullWindowOnEscKey_=s=>this.fullWindowOnEscKey(s),this.boundUpdateStyleEl_=s=>this.updateStyleEl_(s),this.boundApplyInitTime_=s=>this.applyInitTime_(s),this.boundUpdateCurrentBreakpoint_=s=>this.updateCurrentBreakpoint_(s),this.boundHandleTechClick_=s=>this.handleTechClick_(s),this.boundHandleTechDoubleClick_=s=>this.handleTechDoubleClick_(s),this.boundHandleTechTouchStart_=s=>this.handleTechTouchStart_(s),this.boundHandleTechTouchMove_=s=>this.handleTechTouchMove_(s),this.boundHandleTechTouchEnd_=s=>this.handleTechTouchEnd_(s),this.boundHandleTechTap_=s=>this.handleTechTap_(s),this.boundUpdatePlayerHeightOnAudioOnlyMode_=s=>this.updatePlayerHeightOnAudioOnlyMode_(s),this.isFullscreen_=!1,this.log=RW(this.id_),this.fsApi_=US,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=t,this.tagAttributes=t&&yc(t),this.language(this.options_.language),n.languages){const s={};Object.getOwnPropertyNames(n.languages).forEach(function(a){s[a.toLowerCase()]=n.languages[a]}),this.languages_=s}else this.languages_=mr.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,t.controls=!1,t.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],t.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(s=>{if(typeof this[s]!="function")throw new Error(`plugin "${s}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),cI(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(sa(Et,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Nr(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(s=>{this[s](n.plugins[s])}),n.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const a=new De.DOMParser().parseFromString(GPe,"image/svg+xml");if(a.querySelector("parsererror"))Vn.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=a.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(t.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new WPe(this),this.addClass("vjs-spatial-navigation-enabled")),pv&&this.addClass("vjs-touch-enabled"),qo||this.addClass("vjs-workinghover"),mr.players[this.id_]=this;const o=DC.split(".")[0];this.addClass(`vjs-v${o}`),this.userActive(!0),this.reportUserActivity(),this.one("play",s=>this.listenForUserActivity_(s)),this.on("keydown",s=>this.handleKeyDown(s)),this.on("languagechange",s=>this.handleLanguagechange(s)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Ho(Et,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ho(Et,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),mr.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),zPe(this),rs.names.forEach(t=>{const n=rs[t],r=this[n.getterName]();r&&r.off&&r.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let t=this.tag,n,r=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";r?n=this.el_=t.parentNode:i||(n=this.el_=super.createEl("div"));const o=yc(t);if(i){for(n=this.el_=t,t=this.tag=Et.createElement("video");n.children.length;)t.appendChild(n.firstChild);yy(n,"video-js")||rf(n,"video-js"),n.appendChild(t),r=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{t[l]=n[l]}catch{}})}t.setAttribute("tabindex","-1"),o.tabindex="-1",Vl&&Jw&&(t.setAttribute("role","application"),o.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in o&&delete o.width,"height"in o&&delete o.height,Object.getOwnPropertyNames(o).forEach(function(l){i&&l==="class"||n.setAttribute(l,o[l]),i&&t.setAttribute(l,o[l])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=n.player=this,this.addClass("vjs-paused");const s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>BW[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),De.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=eY("vjs-styles-dimensions");const l=nd(".vjs-styles-defaults"),u=nd("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=t.getElementsByTagName("a");for(let l=0;l<a.length;l++){const u=a.item(l);rf(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!r&&t.parentNode.insertBefore(n,t),RC(t,n),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(t){if(typeof t>"u")return this.techGet_("crossOrigin");if(t!==null&&t!=="anonymous"&&t!=="use-credentials"){Vn.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${t}"`);return}this.techCall_("setCrossOrigin",t),this.posterImage&&this.posterImage.crossOrigin(t)}width(t){return this.dimension("width",t)}height(t){return this.dimension("height",t)}dimension(t,n){const r=t+"_";if(n===void 0)return this[r]||0;if(n===""||n==="auto"){this[r]=void 0,this.updateStyleEl_();return}const i=parseFloat(n);if(isNaN(i)){Vn.error(`Improper value "${n}" supplied for for ${t}`);return}this[r]=i,this.updateStyleEl_()}fluid(t){if(t===void 0)return!!this.fluid_;this.fluid_=!!t,xu(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),_Pe(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(t){if(t===void 0)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(t){if(t===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(De.VIDEOJS_NO_DYNAMIC_STYLE===!0){const a=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),l>=0&&(u.height=l));return}let t,n,r,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?r=this.aspectRatio_:this.videoWidth()>0?r=this.videoWidth()+":"+this.videoHeight():r="16:9";const o=r.split(":"),s=o[1]/o[0];this.width_!==void 0?t=this.width_:this.height_!==void 0?t=this.height_/s:t=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=t*s,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),tY(this.styleEl_,`
      .${i} {
        width: ${t}px;
        height: ${n}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${s*100}%;
      }
    `)}loadTech_(t,n){this.tech_&&this.unloadTech_();const r=Ci(t),i=t.charAt(0).toLowerCase()+t.slice(1);r!=="Html5"&&this.tag&&(On.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=r,this.isReady_=!1;let o=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(o=!1);const s={source:n,autoplay:o,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};rs.names.forEach(l=>{const u=rs[l];s[u.getterName]=this[u.privateName]}),Object.assign(s,this.options_[r]),Object.assign(s,this.options_[i]),Object.assign(s,this.options_[t.toLowerCase()]),this.tag&&(s.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);const a=On.getTech(t);if(!a)throw new Error(`No Tech named '${r}' exists! '${r}' should be registered using videojs.registerTech()'`);this.tech_=new a(s),this.tech_.ready(Yr(this,this.handleTechReady_),!0),LC.jsonToTextTracks(this.textTracksJson_||[],this.tech_),GY.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${Ci(l)}_`](u))}),Object.keys(UE).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${UE[l]}_`].bind(this),event:u});return}this[`handleTech${UE[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(r!=="Html5"||!this.tag)&&RC(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){rs.names.forEach(t=>{const n=rs[t];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=LC.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(t){return t===void 0&&Vn.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":DC}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(t){if(!this.tech_||typeof t!="string")return;const n=()=>{const i=this.muted();this.muted(!0);const o=()=>{this.muted(i)};this.playTerminatedQueue_.push(o);const s=this.play();if(by(s))return s.catch(a=>{throw o(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${a||""}`)})};let r;if(t==="any"&&!this.muted()?(r=this.play(),by(r)&&(r=r.catch(n))):t==="muted"&&!this.muted()?r=n():r=this.play(),!!by(r))return r.then(()=>{this.trigger({type:"autoplay-success",autoplay:t})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:t})})}updateSourceCaches_(t=""){let n=t,r="";typeof n!="string"&&(n=t.src,r=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!r&&(r=HPe(this,n)),this.cache_.source=Nr({},t,{src:n,type:r});const i=this.cache_.sources.filter(l=>l.src&&l.src===n),o=[],s=this.$$("source"),a=[];for(let l=0;l<s.length;l++){const u=yc(s[l]);o.push(u),u.src&&u.src===n&&a.push(u.src)}a.length&&!i.length?this.cache_.sources=o:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(t){if(!this.changingSrc_){let n=o=>this.updateSourceCaches_(o);const r=this.currentSource().src,i=t.src;r&&!/^blob:/.test(r)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==r)&&(n=()=>{}),n(i),t.src||this.tech_.any(["sourceset","loadstart"],o=>{if(o.type==="sourceset")return;const s=this.techGet_("currentSrc");this.lastSource_.tech=s,this.updateSourceCaches_(s)})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})}hasStarted(t){if(t===void 0)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(t=>t.callback(t.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const t=this.currentTime(),n=()=>{t!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(t){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,t):this.paused()?Pl(this.play()):this.pause())}handleTechDoubleClick_(t){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),r=>r.contains(t.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,t):this.isInPictureInPicture()&&!Et.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(t){t.cancelable&&t.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(t){const n=t.target.player;if(n&&n!==this)return;const r=this.el();let i=Et[this.fsApi_.fullscreenElement]===r;!i&&r.matches&&(i=r.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(t,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(t,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(t){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(t){this.isInPictureInPicture(!1)}handleTechError_(){const t=this.tech_.error();t&&this.error(t)}handleTechTextData_(){let t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(t,n){this.ready(function(){if(t in UPe)return $Pe(this.middleware_,this.tech_,t,n);if(t in T4)return w4(this.middleware_,this.tech_,t,n);try{this.tech_&&this.tech_[t](n)}catch(r){throw Vn(r),r}},!0)}techGet_(t){if(!(!this.tech_||!this.tech_.isReady_)){if(t in BPe)return LPe(this.middleware_,this.tech_,t);if(t in T4)return w4(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(n){throw this.tech_[t]===void 0?(Vn(`Video.js: ${t} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(Vn(`Video.js: ${t} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(Vn(n),n)}}}play(){return new Promise(t=>{this.play_(t)})}play_(t=Pl){this.playCallbacks_.push(t);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),r=!!(tT||qo);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&r&&this.load();return}const i=this.techGet_("play");r&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(n){n()})}runPlayCallbacks_(t){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(r){r(t)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||sl(0,0)}scrubbing(t){if(typeof t>"u")return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(t){if(t===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(t<0&&(t=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",t),this.cache_.initTime=0,isFinite(t)&&(this.cache_.currentTime=Number(t))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(t){if(t===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let t=this.techGet_("buffered");return(!t||!t.length)&&(t=sl(0,0)),t}seekable(){let t=this.techGet_("seekable");return(!t||!t.length)&&(t=sl(0,0)),t}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return cY(this.buffered(),this.duration())}bufferedEnd(){const t=this.buffered(),n=this.duration();let r=t.end(t.length-1);return r>n&&(r=n),r}volume(t){let n;if(t!==void 0){n=Math.max(0,Math.min(1,t)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(t){if(t!==void 0){this.techCall_("setMuted",t);return}return this.techGet_("muted")||!1}defaultMuted(t){return t!==void 0&&this.techCall_("setDefaultMuted",t),this.techGet_("defaultMuted")||!1}lastVolume_(t){if(t!==void 0&&t!==0){this.cache_.lastVolume=t;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(t){if(t!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!t,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(t){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((r,i)=>{function o(){n.off("fullscreenerror",a),n.off("fullscreenchange",s)}function s(){o(),r()}function a(u,c){o(),i(c)}n.one("fullscreenchange",s),n.one("fullscreenerror",a);const l=n.requestFullscreenHelper_(t);l&&(l.then(o,o),l.then(r,i))})}requestFullscreenHelper_(t){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},t!==void 0&&(n=t)),this.fsApi_.requestFullscreen){const r=this.el_[this.fsApi_.requestFullscreen](n);return r&&r.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),r}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const t=this;return new Promise((n,r)=>{function i(){t.off("fullscreenerror",s),t.off("fullscreenchange",o)}function o(){i(),n()}function s(l,u){i(),r(u)}t.one("fullscreenchange",o),t.one("fullscreenerror",s);const a=t.exitFullscreenHelper_();a&&(a.then(i,i),a.then(n,r))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const t=Et[this.fsApi_.exitFullscreen]();return t&&Pl(t.then(()=>this.isFullscreen(!1))),t}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Et.documentElement.style.overflow,sa(Et,"keydown",this.boundFullWindowOnEscKey_),Et.documentElement.style.overflow="hidden",rf(Et.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(t){t.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Ho(Et,"keydown",this.boundFullWindowOnEscKey_),Et.documentElement.style.overflow=this.docOrigOverflow,nT(Et.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(t){if(t===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(t){if(t!==void 0){this.isInPictureInPicture_=!!t,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&De.documentPictureInPicture){const t=Et.createElement(this.el().tagName);return t.classList=this.el().classList,t.classList.add("vjs-pip-container"),this.posterImage&&t.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&t.appendChild(this.titleBar.el().cloneNode(!0)),t.appendChild(yn("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),De.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(ZW(n),this.el_.parentNode.insertBefore(t,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",r=>{const i=r.target.querySelector(".video-js");t.parentNode.replaceChild(i,t),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Et&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(De.documentPictureInPicture&&De.documentPictureInPicture.window)return De.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Et)return Et.exitPictureInPicture()}handleKeyDown(t){const{userActions:n}=this.options_;!n||!n.hotkeys||(i=>{const o=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const s=["button","checkbox","hidden","radio","reset","submit"];return o==="input"?s.indexOf(i.type)===-1:["textarea"].indexOf(o)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,t):this.handleHotkeys(t))}handleHotkeys(t){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:r=s=>t.key.toLowerCase()==="f",muteKey:i=s=>t.key.toLowerCase()==="m",playPauseKey:o=s=>t.key.toLowerCase()==="k"||t.key.toLowerCase()===" "}=n;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();const s=lt.getComponent("FullscreenToggle");Et[this.fsApi_.fullscreenEnabled]!==!1&&s.prototype.handleClick.call(this,t)}else i.call(this,t)?(t.preventDefault(),t.stopPropagation(),lt.getComponent("MuteToggle").prototype.handleClick.call(this,t)):o.call(this,t)&&(t.preventDefault(),t.stopPropagation(),lt.getComponent("PlayToggle").prototype.handleClick.call(this,t))}canPlayType(t){let n;for(let r=0,i=this.options_.techOrder;r<i.length;r++){const o=i[r];let s=On.getTech(o);if(s||(s=lt.getComponent(o)),!s){Vn.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`);continue}if(s.isSupported()&&(n=s.canPlayType(t),n))return n}return""}selectSource(t){const n=this.options_.techOrder.map(a=>[a,On.getTech(a)]).filter(([a,l])=>l?l.isSupported():(Vn.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`),!1)),r=function(a,l,u){let c;return a.some(d=>l.some(f=>{if(c=u(d,f),c)return!0})),c};let i;const o=a=>(l,u)=>a(u,l),s=([a,l],u)=>{if(l.canPlaySource(u,this.options_[a.toLowerCase()]))return{source:u,tech:a}};return this.options_.sourceOrder?i=r(t,n,o(s)):i=r(n,t,s),i||!1}handleSrc_(t,n){if(typeof t>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const r=gY(t);if(!r.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=r),this.updateSourceCaches_(r[0]),MPe(this,r[0],(i,o)=>{if(this.middleware_=o,n||(this.cache_.sources=r),this.updateSourceCaches_(i),this.src_(i)){if(r.length>1)return this.handleSrc_(r.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}jPe(o,this.tech_)}),r.length>1){const i=()=>{this.error(null),this.handleSrc_(r.slice(1),!0)},o=()=>{this.off("error",i)};this.one("error",i),this.one("playing",o),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",o)}}}src(t){return this.handleSrc_(t,!1)}src_(t){const n=this.selectSource([t]);return n?sY(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(t,n){return this.tech_?this.tech_.addSourceElement(t,n):!1}removeSourceElement(t){return this.tech_?this.tech_.removeSourceElement(t):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const t=this.play();Pl(t.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),xu(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:t,durationDisplay:n,progressControl:r,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:o}=r||{};t&&t.updateContent(),n&&n.updateContent(),i&&i.updateContent(),o&&(o.update(),o.loadProgressBar&&o.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const t=this.currentSource(),n=[];return Object.keys(t).length!==0&&n.push(t),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(t){if(t!==void 0){this.techCall_("setPreload",t),this.options_.preload=t;return}return this.techGet_("preload")}autoplay(t){if(t===void 0)return this.options_.autoplay||!1;let n;typeof t=="string"&&/(any|play|muted)/.test(t)||t===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_(typeof t=="string"?t:"play"),n=!1):t?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(t){return t!==void 0&&(this.techCall_("setPlaysinline",t),this.options_.playsinline=t),this.techGet_("playsinline")}loop(t){if(t!==void 0){this.techCall_("setLoop",t),this.options_.loop=t;return}return this.techGet_("loop")}poster(t){if(t===void 0)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(t){if(t===void 0)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(t){if(t===void 0)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(t){if(t===void 0)return this.error_||null;if(td("beforeerror").forEach(n=>{const r=n(this,t);if(!(zl(r)&&!Array.isArray(r)||typeof r=="string"||typeof r=="number"||r===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}t=r}),this.options_.suppressNotSupportedError&&t&&t.code===4){const n=function(){this.error(t)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(t===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Si(t),this.addClass("vjs-error"),Vn.error(`(CODE:${this.error_.code} ${Si.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),td("error").forEach(n=>n(this,this.error_))}reportUserActivity(t){this.userActivity_=!0}userActive(t){if(t===void 0)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let t,n,r;const i=Yr(this,this.reportUserActivity),o=function(d){(d.screenX!==n||d.screenY!==r)&&(n=d.screenX,r=d.screenY,i())},s=function(){i(),this.clearInterval(t),t=this.setInterval(i,250)},a=function(d){i(),this.clearInterval(t)};this.on("mousedown",s),this.on("mousemove",o),this.on("mouseup",a),this.on("mouseleave",a);const l=this.getChild("controlBar");l&&!qo&&!cl&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const d=this.options_.inactivityTimeout;d<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(c,250)}playbackRate(t){if(t!==void 0){this.techCall_("setPlaybackRate",t);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(t){return t!==void 0?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(t){if(t!==void 0){this.isAudio_=!!t;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const t=this.getChild("ControlBar");!t||this.audioOnlyCache_.controlBarHeight===t.currentHeight()||(this.audioOnlyCache_.controlBarHeight=t.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const t=this.children(),n=this.getChild("ControlBar"),r=n&&n.currentHeight();t.forEach(i=>{i!==n&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=r,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(r),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(t=>t.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(t){if(typeof t!="boolean"||t===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=t,t){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(t){return typeof t!="boolean"||t===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=t,t?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(t,n,r){if(this.tech_)return this.tech_.addTextTrack(t,n,r)}addRemoteTextTrack(t,n){if(this.tech_)return this.tech_.addRemoteTextTrack(t,n)}removeRemoteTextTrack(t={}){let{track:n}=t;if(n||(n=t),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(t){if(t===void 0)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),xu(this)&&this.trigger("languagechange"))}languages(){return Nr(mr.prototype.options_.languages,this.languages_)}toJSON(){const t=Nr(this.options_),n=t.tracks;t.tracks=[];for(let r=0;r<n.length;r++){let i=n[r];i=Nr(i),i.player=void 0,t.tracks[r]=i}return t}createModal(t,n){n=n||{},n.content=t||"";const r=new Rm(this,n);return this.addChild(r),r.on("dispose",()=>{this.removeChild(r)}),r.open(),r}updateCurrentBreakpoint_(){if(!this.responsive())return;const t=this.currentBreakpoint(),n=this.currentWidth();for(let r=0;r<UC.length;r++){const i=UC[r],o=this.breakpoints_[i];if(n<=o){if(t===i)return;t&&this.removeClass(y_[t]),this.addClass(y_[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)}breakpoints(t){return t===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},wRe,t),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(t){if(t===void 0)return this.responsive_;t=!!t;const n=this.responsive_;if(t!==n)return this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return y_[this.breakpoint_]||""}loadMedia(t,n){if(!t||typeof t!="object")return;const r=this.crossOrigin();this.reset(),this.cache_.media=Nr(t);const{artist:i,artwork:o,description:s,poster:a,src:l,textTracks:u,title:c}=this.cache_.media;!o&&a&&(this.cache_.media.artwork=[{src:a,type:XS(a)}]),r&&this.crossOrigin(r),l&&this.src(l),a&&this.poster(a),Array.isArray(u)&&u.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:c,description:s||i||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const t=this.poster(),n=this.currentSources(),r=Array.prototype.map.call(this.remoteTextTracks(),o=>({kind:o.kind,label:o.label,language:o.language,src:o.src})),i={src:n,textTracks:r};return t&&(i.poster=t,i.artwork=[{src:i.poster,type:XS(i.poster)}]),i}return Nr(this.cache_.media)}static getTagSettings(t){const n={sources:[],tracks:[]},r=yc(t),i=r["data-setup"];if(yy(t,"vjs-fill")&&(r.fill=!0),yy(t,"vjs-fluid")&&(r.fluid=!0),i!==null)try{Object.assign(r,JSON.parse(i||"{}"))}catch(o){Vn.error("data-setup",o)}if(Object.assign(n,r),t.hasChildNodes()){const o=t.childNodes;for(let s=0,a=o.length;s<a;s++){const l=o[s],u=l.nodeName.toLowerCase();u==="source"?n.sources.push(yc(l)):u==="track"&&n.tracks.push(yc(l))}}return n}debug(t){if(t===void 0)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(t){if(t===void 0)return this.cache_.playbackRates;Array.isArray(t)&&t.every(n=>typeof n=="number")&&(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))}}mr.prototype.videoTracks=()=>{};mr.prototype.audioTracks=()=>{};mr.prototype.textTracks=()=>{};mr.prototype.remoteTextTracks=()=>{};mr.prototype.remoteTextTrackEls=()=>{};rs.names.forEach(function(e){const t=rs[e];mr.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}});mr.prototype.crossorigin=mr.prototype.crossOrigin;mr.players={};const wg=De.navigator;mr.prototype.options_={techOrder:On.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:wg&&(wg.languages&&wg.languages[0]||wg.userLanguage||wg.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1};GY.forEach(function(e){mr.prototype[`handleTech${Ci(e)}_`]=function(){return this.trigger(e)}});lt.registerComponent("Player",mr);const ZS="plugin",ih="activePlugins_",Lp={},QS=e=>Lp.hasOwnProperty(e),v_=e=>QS(e)?Lp[e]:void 0,WY=(e,t)=>{e[ih]=e[ih]||{},e[ih][t]=!0},JS=(e,t,n)=>{const r=(n?"before":"")+"pluginsetup";e.trigger(r,t),e.trigger(r+":"+t.name,t)},TRe=function(e,t){const n=function(){JS(this,{name:e,plugin:t,instance:null},!0);const r=t.apply(this,arguments);return WY(this,e),JS(this,{name:e,plugin:t,instance:r}),r};return Object.keys(t).forEach(function(r){n[r]=t[r]}),n},U4=(e,t)=>(t.prototype.name=e,function(...n){JS(this,{name:e,plugin:t,instance:null},!0);const r=new t(this,...n);return this[e]=()=>r,JS(this,r.getEventHash()),r});class Os{constructor(t){if(this.constructor===Os)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),cI(this),delete this.trigger,oY(this,this.constructor.defaultState),WY(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(t={}){return t.name=this.name,t.plugin=this.constructor,t.instance=this,t}trigger(t,n={}){return Pm(this.eventBusEl_,t,this.getEventHash(n))}handleStateChanged(t){}dispose(){const{name:t,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[ih][t]=!1,this.player=this.state=null,n[t]=U4(t,Lp[t])}static isBasic(t){const n=typeof t=="string"?v_(t):t;return typeof n=="function"&&!Os.prototype.isPrototypeOf(n.prototype)}static registerPlugin(t,n){if(typeof t!="string")throw new Error(`Illegal plugin name, "${t}", must be a string, was ${typeof t}.`);if(QS(t))Vn.warn(`A plugin named "${t}" already exists. You may want to avoid re-registering plugins!`);else if(mr.prototype.hasOwnProperty(t))throw new Error(`Illegal plugin name, "${t}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${t}", must be a function, was ${typeof n}.`);return Lp[t]=n,t!==ZS&&(Os.isBasic(n)?mr.prototype[t]=TRe(t,n):mr.prototype[t]=U4(t,n)),n}static deregisterPlugin(t){if(t===ZS)throw new Error("Cannot de-register base plugin.");QS(t)&&(delete Lp[t],delete mr.prototype[t])}static getPlugins(t=Object.keys(Lp)){let n;return t.forEach(r=>{const i=v_(r);i&&(n=n||{},n[r]=i)}),n}static getPluginVersion(t){const n=v_(t);return n&&n.VERSION||""}}Os.getPlugin=v_;Os.BASE_PLUGIN_NAME=ZS;Os.registerPlugin(ZS,Os);mr.prototype.usingPlugin=function(e){return!!this[ih]&&this[ih][e]===!0};mr.prototype.hasPlugin=function(e){return!!QS(e)};function ERe(e,t){let n=!1;return function(...r){return n||Vn.warn(e),n=!0,t.apply(this,r)}}function ml(e,t,n,r){return ERe(`${t} is deprecated and will be removed in ${e}.0; please use ${n} instead.`,r)}var ARe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const YY=e=>e.indexOf("#")===0?e.slice(1):e;function nt(e,t,n){let r=nt.getPlayer(e);if(r)return t&&Vn.warn(`Player "${e}" is already initialised. Options will not be applied.`),n&&r.ready(n),r;const i=typeof e=="string"?nd("#"+YY(e)):e;if(!Dm(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s=("getRootNode"in i?i.getRootNode()instanceof De.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!s.contains(i))&&Vn.warn("The element supplied is not included in the DOM"),t=t||{},t.restoreEl===!0&&(t.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),td("beforesetup").forEach(l=>{const u=l(i,Nr(t));if(!zl(u)||Array.isArray(u)){Vn.error("please return an object in beforesetup hooks");return}t=Nr(t,u)});const a=lt.getComponent("Player");return r=new a(i,t,n),td("setup").forEach(l=>l(r)),r}nt.hooks_=lu;nt.hooks=td;nt.hook=sPe;nt.hookOnce=aPe;nt.removeHook=PW;if(De.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Om()){let e=nd(".vjs-styles-defaults");if(!e){e=eY("vjs-styles-defaults");const t=nd("head");t&&t.insertBefore(e,t.firstChild),tY(e,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}kC(1,nt);nt.VERSION=DC;nt.options=mr.prototype.options_;nt.getPlayers=()=>mr.players;nt.getPlayer=e=>{const t=mr.players;let n;if(typeof e=="string"){const r=YY(e),i=t[r];if(i)return i;n=nd("#"+r)}else n=e;if(Dm(n)){const{player:r,playerId:i}=n;if(r||t[i])return r||t[i]}};nt.getAllPlayers=()=>Object.keys(mr.players).map(e=>mr.players[e]).filter(Boolean);nt.players=mr.players;nt.getComponent=lt.getComponent;nt.registerComponent=(e,t)=>(On.isTech(t)&&Vn.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),lt.registerComponent.call(lt,e,t));nt.getTech=On.getTech;nt.registerTech=On.registerTech;nt.use=NPe;Object.defineProperty(nt,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(nt.middleware,"TERMINATOR",{value:KS,writeable:!1,enumerable:!0});nt.browser=BW;nt.obj=cPe;nt.mergeOptions=ml(9,"videojs.mergeOptions","videojs.obj.merge",Nr);nt.defineLazyProperty=ml(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",Zw);nt.bind=ml(9,"videojs.bind","native Function.prototype.bind",Yr);nt.registerPlugin=Os.registerPlugin;nt.deregisterPlugin=Os.deregisterPlugin;nt.plugin=(e,t)=>(Vn.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Os.registerPlugin(e,t));nt.getPlugins=Os.getPlugins;nt.getPlugin=Os.getPlugin;nt.getPluginVersion=Os.getPluginVersion;nt.addLanguage=function(e,t){return e=(""+e).toLowerCase(),nt.options.languages=Nr(nt.options.languages,{[e]:t}),nt.options.languages[e]};nt.log=Vn;nt.createLogger=RW;nt.time=EPe;nt.createTimeRange=ml(9,"videojs.createTimeRange","videojs.time.createTimeRanges",sl);nt.createTimeRanges=ml(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",sl);nt.formatTime=ml(9,"videojs.formatTime","videojs.time.formatTime",Of);nt.setFormatTime=ml(9,"videojs.setFormatTime","videojs.time.setFormatTime",lY);nt.resetFormatTime=ml(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",uY);nt.parseUrl=ml(9,"videojs.parseUrl","videojs.url.parseUrl",hI);nt.isCrossOrigin=ml(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",uT);nt.EventTarget=aa;nt.any=uI;nt.on=sa;nt.one=aT;nt.off=Ho;nt.trigger=Pm;nt.xhr=$G;nt.TrackList=Df;nt.TextTrack=bb;nt.TextTrackList=fI;nt.AudioTrack=hY;nt.AudioTrackList=dY;nt.VideoTrack=mY;nt.VideoTrackList=fY;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(e=>{nt[e]=function(){return Vn.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),QW[e].apply(null,arguments)}});nt.computedStyle=ml(9,"videojs.computedStyle","videojs.dom.computedStyle",Xh);nt.dom=QW;nt.fn=bPe;nt.num=tRe;nt.str=wPe;nt.url=IPe;nt.Error=ARe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class CRe{constructor(t){let n=this;return n.id=t.id,n.label=n.id,n.width=t.width,n.height=t.height,n.bitrate=t.bandwidth,n.frameRate=t.frameRate,n.enabled_=t.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(r){n.enabled_(r)}}),n}}class ex extends nt.EventTarget{constructor(){super();let t=this;return t.levels_=[],t.selectedIndex_=-1,Object.defineProperty(t,"selectedIndex",{get(){return t.selectedIndex_}}),Object.defineProperty(t,"length",{get(){return t.levels_.length}}),t[Symbol.iterator]=()=>t.levels_.values(),t}addQualityLevel(t){let n=this.getQualityLevelById(t.id);if(n)return n;const r=this.levels_.length;return n=new CRe(t),""+r in this||Object.defineProperty(this,r,{get(){return this.levels_[r]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(t){let n=null;for(let r=0,i=this.length;r<i;r++)if(this[r]===t){n=this.levels_.splice(r,1)[0],this.selectedIndex_===r?this.selectedIndex_=-1:this.selectedIndex_>r&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:t,type:"removequalitylevel"}),n}getQualityLevelById(t){for(let n=0,r=this.length;n<r;n++){const i=this[n];if(i.id===t)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}ex.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const e in ex.prototype.allowedEvents_)ex.prototype["on"+e]=null;var KY="4.1.0";const ORe=function(e,t){const n=e.qualityLevels,r=new ex,i=function(){r.dispose(),e.qualityLevels=n,e.off("dispose",i)};return e.on("dispose",i),e.qualityLevels=()=>r,e.qualityLevels.VERSION=KY,r},XY=function(e){return ORe(this,nt.obj.merge({},e))};nt.registerPlugin("qualityLevels",XY);XY.VERSION=KY;/*! @name @videojs/http-streaming @version 3.17.2 @license Apache-2.0 */const xs=WCe,tx=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,za=e=>nt.log.debug?nt.log.debug.bind(nt,"VHS:",`${e} >`):function(){};function gr(...e){const t=nt.obj||nt;return(t.merge||t.mergeOptions).apply(t,e)}function bo(...e){const t=nt.time||nt;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}function DRe(e){if(e.length===0)return"Buffered Ranges are empty";let t=`Buffered Ranges: 
`;for(let n=0;n<e.length;n++){const r=e.start(n),i=e.end(n);t+=`${r} --> ${i}. Duration (${i-r})
`}return t}const Rl=1/30,Il=Rl*3,ZY=function(e,t){const n=[];let r;if(e&&e.length)for(r=0;r<e.length;r++)t(e.start(r),e.end(r))&&n.push([e.start(r),e.end(r)]);return bo(n)},$p=function(e,t){return ZY(e,function(n,r){return n-Il<=t&&r+Il>=t})},P0=function(e,t){return ZY(e,function(n){return n-Rl>=t})},PRe=function(e){if(e.length<2)return bo();const t=[];for(let n=1;n<e.length;n++){const r=e.end(n-1),i=e.start(n);t.push([r,i])}return bo(t)},RRe=function(e,t){let n=null,r=null,i=0;const o=[],s=[];if(!e||!e.length||!t||!t.length)return bo();let a=e.length;for(;a--;)o.push({time:e.start(a),type:"start"}),o.push({time:e.end(a),type:"end"});for(a=t.length;a--;)o.push({time:t.start(a),type:"start"}),o.push({time:t.end(a),type:"end"});for(o.sort(function(l,u){return l.time-u.time}),a=0;a<o.length;a++)o[a].type==="start"?(i++,i===2&&(n=o[a].time)):o[a].type==="end"&&(i--,i===1&&(r=o[a].time)),n!==null&&r!==null&&(s.push([n,r]),n=null,r=null);return bo(s)},QY=e=>{const t=[];if(!e||!e.length)return"";for(let n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},IRe=function(e,t,n=1){return((e.length?e.end(e.length-1):0)-t)/n},qd=e=>{const t=[];for(let n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},kRe=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e||e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1},FE=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},RI=function(e,t){let n=0;if(!e||!e.length)return n;for(let r=0;r<e.length;r++){const i=e.start(r),o=e.end(r);if(!(t>o)){if(t>i&&t<=o){n+=o-t;continue}n+=o-i}}return n},II=(e,t)=>{if(!t.preload)return t.duration;let n=0;return(t.parts||[]).forEach(function(r){n+=r.duration}),(t.preloadHints||[]).forEach(function(r){r.type==="PART"&&(n+=e.partTargetDuration)}),n},FC=e=>(e.segments||[]).reduce((t,n,r)=>(n.parts?n.parts.forEach(function(i,o){t.push({duration:i.duration,segmentIndex:r,partIndex:o,part:i,segment:n})}):t.push({duration:n.duration,segmentIndex:r,partIndex:null,segment:n,part:null}),t),[]),JY=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},eK=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:n}=e;let r=(n||[]).reduce((i,o)=>i+(o.type==="PART"?1:0),0);return r+=t&&t.length?t.length:0,r},tK=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const n=JY(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?t.partTargetDuration*3:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?t.targetDuration*3:0},NRe=function(e,t){let n=0,r=t-e.mediaSequence,i=e.segments[r];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;r--;){if(i=e.segments[r],typeof i.end<"u")return{result:n+i.end,precise:!0};if(n+=II(e,i),typeof i.start<"u")return{result:n+i.start,precise:!0}}return{result:n,precise:!1}},MRe=function(e,t){let n=0,r,i=t-e.mediaSequence;for(;i<e.segments.length;i++){if(r=e.segments[i],typeof r.start<"u")return{result:r.start-n,precise:!0};if(n+=II(e,r),typeof r.end<"u")return{result:r.end-n,precise:!0}}return{result:-1,precise:!1}},nK=function(e,t,n){if(typeof t>"u"&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const r=NRe(e,t);if(r.precise)return r.result;const i=MRe(e,t);return i.precise?i.result:r.result+n},rK=function(e,t,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof t>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return De.Infinity}return nK(e,t,n)},_y=function({defaultDuration:e,durationList:t,startIndex:n,endIndex:r}){let i=0;if(n>r&&([n,r]=[r,n]),n<0){for(let o=n;o<Math.min(0,r);o++)i+=e;n=0}for(let o=n;o<r;o++)i+=t[o].duration;return i},iK=function(e,t,n,r){if(!e||!e.segments)return null;if(e.endList)return rK(e);if(t===null)return null;t=t||0;let i=nK(e,e.mediaSequence+e.segments.length,t);return n&&(r=typeof r=="number"?r:tK(null,e),i-=r),Math.max(0,i)},jRe=function(e,t,n){const i=t||0;let o=iK(e,t,!0,n);return o===null?bo():(o<i&&(o=i),bo(i,o))},LRe=function({playlist:e,currentTime:t,startingSegmentIndex:n,startingPartIndex:r,startTime:i,exactManifestTimings:o}){let s=t-i;const a=FC(e);let l=0;for(let u=0;u<a.length;u++){const c=a[u];if(n===c.segmentIndex&&!(typeof r=="number"&&typeof c.partIndex=="number"&&r!==c.partIndex)){l=u;break}}if(s<0){if(l>0)for(let u=l-1;u>=0;u--){const c=a[u];if(s+=c.duration,o){if(s<0)continue}else if(s+Rl<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i-_y({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:u})}}return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t}}if(l<0){for(let u=l;u<0;u++)if(s-=e.targetDuration,s<0)return{partIndex:a[0]&&a[0].partIndex||null,segmentIndex:a[0]&&a[0].segmentIndex||0,startTime:t};l=0}for(let u=l;u<a.length;u++){const c=a[u];s-=c.duration;const d=c.duration>Rl,f=s===0,m=d&&s+Rl>=0;if(!((f||m)&&u!==a.length-1)){if(o){if(s>0)continue}else if(s-Rl>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i+_y({defaultDuration:e.targetDuration,durationList:a,startIndex:l,endIndex:u})}}}return{segmentIndex:a[a.length-1].segmentIndex,partIndex:a[a.length-1].partIndex,startTime:t}},oK=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},kI=function(e){return e.excludeUntil&&e.excludeUntil===1/0},pT=function(e){const t=oK(e);return!e.disabled&&!t},$Re=function(e){return e.disabled},BRe=function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},sK=function(e,t){return t.attributes&&t.attributes[e]},URe=function(e,t,n,r=0){return sK("BANDWIDTH",n)?(e*n.attributes.BANDWIDTH-r*8)/t:NaN},zC=(e,t)=>{if(e.playlists.length===1)return!0;const n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(r=>pT(r)?(r.attributes.BANDWIDTH||0)<n:!1).length===0},NI=(e,t)=>!e&&!t||!e&&t||e&&!t?!1:!!(e===t||e.id&&t.id&&e.id===t.id||e.resolvedUri&&t.resolvedUri&&e.resolvedUri===t.resolvedUri||e.uri&&t.uri&&e.uri===t.uri),F4=function(e,t){const n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let r=!1;for(const i in n){for(const o in n[i])if(r=t(n[i][o]),r)break;if(r)break}return!!r},wb=e=>{if(!e||!e.playlists||!e.playlists.length)return F4(e,n=>n.playlists&&n.playlists.length||n.uri);for(let t=0;t<e.playlists.length;t++){const n=e.playlists[t],r=n.attributes&&n.attributes.CODECS;if(!(r&&r.split(",").every(o=>VG(o))||F4(e,o=>NI(n,o))))return!1}return!0};var ws={liveEdgeDelay:tK,duration:rK,seekable:jRe,getMediaInfoForTime:LRe,isEnabled:pT,isDisabled:$Re,isExcluded:oK,isIncompatible:kI,playlistEnd:iK,isAes:BRe,hasAttribute:sK,estimateSegmentRequestTime:URe,isLowestEnabledRendition:zC,isAudioOnly:wb,playlistMatch:NI,segmentDurationWithParts:II};const{log:aK}=nt,oh=(e,t)=>`${e}-${t}`,lK=(e,t,n)=>`placeholder-uri-${e}-${t}-${n}`,FRe=({onwarn:e,oninfo:t,manifestString:n,customTagParsers:r=[],customTagMappers:i=[],llhls:o})=>{const s=new tOe;e&&s.on("warn",e),t&&s.on("info",t),r.forEach(u=>s.addParser(u)),i.forEach(u=>s.addTagMapper(u)),s.push(n),s.end();const a=s.manifest;if(o||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){a.hasOwnProperty(u)&&delete a[u]}),a.segments&&a.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!a.targetDuration){let u=10;a.segments&&a.segments.length&&(u=a.segments.reduce((c,d)=>Math.max(c,d.duration),0)),e&&e({message:`manifest has no targetDuration defaulting to ${u}`}),a.targetDuration=u}const l=JY(a);if(l.length&&!a.partTargetDuration){const u=l.reduce((c,d)=>Math.max(c,d.duration),0);e&&(e({message:`manifest has no partTargetDuration defaulting to ${u}`}),aK.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),a.partTargetDuration=u}return a},Nm=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(e.mediaGroups[n])for(const r in e.mediaGroups[n])for(const i in e.mediaGroups[n][r]){const o=e.mediaGroups[n][r][i];t(o,n,r,i)}})},uK=({playlist:e,uri:t,id:n})=>{e.id=n,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},zRe=e=>{let t=e.playlists.length;for(;t--;){const n=e.playlists[t];uK({playlist:n,id:oh(t,n.uri)}),n.resolvedUri=xs(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||aK.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},VRe=e=>{Nm(e,t=>{t.uri&&(t.resolvedUri=xs(e.uri,t.uri))})},qRe=(e,t)=>{const n=oh(0,t),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:De.location.href,resolvedUri:De.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[t]=r.playlists[0],r},cK=(e,t,n=lK)=>{e.uri=t;for(let i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){const o=`placeholder-uri-${i}`;e.playlists[i].uri=o}const r=wb(e);Nm(e,(i,o,s,a)=>{if(!i.playlists||!i.playlists.length){if(r&&o==="AUDIO"&&!i.uri)for(let l=0;l<e.playlists.length;l++){const u=e.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===s)return}i.playlists=[No({},i)]}i.playlists.forEach(function(l,u){const c=n(o,s,a,l),d=oh(u,c);l.uri?l.resolvedUri=l.resolvedUri||xs(e.uri,l.uri):(l.uri=u===0?c:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},e.playlists[l.id]=l,e.playlists[l.uri]=l})}),zRe(e),VRe(e)};class z4{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(t=[]){if(this.offset_!==null||!t.length)return;const[n]=t;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(t=[]){if(!t.length)return;const[n]=t,r=n.startDate.getTime();this.trimProcessedDateRanges_(r),this.pendingDateRanges_=t.reduce((i,o)=>(i.set(o.id,o),i),new Map)}processDateRange(t){this.pendingDateRanges_.delete(t.id),this.processedDateRanges_.set(t.id,t)}getDateRangesToProcess(){if(this.offset_===null)return[];const t={},n=[];this.pendingDateRanges_.forEach((r,i)=>{if(!this.processedDateRanges_.has(i)&&(r.startTime=r.startDate.getTime()/1e3-this.offset_,r.processDateRange=()=>this.processDateRange(r),n.push(r),!!r.class))if(t[r.class]){const o=t[r.class].push(r);r.classListIndex=o-1}else t[r.class]=[r],r.classListIndex=0});for(const r of n){const i=t[r.class]||[];r.endDate?r.endTime=r.endDate.getTime()/1e3-this.offset_:r.endOnNext&&i[r.classListIndex+1]?r.endTime=i[r.classListIndex+1].startTime:r.duration?r.endTime=r.startTime+r.duration:r.plannedDuration?r.endTime=r.startTime+r.plannedDuration:r.endTime=r.startTime}return n}trimProcessedDateRanges_(t){new Map(this.processedDateRanges_).forEach((r,i)=>{r.startDate.getTime()<t&&this.processedDateRanges_.delete(i)})}}const dK=22,af=({requestType:e,request:t,error:n,parseFailure:r})=>{const i=t.status<200||t.status>299,o=t.status>=400&&t.status<=499,s={uri:t.uri,requestType:e},a=i&&!o||r;if(n&&o)s.error=No({},n),s.errorType=nt.Error.NetworkRequestFailed;else if(t.aborted)s.errorType=nt.Error.NetworkRequestAborted;else if(t.timedout)s.errorType=nt.Error.NetworkRequestTimeout;else if(a){const l=r?nt.Error.NetworkBodyParserFailed:nt.Error.NetworkBadStatus;s.errorType=l,s.status=t.status,s.headers=t.headers}return s},HRe=za("CodecUtils"),fK=function(e){const t=e.attributes||{};if(t.CODECS)return wl(t.CODECS)},pK=(e,t)=>{const n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},GRe=(e,t)=>{if(!pK(e,t))return!0;const n=t.attributes||{},r=e.mediaGroups.AUDIO[n.AUDIO];for(const i in r)if(!r[i].uri&&!r[i].playlists)return!0;return!1},gv=function(e){const t={};return e.forEach(({mediaType:n,type:r,details:i})=>{t[n]=t[n]||[],t[n].push(zG(`${r}${i}`))}),Object.keys(t).forEach(function(n){if(t[n].length>1){HRe(`multiple ${n} codecs found as attributes: ${t[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),t[n]=null;return}t[n]=t[n][0]}),t},V4=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},Sy=function(e,t){const n=t.attributes||{},r=gv(fK(t)||[]);if(pK(e,t)&&!r.audio&&!GRe(e,t)){const i=gv(rOe(e,n.AUDIO)||[]);i.audio&&(r.audio=i.audio)}return r},{EventTarget:WRe}=nt,YRe=(e,t)=>{if(t.endList||!t.serverControl)return e;const n={};if(t.serverControl.canBlockReload){const{preloadSegment:r}=t;let i=t.mediaSequence+t.segments.length;if(r){const o=r.parts||[],s=eK(t)-1;s>-1&&s!==o.length-1&&(n._HLS_part=s),(s>-1||o.length)&&i--}n._HLS_msn=i}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const r=new De.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){n.hasOwnProperty(i)&&r.searchParams.set(i,n[i])}),e=r.toString()}return e},KRe=(e,t)=>{if(!e)return t;const n=gr(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(let r=0;r<t.parts.length;r++)e.parts&&e.parts[r]&&(n.parts[r]=gr(e.parts[r],t.parts[r]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},XRe=(e,t,n)=>{const r=e.slice(),i=t.slice();n=n||0;const o=[];let s;for(let a=0;a<i.length;a++){const l=r[a+n],u=i[a];l?(s=l.map||s,o.push(KRe(l,u))):(s&&!u.map&&(u.map=s),o.push(u))}return o},hK=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=xs(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=xs(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=xs(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=xs(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=xs(t,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=xs(t,n.uri))})},mK=function(e){const t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let r=0;r<n.preloadHints.length;r++)if(n.preloadHints[r].type==="MAP")return t}n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},gK=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,VC=(e,t,n=gK)=>{const r=gr(e,{}),i=r.playlists[t.id];if(!i||n(i,t))return null;t.segments=mK(t);const o=gr(i,t);if(o.preloadSegment&&!t.preloadSegment&&delete o.preloadSegment,i.segments){if(t.skip){t.segments=t.segments||[];for(let s=0;s<t.skip.skippedSegments;s++)t.segments.unshift({skipped:!0})}o.segments=XRe(i.segments,t.segments,t.mediaSequence-i.mediaSequence)}o.segments.forEach(s=>{hK(s,o.resolvedUri)});for(let s=0;s<r.playlists.length;s++)r.playlists[s].id===t.id&&(r.playlists[s]=o);return r.playlists[t.id]=o,r.playlists[t.uri]=o,Nm(e,(s,a,l,u)=>{if(s.playlists)for(let c=0;c<s.playlists.length;c++)t.id===s.playlists[c].id&&(s.playlists[c]=o)}),r},qC=(e,t)=>{const n=e.segments||[],r=n[n.length-1],i=r&&r.parts&&r.parts[r.parts.length-1],o=i&&i.duration||r&&r.duration;return t&&o?o*1e3:(e.partTargetDuration||e.targetDuration||10)*500},q4=(e,t,n)=>{if(!e)return;const r=[];return e.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:o,RESOLUTION:s,CODECS:a}=i.attributes;r.push({id:i.id,bandwidth:o,resolution:s,codecs:a})}),{type:t,isLive:n,renditions:r}};class Bp extends WRe{constructor(t,n,r={}){if(super(),!t)throw new Error("A non-empty playlist URL or object is required");this.logger_=za("PlaylistLoader");const{withCredentials:i=!1}=r;this.src=t,this.vhs_=n,this.withCredentials=i,this.addDateRangesToTextTrack_=r.addDateRangesToTextTrack;const o=n.options_;this.customTagParsers=o&&o.customTagParsers||[],this.customTagMappers=o&&o.customTagMappers||[],this.llhls=o&&o.llhls,this.dateRangesStorage_=new z4,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const t=this.media();if(!t)return;this.dateRangesStorage_.setOffset(t.segments),this.dateRangesStorage_.setPendingDateRanges(t.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const t=this.media();let n=xs(this.main.uri,t.uri);this.llhls&&(n=YRe(n,t)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(this.request){if(r)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(t,n,r){const{uri:i,id:o}=n;this.request=null,r&&(this.state=r),this.error={playlist:this.main.playlists[o],status:t.status,message:`HLS playlist request error at URL: ${i}.`,responseText:t.responseText,code:t.status>=500?4:2,metadata:af({requestType:t.requestType,request:t,error:t.error})},this.trigger("error")}parseManifest_({url:t,manifestString:n}){try{const r=FRe({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${t}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${t}: ${i}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!r.playlists||!r.playlists.length||this.excludeAudioOnlyVariants(r.playlists),r}catch(r){this.error=r,this.error.metadata={errorType:nt.Error.StreamingHlsPlaylistParserError,error:r}}}excludeAudioOnlyVariants(t){const n=r=>{const i=r.attributes||{},{width:o,height:s}=i.RESOLUTION||{};if(o&&s)return!0;const a=fK(r)||[];return!!gv(a).video};t.some(n)&&t.forEach(r=>{n(r)||(r.excludeUntil=1/0)})}haveMetadata({playlistString:t,playlistObject:n,url:r,id:i}){this.request=null,this.state="HAVE_METADATA";const o={playlistInfo:{type:"media",uri:r}};this.trigger({type:"playlistparsestart",metadata:o});const s=n||this.parseManifest_({url:r,manifestString:t});s.lastRequest=Date.now(),uK({playlist:s,uri:r,id:i});const a=VC(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(qC(this.media(),!!a)),o.parsedPlaylist=q4(this.main.playlists,o.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:o}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),De.clearTimeout(this.mediaUpdateTimeout),De.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new z4,this.off()}stopRequest(){if(this.request){const t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}media(t,n){if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof t=="string"){if(!this.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.main.playlists[t]}if(De.clearTimeout(this.finalRenditionTimeout),n){const a=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=De.setTimeout(this.media.bind(this,t,!1),a);return}const r=this.state,i=!this.media_||t.id!==this.media_.id,o=this.main.playlists[t.id];if(o&&o.endList||t.endList&&t.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,i&&(this.trigger("mediachanging"),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(qC(t,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t;const s={playlistInfo:{type:"media",uri:t.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(a,l)=>{if(this.request){if(t.lastRequest=Date.now(),t.resolvedUri=tx(t.resolvedUri,l),a)return this.playlistRequestError(this.request,t,r);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:l.responseText,url:t.uri,id:t.id}),r==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(t){this.mediaUpdateTimeout&&(De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(t){const r=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=De.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},r);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(t){this.mediaUpdateTimeout&&(De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=De.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(t)},t))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=De.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const t={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,r)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:r.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:r.responseText,code:2,metadata:af({requestType:r.requestType,request:r,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:t}),this.src=tx(this.src,r),this.trigger({type:"playlistparsestart",metadata:t});const i=this.parseManifest_({manifestString:r.responseText,url:this.src});t.parsedPlaylist=q4(i.playlists,t.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:t}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(t){if(this.state="HAVE_MAIN_MANIFEST",t.playlists){this.main=t,cK(this.main,this.srcUri()),t.playlists.forEach(r=>{r.segments=mK(r),r.segments.forEach(i=>{hK(i,r.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||De.location.href;this.main=qRe(t,n),this.haveMetadata({playlistObject:t,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(t,n){const r=this.main,i=t.ID;let o=r.playlists.length;for(;o--;){const s=r.playlists[o];if(s.attributes["PATHWAY-ID"]===i){const a=s.resolvedUri,l=s.id;if(n){const u=this.createCloneURI_(s.resolvedUri,t),c=oh(i,u),d=this.createCloneAttributes_(i,s.attributes),f=this.createClonePlaylist_(s,c,t,d);r.playlists[o]=f,r.playlists[c]=f,r.playlists[u]=f}else r.playlists.splice(o,1);delete r.playlists[l],delete r.playlists[a]}}this.updateOrDeleteCloneMedia(t,n)}updateOrDeleteCloneMedia(t,n){const r=this.main,i=t.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!r.mediaGroups[o]||!r.mediaGroups[o][i])){for(const s in r.mediaGroups[o])if(s===i){for(const a in r.mediaGroups[o][s])r.mediaGroups[o][s][a].playlists.forEach((u,c)=>{const d=r.playlists[u.id],f=d.id,m=d.resolvedUri;delete r.playlists[f],delete r.playlists[m]});delete r.mediaGroups[o][s]}}}),n&&this.createClonedMediaGroups_(t)}addClonePathway(t,n={}){const r=this.main,i=r.playlists.length,o=this.createCloneURI_(n.resolvedUri,t),s=oh(t.ID,o),a=this.createCloneAttributes_(t.ID,n.attributes),l=this.createClonePlaylist_(n,s,t,a);r.playlists[i]=l,r.playlists[s]=l,r.playlists[o]=l,this.createClonedMediaGroups_(t)}createClonedMediaGroups_(t){const n=t.ID,r=t["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(o=>{if(!(!i.mediaGroups[o]||i.mediaGroups[o][n]))for(const s in i.mediaGroups[o]){if(s===r)i.mediaGroups[o][n]={};else continue;for(const a in i.mediaGroups[o][s]){const l=i.mediaGroups[o][s][a];i.mediaGroups[o][n][a]=No({},l);const u=i.mediaGroups[o][n][a],c=this.createCloneURI_(l.resolvedUri,t);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((d,f)=>{const m=i.playlists[d.id],h=lK(o,n,a),g=oh(n,h);if(m&&!i.playlists[g]){const S=this.createClonePlaylist_(m,g,t),y=S.resolvedUri;i.playlists[g]=S,i.playlists[y]=S}u.playlists[f]=this.createClonePlaylist_(d,g,t)})}}})}createClonePlaylist_(t,n,r,i){const o=this.createCloneURI_(t.resolvedUri,r),s={resolvedUri:o,uri:o,id:n};return t.segments&&(s.segments=[]),i&&(s.attributes=i),gr(t,s)}createCloneURI_(t,n){const r=new URL(t);r.hostname=n["URI-REPLACEMENT"].HOST;const i=n["URI-REPLACEMENT"].PARAMS;for(const o of Object.keys(i))r.searchParams.set(o,i[o]);return r.href}createCloneAttributes_(t,n){const r={"PATHWAY-ID":t};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{n[i]&&(r[i]=t)}),r}getKeyIdSet(t){const n=new Set;if(!t||!t.contentProtection)return n;for(const r in t.contentProtection)if(t.contentProtection[r]&&t.contentProtection[r].attributes&&t.contentProtection[r].attributes.keyId){const i=t.contentProtection[r].attributes.keyId;n.add(i.toLowerCase())}return n}}const HC=function(e,t,n,r){const i=e.responseType==="arraybuffer"?e.response:e.responseText;!t&&i&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=i.byteLength||i.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&t.code==="ETIMEDOUT"&&(e.timedout=!0),!t&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(t=new Error("XHR Failed with a response of: "+(e&&(i||e.responseText)))),r(t,e)},ZRe=(e,t)=>{if(!e||!e.size)return;let n=t;return e.forEach(r=>{n=r(n)}),n},QRe=(e,t,n,r)=>{!e||!e.size||e.forEach(i=>{i(t,n,r)})},yK=function(){const e=function t(n,r){n=gr({timeout:45e3},n);const i=t.beforeRequest||nt.Vhs.xhr.beforeRequest,o=t._requestCallbackSet||nt.Vhs.xhr._requestCallbackSet||new Set,s=t._responseCallbackSet||nt.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(nt.log.warn("beforeRequest is deprecated, use onRequest instead."),o.add(i));const a=nt.Vhs.xhr.original===!0?nt.xhr:nt.Vhs.xhr,l=ZRe(o,n);o.delete(i);const u=a(l||n,function(d,f){return QRe(s,u,d,f),HC(u,d,f,r)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=n.uri,u.requestType=n.requestType,u.requestTime=Date.now(),u};return e.original=!0,e},JRe=function(e){let t;const n=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=De.BigInt(e.offset)+De.BigInt(e.length)-De.BigInt(1):t=e.offset+e.length-1,"bytes="+n+"-"+t},GC=function(e){const t={};return e.byterange&&(t.Range=JRe(e.byterange)),t},eIe=function(e,t){return e.start(t)+"-"+e.end(t)},tIe=function(e,t){const n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},nIe=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},vK=function(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];HG(r)?t[n]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}:t[n]=r}),t},nx=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},bK=function(e){return e.resolvedUri},_K=e=>{const t=Array.prototype.slice.call(e),n=16;let r="",i,o;for(let s=0;s<t.length/n;s++)i=t.slice(s*n,s*n+n).map(tIe).join(""),o=t.slice(s*n,s*n+n).map(nIe).join(""),r+=i+" "+o+`
`;return r},rIe=({bytes:e})=>_K(e),iIe=e=>{let t="",n;for(n=0;n<e.length;n++)t+=eIe(e,n)+" ";return t};var oIe=Object.freeze({__proto__:null,createTransferableMessage:vK,initSegmentId:nx,segmentKeyId:bK,hexDump:_K,tagDump:rIe,textRanges:iIe});const SK=.25,sIe=(e,t)=>{if(!t.dateTimeObject)return null;const n=t.videoTimingInfo.transmuxerPrependedSeconds,i=t.videoTimingInfo.transmuxedPresentationStart+n,o=e-i;return new Date(t.dateTimeObject.getTime()+o*1e3)},aIe=e=>e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds,lIe=(e,t)=>{let n;try{n=new Date(e)}catch{return null}if(!t||!t.segments||t.segments.length===0)return null;let r=t.segments[0];if(n<new Date(r.dateTimeObject))return null;for(let l=0;l<t.segments.length-1;l++){r=t.segments[l];const u=new Date(t.segments[l+1].dateTimeObject);if(n<u)break}const i=t.segments[t.segments.length-1],o=i.dateTimeObject,s=i.videoTimingInfo?aIe(i.videoTimingInfo):i.duration+i.duration*SK,a=new Date(o.getTime()+s*1e3);return n>a?null:(n>new Date(o)&&(r=i),{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:ws.duration(t,t.mediaSequence+t.segments.indexOf(r)),type:r.videoTimingInfo?"accurate":"estimate"})},uIe=(e,t)=>{if(!t||!t.segments||t.segments.length===0)return null;let n=0,r;for(let o=0;o<t.segments.length&&(r=t.segments[o],n=r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationEnd:n+r.duration,!(e<=n));o++);const i=t.segments[t.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+i.duration*SK)return null;r=i}return{segment:r,estimatedStart:r.videoTimingInfo?r.videoTimingInfo.transmuxedPresentationStart:n-r.duration,type:r.videoTimingInfo?"accurate":"estimate"}},cIe=(e,t)=>{let n,r;try{n=new Date(e),r=new Date(t)}catch{}const i=n.getTime();return(r.getTime()-i)/1e3},dIe=e=>{if(!e.segments||e.segments.length===0)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0},fIe=({playlist:e,time:t=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!e||t===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const r=uIe(t,e);if(!r)return n({message:"valid programTime was not found"});if(r.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});const i={mediaSeconds:t},o=sIe(t,r.segment);return o&&(i.programDateTime=o.toISOString()),n(null,i)},xK=({programTime:e,playlist:t,retryCount:n=2,seekTo:r,pauseAfterSeek:i=!0,tech:o,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(typeof e>"u"||!t||!r)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!o.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!dIe(t))return s({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const a=lIe(e,t);if(!a)return s({message:`${e} was not found in the stream`});const l=a.segment,u=cIe(l.dateTimeObject,e);if(a.type==="estimate"){if(n===0)return s({message:`${e} is not buffered yet. Try again`});r(a.estimatedStart+u),o.one("seeked",()=>{xK({programTime:e,playlist:t,retryCount:n-1,seekTo:r,pauseAfterSeek:i,tech:o,callback:s})});return}const c=l.start+u,d=()=>s(null,o.currentTime());o.one("seeked",d),i&&o.pause(),r(c)},zE=(e,t)=>{if(e.readyState===4)return t()},pIe=(e,t,n,r)=>{let i=[],o,s=!1;const a=function(d,f,m,h){return f.abort(),s=!0,n(d,f,m,h)},l=function(d,f){if(s)return;if(d)return d.metadata=af({requestType:r,request:f,error:d}),a(d,f,"",i);const m=f.responseText.substring(i&&i.byteLength||0,f.responseText.length);if(i=pOe(i,GG(m,!0)),o=o||Bg(i),i.length<10||o&&i.length<o+2)return zE(f,()=>a(d,f,"",i));const h=iI(i);return h==="ts"&&i.length<188?zE(f,()=>a(d,f,"",i)):!h&&i.length<376?zE(f,()=>a(d,f,"",i)):a(null,f,h,i)},c=t({uri:e,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:f,loaded:m}){return HC(d,null,{statusCode:d.status},l)})}},function(d,f){return HC(c,d,f,l)});return c},{EventTarget:hIe}=nt,H4=function(e,t){if(!gK(e,t)||e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx||e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let n=0;n<e.segments.length;n++){const r=e.segments[n],i=t.segments[n];if(r.uri!==i.uri)return!1;if(!r.byterange&&!i.byterange)continue;const o=r.byterange,s=i.byterange;if(o&&!s||!o&&s||o.offset!==s.offset||o.length!==s.length)return!1}return!0},mIe=(e,t,n,r)=>{const i=r.attributes.NAME||n;return`placeholder-uri-${e}-${t}-${i}`},gIe=({mainXml:e,srcUrl:t,clientOffset:n,sidxMapping:r,previousManifest:i})=>{const o=LDe(e,{manifestUri:t,clientOffset:n,sidxMapping:r,previousManifest:i});return cK(o,t,mIe),o},yIe=(e,t)=>{Nm(e,(n,r,i,o)=>{(!t.mediaGroups[r][i]||!(o in t.mediaGroups[r][i]))&&delete e.mediaGroups[r][i][o]})},vIe=(e,t,n)=>{let r=!0,i=gr(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let o=0;o<t.playlists.length;o++){const s=t.playlists[o];if(s.sidx){const l=Kw(s.sidx);n&&n[l]&&n[l].sidx&&tI(s,n[l].sidx,s.sidx.resolvedUri)}const a=VC(i,s,H4);a&&(i=a,r=!1)}return Nm(t,(o,s,a,l)=>{if(o.playlists&&o.playlists.length){const u=o.playlists[0].id,c=VC(i,o.playlists[0],H4);c&&(i=c,l in i.mediaGroups[s][a]||(i.mediaGroups[s][a][l]=o),i.mediaGroups[s][a][l].playlists[0]=i.playlists[u],r=!1)}}),yIe(i,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(r=!1),r?null:i},bIe=(e,t)=>(!e.map&&!t.map||!!(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,G4=(e,t)=>{const n={};for(const r in e){const o=e[r].sidx;if(o){const s=Kw(o);if(!t[s])break;const a=t[s].sidxInfo;bIe(a,o)&&(n[s]=t[s])}}return n},_Ie=(e,t)=>{let r=G4(e.playlists,t);return Nm(e,(i,o,s,a)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;r=gr(r,G4(l,t))}}),r};class WC extends hIe{constructor(t,n,r={},i){super(),this.isPaused_=!0,this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:o=!1}=r;if(this.vhs_=n,this.withCredentials=o,this.addMetadataToTextTrack=r.addMetadataToTextTrack,!t)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=za("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=t,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=t}get isPaused(){return this.isPaused_}requestErrored_(t,n,r){if(!this.request)return!0;if(this.request=null,t)return this.error=typeof t=="object"&&!(t instanceof Error)?t:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:t.metadata},r&&(this.state=r),this.trigger("error"),!0}addSidxSegments_(t,n,r){const i=t.sidx&&Kw(t.sidx);if(!t.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){De.clearTimeout(this.mediaRequest_),this.mediaRequest_=De.setTimeout(()=>r(!1),0);return}const o=tx(t.sidx.resolvedUri),s=(l,u)=>{if(this.requestErrored_(l,u,n))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=u;let f;try{f=qDe(mn(u.response).subarray(8))}catch(m){m.metadata=af({requestType:d,request:u,parseFailure:!0}),this.requestErrored_(m,u,n);return}return c[i]={sidxInfo:t.sidx,sidx:f},tI(t,f,t.sidx.resolvedUri),r(!0)},a="dash-sidx";this.request=pIe(o,this.vhs_.xhr,(l,u,c,d)=>{if(l)return s(l,u);if(!c||c!=="mp4"){const h=c||"unknown";return s({status:u.status,message:`Unsupported ${h} container type for sidx segment at URL: ${o}`,response:"",playlist:t,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:f,length:m}=t.sidx.byterange;if(d.length>=m+f)return s(l,{response:d.subarray(f,f+m),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:o,responseType:"arraybuffer",requestType:"dash-sidx",headers:GC({byterange:t.sidx.byterange})},s)},a)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},De.clearTimeout(this.minimumUpdatePeriodTimeout_),De.clearTimeout(this.mediaRequest_),De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}media(t){if(!t)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof t=="string"){if(!this.mainPlaylistLoader_.main.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.mainPlaylistLoader_.main.playlists[t]}const r=!this.media_||t.id!==this.media_.id;if(r&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList){this.state="HAVE_METADATA",this.media_=t,r&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}r&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,n,i=>{this.haveMetadata({startingState:n,playlist:t})}))}haveMetadata({startingState:t,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,De.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),t==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(De.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(t){this.isPaused_=!1,De.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(t){const r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=De.setTimeout(()=>this.load(),r);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){De.clearTimeout(this.mediaRequest_),this.mediaRequest_=De.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((t,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(t){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(r,i)=>{if(r){const{requestType:s}=i;r.metadata=af({requestType:s,request:i,error:r})}if(this.requestErrored_(r,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const o=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=tx(this.mainPlaylistLoader_.srcUrl,i),o){this.handleMain_(),this.syncClientServerClock_(()=>t(i,o));return}return t(i,o)})}syncClientServerClock_(t){const n=$De(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),t();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),t();this.request=this.vhs_.xhr({uri:xs(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(r,i)=>{if(!this.request)return;if(r){const{requestType:s}=i;return this.error.metadata=af({requestType:s,request:i,error:r}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),t()}let o;n.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?o=this.mainLoaded_:o=Date.parse(i.responseHeaders.date):o=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=o-Date.now(),t()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){De.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const t=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let r;try{r=gIe({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:t})}catch(o){this.error=o,this.error.metadata={errorType:nt.Error.StreamingDashManifestParserError,error:o},this.trigger("error")}t&&(r=vIe(t,r,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=r||t;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!t||r&&r.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(r),r){const{duration:o,endList:s}=r,a=[];r.playlists.forEach(u=>{a.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:o,isLive:!s,renditions:a};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!r}updateMinimumUpdatePeriodTimeout_(){const t=this.mainPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(De.clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);let n=t.main&&t.main.minimumUpdatePeriod;if(n===0&&(t.media()?n=t.media().targetDuration*1e3:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(t){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=De.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(t)},t)}refreshXml_(){this.requestMain_((t,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=_Ie(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,r=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(t){if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,r=!this.media_||this.media_!==n[t];if(r?this.media_=n[t]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=De.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},qC(this.media(),!!r)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(t){if(t&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(r=>({cueTime:r.start,frames:[{data:r.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(t){if(t.contentProtection){const n=new Set;for(const r in t.contentProtection){const i=t.contentProtection[r].attributes["cenc:default_KID"];i&&n.add(i.replace(/-/g,"").toLowerCase())}return n}}}var mo={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const SIe=e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer},wK=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},xIe=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{const n=new BlobBuilder;return n.append(e),URL.createObjectURL(n.getBlob())}},TK=function(e){return function(){const t=xIe(e),n=wK(new Worker(t));n.objURL=t;const r=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),r.call(this)},n}},EK=function(e){return`var browserWorkerPolyFill = ${wK.toString()};
browserWorkerPolyFill(self);
`+e},AK=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},wIe=EK(AK(function(){var e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},t=function(){this.init=function(){var P={};this.on=function(M,V){P[M]||(P[M]=[]),P[M]=P[M].concat(V)},this.off=function(M,V){var F;return P[M]?(F=P[M].indexOf(V),P[M]=P[M].slice(),P[M].splice(F,1),F>-1):!1},this.trigger=function(M){var V,F,X,se;if(V=P[M],!!V)if(arguments.length===2)for(X=V.length,F=0;F<X;++F)V[F].call(this,arguments[1]);else{for(se=[],F=arguments.length,F=1;F<arguments.length;++F)se.push(arguments[F]);for(X=V.length,F=0;F<X;++F)V[F].apply(this,se)}},this.dispose=function(){P={}}}};t.prototype.pipe=function(P){return this.on("data",function(M){P.push(M)}),this.on("done",function(M){P.flush(M)}),this.on("partialdone",function(M){P.partialFlush(M)}),this.on("endedtimeline",function(M){P.endTimeline(M)}),this.on("reset",function(M){P.reset(M)}),P},t.prototype.push=function(P){this.trigger("data",P)},t.prototype.flush=function(P){this.trigger("done",P)},t.prototype.partialFlush=function(P){this.trigger("partialdone",P)},t.prototype.endTimeline=function(P){this.trigger("endedtimeline",P)},t.prototype.reset=function(P){this.trigger("reset",P)};var n=t,r=Math.pow(2,32),i=function(P){var M=new DataView(P.buffer,P.byteOffset,P.byteLength),V;return M.getBigUint64?(V=M.getBigUint64(0),V<Number.MAX_SAFE_INTEGER?Number(V):V):M.getUint32(0)*r+M.getUint32(4)},o={getUint64:i,MAX_UINT32:r},s=o.MAX_UINT32,a,l,u,c,d,f,m,h,g,S,y,v,b,_,x,T,w,E,C,D,O,I,k,B,q,H,z,ne,ue,Q,N,G,J,Y,L,K;(function(){var P;if(k={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(P in k)k.hasOwnProperty(P)&&(k[P]=[P.charCodeAt(0),P.charCodeAt(1),P.charCodeAt(2),P.charCodeAt(3)]);B=new Uint8Array([105,115,111,109]),H=new Uint8Array([97,118,99,49]),q=new Uint8Array([0,0,0,1]),z=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ne=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ue={video:z,audio:ne},G=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),N=new Uint8Array([0,0,0,0,0,0,0,0]),J=new Uint8Array([0,0,0,0,0,0,0,0]),Y=J,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),K=J,Q=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(P){var M=[],V=0,F,X,se;for(F=1;F<arguments.length;F++)M.push(arguments[F]);for(F=M.length;F--;)V+=M[F].byteLength;for(X=new Uint8Array(V+8),se=new DataView(X.buffer,X.byteOffset,X.byteLength),se.setUint32(0,X.byteLength),X.set(P,4),F=0,V=8;F<M.length;F++)X.set(M[F],V),V+=M[F].byteLength;return X},l=function(){return a(k.dinf,a(k.dref,G))},u=function(P){return a(k.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,P.audioobjecttype<<3|P.samplingfrequencyindex>>>1,P.samplingfrequencyindex<<7|P.channelcount<<3,6,1,2]))},c=function(){return a(k.ftyp,B,q,B,H)},T=function(P){return a(k.hdlr,ue[P])},d=function(P){return a(k.mdat,P)},x=function(P){var M=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,P.duration>>>24&255,P.duration>>>16&255,P.duration>>>8&255,P.duration&255,85,196,0,0]);return P.samplerate&&(M[12]=P.samplerate>>>24&255,M[13]=P.samplerate>>>16&255,M[14]=P.samplerate>>>8&255,M[15]=P.samplerate&255),a(k.mdhd,M)},_=function(P){return a(k.mdia,x(P),T(P.type),m(P))},f=function(P){return a(k.mfhd,new Uint8Array([0,0,0,0,(P&4278190080)>>24,(P&16711680)>>16,(P&65280)>>8,P&255]))},m=function(P){return a(k.minf,P.type==="video"?a(k.vmhd,Q):a(k.smhd,N),l(),E(P))},h=function(P,M){for(var V=[],F=M.length;F--;)V[F]=D(M[F]);return a.apply(null,[k.moof,f(P)].concat(V))},g=function(P){for(var M=P.length,V=[];M--;)V[M]=v(P[M]);return a.apply(null,[k.moov,y(4294967295)].concat(V).concat(S(P)))},S=function(P){for(var M=P.length,V=[];M--;)V[M]=O(P[M]);return a.apply(null,[k.mvex].concat(V))},y=function(P){var M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(P&4278190080)>>24,(P&16711680)>>16,(P&65280)>>8,P&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(k.mvhd,M)},w=function(P){var M=P.samples||[],V=new Uint8Array(4+M.length),F,X;for(X=0;X<M.length;X++)F=M[X].flags,V[X+4]=F.dependsOn<<4|F.isDependedOn<<2|F.hasRedundancy;return a(k.sdtp,V)},E=function(P){return a(k.stbl,C(P),a(k.stts,K),a(k.stsc,Y),a(k.stsz,L),a(k.stco,J))},function(){var P,M;C=function(V){return a(k.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),V.type==="video"?P(V):M(V))},P=function(V){var F=V.sps||[],X=V.pps||[],se=[],we=[],Ee,Re;for(Ee=0;Ee<F.length;Ee++)se.push((F[Ee].byteLength&65280)>>>8),se.push(F[Ee].byteLength&255),se=se.concat(Array.prototype.slice.call(F[Ee]));for(Ee=0;Ee<X.length;Ee++)we.push((X[Ee].byteLength&65280)>>>8),we.push(X[Ee].byteLength&255),we=we.concat(Array.prototype.slice.call(X[Ee]));if(Re=[k.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(V.width&65280)>>8,V.width&255,(V.height&65280)>>8,V.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(k.avcC,new Uint8Array([1,V.profileIdc,V.profileCompatibility,V.levelIdc,255].concat([F.length],se,[X.length],we))),a(k.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],V.sarRatio){var ke=V.sarRatio[0],Ye=V.sarRatio[1];Re.push(a(k.pasp,new Uint8Array([(ke&4278190080)>>24,(ke&16711680)>>16,(ke&65280)>>8,ke&255,(Ye&4278190080)>>24,(Ye&16711680)>>16,(Ye&65280)>>8,Ye&255])))}return a.apply(null,Re)},M=function(V){return a(k.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(V.channelcount&65280)>>8,V.channelcount&255,(V.samplesize&65280)>>8,V.samplesize&255,0,0,0,0,(V.samplerate&65280)>>8,V.samplerate&255,0,0]),u(V))}}(),b=function(P){var M=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,0,(P.duration&4278190080)>>24,(P.duration&16711680)>>16,(P.duration&65280)>>8,P.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(P.width&65280)>>8,P.width&255,0,0,(P.height&65280)>>8,P.height&255,0,0]);return a(k.tkhd,M)},D=function(P){var M,V,F,X,se,we,Ee;return M=a(k.tfhd,new Uint8Array([0,0,0,58,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),we=Math.floor(P.baseMediaDecodeTime/s),Ee=Math.floor(P.baseMediaDecodeTime%s),V=a(k.tfdt,new Uint8Array([1,0,0,0,we>>>24&255,we>>>16&255,we>>>8&255,we&255,Ee>>>24&255,Ee>>>16&255,Ee>>>8&255,Ee&255])),se=92,P.type==="audio"?(F=I(P,se),a(k.traf,M,V,F)):(X=w(P),F=I(P,X.length+se),a(k.traf,M,V,F,X))},v=function(P){return P.duration=P.duration||4294967295,a(k.trak,b(P),_(P))},O=function(P){var M=new Uint8Array([0,0,0,0,(P.id&4278190080)>>24,(P.id&16711680)>>16,(P.id&65280)>>8,P.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return P.type!=="video"&&(M[M.length-1]=0),a(k.trex,M)},function(){var P,M,V;V=function(F,X){var se=0,we=0,Ee=0,Re=0;return F.length&&(F[0].duration!==void 0&&(se=1),F[0].size!==void 0&&(we=2),F[0].flags!==void 0&&(Ee=4),F[0].compositionTimeOffset!==void 0&&(Re=8)),[0,0,se|we|Ee|Re,1,(F.length&4278190080)>>>24,(F.length&16711680)>>>16,(F.length&65280)>>>8,F.length&255,(X&4278190080)>>>24,(X&16711680)>>>16,(X&65280)>>>8,X&255]},M=function(F,X){var se,we,Ee,Re,ke,Ye;for(Re=F.samples||[],X+=20+16*Re.length,Ee=V(Re,X),we=new Uint8Array(Ee.length+Re.length*16),we.set(Ee),se=Ee.length,Ye=0;Ye<Re.length;Ye++)ke=Re[Ye],we[se++]=(ke.duration&4278190080)>>>24,we[se++]=(ke.duration&16711680)>>>16,we[se++]=(ke.duration&65280)>>>8,we[se++]=ke.duration&255,we[se++]=(ke.size&4278190080)>>>24,we[se++]=(ke.size&16711680)>>>16,we[se++]=(ke.size&65280)>>>8,we[se++]=ke.size&255,we[se++]=ke.flags.isLeading<<2|ke.flags.dependsOn,we[se++]=ke.flags.isDependedOn<<6|ke.flags.hasRedundancy<<4|ke.flags.paddingValue<<1|ke.flags.isNonSyncSample,we[se++]=ke.flags.degradationPriority&61440,we[se++]=ke.flags.degradationPriority&15,we[se++]=(ke.compositionTimeOffset&4278190080)>>>24,we[se++]=(ke.compositionTimeOffset&16711680)>>>16,we[se++]=(ke.compositionTimeOffset&65280)>>>8,we[se++]=ke.compositionTimeOffset&255;return a(k.trun,we)},P=function(F,X){var se,we,Ee,Re,ke,Ye;for(Re=F.samples||[],X+=20+8*Re.length,Ee=V(Re,X),se=new Uint8Array(Ee.length+Re.length*8),se.set(Ee),we=Ee.length,Ye=0;Ye<Re.length;Ye++)ke=Re[Ye],se[we++]=(ke.duration&4278190080)>>>24,se[we++]=(ke.duration&16711680)>>>16,se[we++]=(ke.duration&65280)>>>8,se[we++]=ke.duration&255,se[we++]=(ke.size&4278190080)>>>24,se[we++]=(ke.size&16711680)>>>16,se[we++]=(ke.size&65280)>>>8,se[we++]=ke.size&255;return a(k.trun,se)},I=function(F,X){return F.type==="audio"?P(F,X):M(F,X)}}();var ie={ftyp:c,mdat:d,moof:h,moov:g,initSegment:function(P){var M=c(),V=g(P),F;return F=new Uint8Array(M.byteLength+V.byteLength),F.set(M),F.set(V,M.byteLength),F}},de=function(P){var M,V,F=[],X=[];for(X.byteLength=0,X.nalCount=0,X.duration=0,F.byteLength=0,M=0;M<P.length;M++)V=P[M],V.nalUnitType==="access_unit_delimiter_rbsp"?(F.length&&(F.duration=V.dts-F.dts,X.byteLength+=F.byteLength,X.nalCount+=F.length,X.duration+=F.duration,X.push(F)),F=[V],F.byteLength=V.data.byteLength,F.pts=V.pts,F.dts=V.dts):(V.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(F.keyFrame=!0),F.duration=V.dts-F.dts,F.byteLength+=V.data.byteLength,F.push(V));return X.length&&(!F.duration||F.duration<=0)&&(F.duration=X[X.length-1].duration),X.byteLength+=F.byteLength,X.nalCount+=F.length,X.duration+=F.duration,X.push(F),X},ye=function(P){var M,V,F=[],X=[];for(F.byteLength=0,F.nalCount=0,F.duration=0,F.pts=P[0].pts,F.dts=P[0].dts,X.byteLength=0,X.nalCount=0,X.duration=0,X.pts=P[0].pts,X.dts=P[0].dts,M=0;M<P.length;M++)V=P[M],V.keyFrame?(F.length&&(X.push(F),X.byteLength+=F.byteLength,X.nalCount+=F.nalCount,X.duration+=F.duration),F=[V],F.nalCount=V.length,F.byteLength=V.byteLength,F.pts=V.pts,F.dts=V.dts,F.duration=V.duration):(F.duration+=V.duration,F.nalCount+=V.length,F.byteLength+=V.byteLength,F.push(V));return X.length&&F.duration<=0&&(F.duration=X[X.length-1].duration),X.byteLength+=F.byteLength,X.nalCount+=F.nalCount,X.duration+=F.duration,X.push(F),X},Te=function(P){var M;return!P[0][0].keyFrame&&P.length>1&&(M=P.shift(),P.byteLength-=M.byteLength,P.nalCount-=M.nalCount,P[0][0].dts=M.dts,P[0][0].pts=M.pts,P[0][0].duration+=M.duration),P},me=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},ae=function(P,M){var V=me();return V.dataOffset=M,V.compositionTimeOffset=P.pts-P.dts,V.duration=P.duration,V.size=4*P.length,V.size+=P.byteLength,P.keyFrame&&(V.flags.dependsOn=2,V.flags.isNonSyncSample=0),V},ge=function(P,M){var V,F,X,se,we,Ee=M||0,Re=[];for(V=0;V<P.length;V++)for(se=P[V],F=0;F<se.length;F++)we=se[F],X=ae(we,Ee),Ee+=X.size,Re.push(X);return Re},$=function(P){var M,V,F,X,se,we,Ee=0,Re=P.byteLength,ke=P.nalCount,Ye=Re+4*ke,ot=new Uint8Array(Ye),Lt=new DataView(ot.buffer);for(M=0;M<P.length;M++)for(X=P[M],V=0;V<X.length;V++)for(se=X[V],F=0;F<se.length;F++)we=se[F],Lt.setUint32(Ee,we.data.byteLength),Ee+=4,ot.set(we.data,Ee),Ee+=we.data.byteLength;return ot},te=function(P,M){var V,F=M||0,X=[];return V=ae(P,F),X.push(V),X},oe=function(P){var M,V,F=0,X=P.byteLength,se=P.length,we=X+4*se,Ee=new Uint8Array(we),Re=new DataView(Ee.buffer);for(M=0;M<P.length;M++)V=P[M],Re.setUint32(F,V.data.byteLength),F+=4,Ee.set(V.data,F),F+=V.data.byteLength;return Ee},Se={groupNalsIntoFrames:de,groupFramesIntoGops:ye,extendFirstKeyFrame:Te,generateSampleTable:ge,concatenateNalData:$,generateSampleTableForFrame:te,concatenateNalDataForFrame:oe},Pe=[33,16,5,32,164,27],Oe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Be=function(P){for(var M=[];P--;)M.push(0);return M},Z=function(P){return Object.keys(P).reduce(function(M,V){return M[V]=new Uint8Array(P[V].reduce(function(F,X){return F.concat(X)},[])),M},{})},ce,xe=function(){if(!ce){var P={96e3:[Pe,[227,64],Be(154),[56]],88200:[Pe,[231],Be(170),[56]],64e3:[Pe,[248,192],Be(240),[56]],48e3:[Pe,[255,192],Be(268),[55,148,128],Be(54),[112]],44100:[Pe,[255,192],Be(268),[55,163,128],Be(84),[112]],32e3:[Pe,[255,192],Be(268),[55,234],Be(226),[112]],24e3:[Pe,[255,192],Be(268),[55,255,128],Be(268),[111,112],Be(126),[224]],16e3:[Pe,[255,192],Be(268),[55,255,128],Be(268),[111,255],Be(269),[223,108],Be(195),[1,192]],12e3:[Oe,Be(268),[3,127,248],Be(268),[6,255,240],Be(268),[13,255,224],Be(268),[27,253,128],Be(259),[56]],11025:[Oe,Be(268),[3,127,248],Be(268),[6,255,240],Be(268),[13,255,224],Be(268),[27,255,192],Be(268),[55,175,128],Be(108),[112]],8e3:[Oe,Be(268),[3,121,16],Be(47),[7]]};ce=Z(P)}return ce},Ce=9e4,pe,je,Qe,Ve,Ne,Je,qe;pe=function(P){return P*Ce},je=function(P,M){return P*M},Qe=function(P){return P/Ce},Ve=function(P,M){return P/M},Ne=function(P,M){return pe(Ve(P,M))},Je=function(P,M){return je(Qe(P),M)},qe=function(P,M,V){return Qe(V?P:P-M)};var Ze={ONE_SECOND_IN_TS:Ce,secondsToVideoTs:pe,secondsToAudioTs:je,videoTsToSeconds:Qe,audioTsToSeconds:Ve,audioTsToVideoTs:Ne,videoTsToAudioTs:Je,metadataTsToSeconds:qe},Mt=xe,Ut=Ze,Ft=function(P){var M,V,F=0;for(M=0;M<P.length;M++)V=P[M],F+=V.data.byteLength;return F},bt=function(P,M,V,F){var X,se=0,we=0,Ee=0,Re=0,ke,Ye,ot;if(M.length&&(X=Ut.audioTsToVideoTs(P.baseMediaDecodeTime,P.samplerate),se=Math.ceil(Ut.ONE_SECOND_IN_TS/(P.samplerate/1024)),V&&F&&(we=X-Math.max(V,F),Ee=Math.floor(we/se),Re=Ee*se),!(Ee<1||Re>Ut.ONE_SECOND_IN_TS/2))){for(ke=Mt()[P.samplerate],ke||(ke=M[0].data),Ye=0;Ye<Ee;Ye++)ot=M[0],M.splice(0,0,{data:ke,dts:ot.dts-se,pts:ot.pts-se});return P.baseMediaDecodeTime-=Math.floor(Ut.videoTsToAudioTs(Re,P.samplerate)),Re}},Jn=function(P,M,V){return M.minSegmentDts>=V?P:(M.minSegmentDts=1/0,P.filter(function(F){return F.dts>=V?(M.minSegmentDts=Math.min(M.minSegmentDts,F.dts),M.minSegmentPts=M.minSegmentDts,!0):!1}))},sn=function(P){var M,V,F=[];for(M=0;M<P.length;M++)V=P[M],F.push({size:V.data.byteLength,duration:1024});return F},gn=function(P){var M,V,F=0,X=new Uint8Array(Ft(P));for(M=0;M<P.length;M++)V=P[M],X.set(V.data,F),F+=V.data.byteLength;return X},vn={prefixWithSilence:bt,trimAdtsFramesByEarliestDts:Jn,generateSampleTable:sn,concatenateFrameData:gn},An=Ze.ONE_SECOND_IN_TS,Kt=function(P,M){typeof M.pts=="number"&&(P.timelineStartInfo.pts===void 0&&(P.timelineStartInfo.pts=M.pts),P.minSegmentPts===void 0?P.minSegmentPts=M.pts:P.minSegmentPts=Math.min(P.minSegmentPts,M.pts),P.maxSegmentPts===void 0?P.maxSegmentPts=M.pts:P.maxSegmentPts=Math.max(P.maxSegmentPts,M.pts)),typeof M.dts=="number"&&(P.timelineStartInfo.dts===void 0&&(P.timelineStartInfo.dts=M.dts),P.minSegmentDts===void 0?P.minSegmentDts=M.dts:P.minSegmentDts=Math.min(P.minSegmentDts,M.dts),P.maxSegmentDts===void 0?P.maxSegmentDts=M.dts:P.maxSegmentDts=Math.max(P.maxSegmentDts,M.dts))},Mn=function(P){delete P.minSegmentDts,delete P.maxSegmentDts,delete P.minSegmentPts,delete P.maxSegmentPts},et=function(P,M){var V,F,X=P.minSegmentDts;return M||(X-=P.timelineStartInfo.dts),V=P.timelineStartInfo.baseMediaDecodeTime,V+=X,V=Math.max(0,V),P.type==="audio"&&(F=P.samplerate/An,V*=F,V=Math.floor(V)),V},tr={clearDtsInfo:Mn,calculateTrackBaseMediaDecodeTime:et,collectDtsInfo:Kt},Zt=4,$e=128,qn=function(P){for(var M=0,V={payloadType:-1,payloadSize:0},F=0,X=0;M<P.byteLength&&P[M]!==$e;){for(;P[M]===255;)F+=255,M++;for(F+=P[M++];P[M]===255;)X+=255,M++;if(X+=P[M++],!V.payload&&F===Zt){var se=String.fromCharCode(P[M+3],P[M+4],P[M+5],P[M+6]);if(se==="GA94"){V.payloadType=F,V.payloadSize=X,V.payload=P.subarray(M,M+X);break}else V.payload=void 0}M+=X,F=0,X=0}return V},gi=function(P){return P.payload[0]!==181||(P.payload[1]<<8|P.payload[2])!==49||String.fromCharCode(P.payload[3],P.payload[4],P.payload[5],P.payload[6])!=="GA94"||P.payload[7]!==3?null:P.payload.subarray(8,P.payload.length-1)},jn=function(P,M){var V=[],F,X,se,we;if(!(M[0]&64))return V;for(X=M[0]&31,F=0;F<X;F++)se=F*3,we={type:M[se+2]&3,pts:P},M[se+2]&4&&(we.ccData=M[se+3]<<8|M[se+4],V.push(we));return V},Ie=function(P){for(var M=P.byteLength,V=[],F=1,X,se;F<M-2;)P[F]===0&&P[F+1]===0&&P[F+2]===3?(V.push(F+2),F+=2):F++;if(V.length===0)return P;X=M-V.length,se=new Uint8Array(X);var we=0;for(F=0;F<X;we++,F++)we===V[0]&&(we++,V.shift()),se[F]=P[we];return se},We={parseSei:qn,parseUserData:gi,parseCaptionPackets:jn,discardEmulationPreventionBytes:Ie,USER_DATA_REGISTERED_ITU_T_T35:Zt},tt=n,at=We,mt=function(P){P=P||{},mt.prototype.init.call(this),this.parse708captions_=typeof P.parse708captions=="boolean"?P.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new fe(0,0),new fe(0,1),new fe(1,0),new fe(1,1)],this.parse708captions_&&(this.cc708Stream_=new _e({captionServices:P.captionServices})),this.reset(),this.ccStreams_.forEach(function(M){M.on("data",this.trigger.bind(this,"data")),M.on("partialdone",this.trigger.bind(this,"partialdone")),M.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};mt.prototype=new tt,mt.prototype.push=function(P){var M,V,F;if(P.nalUnitType==="sei_rbsp"&&(M=at.parseSei(P.escapedRBSP),!!M.payload&&M.payloadType===at.USER_DATA_REGISTERED_ITU_T_T35&&(V=at.parseUserData(M),!!V))){if(P.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(P.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}F=at.parseCaptionPackets(P.pts,V),this.captionPackets_=this.captionPackets_.concat(F),this.latestDts_!==P.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=P.dts}},mt.prototype.flushCCStreams=function(P){this.ccStreams_.forEach(function(M){return P==="flush"?M.flush():M.partialFlush()},this)},mt.prototype.flushStream=function(P){if(!this.captionPackets_.length){this.flushCCStreams(P);return}this.captionPackets_.forEach(function(M,V){M.presortIndex=V}),this.captionPackets_.sort(function(M,V){return M.pts===V.pts?M.presortIndex-V.presortIndex:M.pts-V.pts}),this.captionPackets_.forEach(function(M){M.type<2?this.dispatchCea608Packet(M):this.dispatchCea708Packet(M)},this),this.captionPackets_.length=0,this.flushCCStreams(P)},mt.prototype.flush=function(){return this.flushStream("flush")},mt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},mt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(P){P.reset()})},mt.prototype.dispatchCea608Packet=function(P){this.setsTextOrXDSActive(P)?this.activeCea608Channel_[P.type]=null:this.setsChannel1Active(P)?this.activeCea608Channel_[P.type]=0:this.setsChannel2Active(P)&&(this.activeCea608Channel_[P.type]=1),this.activeCea608Channel_[P.type]!==null&&this.ccStreams_[(P.type<<1)+this.activeCea608Channel_[P.type]].push(P)},mt.prototype.setsChannel1Active=function(P){return(P.ccData&30720)===4096},mt.prototype.setsChannel2Active=function(P){return(P.ccData&30720)===6144},mt.prototype.setsTextOrXDSActive=function(P){return(P.ccData&28928)===256||(P.ccData&30974)===4138||(P.ccData&30974)===6186},mt.prototype.dispatchCea708Packet=function(P){this.parse708captions_&&this.cc708Stream_.push(P)};var W={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},le=function(P){var M=W[P]||P;return P&4096&&P===M?"":String.fromCharCode(M)},he=function(P){return 32<=P&&P<=127||160<=P&&P<=255},ve=function(P){this.windowNum=P,this.reset()};ve.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ve.prototype.getText=function(){return this.rows.join(`
`)},ve.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ve.prototype.newLine=function(P){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(P),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ve.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ve.prototype.addText=function(P){this.rows[this.rowIdx]+=P},ve.prototype.backspace=function(){if(!this.isEmpty()){var P=this.rows[this.rowIdx];this.rows[this.rowIdx]=P.substr(0,P.length-1)}};var be=function(P,M,V){this.serviceNum=P,this.text="",this.currentWindow=new ve(-1),this.windows=[],this.stream=V,typeof M=="string"&&this.createTextDecoder(M)};be.prototype.init=function(P,M){this.startPts=P;for(var V=0;V<8;V++)this.windows[V]=new ve(V),typeof M=="function"&&(this.windows[V].beforeRowOverflow=M)},be.prototype.setCurrentWindow=function(P){this.currentWindow=this.windows[P]},be.prototype.createTextDecoder=function(P){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(P)}catch(M){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+P+" encoding. "+M})}};var _e=function(P){P=P||{},_e.prototype.init.call(this);var M=this,V=P.captionServices||{},F={},X;Object.keys(V).forEach(se=>{X=V[se],/^SERVICE/.test(se)&&(F[se]=X.encoding)}),this.serviceEncodings=F,this.current708Packet=null,this.services={},this.push=function(se){se.type===3?(M.new708Packet(),M.add708Bytes(se)):(M.current708Packet===null&&M.new708Packet(),M.add708Bytes(se))}};_e.prototype=new tt,_e.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},_e.prototype.add708Bytes=function(P){var M=P.ccData,V=M>>>8,F=M&255;this.current708Packet.ptsVals.push(P.pts),this.current708Packet.data.push(V),this.current708Packet.data.push(F)},_e.prototype.push708Packet=function(){var P=this.current708Packet,M=P.data,V=null,F=null,X=0,se=M[X++];for(P.seq=se>>6,P.sizeCode=se&63;X<M.length;X++)se=M[X++],V=se>>5,F=se&31,V===7&&F>0&&(se=M[X++],V=se),this.pushServiceBlock(V,X,F),F>0&&(X+=F-1)},_e.prototype.pushServiceBlock=function(P,M,V){var F,X=M,se=this.current708Packet.data,we=this.services[P];for(we||(we=this.initService(P,X));X<M+V&&X<se.length;X++)F=se[X],he(F)?X=this.handleText(X,we):F===24?X=this.multiByteCharacter(X,we):F===16?X=this.extendedCommands(X,we):128<=F&&F<=135?X=this.setCurrentWindow(X,we):152<=F&&F<=159?X=this.defineWindow(X,we):F===136?X=this.clearWindows(X,we):F===140?X=this.deleteWindows(X,we):F===137?X=this.displayWindows(X,we):F===138?X=this.hideWindows(X,we):F===139?X=this.toggleWindows(X,we):F===151?X=this.setWindowAttributes(X,we):F===144?X=this.setPenAttributes(X,we):F===145?X=this.setPenColor(X,we):F===146?X=this.setPenLocation(X,we):F===143?we=this.reset(X,we):F===8?we.currentWindow.backspace():F===12?we.currentWindow.clearText():F===13?we.currentWindow.pendingNewLine=!0:F===14?we.currentWindow.clearText():F===141&&X++},_e.prototype.extendedCommands=function(P,M){var V=this.current708Packet.data,F=V[++P];return he(F)&&(P=this.handleText(P,M,{isExtended:!0})),P},_e.prototype.getPts=function(P){return this.current708Packet.ptsVals[Math.floor(P/2)]},_e.prototype.initService=function(P,M){var F="SERVICE"+P,V=this,F,X;return F in this.serviceEncodings&&(X=this.serviceEncodings[F]),this.services[P]=new be(P,X,V),this.services[P].init(this.getPts(M),function(se){V.flushDisplayed(se,V.services[P])}),this.services[P]},_e.prototype.handleText=function(P,M,V){var F=V&&V.isExtended,X=V&&V.isMultiByte,se=this.current708Packet.data,we=F?4096:0,Ee=se[P],Re=se[P+1],ke=M.currentWindow,Ye,ot;function Lt(ft){return ft.map(pn=>("0"+(pn&255).toString(16)).slice(-2)).join("")}if(X?(ot=[Ee,Re],P++):ot=[Ee],M.textDecoder_&&!F)Ye=M.textDecoder_.decode(new Uint8Array(ot));else if(X){const ft=Lt(ot);Ye=String.fromCharCode(parseInt(ft,16))}else Ye=le(we|Ee);return ke.pendingNewLine&&!ke.isEmpty()&&ke.newLine(this.getPts(P)),ke.pendingNewLine=!1,ke.addText(Ye),P},_e.prototype.multiByteCharacter=function(P,M){var V=this.current708Packet.data,F=V[P+1],X=V[P+2];return he(F)&&he(X)&&(P=this.handleText(++P,M,{isMultiByte:!0})),P},_e.prototype.setCurrentWindow=function(P,M){var V=this.current708Packet.data,F=V[P],X=F&7;return M.setCurrentWindow(X),P},_e.prototype.defineWindow=function(P,M){var V=this.current708Packet.data,F=V[P],X=F&7;M.setCurrentWindow(X);var se=M.currentWindow;return F=V[++P],se.visible=(F&32)>>5,se.rowLock=(F&16)>>4,se.columnLock=(F&8)>>3,se.priority=F&7,F=V[++P],se.relativePositioning=(F&128)>>7,se.anchorVertical=F&127,F=V[++P],se.anchorHorizontal=F,F=V[++P],se.anchorPoint=(F&240)>>4,se.rowCount=F&15,F=V[++P],se.columnCount=F&63,F=V[++P],se.windowStyle=(F&56)>>3,se.penStyle=F&7,se.virtualRowCount=se.rowCount+1,P},_e.prototype.setWindowAttributes=function(P,M){var V=this.current708Packet.data,F=V[P],X=M.currentWindow.winAttr;return F=V[++P],X.fillOpacity=(F&192)>>6,X.fillRed=(F&48)>>4,X.fillGreen=(F&12)>>2,X.fillBlue=F&3,F=V[++P],X.borderType=(F&192)>>6,X.borderRed=(F&48)>>4,X.borderGreen=(F&12)>>2,X.borderBlue=F&3,F=V[++P],X.borderType+=(F&128)>>5,X.wordWrap=(F&64)>>6,X.printDirection=(F&48)>>4,X.scrollDirection=(F&12)>>2,X.justify=F&3,F=V[++P],X.effectSpeed=(F&240)>>4,X.effectDirection=(F&12)>>2,X.displayEffect=F&3,P},_e.prototype.flushDisplayed=function(P,M){for(var V=[],F=0;F<8;F++)M.windows[F].visible&&!M.windows[F].isEmpty()&&V.push(M.windows[F].getText());M.endPts=P,M.text=V.join(`

`),this.pushCaption(M),M.startPts=P},_e.prototype.pushCaption=function(P){P.text!==""&&(this.trigger("data",{startPts:P.startPts,endPts:P.endPts,text:P.text,stream:"cc708_"+P.serviceNum}),P.text="",P.startPts=P.endPts)},_e.prototype.displayWindows=function(P,M){var V=this.current708Packet.data,F=V[++P],X=this.getPts(P);this.flushDisplayed(X,M);for(var se=0;se<8;se++)F&1<<se&&(M.windows[se].visible=1);return P},_e.prototype.hideWindows=function(P,M){var V=this.current708Packet.data,F=V[++P],X=this.getPts(P);this.flushDisplayed(X,M);for(var se=0;se<8;se++)F&1<<se&&(M.windows[se].visible=0);return P},_e.prototype.toggleWindows=function(P,M){var V=this.current708Packet.data,F=V[++P],X=this.getPts(P);this.flushDisplayed(X,M);for(var se=0;se<8;se++)F&1<<se&&(M.windows[se].visible^=1);return P},_e.prototype.clearWindows=function(P,M){var V=this.current708Packet.data,F=V[++P],X=this.getPts(P);this.flushDisplayed(X,M);for(var se=0;se<8;se++)F&1<<se&&M.windows[se].clearText();return P},_e.prototype.deleteWindows=function(P,M){var V=this.current708Packet.data,F=V[++P],X=this.getPts(P);this.flushDisplayed(X,M);for(var se=0;se<8;se++)F&1<<se&&M.windows[se].reset();return P},_e.prototype.setPenAttributes=function(P,M){var V=this.current708Packet.data,F=V[P],X=M.currentWindow.penAttr;return F=V[++P],X.textTag=(F&240)>>4,X.offset=(F&12)>>2,X.penSize=F&3,F=V[++P],X.italics=(F&128)>>7,X.underline=(F&64)>>6,X.edgeType=(F&56)>>3,X.fontStyle=F&7,P},_e.prototype.setPenColor=function(P,M){var V=this.current708Packet.data,F=V[P],X=M.currentWindow.penColor;return F=V[++P],X.fgOpacity=(F&192)>>6,X.fgRed=(F&48)>>4,X.fgGreen=(F&12)>>2,X.fgBlue=F&3,F=V[++P],X.bgOpacity=(F&192)>>6,X.bgRed=(F&48)>>4,X.bgGreen=(F&12)>>2,X.bgBlue=F&3,F=V[++P],X.edgeRed=(F&48)>>4,X.edgeGreen=(F&12)>>2,X.edgeBlue=F&3,P},_e.prototype.setPenLocation=function(P,M){var V=this.current708Packet.data,F=V[P],X=M.currentWindow.penLoc;return M.currentWindow.pendingNewLine=!0,F=V[++P],X.row=F&15,F=V[++P],X.column=F&63,P},_e.prototype.reset=function(P,M){var V=this.getPts(P);return this.flushDisplayed(V,M),this.initService(M.serviceNum,P)};var Le={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ue=function(P){return P===null?"":(P=Le[P]||P,String.fromCharCode(P))},rt=14,Ke=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ze=function(){for(var P=[],M=rt+1;M--;)P.push({text:"",indent:0,offset:0});return P},fe=function(P,M){fe.prototype.init.call(this),this.field_=P||0,this.dataChannel_=M||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(V){var F,X,se,we,Ee;if(F=V.ccData&32639,F===this.lastControlCode_){this.lastControlCode_=null;return}if((F&61440)===4096?this.lastControlCode_=F:F!==this.PADDING_&&(this.lastControlCode_=null),se=F>>>8,we=F&255,F!==this.PADDING_)if(F===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(F===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(V.pts),this.flushDisplayed(V.pts),X=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=X,this.startPts_=V.pts;else if(F===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(V.pts);else if(F===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(V.pts);else if(F===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(V.pts);else if(F===this.CARRIAGE_RETURN_)this.clearFormatting(V.pts),this.flushDisplayed(V.pts),this.shiftRowsUp_(),this.startPts_=V.pts;else if(F===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(F===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(V.pts),this.displayed_=ze();else if(F===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ze();else if(F===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(V.pts),this.displayed_=ze()),this.mode_="paintOn",this.startPts_=V.pts;else if(this.isSpecialCharacter(se,we))se=(se&3)<<8,Ee=Ue(se|we),this[this.mode_](V.pts,Ee),this.column_++;else if(this.isExtCharacter(se,we))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),se=(se&3)<<8,Ee=Ue(se|we),this[this.mode_](V.pts,Ee),this.column_++;else if(this.isMidRowCode(se,we))this.clearFormatting(V.pts),this[this.mode_](V.pts," "),this.column_++,(we&14)===14&&this.addFormatting(V.pts,["i"]),(we&1)===1&&this.addFormatting(V.pts,["u"]);else if(this.isOffsetControlCode(se,we)){const ke=we&3;this.nonDisplayed_[this.row_].offset=ke,this.column_+=ke}else if(this.isPAC(se,we)){var Re=Ke.indexOf(F&7968);if(this.mode_==="rollUp"&&(Re-this.rollUpRows_+1<0&&(Re=this.rollUpRows_-1),this.setRollUp(V.pts,Re)),Re!==this.row_&&Re>=0&&Re<=14&&(this.clearFormatting(V.pts),this.row_=Re),we&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(V.pts,["u"]),(F&16)===16){const ke=(F&14)>>1;this.column_=ke*4,this.nonDisplayed_[this.row_].indent+=ke}this.isColorPAC(we)&&(we&14)===14&&this.addFormatting(V.pts,["i"])}else this.isNormalChar(se)&&(we===0&&(we=null),Ee=Ue(se),Ee+=Ue(we),this[this.mode_](V.pts,Ee),this.column_+=Ee.length)}};fe.prototype=new tt,fe.prototype.flushDisplayed=function(P){const M=F=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+F+"."})},V=[];this.displayed_.forEach((F,X)=>{if(F&&F.text&&F.text.length){try{F.text=F.text.trim()}catch{M(X)}F.text.length&&V.push({text:F.text,line:X+1,position:10+Math.min(70,F.indent*10)+F.offset*2.5})}else F==null&&M(X)}),V.length&&this.trigger("data",{startPts:this.startPts_,endPts:P,content:V,stream:this.name_})},fe.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ze(),this.nonDisplayed_=ze(),this.lastControlCode_=null,this.column_=0,this.row_=rt,this.rollUpRows_=2,this.formatting_=[]},fe.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},fe.prototype.isSpecialCharacter=function(P,M){return P===this.EXT_&&M>=48&&M<=63},fe.prototype.isExtCharacter=function(P,M){return(P===this.EXT_+1||P===this.EXT_+2)&&M>=32&&M<=63},fe.prototype.isMidRowCode=function(P,M){return P===this.EXT_&&M>=32&&M<=47},fe.prototype.isOffsetControlCode=function(P,M){return P===this.OFFSET_&&M>=33&&M<=35},fe.prototype.isPAC=function(P,M){return P>=this.BASE_&&P<this.BASE_+8&&M>=64&&M<=127},fe.prototype.isColorPAC=function(P){return P>=64&&P<=79||P>=96&&P<=127},fe.prototype.isNormalChar=function(P){return P>=32&&P<=127},fe.prototype.setRollUp=function(P,M){if(this.mode_!=="rollUp"&&(this.row_=rt,this.mode_="rollUp",this.flushDisplayed(P),this.nonDisplayed_=ze(),this.displayed_=ze()),M!==void 0&&M!==this.row_)for(var V=0;V<this.rollUpRows_;V++)this.displayed_[M-V]=this.displayed_[this.row_-V],this.displayed_[this.row_-V]={text:"",indent:0,offset:0};M===void 0&&(M=this.row_),this.topRow_=M-this.rollUpRows_+1},fe.prototype.addFormatting=function(P,M){this.formatting_=this.formatting_.concat(M);var V=M.reduce(function(F,X){return F+"<"+X+">"},"");this[this.mode_](P,V)},fe.prototype.clearFormatting=function(P){if(this.formatting_.length){var M=this.formatting_.reverse().reduce(function(V,F){return V+"</"+F+">"},"");this.formatting_=[],this[this.mode_](P,M)}},fe.prototype.popOn=function(P,M){var V=this.nonDisplayed_[this.row_].text;V+=M,this.nonDisplayed_[this.row_].text=V},fe.prototype.rollUp=function(P,M){var V=this.displayed_[this.row_].text;V+=M,this.displayed_[this.row_].text=V},fe.prototype.shiftRowsUp_=function(){var P;for(P=0;P<this.topRow_;P++)this.displayed_[P]={text:"",indent:0,offset:0};for(P=this.row_+1;P<rt+1;P++)this.displayed_[P]={text:"",indent:0,offset:0};for(P=this.topRow_;P<this.row_;P++)this.displayed_[P]=this.displayed_[P+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},fe.prototype.paintOn=function(P,M){var V=this.displayed_[this.row_].text;V+=M,this.displayed_[this.row_].text=V};var Ge={CaptionStream:mt,Cea608Stream:fe,Cea708Stream:_e},Xe={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},ut=n,gt=8589934592,_t=4294967296,Tt="shared",Jt=function(P,M){var V=1;for(P>M&&(V=-1);Math.abs(M-P)>_t;)P+=V*gt;return P},wn=function(P){var M,V;wn.prototype.init.call(this),this.type_=P||Tt,this.push=function(F){if(F.type==="metadata"){this.trigger("data",F);return}this.type_!==Tt&&F.type!==this.type_||(V===void 0&&(V=F.dts),F.dts=Jt(F.dts,V),F.pts=Jt(F.pts,V),M=F.dts,this.trigger("data",F))},this.flush=function(){V=M,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){V=void 0,M=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};wn.prototype=new ut;var nn={TimestampRolloverStream:wn,handleRollover:Jt},Rt=(P,M,V)=>{if(!P)return-1;for(var F=V;F<P.length;F++)if(P[F]===M)return F;return-1},Xt={typedArrayIndexOf:Rt},en=Xt.typedArrayIndexOf,cn={Utf8:3},bn=function(P,M,V){var F,X="";for(F=M;F<V;F++)X+="%"+("00"+P[F].toString(16)).slice(-2);return X},Un=function(P,M,V){return decodeURIComponent(bn(P,M,V))},an=function(P,M,V){return unescape(bn(P,M,V))},Pn=function(P){return P[0]<<21|P[1]<<14|P[2]<<7|P[3]},yt={APIC:function(P){var M=1,V,F,X="-->";P.data[0]===cn.Utf8&&(V=en(P.data,0,M),!(V<0)&&(P.mimeType=an(P.data,M,V),M=V+1,P.pictureType=P.data[M],M++,F=en(P.data,0,M),!(F<0)&&(P.description=Un(P.data,M,F),M=F+1,P.mimeType===X?P.url=an(P.data,M,P.data.length):P.pictureData=P.data.subarray(M,P.data.length))))},"T*":function(P){P.data[0]===cn.Utf8&&(P.value=Un(P.data,1,P.data.length).replace(/\0*$/,""),P.values=P.value.split("\0"))},TXXX:function(P){var M;P.data[0]===cn.Utf8&&(M=en(P.data,0,1),M!==-1&&(P.description=Un(P.data,1,M),P.value=Un(P.data,M+1,P.data.length).replace(/\0*$/,""),P.data=P.value))},"W*":function(P){P.url=an(P.data,0,P.data.length).replace(/\0.*$/,"")},WXXX:function(P){var M;P.data[0]===cn.Utf8&&(M=en(P.data,0,1),M!==-1&&(P.description=Un(P.data,1,M),P.url=an(P.data,M+1,P.data.length).replace(/\0.*$/,"")))},PRIV:function(P){var M;for(M=0;M<P.data.length;M++)if(P.data[M]===0){P.owner=an(P.data,0,M);break}P.privateData=P.data.subarray(M+1),P.data=P.privateData}},_n=function(P){var M,V,F=10,X=0,se=[];if(!(P.length<10||P[0]!==73||P[1]!==68||P[2]!==51)){X=Pn(P.subarray(6,10)),X+=10;var we=P[5]&64;we&&(F+=4,F+=Pn(P.subarray(10,14)),X-=Pn(P.subarray(16,20)));do{if(M=Pn(P.subarray(F+4,F+8)),M<1)break;V=String.fromCharCode(P[F],P[F+1],P[F+2],P[F+3]);var Ee={id:V,data:P.subarray(F+10,F+M+10)};Ee.key=Ee.id,yt[Ee.id]?yt[Ee.id](Ee):Ee.id[0]==="T"?yt["T*"](Ee):Ee.id[0]==="W"&&yt["W*"](Ee),se.push(Ee),F+=10,F+=M}while(F<X);return se}},Fn={parseId3Frames:_n,parseSyncSafeInteger:Pn,frameParsers:yt},zn=n,Hn=Xe,Or=Fn,Dr;Dr=function(P){var M={descriptor:P&&P.descriptor},V=0,F=[],X=0,se;if(Dr.prototype.init.call(this),this.dispatchType=Hn.METADATA_STREAM_TYPE.toString(16),M.descriptor)for(se=0;se<M.descriptor.length;se++)this.dispatchType+=("00"+M.descriptor[se].toString(16)).slice(-2);this.push=function(we){var Ee,Re,ke,Ye,ot,Lt;if(we.type==="timed-metadata"){if(we.dataAlignmentIndicator&&(X=0,F.length=0),F.length===0&&(we.data.length<10||we.data[0]!==73||we.data[1]!==68||we.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(F.push(we),X+=we.data.byteLength,F.length===1&&(V=Or.parseSyncSafeInteger(we.data.subarray(6,10)),V+=10),!(X<V)){for(Ee={data:new Uint8Array(V),frames:[],pts:F[0].pts,dts:F[0].dts},ot=0;ot<V;)Ee.data.set(F[0].data.subarray(0,V-ot),ot),ot+=F[0].data.byteLength,X-=F[0].data.byteLength,F.shift();Re=10,Ee.data[5]&64&&(Re+=4,Re+=Or.parseSyncSafeInteger(Ee.data.subarray(10,14)),V-=Or.parseSyncSafeInteger(Ee.data.subarray(16,20)));do{if(ke=Or.parseSyncSafeInteger(Ee.data.subarray(Re+4,Re+8)),ke<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Lt=String.fromCharCode(Ee.data[Re],Ee.data[Re+1],Ee.data[Re+2],Ee.data[Re+3]),Ye={id:Lt,data:Ee.data.subarray(Re+10,Re+ke+10)},Ye.key=Ye.id,Or.frameParsers[Ye.id]?Or.frameParsers[Ye.id](Ye):Ye.id[0]==="T"?Or.frameParsers["T*"](Ye):Ye.id[0]==="W"&&Or.frameParsers["W*"](Ye),Ye.owner==="com.apple.streaming.transportStreamTimestamp"){var ft=Ye.data,pn=(ft[3]&1)<<30|ft[4]<<22|ft[5]<<14|ft[6]<<6|ft[7]>>>2;pn*=4,pn+=ft[7]&3,Ye.timeStamp=pn,Ee.pts===void 0&&Ee.dts===void 0&&(Ee.pts=Ye.timeStamp,Ee.dts=Ye.timeStamp),this.trigger("timestamp",Ye)}Ee.frames.push(Ye),Re+=10,Re+=ke}while(Re<V);this.trigger("data",Ee)}}}},Dr.prototype=new zn;var Yo=Dr,Ji=n,Ao=Ge,qr=Xe,cr=nn.TimestampRolloverStream,Lr,pr,$r,Wn=188,br=71;Lr=function(){var P=new Uint8Array(Wn),M=0;Lr.prototype.init.call(this),this.push=function(V){var F=0,X=Wn,se;for(M?(se=new Uint8Array(V.byteLength+M),se.set(P.subarray(0,M)),se.set(V,M),M=0):se=V;X<se.byteLength;){if(se[F]===br&&se[X]===br){this.trigger("data",se.subarray(F,X)),F+=Wn,X+=Wn;continue}F++,X++}F<se.byteLength&&(P.set(se.subarray(F),0),M=se.byteLength-F)},this.flush=function(){M===Wn&&P[0]===br&&(this.trigger("data",P),M=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){M=0,this.trigger("reset")}},Lr.prototype=new Ji,pr=function(){var P,M,V,F;pr.prototype.init.call(this),F=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,P=function(X,se){var we=0;se.payloadUnitStartIndicator&&(we+=X[we]+1),se.type==="pat"?M(X.subarray(we),se):V(X.subarray(we),se)},M=function(X,se){se.section_number=X[7],se.last_section_number=X[8],F.pmtPid=(X[10]&31)<<8|X[11],se.pmtPid=F.pmtPid},V=function(X,se){var we,Ee,Re,ke;if(X[5]&1){for(F.programMapTable={video:null,audio:null,"timed-metadata":{}},we=(X[1]&15)<<8|X[2],Ee=3+we-4,Re=(X[10]&15)<<8|X[11],ke=12+Re;ke<Ee;){var Ye=X[ke],ot=(X[ke+1]&31)<<8|X[ke+2];Ye===qr.H264_STREAM_TYPE&&F.programMapTable.video===null?F.programMapTable.video=ot:Ye===qr.ADTS_STREAM_TYPE&&F.programMapTable.audio===null?F.programMapTable.audio=ot:Ye===qr.METADATA_STREAM_TYPE&&(F.programMapTable["timed-metadata"][ot]=Ye),ke+=((X[ke+3]&15)<<8|X[ke+4])+5}se.programMapTable=F.programMapTable}},this.push=function(X){var se={},we=4;if(se.payloadUnitStartIndicator=!!(X[1]&64),se.pid=X[1]&31,se.pid<<=8,se.pid|=X[2],(X[3]&48)>>>4>1&&(we+=X[we]+1),se.pid===0)se.type="pat",P(X.subarray(we),se),this.trigger("data",se);else if(se.pid===this.pmtPid)for(se.type="pmt",P(X.subarray(we),se),this.trigger("data",se);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([X,we,se]):this.processPes_(X,we,se)},this.processPes_=function(X,se,we){we.pid===this.programMapTable.video?we.streamType=qr.H264_STREAM_TYPE:we.pid===this.programMapTable.audio?we.streamType=qr.ADTS_STREAM_TYPE:we.streamType=this.programMapTable["timed-metadata"][we.pid],we.type="pes",we.data=X.subarray(se),this.trigger("data",we)}},pr.prototype=new Ji,pr.STREAM_TYPES={h264:27,adts:15},$r=function(){var P=this,M=!1,V={data:[],size:0},F={data:[],size:0},X={data:[],size:0},se,we=function(Re,ke){var Ye;const ot=Re[0]<<16|Re[1]<<8|Re[2];ke.data=new Uint8Array,ot===1&&(ke.packetLength=6+(Re[4]<<8|Re[5]),ke.dataAlignmentIndicator=(Re[6]&4)!==0,Ye=Re[7],Ye&192&&(ke.pts=(Re[9]&14)<<27|(Re[10]&255)<<20|(Re[11]&254)<<12|(Re[12]&255)<<5|(Re[13]&254)>>>3,ke.pts*=4,ke.pts+=(Re[13]&6)>>>1,ke.dts=ke.pts,Ye&64&&(ke.dts=(Re[14]&14)<<27|(Re[15]&255)<<20|(Re[16]&254)<<12|(Re[17]&255)<<5|(Re[18]&254)>>>3,ke.dts*=4,ke.dts+=(Re[18]&6)>>>1)),ke.data=Re.subarray(9+Re[8]))},Ee=function(Re,ke,Ye){var ot=new Uint8Array(Re.size),Lt={type:ke},ft=0,pn=0,Ln=!1,lo;if(!(!Re.data.length||Re.size<9)){for(Lt.trackId=Re.data[0].pid,ft=0;ft<Re.data.length;ft++)lo=Re.data[ft],ot.set(lo.data,pn),pn+=lo.data.byteLength;we(ot,Lt),Ln=ke==="video"||Lt.packetLength<=Re.size,(Ye||Ln)&&(Re.size=0,Re.data.length=0),Ln&&P.trigger("data",Lt)}};$r.prototype.init.call(this),this.push=function(Re){({pat:function(){},pes:function(){var ke,Ye;switch(Re.streamType){case qr.H264_STREAM_TYPE:ke=V,Ye="video";break;case qr.ADTS_STREAM_TYPE:ke=F,Ye="audio";break;case qr.METADATA_STREAM_TYPE:ke=X,Ye="timed-metadata";break;default:return}Re.payloadUnitStartIndicator&&Ee(ke,Ye,!0),ke.data.push(Re),ke.size+=Re.data.byteLength},pmt:function(){var ke={type:"metadata",tracks:[]};se=Re.programMapTable,se.video!==null&&ke.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+se.video,codec:"avc",type:"video"}),se.audio!==null&&ke.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+se.audio,codec:"adts",type:"audio"}),M=!0,P.trigger("data",ke)}})[Re.type]()},this.reset=function(){V.size=0,V.data.length=0,F.size=0,F.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Ee(V,"video"),Ee(F,"audio"),Ee(X,"timed-metadata")},this.flush=function(){if(!M&&se){var Re={type:"metadata",tracks:[]};se.video!==null&&Re.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+se.video,codec:"avc",type:"video"}),se.audio!==null&&Re.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+se.audio,codec:"adts",type:"audio"}),P.trigger("data",Re)}M=!1,this.flushStreams_(),this.trigger("done")}},$r.prototype=new Ji;var wi={PAT_PID:0,MP2T_PACKET_LENGTH:Wn,TransportPacketStream:Lr,TransportParseStream:pr,ElementaryStream:$r,TimestampRolloverStream:cr,CaptionStream:Ao.CaptionStream,Cea608Stream:Ao.Cea608Stream,Cea708Stream:Ao.Cea708Stream,MetadataStream:Yo};for(var Gt in qr)qr.hasOwnProperty(Gt)&&(wi[Gt]=qr[Gt]);var Pr=wi,hr=n,nr=Ze.ONE_SECOND_IN_TS,Rn,Tn=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Rn=function(P){var M,V=0;Rn.prototype.init.call(this),this.skipWarn_=function(F,X){this.trigger("log",{level:"warn",message:`adts skiping bytes ${F} to ${X} in frame ${V} outside syncword`})},this.push=function(F){var X=0,se,we,Ee,Re,ke;if(P||(V=0),F.type==="audio"){M&&M.length?(Ee=M,M=new Uint8Array(Ee.byteLength+F.data.byteLength),M.set(Ee),M.set(F.data,Ee.byteLength)):M=F.data;for(var Ye;X+7<M.length;){if(M[X]!==255||(M[X+1]&246)!==240){typeof Ye!="number"&&(Ye=X),X++;continue}if(typeof Ye=="number"&&(this.skipWarn_(Ye,X),Ye=null),we=(~M[X+1]&1)*2,se=(M[X+3]&3)<<11|M[X+4]<<3|(M[X+5]&224)>>5,Re=((M[X+6]&3)+1)*1024,ke=Re*nr/Tn[(M[X+2]&60)>>>2],M.byteLength-X<se)break;this.trigger("data",{pts:F.pts+V*ke,dts:F.dts+V*ke,sampleCount:Re,audioobjecttype:(M[X+2]>>>6&3)+1,channelcount:(M[X+2]&1)<<2|(M[X+3]&192)>>>6,samplerate:Tn[(M[X+2]&60)>>>2],samplingfrequencyindex:(M[X+2]&60)>>>2,samplesize:16,data:M.subarray(X+7+we,X+se)}),V++,X+=se}typeof Ye=="number"&&(this.skipWarn_(Ye,X),Ye=null),M=M.subarray(X)}},this.flush=function(){V=0,this.trigger("done")},this.reset=function(){M=void 0,this.trigger("reset")},this.endTimeline=function(){M=void 0,this.trigger("endedtimeline")}},Rn.prototype=new hr;var yi=Rn,Br;Br=function(P){var M=P.byteLength,V=0,F=0;this.length=function(){return 8*M},this.bitsAvailable=function(){return 8*M+F},this.loadWord=function(){var X=P.byteLength-M,se=new Uint8Array(4),we=Math.min(4,M);if(we===0)throw new Error("no bytes available");se.set(P.subarray(X,X+we)),V=new DataView(se.buffer).getUint32(0),F=we*8,M-=we},this.skipBits=function(X){var se;F>X?(V<<=X,F-=X):(X-=F,se=Math.floor(X/8),X-=se*8,M-=se,this.loadWord(),V<<=X,F-=X)},this.readBits=function(X){var se=Math.min(F,X),we=V>>>32-se;return F-=se,F>0?V<<=se:M>0&&this.loadWord(),se=X-se,se>0?we<<se|this.readBits(se):we},this.skipLeadingZeros=function(){var X;for(X=0;X<F;++X)if(V&2147483648>>>X)return V<<=X,F-=X,X;return this.loadWord(),X+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var X=this.skipLeadingZeros();return this.readBits(X+1)-1},this.readExpGolomb=function(){var X=this.readUnsignedExpGolomb();return 1&X?1+X>>>1:-1*(X>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Ko=Br,eo=n,Co=Ko,Pi,Hr,Oo;Hr=function(){var P=0,M,V;Hr.prototype.init.call(this),this.push=function(F){var X;V?(X=new Uint8Array(V.byteLength+F.data.byteLength),X.set(V),X.set(F.data,V.byteLength),V=X):V=F.data;for(var se=V.byteLength;P<se-3;P++)if(V[P+2]===1){M=P+5;break}for(;M<se;)switch(V[M]){case 0:if(V[M-1]!==0){M+=2;break}else if(V[M-2]!==0){M++;break}P+3!==M-2&&this.trigger("data",V.subarray(P+3,M-2));do M++;while(V[M]!==1&&M<se);P=M-2,M+=3;break;case 1:if(V[M-1]!==0||V[M-2]!==0){M+=3;break}this.trigger("data",V.subarray(P+3,M-2)),P=M-2,M+=3;break;default:M+=3;break}V=V.subarray(P),M-=P,P=0},this.reset=function(){V=null,P=0,this.trigger("reset")},this.flush=function(){V&&V.byteLength>3&&this.trigger("data",V.subarray(P+3)),V=null,P=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Hr.prototype=new eo,Oo={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Pi=function(){var P=new Hr,M,V,F,X,se,we,Ee;Pi.prototype.init.call(this),M=this,this.push=function(Re){Re.type==="video"&&(V=Re.trackId,F=Re.pts,X=Re.dts,P.push(Re))},P.on("data",function(Re){var ke={trackId:V,pts:F,dts:X,data:Re,nalUnitTypeCode:Re[0]&31};switch(ke.nalUnitTypeCode){case 5:ke.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ke.nalUnitType="sei_rbsp",ke.escapedRBSP=se(Re.subarray(1));break;case 7:ke.nalUnitType="seq_parameter_set_rbsp",ke.escapedRBSP=se(Re.subarray(1)),ke.config=we(ke.escapedRBSP);break;case 8:ke.nalUnitType="pic_parameter_set_rbsp";break;case 9:ke.nalUnitType="access_unit_delimiter_rbsp";break}M.trigger("data",ke)}),P.on("done",function(){M.trigger("done")}),P.on("partialdone",function(){M.trigger("partialdone")}),P.on("reset",function(){M.trigger("reset")}),P.on("endedtimeline",function(){M.trigger("endedtimeline")}),this.flush=function(){P.flush()},this.partialFlush=function(){P.partialFlush()},this.reset=function(){P.reset()},this.endTimeline=function(){P.endTimeline()},Ee=function(Re,ke){var Ye=8,ot=8,Lt,ft;for(Lt=0;Lt<Re;Lt++)ot!==0&&(ft=ke.readExpGolomb(),ot=(Ye+ft+256)%256),Ye=ot===0?Ye:ot},se=function(Re){for(var ke=Re.byteLength,Ye=[],ot=1,Lt,ft;ot<ke-2;)Re[ot]===0&&Re[ot+1]===0&&Re[ot+2]===3?(Ye.push(ot+2),ot+=2):ot++;if(Ye.length===0)return Re;Lt=ke-Ye.length,ft=new Uint8Array(Lt);var pn=0;for(ot=0;ot<Lt;pn++,ot++)pn===Ye[0]&&(pn++,Ye.shift()),ft[ot]=Re[pn];return ft},we=function(Re){var ke=0,Ye=0,ot=0,Lt=0,ft,pn,Ln,lo,Ms,tc,zm,Vm,qm,Hm,kb,Jr=[1,1],Gm,Va;if(ft=new Co(Re),pn=ft.readUnsignedByte(),lo=ft.readUnsignedByte(),Ln=ft.readUnsignedByte(),ft.skipUnsignedExpGolomb(),Oo[pn]&&(Ms=ft.readUnsignedExpGolomb(),Ms===3&&ft.skipBits(1),ft.skipUnsignedExpGolomb(),ft.skipUnsignedExpGolomb(),ft.skipBits(1),ft.readBoolean()))for(kb=Ms!==3?8:12,Va=0;Va<kb;Va++)ft.readBoolean()&&(Va<6?Ee(16,ft):Ee(64,ft));if(ft.skipUnsignedExpGolomb(),tc=ft.readUnsignedExpGolomb(),tc===0)ft.readUnsignedExpGolomb();else if(tc===1)for(ft.skipBits(1),ft.skipExpGolomb(),ft.skipExpGolomb(),zm=ft.readUnsignedExpGolomb(),Va=0;Va<zm;Va++)ft.skipExpGolomb();if(ft.skipUnsignedExpGolomb(),ft.skipBits(1),Vm=ft.readUnsignedExpGolomb(),qm=ft.readUnsignedExpGolomb(),Hm=ft.readBits(1),Hm===0&&ft.skipBits(1),ft.skipBits(1),ft.readBoolean()&&(ke=ft.readUnsignedExpGolomb(),Ye=ft.readUnsignedExpGolomb(),ot=ft.readUnsignedExpGolomb(),Lt=ft.readUnsignedExpGolomb()),ft.readBoolean()&&ft.readBoolean()){switch(Gm=ft.readUnsignedByte(),Gm){case 1:Jr=[1,1];break;case 2:Jr=[12,11];break;case 3:Jr=[10,11];break;case 4:Jr=[16,11];break;case 5:Jr=[40,33];break;case 6:Jr=[24,11];break;case 7:Jr=[20,11];break;case 8:Jr=[32,11];break;case 9:Jr=[80,33];break;case 10:Jr=[18,11];break;case 11:Jr=[15,11];break;case 12:Jr=[64,33];break;case 13:Jr=[160,99];break;case 14:Jr=[4,3];break;case 15:Jr=[3,2];break;case 16:Jr=[2,1];break;case 255:{Jr=[ft.readUnsignedByte()<<8|ft.readUnsignedByte(),ft.readUnsignedByte()<<8|ft.readUnsignedByte()];break}}Jr&&Jr[0]/Jr[1]}return{profileIdc:pn,levelIdc:Ln,profileCompatibility:lo,width:(Vm+1)*16-ke*2-Ye*2,height:(2-Hm)*(qm+1)*16-ot*2-Lt*2,sarRatio:Jr}}},Pi.prototype=new eo;var gl={H264Stream:Pi},Gf=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Xl=function(P,M){var V=P[M+6]<<21|P[M+7]<<14|P[M+8]<<7|P[M+9],F=P[M+5],X=(F&16)>>4;return V=V>=0?V:0,X?V+20:V+10},Xu=function(P,M){return P.length-M<10||P[M]!==73||P[M+1]!==68||P[M+2]!==51?M:(M+=Xl(P,M),Xu(P,M))},yl=function(P){var M=Xu(P,0);return P.length>=M+2&&(P[M]&255)===255&&(P[M+1]&240)===240&&(P[M+1]&22)===16},Zu=function(P){return P[0]<<21|P[1]<<14|P[2]<<7|P[3]},Zl=function(P,M,V){var F,X="";for(F=M;F<V;F++)X+="%"+("00"+P[F].toString(16)).slice(-2);return X},j=function(P,M,V){return unescape(Zl(P,M,V))},A=function(P,M){var V=(P[M+5]&224)>>5,F=P[M+4]<<3,X=P[M+3]&6144;return X|F|V},re=function(P,M){return P[M]===73&&P[M+1]===68&&P[M+2]===51?"timed-metadata":P[M]&!0&&(P[M+1]&240)===240?"audio":null},ee=function(P){for(var M=0;M+5<P.length;){if(P[M]!==255||(P[M+1]&246)!==240){M++;continue}return Gf[(P[M+2]&60)>>>2]}return null},Ae=function(P){var M,V,F,X;M=10,P[5]&64&&(M+=4,M+=Zu(P.subarray(10,14)));do{if(V=Zu(P.subarray(M+4,M+8)),V<1)return null;if(X=String.fromCharCode(P[M],P[M+1],P[M+2],P[M+3]),X==="PRIV"){F=P.subarray(M+10,M+V+10);for(var se=0;se<F.byteLength;se++)if(F[se]===0){var we=j(F,0,se);if(we==="com.apple.streaming.transportStreamTimestamp"){var Ee=F.subarray(se+1),Re=(Ee[3]&1)<<30|Ee[4]<<22|Ee[5]<<14|Ee[6]<<6|Ee[7]>>>2;return Re*=4,Re+=Ee[7]&3,Re}break}}M+=10,M+=V}while(M<P.byteLength);return null},Fe={isLikelyAacData:yl,parseId3TagSize:Xl,parseAdtsSize:A,parseType:re,parseSampleRate:ee,parseAacTimestamp:Ae},dt=n,ct=Fe,He;He=function(){var P=new Uint8Array,M=0;He.prototype.init.call(this),this.setTimestamp=function(V){M=V},this.push=function(V){var F=0,X=0,se,we,Ee,Re;for(P.length?(Re=P.length,P=new Uint8Array(V.byteLength+Re),P.set(P.subarray(0,Re)),P.set(V,Re)):P=V;P.length-X>=3;){if(P[X]===73&&P[X+1]===68&&P[X+2]===51){if(P.length-X<10||(F=ct.parseId3TagSize(P,X),X+F>P.length))break;we={type:"timed-metadata",data:P.subarray(X,X+F)},this.trigger("data",we),X+=F;continue}else if((P[X]&255)===255&&(P[X+1]&240)===240){if(P.length-X<7||(F=ct.parseAdtsSize(P,X),X+F>P.length))break;Ee={type:"audio",data:P.subarray(X,X+F),pts:M,dts:M},this.trigger("data",Ee),X+=F;continue}X++}se=P.length-X,se>0?P=P.subarray(X):P=new Uint8Array},this.reset=function(){P=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){P=new Uint8Array,this.trigger("endedtimeline")}},He.prototype=new dt;var Vt=He,St=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],it=St,vt=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Wt=vt,Ht=n,Cn=ie,or=Se,ur=vn,sr=tr,Gn=Pr,At=Ze,dn=yi,da=gl.H264Stream,Yn=Vt,zi=Fe.isLikelyAacData,Ct=Ze.ONE_SECOND_IN_TS,Yt=it,tn=Wt,si,Ur,Gr,vl,Ab=function(P,M){M.stream=P,this.trigger("log",M)},Qu=function(P,M){for(var V=Object.keys(M),F=0;F<V.length;F++){var X=V[F];X==="headOfPipeline"||!M[X].on||M[X].on("log",Ab.bind(P,X))}},Ju=function(P,M){var V;if(P.length!==M.length)return!1;for(V=0;V<P.length;V++)if(P[V]!==M[V])return!1;return!0},Cb=function(P,M,V,F,X,se){var we=V-M,Ee=F-M,Re=X-V;return{start:{dts:P,pts:P+we},end:{dts:P+Ee,pts:P+Re},prependedContentDuration:se,baseMediaDecodeTime:P}};Ur=function(P,M){var V=[],F,X=0,se=0,we=1/0;M=M||{},F=M.firstSequenceNumber||0,Ur.prototype.init.call(this),this.push=function(Ee){sr.collectDtsInfo(P,Ee),P&&Yt.forEach(function(Re){P[Re]=Ee[Re]}),V.push(Ee)},this.setEarliestDts=function(Ee){X=Ee},this.setVideoBaseMediaDecodeTime=function(Ee){we=Ee},this.setAudioAppendStart=function(Ee){se=Ee},this.flush=function(){var Ee,Re,ke,Ye,ot,Lt,ft;if(V.length===0){this.trigger("done","AudioSegmentStream");return}Ee=ur.trimAdtsFramesByEarliestDts(V,P,X),P.baseMediaDecodeTime=sr.calculateTrackBaseMediaDecodeTime(P,M.keepOriginalTimestamps),ft=ur.prefixWithSilence(P,Ee,se,we),P.samples=ur.generateSampleTable(Ee),ke=Cn.mdat(ur.concatenateFrameData(Ee)),V=[],Re=Cn.moof(F,[P]),Ye=new Uint8Array(Re.byteLength+ke.byteLength),F++,Ye.set(Re),Ye.set(ke,Re.byteLength),sr.clearDtsInfo(P),ot=Math.ceil(Ct*1024/P.samplerate),Ee.length&&(Lt=Ee.length*ot,this.trigger("segmentTimingInfo",Cb(At.audioTsToVideoTs(P.baseMediaDecodeTime,P.samplerate),Ee[0].dts,Ee[0].pts,Ee[0].dts+Lt,Ee[0].pts+Lt,ft||0)),this.trigger("timingInfo",{start:Ee[0].pts,end:Ee[0].pts+Lt})),this.trigger("data",{track:P,boxes:Ye}),this.trigger("done","AudioSegmentStream")},this.reset=function(){sr.clearDtsInfo(P),V=[],this.trigger("reset")}},Ur.prototype=new Ht,si=function(P,M){var V,F=[],X=[],se,we;M=M||{},V=M.firstSequenceNumber||0,si.prototype.init.call(this),delete P.minPTS,this.gopCache_=[],this.push=function(Ee){sr.collectDtsInfo(P,Ee),Ee.nalUnitType==="seq_parameter_set_rbsp"&&!se&&(se=Ee.config,P.sps=[Ee.data],tn.forEach(function(Re){P[Re]=se[Re]},this)),Ee.nalUnitType==="pic_parameter_set_rbsp"&&!we&&(we=Ee.data,P.pps=[Ee.data]),F.push(Ee)},this.flush=function(){for(var Ee,Re,ke,Ye,ot,Lt,ft=0,pn,Ln;F.length&&F[0].nalUnitType!=="access_unit_delimiter_rbsp";)F.shift();if(F.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Ee=or.groupNalsIntoFrames(F),ke=or.groupFramesIntoGops(Ee),ke[0][0].keyFrame||(Re=this.getGopForFusion_(F[0],P),Re?(ft=Re.duration,ke.unshift(Re),ke.byteLength+=Re.byteLength,ke.nalCount+=Re.nalCount,ke.pts=Re.pts,ke.dts=Re.dts,ke.duration+=Re.duration):ke=or.extendFirstKeyFrame(ke)),X.length){var lo;if(M.alignGopsAtEnd?lo=this.alignGopsAtEnd_(ke):lo=this.alignGopsAtStart_(ke),!lo){this.gopCache_.unshift({gop:ke.pop(),pps:P.pps,sps:P.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),F=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}sr.clearDtsInfo(P),ke=lo}sr.collectDtsInfo(P,ke),P.samples=or.generateSampleTable(ke),ot=Cn.mdat(or.concatenateNalData(ke)),P.baseMediaDecodeTime=sr.calculateTrackBaseMediaDecodeTime(P,M.keepOriginalTimestamps),this.trigger("processedGopsInfo",ke.map(function(Ms){return{pts:Ms.pts,dts:Ms.dts,byteLength:Ms.byteLength}})),pn=ke[0],Ln=ke[ke.length-1],this.trigger("segmentTimingInfo",Cb(P.baseMediaDecodeTime,pn.dts,pn.pts,Ln.dts+Ln.duration,Ln.pts+Ln.duration,ft)),this.trigger("timingInfo",{start:ke[0].pts,end:ke[ke.length-1].pts+ke[ke.length-1].duration}),this.gopCache_.unshift({gop:ke.pop(),pps:P.pps,sps:P.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),F=[],this.trigger("baseMediaDecodeTime",P.baseMediaDecodeTime),this.trigger("timelineStartInfo",P.timelineStartInfo),Ye=Cn.moof(V,[P]),Lt=new Uint8Array(Ye.byteLength+ot.byteLength),V++,Lt.set(Ye),Lt.set(ot,Ye.byteLength),this.trigger("data",{track:P,boxes:Lt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),F=[],this.gopCache_.length=0,X.length=0,this.trigger("reset")},this.resetStream_=function(){sr.clearDtsInfo(P),se=void 0,we=void 0},this.getGopForFusion_=function(Ee){var Re=45e3,ke=1/0,Ye,ot,Lt,ft,pn;for(pn=0;pn<this.gopCache_.length;pn++)ft=this.gopCache_[pn],Lt=ft.gop,!(!(P.pps&&Ju(P.pps[0],ft.pps[0]))||!(P.sps&&Ju(P.sps[0],ft.sps[0])))&&(Lt.dts<P.timelineStartInfo.dts||(Ye=Ee.dts-Lt.dts-Lt.duration,Ye>=-1e4&&Ye<=Re&&(!ot||ke>Ye)&&(ot=ft,ke=Ye)));return ot?ot.gop:null},this.alignGopsAtStart_=function(Ee){var Re,ke,Ye,ot,Lt,ft,pn,Ln;for(Lt=Ee.byteLength,ft=Ee.nalCount,pn=Ee.duration,Re=ke=0;Re<X.length&&ke<Ee.length&&(Ye=X[Re],ot=Ee[ke],Ye.pts!==ot.pts);){if(ot.pts>Ye.pts){Re++;continue}ke++,Lt-=ot.byteLength,ft-=ot.nalCount,pn-=ot.duration}return ke===0?Ee:ke===Ee.length?null:(Ln=Ee.slice(ke),Ln.byteLength=Lt,Ln.duration=pn,Ln.nalCount=ft,Ln.pts=Ln[0].pts,Ln.dts=Ln[0].dts,Ln)},this.alignGopsAtEnd_=function(Ee){var Re,ke,Ye,ot,Lt,ft;for(Re=X.length-1,ke=Ee.length-1,Lt=null,ft=!1;Re>=0&&ke>=0;){if(Ye=X[Re],ot=Ee[ke],Ye.pts===ot.pts){ft=!0;break}if(Ye.pts>ot.pts){Re--;continue}Re===X.length-1&&(Lt=ke),ke--}if(!ft&&Lt===null)return null;var pn;if(ft?pn=ke:pn=Lt,pn===0)return Ee;var Ln=Ee.slice(pn),lo=Ln.reduce(function(Ms,tc){return Ms.byteLength+=tc.byteLength,Ms.duration+=tc.duration,Ms.nalCount+=tc.nalCount,Ms},{byteLength:0,duration:0,nalCount:0});return Ln.byteLength=lo.byteLength,Ln.duration=lo.duration,Ln.nalCount=lo.nalCount,Ln.pts=Ln[0].pts,Ln.dts=Ln[0].dts,Ln},this.alignGopsWith=function(Ee){X=Ee}},si.prototype=new Ht,vl=function(P,M){this.numberOfTracks=0,this.metadataStream=M,P=P||{},typeof P.remux<"u"?this.remuxTracks=!!P.remux:this.remuxTracks=!0,typeof P.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=P.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,vl.prototype.init.call(this),this.push=function(V){if(V.content||V.text)return this.pendingCaptions.push(V);if(V.frames)return this.pendingMetadata.push(V);this.pendingTracks.push(V.track),this.pendingBytes+=V.boxes.byteLength,V.track.type==="video"&&(this.videoTrack=V.track,this.pendingBoxes.push(V.boxes)),V.track.type==="audio"&&(this.audioTrack=V.track,this.pendingBoxes.unshift(V.boxes))}},vl.prototype=new Ht,vl.prototype.flush=function(P){var M=0,V={captions:[],captionStreams:{},metadata:[],info:{}},F,X,se,we=0,Ee;if(this.pendingTracks.length<this.numberOfTracks){if(P!=="VideoSegmentStream"&&P!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(we=this.videoTrack.timelineStartInfo.pts,tn.forEach(function(Re){V.info[Re]=this.videoTrack[Re]},this)):this.audioTrack&&(we=this.audioTrack.timelineStartInfo.pts,Yt.forEach(function(Re){V.info[Re]=this.audioTrack[Re]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?V.type=this.pendingTracks[0].type:V.type="combined",this.emittedTracks+=this.pendingTracks.length,se=Cn.initSegment(this.pendingTracks),V.initSegment=new Uint8Array(se.byteLength),V.initSegment.set(se),V.data=new Uint8Array(this.pendingBytes),Ee=0;Ee<this.pendingBoxes.length;Ee++)V.data.set(this.pendingBoxes[Ee],M),M+=this.pendingBoxes[Ee].byteLength;for(Ee=0;Ee<this.pendingCaptions.length;Ee++)F=this.pendingCaptions[Ee],F.startTime=At.metadataTsToSeconds(F.startPts,we,this.keepOriginalTimestamps),F.endTime=At.metadataTsToSeconds(F.endPts,we,this.keepOriginalTimestamps),V.captionStreams[F.stream]=!0,V.captions.push(F);for(Ee=0;Ee<this.pendingMetadata.length;Ee++)X=this.pendingMetadata[Ee],X.cueTime=At.metadataTsToSeconds(X.pts,we,this.keepOriginalTimestamps),V.metadata.push(X);for(V.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",V),Ee=0;Ee<V.captions.length;Ee++)F=V.captions[Ee],this.trigger("caption",F);for(Ee=0;Ee<V.metadata.length;Ee++)X=V.metadata[Ee],this.trigger("id3Frame",X)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},vl.prototype.setRemux=function(P){this.remuxTracks=P},Gr=function(P){var M=this,V=!0,F,X;Gr.prototype.init.call(this),P=P||{},this.baseMediaDecodeTime=P.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var se={};this.transmuxPipeline_=se,se.type="aac",se.metadataStream=new Gn.MetadataStream,se.aacStream=new Yn,se.audioTimestampRolloverStream=new Gn.TimestampRolloverStream("audio"),se.timedMetadataTimestampRolloverStream=new Gn.TimestampRolloverStream("timed-metadata"),se.adtsStream=new dn,se.coalesceStream=new vl(P,se.metadataStream),se.headOfPipeline=se.aacStream,se.aacStream.pipe(se.audioTimestampRolloverStream).pipe(se.adtsStream),se.aacStream.pipe(se.timedMetadataTimestampRolloverStream).pipe(se.metadataStream).pipe(se.coalesceStream),se.metadataStream.on("timestamp",function(we){se.aacStream.setTimestamp(we.timeStamp)}),se.aacStream.on("data",function(we){we.type!=="timed-metadata"&&we.type!=="audio"||se.audioSegmentStream||(X=X||{timelineStartInfo:{baseMediaDecodeTime:M.baseMediaDecodeTime},codec:"adts",type:"audio"},se.coalesceStream.numberOfTracks++,se.audioSegmentStream=new Ur(X,P),se.audioSegmentStream.on("log",M.getLogTrigger_("audioSegmentStream")),se.audioSegmentStream.on("timingInfo",M.trigger.bind(M,"audioTimingInfo")),se.adtsStream.pipe(se.audioSegmentStream).pipe(se.coalesceStream),M.trigger("trackinfo",{hasAudio:!!X,hasVideo:!!F}))}),se.coalesceStream.on("data",this.trigger.bind(this,"data")),se.coalesceStream.on("done",this.trigger.bind(this,"done")),Qu(this,se)},this.setupTsPipeline=function(){var se={};this.transmuxPipeline_=se,se.type="ts",se.metadataStream=new Gn.MetadataStream,se.packetStream=new Gn.TransportPacketStream,se.parseStream=new Gn.TransportParseStream,se.elementaryStream=new Gn.ElementaryStream,se.timestampRolloverStream=new Gn.TimestampRolloverStream,se.adtsStream=new dn,se.h264Stream=new da,se.captionStream=new Gn.CaptionStream(P),se.coalesceStream=new vl(P,se.metadataStream),se.headOfPipeline=se.packetStream,se.packetStream.pipe(se.parseStream).pipe(se.elementaryStream).pipe(se.timestampRolloverStream),se.timestampRolloverStream.pipe(se.h264Stream),se.timestampRolloverStream.pipe(se.adtsStream),se.timestampRolloverStream.pipe(se.metadataStream).pipe(se.coalesceStream),se.h264Stream.pipe(se.captionStream).pipe(se.coalesceStream),se.elementaryStream.on("data",function(we){var Ee;if(we.type==="metadata"){for(Ee=we.tracks.length;Ee--;)!F&&we.tracks[Ee].type==="video"?(F=we.tracks[Ee],F.timelineStartInfo.baseMediaDecodeTime=M.baseMediaDecodeTime):!X&&we.tracks[Ee].type==="audio"&&(X=we.tracks[Ee],X.timelineStartInfo.baseMediaDecodeTime=M.baseMediaDecodeTime);F&&!se.videoSegmentStream&&(se.coalesceStream.numberOfTracks++,se.videoSegmentStream=new si(F,P),se.videoSegmentStream.on("log",M.getLogTrigger_("videoSegmentStream")),se.videoSegmentStream.on("timelineStartInfo",function(Re){X&&!P.keepOriginalTimestamps&&(X.timelineStartInfo=Re,se.audioSegmentStream.setEarliestDts(Re.dts-M.baseMediaDecodeTime))}),se.videoSegmentStream.on("processedGopsInfo",M.trigger.bind(M,"gopInfo")),se.videoSegmentStream.on("segmentTimingInfo",M.trigger.bind(M,"videoSegmentTimingInfo")),se.videoSegmentStream.on("baseMediaDecodeTime",function(Re){X&&se.audioSegmentStream.setVideoBaseMediaDecodeTime(Re)}),se.videoSegmentStream.on("timingInfo",M.trigger.bind(M,"videoTimingInfo")),se.h264Stream.pipe(se.videoSegmentStream).pipe(se.coalesceStream)),X&&!se.audioSegmentStream&&(se.coalesceStream.numberOfTracks++,se.audioSegmentStream=new Ur(X,P),se.audioSegmentStream.on("log",M.getLogTrigger_("audioSegmentStream")),se.audioSegmentStream.on("timingInfo",M.trigger.bind(M,"audioTimingInfo")),se.audioSegmentStream.on("segmentTimingInfo",M.trigger.bind(M,"audioSegmentTimingInfo")),se.adtsStream.pipe(se.audioSegmentStream).pipe(se.coalesceStream)),M.trigger("trackinfo",{hasAudio:!!X,hasVideo:!!F})}}),se.coalesceStream.on("data",this.trigger.bind(this,"data")),se.coalesceStream.on("id3Frame",function(we){we.dispatchType=se.metadataStream.dispatchType,M.trigger("id3Frame",we)}),se.coalesceStream.on("caption",this.trigger.bind(this,"caption")),se.coalesceStream.on("done",this.trigger.bind(this,"done")),Qu(this,se)},this.setBaseMediaDecodeTime=function(se){var we=this.transmuxPipeline_;P.keepOriginalTimestamps||(this.baseMediaDecodeTime=se),X&&(X.timelineStartInfo.dts=void 0,X.timelineStartInfo.pts=void 0,sr.clearDtsInfo(X),we.audioTimestampRolloverStream&&we.audioTimestampRolloverStream.discontinuity()),F&&(we.videoSegmentStream&&(we.videoSegmentStream.gopCache_=[]),F.timelineStartInfo.dts=void 0,F.timelineStartInfo.pts=void 0,sr.clearDtsInfo(F),we.captionStream.reset()),we.timestampRolloverStream&&we.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(se){X&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(se)},this.setRemux=function(se){var we=this.transmuxPipeline_;P.remux=se,we&&we.coalesceStream&&we.coalesceStream.setRemux(se)},this.alignGopsWith=function(se){F&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(se)},this.getLogTrigger_=function(se){var we=this;return function(Ee){Ee.stream=se,we.trigger("log",Ee)}},this.push=function(se){if(V){var we=zi(se);we&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!we&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),V=!1}this.transmuxPipeline_.headOfPipeline.push(se)},this.flush=function(){V=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Gr.prototype=new Ht;var Wf={Transmuxer:Gr},lZ=function(P){return P>>>0},uZ=function(P){return("00"+P.toString(16)).slice(-2)},Ob={toUnsigned:lZ,toHexString:uZ},cZ=function(P){var M="";return M+=String.fromCharCode(P[0]),M+=String.fromCharCode(P[1]),M+=String.fromCharCode(P[2]),M+=String.fromCharCode(P[3]),M},ok=cZ,dZ=Ob.toUnsigned,fZ=ok,sk=function(P,M){var V=[],F,X,se,we,Ee;if(!M.length)return null;for(F=0;F<P.byteLength;)X=dZ(P[F]<<24|P[F+1]<<16|P[F+2]<<8|P[F+3]),se=fZ(P.subarray(F+4,F+8)),we=X>1?F+X:P.byteLength,se===M[0]&&(M.length===1?V.push(P.subarray(F+8,we)):(Ee=sk(P.subarray(F+8,we),M.slice(1)),Ee.length&&(V=V.concat(Ee)))),F=we;return V},ST=sk,pZ=Ob.toUnsigned,hZ=o.getUint64,mZ=function(P){var M={version:P[0],flags:new Uint8Array(P.subarray(1,4))};return M.version===1?M.baseMediaDecodeTime=hZ(P.subarray(4)):M.baseMediaDecodeTime=pZ(P[4]<<24|P[5]<<16|P[6]<<8|P[7]),M},xT=mZ,gZ=function(P){var M=new DataView(P.buffer,P.byteOffset,P.byteLength),V={version:P[0],flags:new Uint8Array(P.subarray(1,4)),trackId:M.getUint32(4)},F=V.flags[2]&1,X=V.flags[2]&2,se=V.flags[2]&8,we=V.flags[2]&16,Ee=V.flags[2]&32,Re=V.flags[0]&65536,ke=V.flags[0]&131072,Ye;return Ye=8,F&&(Ye+=4,V.baseDataOffset=M.getUint32(12),Ye+=4),X&&(V.sampleDescriptionIndex=M.getUint32(Ye),Ye+=4),se&&(V.defaultSampleDuration=M.getUint32(Ye),Ye+=4),we&&(V.defaultSampleSize=M.getUint32(Ye),Ye+=4),Ee&&(V.defaultSampleFlags=M.getUint32(Ye)),Re&&(V.durationIsEmpty=!0),!F&&ke&&(V.baseDataOffsetIsMoof=!0),V},ak=gZ,yZ=function(P){return{isLeading:(P[0]&12)>>>2,dependsOn:P[0]&3,isDependedOn:(P[1]&192)>>>6,hasRedundancy:(P[1]&48)>>>4,paddingValue:(P[1]&14)>>>1,isNonSyncSample:P[1]&1,degradationPriority:P[2]<<8|P[3]}},vZ=yZ,lk=vZ,bZ=function(P){var M={version:P[0],flags:new Uint8Array(P.subarray(1,4)),samples:[]},V=new DataView(P.buffer,P.byteOffset,P.byteLength),F=M.flags[2]&1,X=M.flags[2]&4,se=M.flags[1]&1,we=M.flags[1]&2,Ee=M.flags[1]&4,Re=M.flags[1]&8,ke=V.getUint32(4),Ye=8,ot;for(F&&(M.dataOffset=V.getInt32(Ye),Ye+=4),X&&ke&&(ot={flags:lk(P.subarray(Ye,Ye+4))},Ye+=4,se&&(ot.duration=V.getUint32(Ye),Ye+=4),we&&(ot.size=V.getUint32(Ye),Ye+=4),Re&&(M.version===1?ot.compositionTimeOffset=V.getInt32(Ye):ot.compositionTimeOffset=V.getUint32(Ye),Ye+=4),M.samples.push(ot),ke--);ke--;)ot={},se&&(ot.duration=V.getUint32(Ye),Ye+=4),we&&(ot.size=V.getUint32(Ye),Ye+=4),Ee&&(ot.flags=lk(P.subarray(Ye,Ye+4)),Ye+=4),Re&&(M.version===1?ot.compositionTimeOffset=V.getInt32(Ye):ot.compositionTimeOffset=V.getUint32(Ye),Ye+=4),M.samples.push(ot);return M},uk=bZ,ck={tfdt:xT,trun:uk},dk={parseTfdt:ck.tfdt,parseTrun:ck.trun},_Z=function(P){for(var M=0,V=String.fromCharCode(P[M]),F="";V!=="\0";)F+=V,M++,V=String.fromCharCode(P[M]);return F+=V,F},SZ={uint8ToCString:_Z},Db=SZ.uint8ToCString,xZ=o.getUint64,wZ=function(P){var M=4,V=P[0],F,X,se,we,Ee,Re,ke,Ye;if(V===0){F=Db(P.subarray(M)),M+=F.length,X=Db(P.subarray(M)),M+=X.length;var ot=new DataView(P.buffer);se=ot.getUint32(M),M+=4,Ee=ot.getUint32(M),M+=4,Re=ot.getUint32(M),M+=4,ke=ot.getUint32(M),M+=4}else if(V===1){var ot=new DataView(P.buffer);se=ot.getUint32(M),M+=4,we=xZ(P.subarray(M)),M+=8,Re=ot.getUint32(M),M+=4,ke=ot.getUint32(M),M+=4,F=Db(P.subarray(M)),M+=F.length,X=Db(P.subarray(M)),M+=X.length}Ye=new Uint8Array(P.subarray(M,P.byteLength));var Lt={scheme_id_uri:F,value:X,timescale:se||1,presentation_time:we,presentation_time_delta:Ee,event_duration:Re,id:ke,message_data:Ye};return EZ(V,Lt)?Lt:void 0},TZ=function(P,M,V,F){return P||P===0?P/M:F+V/M},EZ=function(P,M){var V=M.scheme_id_uri!=="\0",F=P===0&&fk(M.presentation_time_delta)&&V,X=P===1&&fk(M.presentation_time)&&V;return!(P>1)&&F||X},fk=function(P){return P!==void 0||P!==null},AZ={parseEmsgBox:wZ,scaleTime:TZ},Bm;typeof window<"u"?Bm=window:typeof e<"u"?Bm=e:typeof self<"u"?Bm=self:Bm={};var pk=Bm,Pb=Ob.toUnsigned,Um=Ob.toHexString,Ri=ST,Yf=ok,wT=AZ,CZ=ak,OZ=uk,DZ=xT,PZ=o.getUint64,hk,mk,gk,yk,vk,TT,bk,ET=pk,RZ=Fn.parseId3Frames;hk=function(P){var M={},V=Ri(P,["moov","trak"]);return V.reduce(function(F,X){var se,we,Ee,Re,ke;return se=Ri(X,["tkhd"])[0],!se||(we=se[0],Ee=we===0?12:20,Re=Pb(se[Ee]<<24|se[Ee+1]<<16|se[Ee+2]<<8|se[Ee+3]),ke=Ri(X,["mdia","mdhd"])[0],!ke)?null:(we=ke[0],Ee=we===0?12:20,F[Re]=Pb(ke[Ee]<<24|ke[Ee+1]<<16|ke[Ee+2]<<8|ke[Ee+3]),F)},M)},mk=function(P,M){var V;V=Ri(M,["moof","traf"]);var F=V.reduce(function(X,se){var we=Ri(se,["tfhd"])[0],Ee=Pb(we[4]<<24|we[5]<<16|we[6]<<8|we[7]),Re=P[Ee]||9e4,ke=Ri(se,["tfdt"])[0],Ye=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),ot;ke[0]===1?ot=PZ(ke.subarray(4,12)):ot=Ye.getUint32(4);let Lt;return typeof ot=="bigint"?Lt=ot/ET.BigInt(Re):typeof ot=="number"&&!isNaN(ot)&&(Lt=ot/Re),Lt<Number.MAX_SAFE_INTEGER&&(Lt=Number(Lt)),Lt<X&&(X=Lt),X},1/0);return typeof F=="bigint"||isFinite(F)?F:0},gk=function(P,M){var V=Ri(M,["moof","traf"]),F=0,X=0,se;if(V&&V.length){var we=Ri(V[0],["tfhd"])[0],Ee=Ri(V[0],["trun"])[0],Re=Ri(V[0],["tfdt"])[0];if(we){var ke=CZ(we);se=ke.trackId}if(Re){var Ye=DZ(Re);F=Ye.baseMediaDecodeTime}if(Ee){var ot=OZ(Ee);ot.samples&&ot.samples.length&&(X=ot.samples[0].compositionTimeOffset||0)}}var Lt=P[se]||9e4;typeof F=="bigint"&&(X=ET.BigInt(X),Lt=ET.BigInt(Lt));var ft=(F+X)/Lt;return typeof ft=="bigint"&&ft<Number.MAX_SAFE_INTEGER&&(ft=Number(ft)),ft},yk=function(P){var M=Ri(P,["moov","trak"]),V=[];return M.forEach(function(F){var X=Ri(F,["mdia","hdlr"]),se=Ri(F,["tkhd"]);X.forEach(function(we,Ee){var Re=Yf(we.subarray(8,12)),ke=se[Ee],Ye,ot,Lt;Re==="vide"&&(Ye=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),ot=Ye.getUint8(0),Lt=ot===0?Ye.getUint32(12):Ye.getUint32(20),V.push(Lt))})}),V},TT=function(P){var M=P[0],V=M===0?12:20;return Pb(P[V]<<24|P[V+1]<<16|P[V+2]<<8|P[V+3])},vk=function(P){var M=Ri(P,["moov","trak"]),V=[];return M.forEach(function(F){var X={},se=Ri(F,["tkhd"])[0],we,Ee;se&&(we=new DataView(se.buffer,se.byteOffset,se.byteLength),Ee=we.getUint8(0),X.id=Ee===0?we.getUint32(12):we.getUint32(20));var Re=Ri(F,["mdia","hdlr"])[0];if(Re){var ke=Yf(Re.subarray(8,12));ke==="vide"?X.type="video":ke==="soun"?X.type="audio":X.type=ke}var Ye=Ri(F,["mdia","minf","stbl","stsd"])[0];if(Ye){var ot=Ye.subarray(8);X.codec=Yf(ot.subarray(4,8));var Lt=Ri(ot,[X.codec])[0],ft,pn;Lt&&(/^[asm]vc[1-9]$/i.test(X.codec)?(ft=Lt.subarray(78),pn=Yf(ft.subarray(4,8)),pn==="avcC"&&ft.length>11?(X.codec+=".",X.codec+=Um(ft[9]),X.codec+=Um(ft[10]),X.codec+=Um(ft[11])):X.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(X.codec)?(ft=Lt.subarray(28),pn=Yf(ft.subarray(4,8)),pn==="esds"&&ft.length>20&&ft[19]!==0?(X.codec+="."+Um(ft[19]),X.codec+="."+Um(ft[20]>>>2&63).replace(/^0/,"")):X.codec="mp4a.40.2"):X.codec=X.codec.toLowerCase())}var Ln=Ri(F,["mdia","mdhd"])[0];Ln&&(X.timescale=TT(Ln)),V.push(X)}),V},bk=function(P,M=0){var V=Ri(P,["emsg"]);return V.map(F=>{var X=wT.parseEmsgBox(new Uint8Array(F)),se=RZ(X.message_data);return{cueTime:wT.scaleTime(X.presentation_time,X.timescale,X.presentation_time_delta,M),duration:wT.scaleTime(X.event_duration,X.timescale),frames:se}})};var Fm={findBox:Ri,parseType:Yf,timescale:hk,startTime:mk,compositionStartTime:gk,videoTrackIds:yk,tracks:vk,getTimescaleFromMediaHeader:TT,getEmsgID3:bk};const{parseTrun:IZ}=dk,{findBox:_k}=Fm;var Sk=pk,kZ=function(P){var M=_k(P,["moof","traf"]),V=_k(P,["mdat"]),F=[];return V.forEach(function(X,se){var we=M[se];F.push({mdat:X,traf:we})}),F},NZ=function(P,M,V){var F=M,X=V.defaultSampleDuration||0,se=V.defaultSampleSize||0,we=V.trackId,Ee=[];return P.forEach(function(Re){var ke=IZ(Re),Ye=ke.samples;Ye.forEach(function(ot){ot.duration===void 0&&(ot.duration=X),ot.size===void 0&&(ot.size=se),ot.trackId=we,ot.dts=F,ot.compositionTimeOffset===void 0&&(ot.compositionTimeOffset=0),typeof F=="bigint"?(ot.pts=F+Sk.BigInt(ot.compositionTimeOffset),F+=Sk.BigInt(ot.duration)):(ot.pts=F+ot.compositionTimeOffset,F+=ot.duration)}),Ee=Ee.concat(Ye)}),Ee},xk={getMdatTrafPairs:kZ,parseSamples:NZ},MZ=We.discardEmulationPreventionBytes,jZ=Ge.CaptionStream,AT=ST,LZ=xT,$Z=ak,{getMdatTrafPairs:BZ,parseSamples:UZ}=xk,FZ=function(P,M){for(var V=P,F=0;F<M.length;F++){var X=M[F];if(V<X.size)return X;V-=X.size}return null},zZ=function(P,M,V){var F=new DataView(P.buffer,P.byteOffset,P.byteLength),X={logs:[],seiNals:[]},se,we,Ee,Re;for(we=0;we+4<P.length;we+=Ee)if(Ee=F.getUint32(we),we+=4,!(Ee<=0))switch(P[we]&31){case 6:var ke=P.subarray(we+1,we+1+Ee),Ye=FZ(we,M);if(se={nalUnitType:"sei_rbsp",size:Ee,data:ke,escapedRBSP:MZ(ke),trackId:V},Ye)se.pts=Ye.pts,se.dts=Ye.dts,Re=Ye;else if(Re)se.pts=Re.pts,se.dts=Re.dts;else{X.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+we+" for trackId "+V+". See mux.js#223."});break}X.seiNals.push(se);break}return X},VZ=function(P,M){var V={},F=BZ(P);return F.forEach(function(X){var se=X.mdat,we=X.traf,Ee=AT(we,["tfhd"]),Re=$Z(Ee[0]),ke=Re.trackId,Ye=AT(we,["tfdt"]),ot=Ye.length>0?LZ(Ye[0]).baseMediaDecodeTime:0,Lt=AT(we,["trun"]),ft,pn;M===ke&&Lt.length>0&&(ft=UZ(Lt,ot,Re),pn=zZ(se,ft,ke),V[ke]||(V[ke]={seiNals:[],logs:[]}),V[ke].seiNals=V[ke].seiNals.concat(pn.seiNals),V[ke].logs=V[ke].logs.concat(pn.logs))}),V},qZ=function(P,M,V){var F;if(M===null)return null;F=VZ(P,M);var X=F[M]||{};return{seiNals:X.seiNals,logs:X.logs,timescale:V}},HZ=function(){var P=!1,M,V,F,X,se,we;this.isInitialized=function(){return P},this.init=function(Ee){M=new jZ,P=!0,we=Ee?Ee.isPartial:!1,M.on("data",function(Re){Re.startTime=Re.startPts/X,Re.endTime=Re.endPts/X,se.captions.push(Re),se.captionStreams[Re.stream]=!0}),M.on("log",function(Re){se.logs.push(Re)})},this.isNewInit=function(Ee,Re){return Ee&&Ee.length===0||Re&&typeof Re=="object"&&Object.keys(Re).length===0?!1:F!==Ee[0]||X!==Re[F]},this.parse=function(Ee,Re,ke){var Ye;if(this.isInitialized()){if(!Re||!ke)return null;if(this.isNewInit(Re,ke))F=Re[0],X=ke[F];else if(F===null||!X)return V.push(Ee),null}else return null;for(;V.length>0;){var ot=V.shift();this.parse(ot,Re,ke)}return Ye=qZ(Ee,F,X),Ye&&Ye.logs&&(se.logs=se.logs.concat(Ye.logs)),Ye===null||!Ye.seiNals?se.logs.length?{logs:se.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Ye.seiNals),this.flushStream(),se)},this.pushNals=function(Ee){if(!this.isInitialized()||!Ee||Ee.length===0)return null;Ee.forEach(function(Re){M.push(Re)})},this.flushStream=function(){if(!this.isInitialized())return null;we?M.partialFlush():M.flush()},this.clearParsedCaptions=function(){se.captions=[],se.captionStreams={},se.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;M.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){V=[],F=null,X=null,se?this.clearParsedCaptions():se={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},GZ=HZ;const{parseTfdt:WZ}=dk,ec=ST,{getTimescaleFromMediaHeader:YZ}=Fm,{parseSamples:KZ,getMdatTrafPairs:XZ}=xk;var wk=function(){let P=9e4;this.init=function(M){const V=ec(M,["moov","trak","mdia","mdhd"])[0];V&&(P=YZ(V))},this.parseSegment=function(M){const V=[],F=XZ(M);let X=0;return F.forEach(function(se){const we=se.mdat,Ee=se.traf,Re=ec(Ee,["tfdt"])[0],ke=ec(Ee,["tfhd"])[0],Ye=ec(Ee,["trun"]);if(Re&&(X=WZ(Re).baseMediaDecodeTime),Ye.length&&ke){const ot=KZ(Ye,X,ke);let Lt=0;ot.forEach(function(ft){const pn="utf-8",Ln=new TextDecoder(pn),lo=we.slice(Lt,Lt+ft.size);if(ec(lo,["vtte"])[0]){Lt+=ft.size;return}ec(lo,["vttc"]).forEach(function(zm){const Vm=ec(zm,["payl"])[0],qm=ec(zm,["sttg"])[0],Hm=ft.pts/P,kb=(ft.pts+ft.duration)/P;let Jr,Gm;if(Vm)try{Jr=Ln.decode(Vm)}catch(Va){console.error(Va)}if(qm)try{Gm=Ln.decode(qm)}catch(Va){console.error(Va)}ft.duration&&Jr&&V.push({cueText:Jr,start:Hm,end:kb,settings:Gm})}),Lt+=ft.size})}}),V}},CT=Xe,Tk=function(P){var M=P[1]&31;return M<<=8,M|=P[2],M},Rb=function(P){return!!(P[1]&64)},Ib=function(P){var M=0;return(P[3]&48)>>>4>1&&(M+=P[4]+1),M},ZZ=function(P,M){var V=Tk(P);return V===0?"pat":V===M?"pmt":M?"pes":null},QZ=function(P){var M=Rb(P),V=4+Ib(P);return M&&(V+=P[V]+1),(P[V+10]&31)<<8|P[V+11]},JZ=function(P){var M={},V=Rb(P),F=4+Ib(P);if(V&&(F+=P[F]+1),!!(P[F+5]&1)){var X,se,we;X=(P[F+1]&15)<<8|P[F+2],se=3+X-4,we=(P[F+10]&15)<<8|P[F+11];for(var Ee=12+we;Ee<se;){var Re=F+Ee;M[(P[Re+1]&31)<<8|P[Re+2]]=P[Re],Ee+=((P[Re+3]&15)<<8|P[Re+4])+5}return M}},eQ=function(P,M){var V=Tk(P),F=M[V];switch(F){case CT.H264_STREAM_TYPE:return"video";case CT.ADTS_STREAM_TYPE:return"audio";case CT.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},tQ=function(P){var M=Rb(P);if(!M)return null;var V=4+Ib(P);if(V>=P.byteLength)return null;var F=null,X;return X=P[V+7],X&192&&(F={},F.pts=(P[V+9]&14)<<27|(P[V+10]&255)<<20|(P[V+11]&254)<<12|(P[V+12]&255)<<5|(P[V+13]&254)>>>3,F.pts*=4,F.pts+=(P[V+13]&6)>>>1,F.dts=F.pts,X&64&&(F.dts=(P[V+14]&14)<<27|(P[V+15]&255)<<20|(P[V+16]&254)<<12|(P[V+17]&255)<<5|(P[V+18]&254)>>>3,F.dts*=4,F.dts+=(P[V+18]&6)>>>1)),F},OT=function(P){switch(P){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},nQ=function(P){for(var M=4+Ib(P),V=P.subarray(M),F=0,X=0,se=!1,we;X<V.byteLength-3;X++)if(V[X+2]===1){F=X+5;break}for(;F<V.byteLength;)switch(V[F]){case 0:if(V[F-1]!==0){F+=2;break}else if(V[F-2]!==0){F++;break}X+3!==F-2&&(we=OT(V[X+3]&31),we==="slice_layer_without_partitioning_rbsp_idr"&&(se=!0));do F++;while(V[F]!==1&&F<V.length);X=F-2,F+=3;break;case 1:if(V[F-1]!==0||V[F-2]!==0){F+=3;break}we=OT(V[X+3]&31),we==="slice_layer_without_partitioning_rbsp_idr"&&(se=!0),X=F-2,F+=3;break;default:F+=3;break}return V=V.subarray(X),F-=X,X=0,V&&V.byteLength>3&&(we=OT(V[X+3]&31),we==="slice_layer_without_partitioning_rbsp_idr"&&(se=!0)),se},rQ={parseType:ZZ,parsePat:QZ,parsePmt:JZ,parsePayloadUnitStartIndicator:Rb,parsePesType:eQ,parsePesTime:tQ,videoPacketContainsKeyFrame:nQ},Ek=Xe,Kf=nn.handleRollover,_r={};_r.ts=rQ,_r.aac=Fe;var hd=Ze.ONE_SECOND_IN_TS,Xo=188,bl=71,iQ=function(P,M){for(var V=0,F=Xo,X,se;F<P.byteLength;){if(P[V]===bl&&P[F]===bl){switch(X=P.subarray(V,F),se=_r.ts.parseType(X,M.pid),se){case"pat":M.pid=_r.ts.parsePat(X);break;case"pmt":var we=_r.ts.parsePmt(X);M.table=M.table||{},Object.keys(we).forEach(function(Ee){M.table[Ee]=we[Ee]});break}V+=Xo,F+=Xo;continue}V++,F++}},Ak=function(P,M,V){for(var F=0,X=Xo,se,we,Ee,Re,ke,Ye=!1;X<=P.byteLength;){if(P[F]===bl&&(P[X]===bl||X===P.byteLength)){switch(se=P.subarray(F,X),we=_r.ts.parseType(se,M.pid),we){case"pes":Ee=_r.ts.parsePesType(se,M.table),Re=_r.ts.parsePayloadUnitStartIndicator(se),Ee==="audio"&&Re&&(ke=_r.ts.parsePesTime(se),ke&&(ke.type="audio",V.audio.push(ke),Ye=!0));break}if(Ye)break;F+=Xo,X+=Xo;continue}F++,X++}for(X=P.byteLength,F=X-Xo,Ye=!1;F>=0;){if(P[F]===bl&&(P[X]===bl||X===P.byteLength)){switch(se=P.subarray(F,X),we=_r.ts.parseType(se,M.pid),we){case"pes":Ee=_r.ts.parsePesType(se,M.table),Re=_r.ts.parsePayloadUnitStartIndicator(se),Ee==="audio"&&Re&&(ke=_r.ts.parsePesTime(se),ke&&(ke.type="audio",V.audio.push(ke),Ye=!0));break}if(Ye)break;F-=Xo,X-=Xo;continue}F--,X--}},oQ=function(P,M,V){for(var F=0,X=Xo,se,we,Ee,Re,ke,Ye,ot,Lt,ft=!1,pn={data:[],size:0};X<P.byteLength;){if(P[F]===bl&&P[X]===bl){switch(se=P.subarray(F,X),we=_r.ts.parseType(se,M.pid),we){case"pes":if(Ee=_r.ts.parsePesType(se,M.table),Re=_r.ts.parsePayloadUnitStartIndicator(se),Ee==="video"&&(Re&&!ft&&(ke=_r.ts.parsePesTime(se),ke&&(ke.type="video",V.video.push(ke),ft=!0)),!V.firstKeyFrame)){if(Re&&pn.size!==0){for(Ye=new Uint8Array(pn.size),ot=0;pn.data.length;)Lt=pn.data.shift(),Ye.set(Lt,ot),ot+=Lt.byteLength;if(_r.ts.videoPacketContainsKeyFrame(Ye)){var Ln=_r.ts.parsePesTime(Ye);Ln?(V.firstKeyFrame=Ln,V.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}pn.size=0}pn.data.push(se),pn.size+=se.byteLength}break}if(ft&&V.firstKeyFrame)break;F+=Xo,X+=Xo;continue}F++,X++}for(X=P.byteLength,F=X-Xo,ft=!1;F>=0;){if(P[F]===bl&&P[X]===bl){switch(se=P.subarray(F,X),we=_r.ts.parseType(se,M.pid),we){case"pes":Ee=_r.ts.parsePesType(se,M.table),Re=_r.ts.parsePayloadUnitStartIndicator(se),Ee==="video"&&Re&&(ke=_r.ts.parsePesTime(se),ke&&(ke.type="video",V.video.push(ke),ft=!0));break}if(ft)break;F-=Xo,X-=Xo;continue}F--,X--}},sQ=function(P,M){if(P.audio&&P.audio.length){var V=M;(typeof V>"u"||isNaN(V))&&(V=P.audio[0].dts),P.audio.forEach(function(se){se.dts=Kf(se.dts,V),se.pts=Kf(se.pts,V),se.dtsTime=se.dts/hd,se.ptsTime=se.pts/hd})}if(P.video&&P.video.length){var F=M;if((typeof F>"u"||isNaN(F))&&(F=P.video[0].dts),P.video.forEach(function(se){se.dts=Kf(se.dts,F),se.pts=Kf(se.pts,F),se.dtsTime=se.dts/hd,se.ptsTime=se.pts/hd}),P.firstKeyFrame){var X=P.firstKeyFrame;X.dts=Kf(X.dts,F),X.pts=Kf(X.pts,F),X.dtsTime=X.dts/hd,X.ptsTime=X.pts/hd}}},aQ=function(P){for(var M=!1,V=0,F=null,X=null,se=0,we=0,Ee;P.length-we>=3;){var Re=_r.aac.parseType(P,we);switch(Re){case"timed-metadata":if(P.length-we<10){M=!0;break}if(se=_r.aac.parseId3TagSize(P,we),se>P.length){M=!0;break}X===null&&(Ee=P.subarray(we,we+se),X=_r.aac.parseAacTimestamp(Ee)),we+=se;break;case"audio":if(P.length-we<7){M=!0;break}if(se=_r.aac.parseAdtsSize(P,we),se>P.length){M=!0;break}F===null&&(Ee=P.subarray(we,we+se),F=_r.aac.parseSampleRate(Ee)),V++,we+=se;break;default:we++;break}if(M)return null}if(F===null||X===null)return null;var ke=hd/F,Ye={audio:[{type:"audio",dts:X,pts:X},{type:"audio",dts:X+V*1024*ke,pts:X+V*1024*ke}]};return Ye},lQ=function(P){var M={pid:null,table:null},V={};iQ(P,M);for(var F in M.table)if(M.table.hasOwnProperty(F)){var X=M.table[F];switch(X){case Ek.H264_STREAM_TYPE:V.video=[],oQ(P,M,V),V.video.length===0&&delete V.video;break;case Ek.ADTS_STREAM_TYPE:V.audio=[],Ak(P,M,V),V.audio.length===0&&delete V.audio;break}}return V},uQ=function(P,M){var V=_r.aac.isLikelyAacData(P),F;return V?F=aQ(P):F=lQ(P),!F||!F.audio&&!F.video?null:(sQ(F,M),F)},cQ={inspect:uQ,parseAudioPes_:Ak};const dQ=function(P,M){M.on("data",function(V){const F=V.initSegment;V.initSegment={data:F.buffer,byteOffset:F.byteOffset,byteLength:F.byteLength};const X=V.data;V.data=X.buffer,P.postMessage({action:"data",segment:V,byteOffset:X.byteOffset,byteLength:X.byteLength},[V.data])}),M.on("done",function(V){P.postMessage({action:"done"})}),M.on("gopInfo",function(V){P.postMessage({action:"gopInfo",gopInfo:V})}),M.on("videoSegmentTimingInfo",function(V){const F={start:{decode:Ze.videoTsToSeconds(V.start.dts),presentation:Ze.videoTsToSeconds(V.start.pts)},end:{decode:Ze.videoTsToSeconds(V.end.dts),presentation:Ze.videoTsToSeconds(V.end.pts)},baseMediaDecodeTime:Ze.videoTsToSeconds(V.baseMediaDecodeTime)};V.prependedContentDuration&&(F.prependedContentDuration=Ze.videoTsToSeconds(V.prependedContentDuration)),P.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:F})}),M.on("audioSegmentTimingInfo",function(V){const F={start:{decode:Ze.videoTsToSeconds(V.start.dts),presentation:Ze.videoTsToSeconds(V.start.pts)},end:{decode:Ze.videoTsToSeconds(V.end.dts),presentation:Ze.videoTsToSeconds(V.end.pts)},baseMediaDecodeTime:Ze.videoTsToSeconds(V.baseMediaDecodeTime)};V.prependedContentDuration&&(F.prependedContentDuration=Ze.videoTsToSeconds(V.prependedContentDuration)),P.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:F})}),M.on("id3Frame",function(V){P.postMessage({action:"id3Frame",id3Frame:V})}),M.on("caption",function(V){P.postMessage({action:"caption",caption:V})}),M.on("trackinfo",function(V){P.postMessage({action:"trackinfo",trackInfo:V})}),M.on("audioTimingInfo",function(V){P.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ze.videoTsToSeconds(V.start),end:Ze.videoTsToSeconds(V.end)}})}),M.on("videoTimingInfo",function(V){P.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ze.videoTsToSeconds(V.start),end:Ze.videoTsToSeconds(V.end)}})}),M.on("log",function(V){P.postMessage({action:"log",log:V})})};class Ck{constructor(M,V){this.options=V||{},this.self=M,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Wf.Transmuxer(this.options),dQ(this.self,this.transmuxer)}pushMp4Captions(M){this.captionParser||(this.captionParser=new GZ,this.captionParser.init());const V=new Uint8Array(M.data,M.byteOffset,M.byteLength),F=this.captionParser.parse(V,M.trackIds,M.timescales);this.self.postMessage({action:"mp4Captions",captions:F&&F.captions||[],logs:F&&F.logs||[],data:V.buffer},[V.buffer])}initMp4WebVttParser(M){this.webVttParser||(this.webVttParser=new wk);const V=new Uint8Array(M.data,M.byteOffset,M.byteLength);this.webVttParser.init(V)}getMp4WebVttText(M){this.webVttParser||(this.webVttParser=new wk);const V=new Uint8Array(M.data,M.byteOffset,M.byteLength),F=this.webVttParser.parseSegment(V);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:F||[],data:V.buffer},[V.buffer])}probeMp4StartTime({timescales:M,data:V}){const F=Fm.startTime(M,V);this.self.postMessage({action:"probeMp4StartTime",startTime:F,data:V},[V.buffer])}probeMp4Tracks({data:M}){const V=Fm.tracks(M);this.self.postMessage({action:"probeMp4Tracks",tracks:V,data:M},[M.buffer])}probeEmsgID3({data:M,offset:V}){const F=Fm.getEmsgID3(M,V);this.self.postMessage({action:"probeEmsgID3",id3Frames:F,emsgData:M},[M.buffer])}probeTs({data:M,baseStartTime:V}){const F=typeof V=="number"&&!isNaN(V)?V*Ze.ONE_SECOND_IN_TS:void 0,X=cQ.inspect(M,F);let se=null;X&&(se={hasVideo:X.video&&X.video.length===2||!1,hasAudio:X.audio&&X.audio.length===2||!1},se.hasVideo&&(se.videoStart=X.video[0].ptsTime),se.hasAudio&&(se.audioStart=X.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:se,data:M},[M.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(M){const V=new Uint8Array(M.data,M.byteOffset,M.byteLength);this.transmuxer.push(V)}reset(){this.transmuxer.reset()}setTimestampOffset(M){const V=M.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ze.secondsToVideoTs(V)))}setAudioAppendStart(M){this.transmuxer.setAudioAppendStart(Math.ceil(Ze.secondsToVideoTs(M.appendStart)))}setRemux(M){this.transmuxer.setRemux(M.remux)}flush(M){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(M){this.transmuxer.alignGopsWith(M.gopsToAlignWith.slice())}}self.onmessage=function(P){if(P.data.action==="init"&&P.data.options){this.messageHandlers=new Ck(self,P.data.options);return}this.messageHandlers||(this.messageHandlers=new Ck(self)),P.data&&P.data.action&&P.data.action!=="init"&&this.messageHandlers[P.data.action]&&this.messageHandlers[P.data.action](P.data)}}));var TIe=TK(wIe);const EIe=(e,t,n)=>{const{type:r,initSegment:i,captions:o,captionStreams:s,metadata:a,videoFrameDtsTime:l,videoFramePtsTime:u}=e.data.segment;t.buffer.push({captions:o,captionStreams:s,metadata:a});const c=e.data.segment.boxes||{data:e.data.segment.data},d={type:r,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof u<"u"&&(d.videoFramePtsTime=u),n(d)},AIe=({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)},CIe=(e,t)=>{t.gopInfo=e.data.gopInfo},CK=e=>{const{transmuxer:t,bytes:n,audioAppendStart:r,gopsToAlignWith:i,remux:o,onData:s,onTrackInfo:a,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:d,onId3:f,onCaptions:m,onDone:h,onEndedTimeline:g,onTransmuxerLog:S,isEndOfTimeline:y,segment:v,triggerSegmentEventFn:b}=e,_={buffer:[]};let x=y;const T=E=>{t.currentTransmux===e&&(E.data.action==="data"&&EIe(E,_,s),E.data.action==="trackinfo"&&a(E.data.trackInfo),E.data.action==="gopInfo"&&CIe(E,_),E.data.action==="audioTimingInfo"&&l(E.data.audioTimingInfo),E.data.action==="videoTimingInfo"&&u(E.data.videoTimingInfo),E.data.action==="videoSegmentTimingInfo"&&c(E.data.videoSegmentTimingInfo),E.data.action==="audioSegmentTimingInfo"&&d(E.data.audioSegmentTimingInfo),E.data.action==="id3Frame"&&f([E.data.id3Frame],E.data.id3Frame.dispatchType),E.data.action==="caption"&&m(E.data.caption),E.data.action==="endedtimeline"&&(x=!1,g()),E.data.action==="log"&&S(E.data.log),E.data.type==="transmuxed"&&(x||(t.onmessage=null,AIe({transmuxedData:_,callback:h}),OK(t))))},w=()=>{const E={message:"Received an error message from the transmuxer worker",metadata:{errorType:nt.Error.StreamingFailedToTransmuxSegment,segmentInfo:kd({segment:v})}};h(null,E)};if(t.onmessage=T,t.onerror=w,r&&t.postMessage({action:"setAudioAppendStart",appendStart:r}),Array.isArray(i)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof o<"u"&&t.postMessage({action:"setRemux",remux:o}),n.byteLength){const E=n instanceof ArrayBuffer?n:n.buffer,C=n instanceof ArrayBuffer?0:n.byteOffset;b({type:"segmenttransmuxingstart",segment:v}),t.postMessage({action:"push",data:E,byteOffset:C,byteLength:n.byteLength},[E])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},OK=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():CK(e.currentTransmux))},W4=(e,t)=>{e.postMessage({action:t}),OK(e)},DK=(e,t)=>{if(!t.currentTransmux){t.currentTransmux=e,W4(t,e);return}t.transmuxQueue.push(W4.bind(null,t,e))},OIe=e=>{DK("reset",e)},DIe=e=>{DK("endTimeline",e)},PK=e=>{if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,CK(e);return}e.transmuxer.transmuxQueue.push(e)},PIe=e=>{const t=new TIe;t.currentTransmux=null,t.transmuxQueue=[];const n=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)),t.postMessage({action:"init",options:e}),t};var VE={reset:OIe,endTimeline:DIe,transmux:PK,createTransmuxer:PIe};const sh=function(e){const t=e.transmuxer,n=e.endAction||e.action,r=e.callback,i=No({},e,{endAction:null,transmuxer:null,callback:null}),o=s=>{s.data.action===n&&(t.removeEventListener("message",o),s.data.data&&(s.data.data=new Uint8Array(s.data.data,e.byteOffset||0,e.byteLength||s.data.data.byteLength),e.data&&(e.data=s.data.data)),r(s.data))};if(t.addEventListener("message",o),e.data){const s=e.data instanceof ArrayBuffer;i.byteOffset=s?0:e.data.byteOffset,i.byteLength=e.data.byteLength;const a=[s?e.data:e.data.buffer];t.postMessage(i,a)}else t.postMessage(i)},kl={FAILURE:2,TIMEOUT:-101,ABORTED:-102},RK="wvtt",YC=e=>{e.forEach(t=>{t.abort()})},RIe=e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}),IIe=e=>{const t=e.target,r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return r.bytesReceived=e.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r},MI=(e,t)=>{const{requestType:n}=t,r=af({requestType:n,request:t,error:e});return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:kl.TIMEOUT,xhr:t,metadata:r}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:kl.ABORTED,xhr:t,metadata:r}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:kl.FAILURE,xhr:t,metadata:r}:t.responseType==="arraybuffer"&&t.response.byteLength===0?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:kl.FAILURE,xhr:t,metadata:r}:null},Y4=(e,t,n,r)=>(i,o)=>{const s=o.response,a=MI(i,o);if(a)return n(a,e);if(s.byteLength!==16)return n({status:o.status,message:"Invalid HLS key at URL: "+o.uri,code:kl.FAILURE,xhr:o},e);const l=new DataView(s),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<t.length;d++)t[d].bytes=u;const c={uri:o.uri};return r({type:"segmentkeyloadcomplete",segment:e,keyInfo:c}),n(null,e)},kIe=(e,t)=>{t===RK&&e.transmuxer.postMessage({action:"initMp4WebVttParser",data:e.map.bytes})},NIe=(e,t,n)=>{t===RK&&sh({action:"getMp4WebVttText",data:e.bytes,transmuxer:e.transmuxer,callback:({data:r,mp4VttCues:i})=>{e.bytes=r,n(null,e,{mp4VttCues:i})}})},IK=(e,t)=>{const n=iI(e.map.bytes);if(n!=="mp4"){const r=e.map.resolvedUri||e.map.uri,i=n||"unknown";return t({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${r}`,code:kl.FAILURE,metadata:{mediaType:i}})}sh({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:r,data:i})=>(e.map.bytes=i,r.forEach(function(o){e.map.tracks=e.map.tracks||{},!e.map.tracks[o.type]&&(e.map.tracks[o.type]=o,typeof o.id=="number"&&o.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[o.id]=o.timescale),o.type==="text"&&kIe(e,o.codec))}),t(null))})},MIe=({segment:e,finishProcessingFn:t,triggerSegmentEventFn:n})=>(r,i)=>{const o=MI(r,i);if(o)return t(o,e);const s=new Uint8Array(i.response);if(n({type:"segmentloaded",segment:e}),e.map.key)return e.map.encryptedBytes=s,t(null,e);e.map.bytes=s,IK(e,function(a){if(a)return a.xhr=i,a.status=i.status,t(a,e);t(null,e)})},jIe=({segment:e,finishProcessingFn:t,responseType:n,triggerSegmentEventFn:r})=>(i,o)=>{const s=MI(i,o);if(s)return t(s,e);r({type:"segmentloaded",segment:e});const a=n==="arraybuffer"||!o.responseText?o.response:SIe(o.responseText.substring(e.lastReachedChar||0));return e.stats=RIe(o),e.key?e.encryptedBytes=new Uint8Array(a):e.bytes=new Uint8Array(a),t(null,e)},LIe=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})=>{const h=e.map&&e.map.tracks||{},g=!!(h.audio&&h.video);let S=r.bind(null,e,"audio","start");const y=r.bind(null,e,"audio","end");let v=r.bind(null,e,"video","start");const b=r.bind(null,e,"video","end"),_=()=>PK({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:g,onData:x=>{x.type=x.type==="combined"?"video":x.type,c(e,x)},onTrackInfo:x=>{n&&(g&&(x.isMuxed=!0),n(e,x))},onAudioTimingInfo:x=>{S&&typeof x.start<"u"&&(S(x.start),S=null),y&&typeof x.end<"u"&&y(x.end)},onVideoTimingInfo:x=>{v&&typeof x.start<"u"&&(v(x.start),v=null),b&&typeof x.end<"u"&&b(x.end)},onVideoSegmentTimingInfo:x=>{const T={pts:{start:x.start.presentation,end:x.end.presentation},dts:{start:x.start.decode,end:x.end.decode}};m({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:T}),i(x)},onAudioSegmentTimingInfo:x=>{const T={pts:{start:x.start.pts,end:x.end.pts},dts:{start:x.start.dts,end:x.end.dts}};m({type:"segmenttransmuxingtiminginfoavailable",segment:e,timingInfo:T}),o(x)},onId3:(x,T)=>{s(e,x,T)},onCaptions:x=>{a(e,[x])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:f,onDone:(x,T)=>{d&&(x.type=x.type==="combined"?"video":x.type,m({type:"segmenttransmuxingcomplete",segment:e}),d(T,e,x))},segment:e,triggerSegmentEventFn:m});sh({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:x=>{e.bytes=t=x.data;const T=x.result;T&&(n(e,{hasAudio:T.hasAudio,hasVideo:T.hasVideo,isMuxed:g}),n=null),_()}})},kK=({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})=>{let h=new Uint8Array(t);if(oPe(h)){e.isFmp4=!0;const{tracks:g}=e.map;if(g.text&&(!g.audio||!g.video)){c(e,{data:h,type:"text"}),NIe(e,g.text.codec,d);return}const y={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(y.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(y.videoCodec=g.video.codec),g.video&&g.audio&&(y.isMuxed=!0),n(e,y);const v=(b,_)=>{c(e,{data:h,type:y.hasAudio&&!y.isMuxed?"audio":"video"}),_&&_.length&&s(e,_),b&&b.length&&a(e,b),d(null,e,{})};sh({action:"probeMp4StartTime",timescales:e.map.timescales,data:h,transmuxer:e.transmuxer,callback:({data:b,startTime:_})=>{t=b.buffer,e.bytes=h=b,y.hasAudio&&!y.isMuxed&&r(e,"audio","start",_),y.hasVideo&&r(e,"video","start",_),sh({action:"probeEmsgID3",data:h,transmuxer:e.transmuxer,offset:_,callback:({emsgData:x,id3Frames:T})=>{if(t=x.buffer,e.bytes=h=x,!g.video||!x.byteLength||!e.transmuxer){v(void 0,T);return}sh({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:h,timescales:e.map.timescales,trackIds:[g.video.id],callback:w=>{t=w.data.buffer,e.bytes=h=w.data,w.logs.forEach(function(E){f(gr(E,{stream:"mp4CaptionParser"}))}),v(w.captions,T)}})}})}});return}if(!e.transmuxer){d(null,e,{});return}if(typeof e.container>"u"&&(e.container=iI(h)),e.container!=="ts"&&e.container!=="aac"){n(e,{hasAudio:!1,hasVideo:!1}),d(null,e,{});return}LIe({segment:e,bytes:t,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})},NK=function({id:e,key:t,encryptedBytes:n,decryptionWorker:r,segment:i,doneFn:o},s){const a=u=>{if(u.data.source===e){r.removeEventListener("message",a);const c=u.data.decrypted;s(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};r.onerror=()=>{const u="An error occurred in the decryption worker",c=kd({segment:i}),d={message:u,metadata:{error:new Error(u),errorType:nt.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};o(d,i)},r.addEventListener("message",a);let l;t.bytes.slice?l=t.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(t.bytes)),r.postMessage(vK({source:e,encrypted:n,key:l,iv:t.iv}),[n.buffer,l.buffer])},$Ie=({decryptionWorker:e,segment:t,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})=>{m({type:"segmentdecryptionstart"}),NK({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e,segment:t,doneFn:d},h=>{t.bytes=h,m({type:"segmentdecryptioncomplete",segment:t}),kK({segment:t,bytes:t.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})})},BIe=({activeXhrs:e,decryptionWorker:t,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})=>{let h=0,g=!1;return(S,y)=>{if(!g){if(S)return g=!0,YC(e),d(S,y);if(h+=1,h===e.length){const v=function(){if(y.encryptedBytes)return $Ie({decryptionWorker:t,segment:y,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m});kK({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:m})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return m({type:"segmentdecryptionstart",segment:y}),NK({decryptionWorker:t,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:d},b=>{y.map.bytes=b,m({type:"segmentdecryptioncomplete",segment:y}),IK(y,_=>{if(_)return YC(e),d(_,y);v()})});v()}}}},UIe=({loadendState:e,abortFn:t})=>n=>{n.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)},FIe=({segment:e,progressFn:t,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:o,id3Fn:s,captionsFn:a,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>d=>{if(!d.target.aborted)return e.stats=gr(e.stats,IIe(d)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(d,e)},zIe=({xhr:e,xhrOptions:t,decryptionWorker:n,segment:r,abortFn:i,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:h,doneFn:g,onTransmuxerLog:S,triggerSegmentEventFn:y})=>{const v=[],b=BIe({activeXhrs:v,decryptionWorker:n,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:h,doneFn:g,onTransmuxerLog:S,triggerSegmentEventFn:y});if(r.key&&!r.key.bytes){const E=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&E.push(r.map.key);const C=gr(t,{uri:r.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),D=Y4(r,E,b,y),O={uri:r.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:O});const I=e(C,D);v.push(I)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){const I=gr(t,{uri:r.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),k=Y4(r,[r.map.key],b,y),B={uri:r.map.key.resolvedUri};y({type:"segmentkeyloadstart",segment:r,keyInfo:B});const q=e(I,k);v.push(q)}const C=gr(t,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:GC(r.map),requestType:"segment-media-initialization"}),D=MIe({segment:r,finishProcessingFn:b,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const O=e(C,D);v.push(O)}const _=gr(t,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:GC(r),requestType:"segment"}),x=jIe({segment:r,finishProcessingFn:b,responseType:_.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:r});const T=e(_,x);T.addEventListener("progress",FIe({segment:r,progressFn:o,trackInfoFn:s,timingInfoFn:a,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:m,dataFn:h})),v.push(T);const w={};return v.forEach(E=>{E.addEventListener("loadend",UIe({loadendState:w,abortFn:i}))}),()=>YC(v)},R0=za("PlaylistSelector"),K4=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},ah=function(e,t){if(!e)return"";const n=De.getComputedStyle(e);return n?n[t]:""},lh=function(e,t){const n=e.slice();e.sort(function(r,i){const o=t(r,i);return o===0?n.indexOf(r)-n.indexOf(i):o})},jI=function(e,t){let n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||De.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||De.Number.MAX_VALUE,n-r},VIe=function(e,t){let n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||De.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||De.Number.MAX_VALUE,n===r&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-r};let MK=function(e){const{main:t,bandwidth:n,playerWidth:r,playerHeight:i,playerObjectFit:o,limitRenditionByPlayerDimensions:s,playlistController:a}=e;if(!t)return;const l={bandwidth:n,width:r,height:i,limitRenditionByPlayerDimensions:s};let u=t.playlists;ws.isAudioOnly(t)&&(u=a.getAudioTrackPlaylists_(),l.audioOnly=!0);let c=u.map(w=>{let E;const C=w.attributes&&w.attributes.RESOLUTION&&w.attributes.RESOLUTION.width,D=w.attributes&&w.attributes.RESOLUTION&&w.attributes.RESOLUTION.height;return E=w.attributes&&w.attributes.BANDWIDTH,E=E||De.Number.MAX_VALUE,{bandwidth:E,width:C,height:D,playlist:w}});lh(c,(w,E)=>w.bandwidth-E.bandwidth),c=c.filter(w=>!ws.isIncompatible(w.playlist));let d=c.filter(w=>ws.isEnabled(w.playlist));d.length||(d=c.filter(w=>!ws.isDisabled(w.playlist)));const f=d.filter(w=>w.bandwidth*mo.BANDWIDTH_VARIANCE<n);let m=f[f.length-1];const h=f.filter(w=>w.bandwidth===m.bandwidth)[0];if(s===!1){const w=h||d[0]||c[0];if(w&&w.playlist){let E="sortedPlaylistReps";return h&&(E="bandwidthBestRep"),d[0]&&(E="enabledPlaylistReps"),R0(`choosing ${K4(w)} using ${E} with options`,l),w.playlist}return R0("could not choose a playlist with options",l),null}const g=f.filter(w=>w.width&&w.height);lh(g,(w,E)=>w.width-E.width);const S=g.filter(w=>w.width===r&&w.height===i);m=S[S.length-1];const y=S.filter(w=>w.bandwidth===m.bandwidth)[0];let v,b,_;y||(v=g.filter(w=>o==="cover"?w.width>r&&w.height>i:w.width>r||w.height>i),b=v.filter(w=>w.width===v[0].width&&w.height===v[0].height),m=b[b.length-1],_=b.filter(w=>w.bandwidth===m.bandwidth)[0]);let x;if(a.leastPixelDiffSelector){const w=g.map(E=>(E.pixelDiff=Math.abs(E.width-r)+Math.abs(E.height-i),E));lh(w,(E,C)=>E.pixelDiff===C.pixelDiff?C.bandwidth-E.bandwidth:E.pixelDiff-C.pixelDiff),x=w[0]}const T=x||_||y||h||d[0]||c[0];if(T&&T.playlist){let w="sortedPlaylistReps";return x?w="leastPixelDiffRep":_?w="resolutionPlusOneRep":y?w="resolutionBestRep":h?w="bandwidthBestRep":d[0]&&(w="enabledPlaylistReps"),R0(`choosing ${K4(T)} using ${w} with options`,l),T.playlist}return R0("could not choose a playlist with options",l),null};const X4=function(){let e=this.useDevicePixelRatio&&De.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(e=this.customPixelRatio),MK({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(ah(this.tech_.el(),"width"),10)*e,playerHeight:parseInt(ah(this.tech_.el(),"height"),10)*e,playerObjectFit:this.usePlayerObjectFit?ah(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},qIe=function(e){let t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let r=this.useDevicePixelRatio&&De.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),MK({main:this.playlists.main,bandwidth:t,playerWidth:parseInt(ah(this.tech_.el(),"width"),10)*r,playerHeight:parseInt(ah(this.tech_.el(),"height"),10)*r,playerObjectFit:this.usePlayerObjectFit?ah(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},HIe=function(e){const{main:t,currentTime:n,bandwidth:r,duration:i,segmentDuration:o,timeUntilRebuffer:s,currentTimeline:a,syncController:l}=e,u=t.playlists.filter(h=>!ws.isIncompatible(h));let c=u.filter(ws.isEnabled);c.length||(c=u.filter(h=>!ws.isDisabled(h)));const f=c.filter(ws.hasAttribute.bind(null,"BANDWIDTH")).map(h=>{const S=l.getSyncPoint(h,i,a,n)?1:2,v=ws.estimateSegmentRequestTime(o,r,h)*S-s;return{playlist:h,rebufferingImpact:v}}),m=f.filter(h=>h.rebufferingImpact<=0);return lh(m,(h,g)=>jI(g.playlist,h.playlist)),m.length?m[0]:(lh(f,(h,g)=>h.rebufferingImpact-g.rebufferingImpact),f[0]||null)},GIe=function(){const e=this.playlists.main.playlists.filter(ws.isEnabled);return lh(e,(n,r)=>jI(n,r)),e.filter(n=>!!Sy(this.playlists.main,n).video)[0]||null},WIe=e=>{let t=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(r=>{n.set(r,t),t+=r.byteLength})),n};function jK(e){try{return new URL(e).pathname.split("/").slice(-2).join("/")}catch{return""}}const YIe=function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"});let r=n;/^cc708_/.test(n)&&(r="SERVICE"+n.split("_")[1]);const i=t.textTracks().getTrackById(r);if(i)e[n]=i;else{const o=t.options_.vhs&&t.options_.vhs.captionServices||{};let s=n,a=n,l=!1;const u=o[r];u&&(s=u.label,a=u.language,l=u.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:r,default:l,label:s,language:a},!1).track}}},KIe=function({inbandTextTracks:e,captionArray:t,timestampOffset:n}){if(!t)return;const r=De.WebKitDataCue||De.VTTCue;t.forEach(i=>{const o=i.stream;i.content?i.content.forEach(s=>{const a=new r(i.startTime+n,i.endTime+n,s.text);a.line=s.line,a.align="left",a.position=s.position,a.positionAlign="line-left",e[o].addCue(a)}):e[o].addCue(new r(i.startTime+n,i.endTime+n,i.text))})},XIe=function(e){Object.defineProperties(e.frame,{id:{get(){return nt.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get(){return nt.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get(){return nt.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},ZIe=({inbandTextTracks:e,metadataArray:t,timestampOffset:n,videoDuration:r})=>{if(!t)return;const i=De.WebKitDataCue||De.VTTCue,o=e.metadataTrack_;if(!o||(t.forEach(c=>{const d=c.cueTime+n;typeof d!="number"||De.isNaN(d)||d<0||!(d<1/0)||!c.frames||!c.frames.length||c.frames.forEach(f=>{const m=new i(d,d,f.value||f.url||f.data||"");m.frame=f,m.value=f,XIe(m),o.addCue(m)})}),!o.cues||!o.cues.length))return;const s=o.cues,a=[];for(let c=0;c<s.length;c++)s[c]&&a.push(s[c]);const l=a.reduce((c,d)=>{const f=c[d.startTime]||[];return f.push(d),c[d.startTime]=f,c},{}),u=Object.keys(l).sort((c,d)=>Number(c)-Number(d));u.forEach((c,d)=>{const f=l[c],m=isFinite(r)?r:c,h=Number(u[d+1])||m;f.forEach(g=>{g.endTime=h})})},QIe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},JIe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),eke=({inbandTextTracks:e,dateRanges:t})=>{const n=e.metadataTrack_;if(!n)return;const r=De.WebKitDataCue||De.VTTCue;t.forEach(i=>{for(const o of Object.keys(i)){if(JIe.has(o))continue;const s=new r(i.startTime,i.endTime,"");s.id=i.id,s.type="com.apple.quicktime.HLS",s.value={key:QIe[o],data:i[o]},(o==="scte35Out"||o==="scte35In")&&(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(s)}i.processDateRange()})},Z4=(e,t,n)=>{e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,nt.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},Fg=function(e,t,n){let r,i;if(n&&n.cues)for(r=n.cues.length;r--;)i=n.cues[r],i.startTime>=e&&i.endTime<=t&&n.removeCue(i)},tke=function(e){const t=e.cues;if(!t)return;const n={};for(let r=t.length-1;r>=0;r--){const i=t[r],o=`${i.startTime}-${i.endTime}-${i.text}`;n[o]?e.removeCue(i):n[o]=i}},nke=(e,t,n)=>{if(typeof t>"u"||t===null||!e.length)return[];const r=Math.ceil((t-n+3)*Vd.ONE_SECOND_IN_TS);let i;for(i=0;i<e.length&&!(e[i].pts>r);i++);return e.slice(i)},rke=(e,t,n)=>{if(!t.length)return e;if(n)return t.slice();const r=t[0].pts;let i=0;for(i;i<e.length&&!(e[i].pts>=r);i++);return e.slice(0,i).concat(t)},ike=(e,t,n,r)=>{const i=Math.ceil((t-r)*Vd.ONE_SECOND_IN_TS),o=Math.ceil((n-r)*Vd.ONE_SECOND_IN_TS),s=e.slice();let a=e.length;for(;a--&&!(e[a].pts<=o););if(a===-1)return s;let l=a+1;for(;l--&&!(e[l].pts<=i););return l=Math.max(l,0),s.splice(l,a-l+1),s},oke=function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const n=Object.keys(e).sort(),r=Object.keys(t).sort();if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(o!==r[i]||e[o]!==t[o])return!1}return!0},ske=function(e,t,n){t=t||[];const r=[];let i=0;for(let o=0;o<t.length;o++){const s=t[o];if(e===s.timeline&&(r.push(o),i+=s.duration,i>n))return o}return r.length===0?0:r[r.length-1]},Tg=1,ake=500,Q4=e=>typeof e=="number"&&isFinite(e),I0=1/60,lke=(e,t,n)=>e!=="main"||!t||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,uke=(e,t,n)=>{let r=t-mo.BACK_BUFFER_LENGTH;e.length&&(r=Math.max(r,e.start(0)));const i=t-n;return Math.min(i,r)},fp=e=>{const{startOfSegment:t,duration:n,segment:r,part:i,playlist:{mediaSequence:o,id:s,segments:a=[]},mediaIndex:l,partIndex:u,timeline:c}=e,d=a.length-1;let f="mediaIndex/partIndex increment";e.getMediaInfoForTime?f=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(f+=` with independent ${e.independent}`);const m=typeof u=="number",h=e.segment.uri?"segment":"pre-segment",g=m?eK({preloadSegment:r})-1:0;return`${h} [${o+l}/${o+d}]`+(m?` part [${u}/${g}]`:"")+` segment start/end [${r.start} => ${r.end}]`+(m?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${t}] duration [${n}] timeline [${c}] selected by [${f}] playlist [${s}]`},J4=e=>`${e}TimingInfo`,cke=({segmentTimeline:e,currentTimeline:t,startOfSegment:n,buffered:r,overrideCheck:i})=>!i&&e===t?null:e<t?n:r.length?r.end(r.length-1):n,KC=({timelineChangeController:e,currentTimeline:t,segmentTimeline:n,loaderType:r,audioDisabled:i})=>{if(t===n)return!1;if(r==="audio"){const o=e.lastTimelineChange({type:"main"});return!o||o.to!==n}if(r==="main"&&i){const o=e.pendingTimelineChange({type:"audio"});return!(o&&o.to===n)}return!1},dke=e=>{if(!e)return!1;const t=e.pendingTimelineChange({type:"audio"}),n=e.pendingTimelineChange({type:"main"}),r=t&&n,i=r&&t.to!==n.to;return!!(r&&t.from!==-1&&n.from!==-1&&i)},fke=e=>{const t=e.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=e.timelineChangeController_.pendingTimelineChange({type:"main"});return t&&n&&t.to<n.to},lc=e=>{const t=e.pendingSegment_;if(!t)return;if(KC({timelineChangeController:e.timelineChangeController_,currentTimeline:e.currentTimeline_,segmentTimeline:t.timeline,loaderType:e.loaderType_,audioDisabled:e.audioDisabled_})&&dke(e.timelineChangeController_)){if(fke(e)){e.timelineChangeController_.trigger("audioTimelineBehind");return}e.timelineChangeController_.trigger("fixBadTimelineChange")}},pke=e=>{let t=0;return["video","audio"].forEach(function(n){const r=e[`${n}TimingInfo`];if(!r)return;const{start:i,end:o}=r;let s;typeof i=="bigint"||typeof o=="bigint"?s=De.BigInt(o)-De.BigInt(i):typeof i=="number"&&typeof o=="number"&&(s=o-i),typeof s<"u"&&s>t&&(t=s)}),typeof t=="bigint"&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t},eB=({segmentDuration:e,maxDuration:t})=>e?Math.round(e)>t+Rl:!1,hke=(e,t)=>{if(t!=="hls")return null;const n=pke({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;const r=e.playlist.targetDuration,i=eB({segmentDuration:n,maxDuration:r*2}),o=eB({segmentDuration:n,maxDuration:r}),s=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${n} when the reported duration is ${e.duration} and the target duration is ${r}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||o?{severity:i?"warn":"info",message:s}:null},kd=({type:e,segment:t})=>{if(!t)return;const n=!!(t.key||t.map&&t.map.ke),r=!!(t.map&&!t.map.bytes),i=t.startOfSegment===void 0?t.start:t.startOfSegment;return{type:e||t.type,uri:t.resolvedUri||t.uri,start:i,duration:t.duration,isEncrypted:n,isMediaInitialization:r}};class XC extends nt.EventTarget{constructor(t,n={}){if(super(),!t)throw new TypeError("Initialization settings are required");if(typeof t.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=t.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=t.hasPlayed,this.currentTime_=t.currentTime,this.seekable_=t.seekable,this.seeking_=t.seeking,this.duration_=t.duration,this.mediaSource_=t.mediaSource,this.vhs_=t.vhs,this.loaderType_=t.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=t.segmentMetadataTrack,this.goalBufferLength_=t.goalBufferLength,this.sourceType_=t.sourceType,this.sourceUpdater_=t.sourceUpdater,this.inbandTextTracks_=t.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=t.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=t.parse708captions,this.useDtsForTimestampOffset_=t.useDtsForTimestampOffset,this.captionServices_=t.captionServices,this.exactManifestTimings=t.exactManifestTimings,this.addMetadataToTextTrack=t.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=t.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=t.decrypter,this.syncController_=t.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=za(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(r){r!==this.state_&&(this.logger_(`${this.state_} -> ${r}`),this.state_=r,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():lc(this)}),this.sourceUpdater_.on("codecschange",r=>{this.trigger(No({type:"codecschange"},r))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():lc(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",r=>{this.trigger(No({type:"timelinechange"},r)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():lc(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():lc(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return VE.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&De.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,De.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(t){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==t}error(t){return typeof t<"u"&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&VE.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return bo();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:r,isMuxed:i}=t;if(r&&n&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(r)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(t,n=!1){if(!t)return null;const r=nx(t);let i=this.initSegments_[r];return n&&!i&&t.bytes&&(this.initSegments_[r]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),i||t}segmentKey(t,n=!1){if(!t)return null;const r=bK(t);let i=this.keyCache_[r];this.cacheEncryptionKeys_&&n&&!i&&t.bytes&&(this.keyCache_[r]=i={resolvedUri:t.resolvedUri,bytes:t.bytes});const o={resolvedUri:(i||t).resolvedUri};return i&&(o.bytes=i.bytes),o}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(t,n={}){if(!t||this.playlist_&&this.playlist_.endList&&t.endList&&this.playlist_.uri===t.uri)return;const r=this.playlist_,i=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=n,this.state==="INIT"&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(t));let o=null;if(r&&(r.id?o=r.id:r.uri&&(o=r.uri)),this.logger_(`playlist update [${o} => ${t.id||t.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(t,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${FE(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!r||r.uri!==t.uri){this.mediaIndex!==null&&(!t.endList&&typeof t.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const s=t.mediaSequence-r.mediaSequence;if(this.logger_(`live window shift [${s}]`),this.mediaIndex!==null)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const a=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!a.parts||!a.parts.length||!a.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=s,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=t.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(r,t)}pause(){this.checkBufferTimeout_&&(De.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(t){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&VE.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const t=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!t&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(t,n,r=()=>{},i=!1){if(n===1/0&&(n=this.duration_()),n<=t){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let o=1;const s=()=>{o--,o===0&&r()};(i||!this.audioDisabled_)&&(o++,this.sourceUpdater_.removeAudio(t,n,s)),(i||this.loaderType_==="main")&&(this.gopBuffer_=ike(this.gopBuffer_,t,n,this.timeMapping_),o++,this.sourceUpdater_.removeVideo(t,n,s));for(const a in this.inbandTextTracks_)Fg(t,n,this.inbandTextTracks_[a]);Fg(t,n,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&De.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=De.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&De.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=De.setTimeout(this.monitorBufferTick_.bind(this),ake)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const t=this.chooseNextRequest_();if(!t)return;const n={segmentInfo:kd({type:this.loaderType_,segment:t})};this.trigger({type:"segmentselected",metadata:n}),typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t)}isEndOfStream_(t=this.mediaIndex,n=this.playlist_,r=this.partIndex){if(!n||!this.mediaSource_)return!1;const i=typeof t=="number"&&n.segments[t],o=t+1===n.segments.length,s=!i||!i.parts||r+1===i.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&o&&s}chooseNextRequest_(){const t=this.buffered_(),n=FE(t)||0,r=RI(t,this.currentTime_()),i=!this.hasPlayed_()&&r>=1,o=r>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||i||o)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const a={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(a.isSyncRequest)a.mediaIndex=ske(this.currentTimeline_,s,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${a.mediaIndex}`);else if(this.mediaIndex!==null){const f=s[this.mediaIndex],m=typeof this.partIndex=="number"?this.partIndex:-1;a.startOfSegment=f.end?f.end:n,f.parts&&f.parts[m+1]?(a.mediaIndex=this.mediaIndex,a.partIndex=m+1):a.mediaIndex=this.mediaIndex+1}else{let f,m,h;const g=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${g}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const S=this.getSyncInfoFromMediaSequenceSync_(g);if(!S){const y="No sync info found while using media sequence sync";return this.error({message:y,metadata:{errorType:nt.Error.StreamingFailedToSelectNextSegment,error:new Error(y)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${S.start} --> ${S.end})`),f=S.segmentIndex,m=S.partIndex,h=S.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const S=ws.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:g,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=S.segmentIndex,m=S.partIndex,h=S.startTime}a.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${g}`:`currentTime ${g}`,a.mediaIndex=f,a.startOfSegment=h,a.partIndex=m,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${a.mediaIndex} `)}const l=s[a.mediaIndex];let u=l&&typeof a.partIndex=="number"&&l.parts&&l.parts[a.partIndex];if(!l||typeof a.partIndex=="number"&&!u)return null;typeof a.partIndex!="number"&&l.parts&&(a.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!r&&u&&!c&&!u.independent)if(a.partIndex===0){const f=s[a.mediaIndex-1],m=f.parts&&f.parts.length&&f.parts[f.parts.length-1];m&&m.independent&&(a.mediaIndex-=1,a.partIndex=f.parts.length-1,a.independent="previous segment")}else l.parts[a.partIndex-1].independent&&(a.partIndex-=1,a.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return a.mediaIndex>=s.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,a.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(a))}getSyncInfoFromMediaSequenceSync_(t){if(!this.mediaSequenceSync_)return null;const n=Math.max(t,this.mediaSequenceSync_.start);t!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${t} to ${n}`);const r=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!r)return null;if(!r.isAppended)return r;const i=this.mediaSequenceSync_.getSyncInfoForTime(r.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(t){const{independent:n,playlist:r,mediaIndex:i,startOfSegment:o,isSyncRequest:s,partIndex:a,forceTimestampOffset:l,getMediaInfoForTime:u}=t,c=r.segments[i],d=typeof a=="number"&&c.parts[a],f={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:d?a:null,isSyncRequest:s,startOfSegment:o,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:n},m=typeof l<"u"?l:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:o,buffered:this.buffered_(),overrideCheck:m});const h=FE(this.sourceUpdater_.audioBuffered());return typeof h=="number"&&(f.audioAppendStart=h-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=nke(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(t){return cke(t)}earlyAbortWhenNeeded_(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),r=t.bandwidth,i=this.pendingSegment_.duration,o=ws.estimateSegmentRequestTime(i,r,this.playlist_,t.bytesReceived),s=IRe(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(o<=s)return;const a=HIe({main:this.vhs_.playlists.main,currentTime:n,bandwidth:r,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!a)return;const u=o-s-a.rebufferingImpact;let c=.5;s<=Rl&&(c=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*mo.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(t){this.logger_(`Aborting ${fp(t)}`),this.mediaRequestsAborted+=1}handleProgress_(t,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(t,n){const{hasAudio:r,hasVideo:i}=n,o={segmentInfo:kd({type:this.loaderType_,segment:t}),trackInfo:{hasAudio:r,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:o}),this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},oke(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():lc(this))))}handleTimingInfo_(t,n,r,i){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;const o=this.pendingSegment_,s=J4(n);o[s]=o[s]||{},o[s][r]=i,this.logger_(`timinginfo: ${n} - ${r} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():lc(this)}handleCaptions_(t,n){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,n));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};n.forEach(s=>{o[s.stream]=o[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=o[s.stream];a.startTime=Math.min(a.startTime,s.startTime+i),a.endTime=Math.max(a.endTime,s.endTime+i),a.captions.push(s)}),Object.keys(o).forEach(s=>{const{startTime:a,endTime:l,captions:u}=o[s],c=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${l} for ${s}`),YIe(c,this.vhs_.tech_,s),Fg(a,l,c[s]),KIe({captionArray:u,inbandTextTracks:c,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(t,n,r){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,n,r));return}this.addMetadataToTextTrack(r,n,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(t=>t()),this.metadataQueue_.caption.forEach(t=>t()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const t=this.callQueue_;this.callQueue_=[],t.forEach(n=>n())}processLoadQueue_(){const t=this.loadQueue_;this.loadQueue_=[],t.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const t=this.pendingSegment_;return t?this.getCurrentMediaInfo_()?!KC({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(t=this.pendingSegment_){return t&&t.trackInfo||this.currentMediaInfo_}getMediaInfo_(t=this.pendingSegment_){return this.getCurrentMediaInfo_(t)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const t=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!t||!n)return!1;const{hasAudio:r,hasVideo:i,isMuxed:o}=n;return!(i&&!t.videoTimingInfo||r&&!this.audioDisabled_&&!o&&!t.audioTimingInfo||KC({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(t,n){if(this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){lc(this),this.callQueue_.push(this.handleData_.bind(this,t,n));return}const r=this.pendingSegment_;if(this.setTimeMapping_(r.timeline),this.updateMediaSecondsLoaded_(r.part||r.segment),this.mediaSource_.readyState!=="closed"){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),r.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),r.isFmp4=t.isFmp4,r.timingInfo=r.timingInfo||{},r.isFmp4)this.trigger("fmp4"),r.timingInfo.start=r[J4(n.type)].start;else{const i=this.getCurrentMediaInfo_(),o=this.loaderType_==="main"&&i&&i.hasVideo;let s;o&&(s=r.videoTimingInfo.start),r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:o,firstVideoFrameTimeForData:s,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(r,n.type),this.updateSourceBufferTimestampOffset_(r),r.isSyncRequest){this.updateTimingInfoEnd_(r),this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==r.mediaIndex||i.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(r,n)}}updateAppendInitSegmentStatus(t,n){this.loaderType_==="main"&&typeof t.timestampOffset=="number"&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==t.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:t,initSegment:n,map:r,playlist:i}){if(r){const o=nx(r);if(this.activeInitSegmentId_===o)return null;n=this.initSegmentForMap(r,!0).bytes,this.activeInitSegmentId_=o}return n&&this.appendInitSegment_[t]?(this.playlistOfLastInitSegment_[t]=i,this.appendInitSegment_[t]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:t,type:n,bytes:r},i){const o=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();o.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+qd(o).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+qd(s).join(", "));const a=o.length?o.start(0):0,l=o.length?o.end(o.length-1):0,u=s.length?s.start(0):0,c=s.length?s.end(s.length-1):0;if(l-a<=Tg&&c-u<=Tg){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${r.byteLength}, audio buffer: ${qd(o).join(", ")}, video buffer: ${qd(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:t,type:n,bytes:r}));const f=this.currentTime_()-Tg;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${f}`),this.remove(0,f,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Tg}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=De.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Tg*1e3)},!0)}handleAppendError_({segmentInfo:t,type:n,bytes:r},i){if(i){if(i.code===dK){this.handleQuotaExceededError_({segmentInfo:t,type:n,bytes:r});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${n} append of ${r.length}b failed for segment #${t.mediaIndex} in playlist ${t.playlist.id}`,metadata:{errorType:nt.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:t,type:n,initSegment:r,data:i,bytes:o}){if(!o){const a=[i];let l=i.byteLength;r&&(a.unshift(r),l+=r.byteLength),o=WIe({bytes:l,segments:a})}const s={segmentInfo:kd({type:this.loaderType_,segment:t})};this.trigger({type:"segmentappendstart",metadata:s}),this.sourceUpdater_.appendBuffer({segmentInfo:t,type:n,bytes:o},this.handleAppendError_.bind(this,{segmentInfo:t,type:n,bytes:o}))}handleSegmentTimingInfo_(t,n,r){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,o=`${t}TimingInfo`;i[o]||(i[o]={}),i[o].transmuxerPrependedSeconds=r.prependedContentDuration||0,i[o].transmuxedPresentationStart=r.start.presentation,i[o].transmuxedDecodeStart=r.start.decode,i[o].transmuxedPresentationEnd=r.end.presentation,i[o].transmuxedDecodeEnd=r.end.decode,i[o].baseMediaDecodeTime=r.baseMediaDecodeTime}appendData_(t,n){const{type:r,data:i}=n;if(!i||!i.byteLength||r==="audio"&&this.audioDisabled_)return;const o=this.getInitSegmentAndUpdateState_({type:r,initSegment:n.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:r,initSegment:o,data:i})}loadSegment_(t){if(this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),typeof t.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){lc(this),this.loadQueue_.push(()=>{const n=No({},t,{forceTimestampOffset:!0});No(t,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(t)});return}this.updateTransmuxerAndRequestSegment_(t)}updateTransmuxerAndRequestSegment_(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));const n=this.createSimplifiedSegmentObj_(t),r=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex),i=this.mediaIndex!==null,o=t.timeline!==this.currentTimeline_&&t.timeline>0,s=r||i&&o;this.logger_(`Requesting
${jK(t.uri)}
${fp(t)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=zIe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:a,level:l,stream:u})=>{this.logger_(`${fp(t)} logged from transmuxer stream ${u} as a ${l}: ${a}`)},triggerSegmentEventFn:({type:a,segment:l,keyInfo:u,trackInfo:c,timingInfo:d})=>{const m={segmentInfo:kd({segment:l})};u&&(m.keyInfo=u),c&&(m.trackInfo=c),d&&(m.timingInfo=d),this.trigger({type:a,metadata:m})}})}trimBackBuffer_(t){const n=uke(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(t){const n=t.segment,r=t.part,i=t.segment.key||t.segment.map&&t.segment.map.key,o=t.segment.map&&!t.segment.map.bytes,s={resolvedUri:r?r.resolvedUri:n.resolvedUri,byterange:r?r.byterange:n.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part,type:this.loaderType_,start:t.startOfSegment,duration:t.duration,isEncrypted:i,isMediaInitialization:o},a=t.playlist.segments[t.mediaIndex-1];if(a&&a.timeline===n.timeline&&(a.videoTimingInfo?s.baseStartTime=a.videoTimingInfo.transmuxedDecodeEnd:a.audioTimingInfo&&(s.baseStartTime=a.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);s.key=this.segmentKey(n.key),s.key.iv=l}return n.map&&(s.map=this.initSegmentForMap(n.map)),s}saveTransferStats_(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)}saveBandwidthRelatedStats_(t,n){if(this.pendingSegment_.byteLength=n.bytesReceived,t<I0){this.logger_(`Ignoring segment's bandwidth because its duration of ${t} is less than the min to record ${I0}`);return}const r={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:r}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(t,n,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,n,r));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(t){if(this.pendingSegment_=null,this.state="READY",t.code===kl.ABORTED)return;if(this.pause(),t.code===kl.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(t),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,n.stats),i.endOfAllRequests=n.endOfAllRequests,r.gopInfo&&(this.gopBuffer_=rke(this.gopBuffer_,r.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(t){const n=this.syncController_.mappingForTimeline(t);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(t){typeof t.start=="number"&&typeof t.end=="number"?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration}shouldUpdateTransmuxerTimestampOffset_(t){return t===null?!1:this.loaderType_==="main"&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:t,playlist:n,mediaIndex:r,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:o,useVideoTimingInfo:s,videoTimingInfo:a,audioTimingInfo:l}){if(typeof t<"u")return t;if(!s)return l.start;const u=n.segments[r-1];return r===0||!u||typeof u.start>"u"||u.end!==i+o?i:a.start}waitForAppendsToComplete_(t){const n=this.getCurrentMediaInfo_(t);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:r,hasVideo:i,isMuxed:o}=n,s=this.loaderType_==="main"&&i,a=!this.audioDisabled_&&r&&!o;if(t.waitingOnAppends=0,!t.hasAppendedData_){!t.timingInfo&&typeof t.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),this.checkAppendsDone_(t);return}s&&t.waitingOnAppends++,a&&t.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))}checkAppendsDone_(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,t.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(t){const n=lke(this.loaderType_,this.getCurrentMediaInfo_(),t);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(t){if(t.timestampOffset===null||typeof t.timingInfo.start!="number"||t.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;t.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t.segment.videoTimingInfo,audioTimingInfo:t.segment.audioTimingInfo,timingInfo:t.timingInfo}),t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),n=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:t,audioTimingInfo:n,timingInfo:r}){return this.useDtsForTimestampOffset_?t&&typeof t.transmuxedDecodeStart=="number"?t.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:r.start:r.start}updateTimingInfoEnd_(t){t.timingInfo=t.timingInfo||{};const n=this.getMediaInfo_(),i=this.loaderType_==="main"&&n&&n.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;i&&(t.timingInfo.end=typeof i.end=="number"?i.end:i.start+t.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:kd({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const t=this.pendingSegment_;t.part&&t.part.syncInfo?t.part.syncInfo.markAppended():t.segment.syncInfo&&t.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=hke(t,this.sourceType_);if(n&&(n.severity==="warn"?nt.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest&&(this.trigger("syncinfoupdate"),!t.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${fp(t)}`);return}this.logger_(`Appended ${fp(t)}`),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");const r=t.segment,i=t.part,o=r.end&&this.currentTime_()-r.end>t.playlist.targetDuration*3,s=i&&i.end&&this.currentTime_()-i.end>t.playlist.partTargetDuration*3;if(o||s){this.logger_(`bad ${o?"segment":"part"} ${fp(t)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(t){if(t.duration<I0){this.logger_(`Ignoring segment's throughput because its duration of ${t.duration} is less than the min to record ${I0}`);return}const n=this.throughput.rate,r=Date.now()-t.endOfAllRequests+1,i=Math.floor(t.byteLength/r*8*1e3);this.throughput.rate+=(i-n)/++this.throughput.count}addSegmentMetadataCue_(t){if(!this.segmentMetadataTrack_)return;const n=t.segment,r=n.start,i=n.end;if(!Q4(r)||!Q4(i))return;Fg(r,i,this.segmentMetadataTrack_);const o=De.WebKitDataCue||De.VTTCue,s={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:r,end:i},a=JSON.stringify(s),l=new o(r,i,a);l.value=s,this.segmentMetadataTrack_.addCue(l)}}function uu(){}const LK=function(e){return typeof e!="string"?e:e.replace(/./,t=>t.toUpperCase())},mke=["video","audio"],ZC=(e,t)=>{const n=t[`${e}Buffer`];return n&&n.updating||t.queuePending[e]},gke=(e,t)=>{for(let n=0;n<t.length;n++){const r=t[n];if(r.type==="mediaSource")return null;if(r.type===e)return n}return null},uh=(e,t)=>{if(t.queue.length===0)return;let n=0,r=t.queue[n];if(r.type==="mediaSource"){!t.updating()&&t.mediaSource.readyState!=="closed"&&(t.queue.shift(),r.action(t),r.doneFn&&r.doneFn(),uh("audio",t),uh("video",t));return}if(e!=="mediaSource"&&!(!t.ready()||t.mediaSource.readyState==="closed"||ZC(e,t))){if(r.type!==e){if(n=gke(e,t.queue),n===null)return;r=t.queue[n]}if(t.queue.splice(n,1),t.queuePending[e]=r,r.action(e,t),!r.doneFn){t.queuePending[e]=null,uh(e,t);return}}},$K=(e,t)=>{const n=t[`${e}Buffer`],r=LK(e);n&&(n.removeEventListener("updateend",t[`on${r}UpdateEnd_`]),n.removeEventListener("error",t[`on${r}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},El=(e,t)=>e&&t&&Array.prototype.indexOf.call(e.sourceBuffers,t)!==-1,js={appendBuffer:(e,t,n)=>(r,i)=>{const o=i[`${r}Buffer`];if(El(i.mediaSource,o)){i.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${r}Buffer`);try{o.appendBuffer(e)}catch(s){i.logger_(`Error with code ${s.code} `+(s.code===dK?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${r}Buffer`),i.queuePending[r]=null,n(s)}}},remove:(e,t)=>(n,r)=>{const i=r[`${n}Buffer`];if(El(r.mediaSource,i)){r.logger_(`Removing ${e} to ${t} from ${n}Buffer`);try{i.remove(e,t)}catch{r.logger_(`Remove ${e} to ${t} from ${n}Buffer failed`)}}},timestampOffset:e=>(t,n)=>{const r=n[`${t}Buffer`];El(n.mediaSource,r)&&(n.logger_(`Setting ${t}timestampOffset to ${e}`),r.timestampOffset=e)},callback:e=>(t,n)=>{e()},endOfStream:e=>t=>{if(t.mediaSource.readyState==="open"){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(n){nt.log.warn("Failed to call media source endOfStream",n)}}},duration:e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(n){nt.log.warn("Failed to set media source duration",n)}},abort:()=>(e,t)=>{if(t.mediaSource.readyState!=="open")return;const n=t[`${e}Buffer`];if(El(t.mediaSource,n)){t.logger_(`calling abort on ${e}Buffer`);try{n.abort()}catch(r){nt.log.warn(`Failed to abort on ${e}Buffer`,r)}}},addSourceBuffer:(e,t)=>n=>{const r=LK(e),i=Uh(t);n.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const o=n.mediaSource.addSourceBuffer(i);o.addEventListener("updateend",n[`on${r}UpdateEnd_`]),o.addEventListener("error",n[`on${r}Error_`]),n.codecs[e]=t,n[`${e}Buffer`]=o},removeSourceBuffer:e=>t=>{const n=t[`${e}Buffer`];if($K(e,t),!!El(t.mediaSource,n)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(n)}catch(r){nt.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,r)}}},changeType:e=>(t,n)=>{const r=n[`${t}Buffer`],i=Uh(e);if(!El(n.mediaSource,r))return;const o=e.substring(0,e.indexOf(".")),s=n.codecs[t];if(s.substring(0,s.indexOf("."))===o)return;const l={codecsChangeInfo:{from:s,to:e}};n.trigger({type:"codecschange",metadata:l}),n.logger_(`changing ${t}Buffer codec from ${s} to ${e}`);try{r.changeType(i),n.codecs[t]=e}catch(u){l.errorType=nt.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,n.error_=u,n.trigger("error"),nt.log.warn(`Failed to changeType on ${t}Buffer`,u)}}},Ls=({type:e,sourceUpdater:t,action:n,doneFn:r,name:i})=>{t.queue.push({type:e,action:n,doneFn:r,name:i}),uh(e,t)},tB=(e,t)=>n=>{const r=t[`${e}Buffered`](),i=DRe(r);if(t.logger_(`received "updateend" event for ${e} Source Buffer: `,i),t.queuePending[e]){const o=t.queuePending[e].doneFn;t.queuePending[e]=null,o&&o(t[`${e}Error_`])}uh(e,t)};class BK extends nt.EventTarget{constructor(t){super(),this.mediaSource=t,this.sourceopenListener_=()=>uh("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=za("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=tB("video",this),this.onAudioUpdateEnd_=tB("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(t,n){Ls({type:"mediaSource",sourceUpdater:this,action:js.addSourceBuffer(t,n),name:"addSourceBuffer"})}abort(t){Ls({type:t,sourceUpdater:this,action:js.abort(t),name:"abort"})}removeSourceBuffer(t){if(!this.canRemoveSourceBuffer()){nt.log.error("removeSourceBuffer is not supported!");return}Ls({type:"mediaSource",sourceUpdater:this,action:js.removeSourceBuffer(t),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!nt.browser.IS_FIREFOX&&De.MediaSource&&De.MediaSource.prototype&&typeof De.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return De.SourceBuffer&&De.SourceBuffer.prototype&&typeof De.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(t,n){if(!this.canChangeType()){nt.log.error("changeType is not supported!");return}Ls({type:t,sourceUpdater:this,action:js.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(t){if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(n=>{const r=t[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,r);this.canChangeType()&&this.changeType(n,r)})}appendBuffer(t,n){const{segmentInfo:r,type:i,bytes:o}=t;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([t,n]),this.logger_(`delayed audio append of ${o.length} until video append`);return}const s=n;if(Ls({type:i,sourceUpdater:this,action:js.appendBuffer(o,r||{mediaIndex:-1},s),doneFn:n,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const a=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${a.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,a.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return El(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:bo()}videoBuffered(){return El(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:bo()}buffered(){const t=El(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=El(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!t?this.audioBuffered():t&&!n?this.videoBuffered():RRe(this.audioBuffered(),this.videoBuffered())}setDuration(t,n=uu){Ls({type:"mediaSource",sourceUpdater:this,action:js.duration(t),name:"duration",doneFn:n})}endOfStream(t=null,n=uu){typeof t!="string"&&(t=void 0),Ls({type:"mediaSource",sourceUpdater:this,action:js.endOfStream(t),name:"endOfStream",doneFn:n})}removeAudio(t,n,r=uu){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}Ls({type:"audio",sourceUpdater:this,action:js.remove(t,n),doneFn:r,name:"remove"})}removeVideo(t,n,r=uu){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}Ls({type:"video",sourceUpdater:this,action:js.remove(t,n),doneFn:r,name:"remove"})}updating(){return!!(ZC("audio",this)||ZC("video",this))}audioTimestampOffset(t){return typeof t<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Ls({type:"audio",sourceUpdater:this,action:js.timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_}videoTimestampOffset(t){return typeof t<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==t&&(Ls({type:"video",sourceUpdater:this,action:js.timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_}audioQueueCallback(t){this.audioBuffer&&Ls({type:"audio",sourceUpdater:this,action:js.callback(t),name:"callback"})}videoQueueCallback(t){this.videoBuffer&&Ls({type:"video",sourceUpdater:this,action:js.callback(t),name:"callback"})}dispose(){this.trigger("dispose"),mke.forEach(t=>{this.abort(t),this.canRemoveSourceBuffer()?this.removeSourceBuffer(t):this[`${t}QueueCallback`](()=>$K(t,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const nB=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),yke=e=>{const t=new Uint8Array(e);return Array.from(t).map(n=>n.toString(16).padStart(2,"0")).join("")},rB=new Uint8Array(`

`.split("").map(e=>e.charCodeAt(0)));class vke extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class bke extends XC{constructor(t,n={}){super(t,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=t.featuresNativeTextTracks,this.loadVttJs=t.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return bo();const t=this.subtitlesTrack_.cues,n=t[0].startTime,r=t[t.length-1].startTime;return bo([[n,r]])}initSegmentForMap(t,n=!1){if(!t)return null;const r=nx(t);let i=this.initSegments_[r];if(n&&!i&&t.bytes){const o=rB.byteLength+t.bytes.byteLength,s=new Uint8Array(o);s.set(t.bytes),s.set(rB,t.bytes.byteLength),this.initSegments_[r]=i={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:s}}return i||t}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(t){return typeof t>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=t,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(t,n){Fg(t,n,this.subtitlesTrack_)}fillBuffer_(){const t=this.chooseNextRequest_();if(t){if(this.syncController_.timestampOffsetForTimeline(t.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(t)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t}stopForError(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(t,n,r){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(t){t.code===kl.TIMEOUT&&this.handleTimeout_(),t.code===kl.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(t);return}const i=this.pendingSegment_,o=r.mp4VttCues&&r.mp4VttCues.length;o&&(i.mp4VttCues=r.mp4VttCues),this.saveBandwidthRelatedStats_(i.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=n.map.bytes),i.bytes=n.bytes,typeof De.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(t,n,r),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:nt.Error.StreamingVttParserError,error:a}});return}if(o||this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new De.VTTCue(a.startTime,a.endTime,a.text):a)}),tke(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(t,n){const r=t&&t.type==="vtt",i=n&&n.type==="text";r&&i&&super.handleData_(t,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(t){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();t.mp4VttCues.forEach(r=>{const i=r.start+n,o=r.end+n,s=new De.VTTCue(i,o,r.cueText);r.settings&&r.settings.split(" ").forEach(a=>{const l=a.split(":"),u=l[0],c=l[1];s[u]=isNaN(c)?c:Number(c)}),t.cues.push(s)})}parseVTTCues_(t){let n,r=!1;if(typeof De.WebVTT!="function")throw new vke;if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},t.mp4VttCues){this.parseMp4VttCues_(t);return}typeof De.TextDecoder=="function"?n=new De.TextDecoder("utf8"):(n=De.WebVTT.StringDecoder(),r=!0);const i=new De.WebVTT.Parser(De,De.vttjs,n);if(i.oncue=t.cues.push.bind(t.cues),i.ontimestampmap=s=>{t.timestampmap=s},i.onparsingerror=s=>{nt.log.warn("Error encountered when parsing cues: "+s.message)},t.segment.map){let s=t.segment.map.bytes;r&&(s=nB(s)),i.parse(s)}let o=t.bytes;r&&(o=nB(o)),i.parse(o),i.flush()}updateTimeMapping_(t,n,r){const i=t.segment;if(!n)return;if(!t.cues.length){i.empty=!0;return}const{MPEGTS:o,LOCAL:s}=t.timestampmap,l=o/Vd.ONE_SECOND_IN_TS-s+n.mapping;if(t.cues.forEach(u=>{const c=u.endTime-u.startTime,d=this.handleRollover_(u.startTime+l,n.time);u.startTime=Math.max(d,0),u.endTime=Math.max(d+c,0)}),!r.syncInfo){const u=t.cues[0].startTime,c=t.cues[t.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+t.mediaIndex,time:Math.min(u,c-i.duration)}}}handleRollover_(t,n){if(n===null)return t;let r=t*Vd.ONE_SECOND_IN_TS;const i=n*Vd.ONE_SECOND_IN_TS;let o;for(i<r?o=-8589934592:o=8589934592;Math.abs(r-i)>4294967296;)r+=o;return r/Vd.ONE_SECOND_IN_TS}}const _ke=function(e,t){const n=e.cues;for(let r=0;r<n.length;r++){const i=n[r];if(t>=i.adStartTime&&t<=i.adEndTime)return i}return null},Ske=function(e,t,n=0){if(!e.segments)return;let r=n,i;for(let o=0;o<e.segments.length;o++){const s=e.segments[o];if(i||(i=_ke(t,r+s.duration/2)),i){if("cueIn"in s){i.endTime=r,i.adEndTime=r,r+=s.duration,i=null;continue}if(r<i.endTime){r+=s.duration;continue}i.endTime+=s.duration}else if("cueOut"in s&&(i=new De.VTTCue(r,r+s.duration,s.cueOut),i.adStartTime=r,i.adEndTime=r+parseFloat(s.cueOut),t.addCue(i)),"cueOutCont"in s){const[a,l]=s.cueOutCont.split("/").map(parseFloat);i=new De.VTTCue(r,r+s.duration,""),i.adStartTime=r-a,i.adEndTime=i.adStartTime+l,t.addCue(i)}r+=s.duration}};class iB{constructor({start:t,end:n,segmentIndex:r,partIndex:i=null,appended:o=!1}){this.start_=t,this.end_=n,this.segmentIndex_=r,this.partIndex_=i,this.appended_=o}isInRange(t){return t>=this.start&&t<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class xke{constructor(t,n=[]){this.segmentSyncInfo_=t,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(t=>t.resetAppendedStatus())}}class UK{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(t=>t.resetAppendStatus())}update(t,n){const{mediaSequence:r,segments:i}=t;if(this.isReliable_=this.isReliablePlaylist_(r,i),!!this.isReliable_)return this.updateStorage_(i,r,this.calculateBaseTime_(r,i,n))}getSyncInfoForTime(t){for(const{segmentSyncInfo:n,partsSyncInfo:r}of this.storage_.values())if(r.length){for(const i of r)if(i.isInRange(t))return i}else if(n.isInRange(t))return n;return null}getSyncInfoForMediaSequence(t){return this.storage_.get(t)}updateStorage_(t,n,r){const i=new Map;let o=`
`,s=r,a=n;this.start_=s,t.forEach((l,u)=>{const c=this.storage_.get(a),d=s,f=d+l.duration,m=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),h=new iB({start:d,end:f,appended:m,segmentIndex:u});l.syncInfo=h;let g=s;const S=(l.parts||[]).map((y,v)=>{const b=g,_=g+y.duration,x=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[v]&&c.partsSyncInfo[v].isAppended),T=new iB({start:b,end:_,appended:x,segmentIndex:u,partIndex:v});return g=_,o+=`Media Sequence: ${a}.${v} | Range: ${b} --> ${_} | Appended: ${x}
`,y.syncInfo=T,T});i.set(a,new xke(h,S)),o+=`${jK(l.resolvedUri)} | Media Sequence: ${a} | Range: ${d} --> ${f} | Appended: ${m}
`,a++,s=f}),this.end_=s,this.storage_=i,this.diagnostics_=o}calculateBaseTime_(t,n,r){if(!this.storage_.size)return 0;if(this.storage_.has(t))return this.storage_.get(t).segmentSyncInfo.start;const i=Math.min(...this.storage_.keys());if(t<i){const o=i-t;let s=this.storage_.get(i).segmentSyncInfo.start;for(let a=0;a<o;a++){const l=n[a];s-=l.duration}return s}return r}isReliablePlaylist_(t,n){return t!=null&&Array.isArray(n)&&n.length}}class oB extends UK{constructor(t){super(),this.parent_=t}calculateBaseTime_(t,n,r){if(!this.storage_.size){const i=this.parent_.getSyncInfoForMediaSequence(t);return i?i.segmentSyncInfo.start:0}return super.calculateBaseTime_(t,n,r)}}const wke=86400,qE=[{name:"VOD",run:(e,t,n,r,i)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(e,t,n,r,i,o)=>{const s=e.getMediaSequenceSync(o);if(!s||!s.isReliable)return null;const a=s.getSyncInfoForTime(i);return a?{time:a.start,partIndex:a.partIndex,segmentIndex:a.segmentIndex}:null}},{name:"ProgramDateTime",run:(e,t,n,r,i)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let o=null,s=null;const a=FC(t);i=i||0;for(let l=0;l<a.length;l++){const u=t.endList||i===0?l:a.length-(l+1),c=a[u],d=c.segment,f=e.timelineToDatetimeMappings[d.timeline];if(!f||!d.dateTimeObject)continue;let h=d.dateTimeObject.getTime()/1e3+f;if(d.parts&&typeof c.partIndex=="number")for(let S=0;S<c.partIndex;S++)h+=d.parts[S].duration;const g=Math.abs(i-h);if(s!==null&&(g===0||s<g))break;s=g,o={time:h,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return o}},{name:"Segment",run:(e,t,n,r,i)=>{let o=null,s=null;i=i||0;const a=FC(t);for(let l=0;l<a.length;l++){const u=t.endList||i===0?l:a.length-(l+1),c=a[u],d=c.segment,f=c.part&&c.part.start||d&&d.start;if(d.timeline===r&&typeof f<"u"){const m=Math.abs(i-f);if(s!==null&&s<m)break;(!o||s===null||s>=m)&&(s=m,o={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return o}},{name:"Discontinuity",run:(e,t,n,r,i)=>{let o=null;if(i=i||0,t.discontinuityStarts&&t.discontinuityStarts.length){let s=null;for(let a=0;a<t.discontinuityStarts.length;a++){const l=t.discontinuityStarts[a],u=t.discontinuitySequence+a+1,c=e.discontinuities[u];if(c){const d=Math.abs(i-c.time);if(s!==null&&s<d)break;(!o||s===null||s>=d)&&(s=d,o={time:c.time,segmentIndex:l,partIndex:null})}}}return o}},{name:"Playlist",run:(e,t,n,r,i)=>t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}];class Tke extends nt.EventTarget{constructor(t={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new UK,r=new oB(n),i=new oB(n);this.mediaSequenceStorage_={main:n,audio:r,vtt:i},this.logger_=za("SyncController")}getMediaSequenceSync(t){return this.mediaSequenceStorage_[t]||null}getSyncPoint(t,n,r,i,o){if(n!==1/0)return qE.find(({name:l})=>l==="VOD").run(this,t,n);const s=this.runStrategies_(t,n,r,i,o);if(!s.length)return null;for(const a of s){const{syncPoint:l,strategy:u}=a,{segmentIndex:c,time:d}=l;if(c<0)continue;const f=t.segments[c],m=d,h=m+f.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${c}. Time: [${m} -> ${h}]}`),i>=m&&i<h)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(s,{key:"time",value:i})}getExpiredTime(t,n){if(!t||!t.segments)return null;const r=this.runStrategies_(t,n,t.discontinuitySequence,0);if(!r.length)return null;const i=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+_y({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(t,n,r,i,o){const s=[];for(let a=0;a<qE.length;a++){const l=qE[a],u=l.run(this,t,n,r,i,o);u&&(u.strategy=l.name,s.push({strategy:l.name,syncPoint:u}))}return s}selectSyncPoint_(t,n){let r=t[0].syncPoint,i=Math.abs(t[0].syncPoint[n.key]-n.value),o=t[0].strategy;for(let s=1;s<t.length;s++){const a=Math.abs(t[s].syncPoint[n.key]-n.value);a<i&&(i=a,r=t[s].syncPoint,o=t[s].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${o}]: [time:${r.time}, segmentIndex:${r.segmentIndex}`+(typeof r.partIndex=="number"?`,partIndex:${r.partIndex}`:"")+"]"),r}saveExpiredSegmentInfo(t,n){const r=n.mediaSequence-t.mediaSequence;if(r>wke){nt.log.warn(`Not saving expired segment info. Media sequence gap ${r} is too large.`);return}for(let i=r-1;i>=0;i--){const o=t.segments[i];if(o&&typeof o.start<"u"){n.syncInfo={mediaSequence:t.mediaSequence+i,time:o.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){const n=t.segments[0],r=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-r}}saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:n}){const r=this.calculateSegmentTimeMapping_(t,t.timingInfo,n),i=t.segment;r&&(this.saveDiscontinuitySyncInfo_(t),t.playlist.syncInfo||(t.playlist.syncInfo={mediaSequence:t.playlist.mediaSequence+t.mediaIndex,time:i.start}));const o=i.dateTimeObject;i.discontinuity&&n&&o&&(this.timelineToDatetimeMappings[i.timeline]=-(o.getTime()/1e3))}timestampOffsetForTimeline(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].time}mappingForTimeline(t){return typeof this.timelines[t]>"u"?null:this.timelines[t].mapping}calculateSegmentTimeMapping_(t,n,r){const i=t.segment,o=t.part;let s=this.timelines[t.timeline],a,l;if(typeof t.timestampOffset=="number")s={time:t.startOfSegment,mapping:t.startOfSegment-n.start},r&&(this.timelines[t.timeline]=s,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${t.timeline}: [time: ${s.time}] [mapping: ${s.mapping}]`)),a=t.startOfSegment,l=n.end+s.mapping;else if(s)a=n.start+s.mapping,l=n.end+s.mapping;else return!1;return o&&(o.start=a,o.end=l),(!i.start||a<i.start)&&(i.start=a),i.end=l,!0}saveDiscontinuitySyncInfo_(t){const n=t.playlist,r=t.segment;if(r.discontinuity)this.discontinuities[r.timeline]={time:r.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let i=0;i<n.discontinuityStarts.length;i++){const o=n.discontinuityStarts[i],s=n.discontinuitySequence+i+1,a=o-t.mediaIndex,l=Math.abs(a);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>l){let u;a<0?u=r.start-_y({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:t.mediaIndex,endIndex:o}):u=r.end+_y({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:t.mediaIndex+1,endIndex:o}),this.discontinuities[s]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Eke extends nt.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:t,from:n,to:r}){return typeof n=="number"&&typeof r=="number"&&(this.pendingTimelineChanges_[t]={type:t,from:n,to:r},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[t]}lastTimelineChange({type:t,from:n,to:r}){if(typeof n=="number"&&typeof r=="number"){this.lastTimelineChanges_[t]={type:t,from:n,to:r},delete this.pendingTimelineChanges_[t];const i={timelineChangeInfo:{from:n,to:r}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[t]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const Ake=EK(AK(function(){var e=function(){function g(){this.listeners={}}var S=g.prototype;return S.on=function(v,b){this.listeners[v]||(this.listeners[v]=[]),this.listeners[v].push(b)},S.off=function(v,b){if(!this.listeners[v])return!1;var _=this.listeners[v].indexOf(b);return this.listeners[v]=this.listeners[v].slice(0),this.listeners[v].splice(_,1),_>-1},S.trigger=function(v){var b=this.listeners[v];if(b)if(arguments.length===2)for(var _=b.length,x=0;x<_;++x)b[x].call(this,arguments[1]);else for(var T=Array.prototype.slice.call(arguments,1),w=b.length,E=0;E<w;++E)b[E].apply(this,T)},S.dispose=function(){this.listeners={}},S.pipe=function(v){this.on("data",function(b){v.push(b)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function t(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const g=[[[],[],[],[],[]],[[],[],[],[],[]]],S=g[0],y=g[1],v=S[4],b=y[4];let _,x,T;const w=[],E=[];let C,D,O,I,k,B;for(_=0;_<256;_++)E[(w[_]=_<<1^(_>>7)*283)^_]=_;for(x=T=0;!v[x];x^=C||1,T=E[T]||1)for(I=T^T<<1^T<<2^T<<3^T<<4,I=I>>8^I&255^99,v[x]=I,b[I]=x,O=w[D=w[C=w[x]]],B=O*16843009^D*65537^C*257^x*16843008,k=w[I]*257^I*16843008,_=0;_<4;_++)S[_][x]=k=k<<24^k>>>8,y[_][I]=B=B<<24^B>>>8;for(_=0;_<5;_++)S[_]=S[_].slice(0),y[_]=y[_].slice(0);return g};let r=null;class i{constructor(S){r||(r=n()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];let y,v,b;const _=this._tables[0][4],x=this._tables[1],T=S.length;let w=1;if(T!==4&&T!==6&&T!==8)throw new Error("Invalid aes key size");const E=S.slice(0),C=[];for(this._key=[E,C],y=T;y<4*T+28;y++)b=E[y-1],(y%T===0||T===8&&y%T===4)&&(b=_[b>>>24]<<24^_[b>>16&255]<<16^_[b>>8&255]<<8^_[b&255],y%T===0&&(b=b<<8^b>>>24^w<<24,w=w<<1^(w>>7)*283)),E[y]=E[y-T]^b;for(v=0;y;v++,y--)b=E[v&3?y:y-4],y<=4||v<4?C[v]=b:C[v]=x[0][_[b>>>24]]^x[1][_[b>>16&255]]^x[2][_[b>>8&255]]^x[3][_[b&255]]}decrypt(S,y,v,b,_,x){const T=this._key[1];let w=S^T[0],E=b^T[1],C=v^T[2],D=y^T[3],O,I,k;const B=T.length/4-2;let q,H=4;const z=this._tables[1],ne=z[0],ue=z[1],Q=z[2],N=z[3],G=z[4];for(q=0;q<B;q++)O=ne[w>>>24]^ue[E>>16&255]^Q[C>>8&255]^N[D&255]^T[H],I=ne[E>>>24]^ue[C>>16&255]^Q[D>>8&255]^N[w&255]^T[H+1],k=ne[C>>>24]^ue[D>>16&255]^Q[w>>8&255]^N[E&255]^T[H+2],D=ne[D>>>24]^ue[w>>16&255]^Q[E>>8&255]^N[C&255]^T[H+3],H+=4,w=O,E=I,C=k;for(q=0;q<4;q++)_[(3&-q)+x]=G[w>>>24]<<24^G[E>>16&255]<<16^G[C>>8&255]<<8^G[D&255]^T[H++],O=w,w=E,E=C,C=D,D=O}}class o extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(S){this.jobs.push(S),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const s=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},a=function(g,S,y){const v=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),b=new i(Array.prototype.slice.call(S)),_=new Uint8Array(g.byteLength),x=new Int32Array(_.buffer);let T,w,E,C,D,O,I,k,B;for(T=y[0],w=y[1],E=y[2],C=y[3],B=0;B<v.length;B+=4)D=s(v[B]),O=s(v[B+1]),I=s(v[B+2]),k=s(v[B+3]),b.decrypt(D,O,I,k,x,B),x[B]=s(x[B]^T),x[B+1]=s(x[B+1]^w),x[B+2]=s(x[B+2]^E),x[B+3]=s(x[B+3]^C),T=D,w=O,E=I,C=k;return _};class l{constructor(S,y,v,b){const _=l.STEP,x=new Int32Array(S.buffer),T=new Uint8Array(S.byteLength);let w=0;for(this.asyncStream_=new o,this.asyncStream_.push(this.decryptChunk_(x.subarray(w,w+_),y,v,T)),w=_;w<x.length;w+=_)v=new Uint32Array([s(x[w-4]),s(x[w-3]),s(x[w-2]),s(x[w-1])]),this.asyncStream_.push(this.decryptChunk_(x.subarray(w,w+_),y,v,T));this.asyncStream_.push(function(){b(null,t(T))})}static get STEP(){return 32e3}decryptChunk_(S,y,v,b){return function(){const _=a(S,y,v);b.set(_,S.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var d=c,f=function(S){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(S):S&&S.buffer instanceof ArrayBuffer},m=d.BigInt||Number;m("0x1"),m("0x100"),m("0x10000"),m("0x1000000"),m("0x100000000"),m("0x10000000000"),m("0x1000000000000"),m("0x100000000000000"),m("0x10000000000000000"),function(){var g=new Uint16Array([65484]),S=new Uint8Array(g.buffer,g.byteOffset,g.byteLength);return S[0]===255?"big":S[0]===204?"little":"unknown"}();const h=function(g){const S={};return Object.keys(g).forEach(y=>{const v=g[y];f(v)?S[y]={bytes:v.buffer,byteOffset:v.byteOffset,byteLength:v.byteLength}:S[y]=v}),S};self.onmessage=function(g){const S=g.data,y=new Uint8Array(S.encrypted.bytes,S.encrypted.byteOffset,S.encrypted.byteLength),v=new Uint32Array(S.key.bytes,S.key.byteOffset,S.key.byteLength/4),b=new Uint32Array(S.iv.bytes,S.iv.byteOffset,S.iv.byteLength/4);new l(y,v,b,function(_,x){self.postMessage(h({source:S.source,decrypted:x}),[x.buffer])})}}));var Cke=TK(Ake);const Oke=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},FK=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},QC=(e,t)=>{t.activePlaylistLoader=e,e.load()},Dke=(e,t)=>()=>{const{segmentLoaders:{[e]:n,main:r},mediaTypes:{[e]:i}}=t,o=i.activeTrack(),s=i.getActiveGroup(),a=i.activePlaylistLoader,l=i.lastGroup_;if(!(s&&l&&s.id===l.id)&&(i.lastGroup_=s,i.lastTrack_=o,FK(n,i),!(!s||s.isMainPlaylist))){if(!s.playlistLoader){a&&r.resetEverything();return}n.resyncLoader(),QC(s.playlistLoader,i)}},Pke=(e,t)=>()=>{const{segmentLoaders:{[e]:n},mediaTypes:{[e]:r}}=t;r.lastGroup_=null,n.abort(),n.pause()},Rke=(e,t)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[e]:r,main:i},mediaTypes:{[e]:o}}=t,s=o.activeTrack(),a=o.getActiveGroup(),l=o.activePlaylistLoader,u=o.lastTrack_;if(!(u&&s&&u.id===s.id)&&(o.lastGroup_=a,o.lastTrack_=s,FK(r,o),!!a)){if(a.isMainPlaylist){if(!s||!u||s.id===u.id)return;const c=t.vhs.playlistController_,d=c.selectPlaylist();if(c.media()===d)return;o.logger_(`track change. Switching main audio from ${u.id} to ${s.id}`),n.pause(),i.resetEverything(),c.fastQualityChange_(d);return}if(e==="AUDIO"){if(!a.playlistLoader){i.setAudio(!0),i.resetEverything();return}r.setAudio(!0),i.setAudio(!1)}if(l===a.playlistLoader){QC(a.playlistLoader,o);return}r.track&&r.track(s),r.resetEverything(),QC(a.playlistLoader,o)}},rx={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:n},excludePlaylist:r}=t,i=n.activeTrack(),o=n.activeGroup(),s=(o.filter(l=>l.default)[0]||o[0]).id,a=n.tracks[s];if(i===a){r({error:{message:"Problem encountered loading the default audio track."}});return}nt.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===a;n.onTrackChanged()},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:n}}=t;nt.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},sB={AUDIO:(e,t,n)=>{if(!t)return;const{tech:r,requestOptions:i,segmentLoaders:{[e]:o}}=n;t.on("loadedmetadata",()=>{const s=t.media();o.playlist(s,i),(!r.paused()||s.endList&&r.preload()!=="none")&&o.load()}),t.on("loadedplaylist",()=>{o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",rx[e](e,n))},SUBTITLES:(e,t,n)=>{const{tech:r,requestOptions:i,segmentLoaders:{[e]:o},mediaTypes:{[e]:s}}=n;t.on("loadedmetadata",()=>{const a=t.media();o.playlist(a,i),o.track(s.activeTrack()),(!r.paused()||a.endList&&r.preload()!=="none")&&o.load()}),t.on("loadedplaylist",()=>{o.playlist(t.media(),i),r.paused()||o.load()}),t.on("error",rx[e](e,n))}},Ike={AUDIO:(e,t)=>{const{vhs:n,sourceType:r,segmentLoaders:{[e]:i},requestOptions:o,main:{mediaGroups:s},mediaTypes:{[e]:{groups:a,tracks:l,logger_:u}},mainPlaylistLoader:c}=t,d=wb(c.main);(!s[e]||Object.keys(s[e]).length===0)&&(s[e]={main:{default:{default:!0}}},d&&(s[e].main.default.playlists=c.main.playlists));for(const f in s[e]){a[f]||(a[f]=[]);for(const m in s[e][f]){let h=s[e][f][m],g;if(d?(u(`AUDIO group '${f}' label '${m}' is a main playlist`),h.isMainPlaylist=!0,g=null):r==="vhs-json"&&h.playlists?g=new Bp(h.playlists[0],n,o):h.resolvedUri?g=new Bp(h.resolvedUri,n,o):h.playlists&&r==="dash"?g=new WC(h.playlists[0],n,o,c):g=null,h=gr({id:m,playlistLoader:g},h),sB[e](e,h.playlistLoader,t),a[f].push(h),typeof l[m]>"u"){const S=new nt.AudioTrack({id:m,kind:Oke(h),enabled:!1,language:h.language,default:h.default,label:m});l[m]=S}}}i.on("error",rx[e](e,t))},SUBTITLES:(e,t)=>{const{tech:n,vhs:r,sourceType:i,segmentLoaders:{[e]:o},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[e]:{groups:l,tracks:u}},mainPlaylistLoader:c}=t;for(const d in a[e]){l[d]||(l[d]=[]);for(const f in a[e][d]){if(!r.options_.useForcedSubtitles&&a[e][d][f].forced)continue;let m=a[e][d][f],h;if(i==="hls")h=new Bp(m.resolvedUri,r,s);else if(i==="dash"){if(!m.playlists.filter(S=>S.excludeUntil!==1/0).length)return;h=new WC(m.playlists[0],r,s,c)}else i==="vhs-json"&&(h=new Bp(m.playlists?m.playlists[0]:m.resolvedUri,r,s));if(m=gr({id:f,playlistLoader:h},m),sB[e](e,m.playlistLoader,t),l[d].push(m),typeof u[f]>"u"){const g=n.addRemoteTextTrack({id:f,kind:"subtitles",default:m.default&&m.autoselect,language:m.language,label:f},!1).track;u[f]=g}}}o.on("error",rx[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:n,main:{mediaGroups:r},mediaTypes:{[e]:{groups:i,tracks:o}}}=t;for(const s in r[e]){i[s]||(i[s]=[]);for(const a in r[e][s]){const l=r[e][s][a];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=n.options_.vhs&&n.options_.vhs.captionServices||{};let c={label:a,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=gr(c,u[c.instreamId])),c.default===void 0&&delete c.default,i[s].push(gr({id:a},l)),typeof o[a]>"u"){const d=n.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;o[a]=d}}}}},zK=(e,t)=>{for(let n=0;n<e.length;n++)if(NI(t,e[n])||e[n].playlists&&zK(e[n].playlists,t))return!0;return!1},kke=(e,t)=>n=>{const{mainPlaylistLoader:r,mediaTypes:{[e]:{groups:i}}}=t,o=r.media();if(!o)return null;let s=null;o.attributes[e]&&(s=i[o.attributes[e]]);const a=Object.keys(i);if(!s)if(e==="AUDIO"&&a.length>1&&wb(t.main))for(let l=0;l<a.length;l++){const u=i[a[l]];if(zK(u,o)){s=u;break}}else i.main?s=i.main:a.length===1&&(s=i[a[0]]);return typeof n>"u"?s:n===null||!s?null:s.filter(l=>l.id===n.id)[0]||null},Nke={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const r in n)if(n[r].enabled)return n[r];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:n}}}=t;for(const r in n)if(n[r].mode==="showing"||n[r].mode==="hidden")return n[r];return null}},Mke=(e,{mediaTypes:t})=>()=>{const n=t[e].activeTrack();return n?t[e].activeGroup(n):null},jke=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Ike[u](u,e)});const{mediaTypes:t,mainPlaylistLoader:n,tech:r,vhs:i,segmentLoaders:{["AUDIO"]:o,main:s}}=e;["AUDIO","SUBTITLES"].forEach(u=>{t[u].activeGroup=kke(u,e),t[u].activeTrack=Nke[u](u,e),t[u].onGroupChanged=Dke(u,e),t[u].onGroupChanging=Pke(u,e),t[u].onTrackChanged=Rke(u,e),t[u].getActiveGroup=Mke(u,e)});const a=t.AUDIO.activeGroup();if(a){const u=(a.filter(d=>d.default)[0]||a[0]).id;t.AUDIO.tracks[u].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),o.setAudio(!0)):s.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>t[u].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>t[u].onGroupChanging())});const l=()=>{t.AUDIO.onTrackChanged(),r.trigger({type:"usage",name:"vhs-audio-change"})};r.audioTracks().addEventListener("change",l),r.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),i.on("dispose",()=>{r.audioTracks().removeEventListener("change",l),r.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),r.clearTracks("audio");for(const u in t.AUDIO.tracks)r.audioTracks().addTrack(t.AUDIO.tracks[u])},Lke=()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:uu,activeTrack:uu,getActiveGroup:uu,onGroupChanged:uu,onTrackChanged:uu,lastTrack_:null,logger_:za(`MediaGroups[${t}]`)}}),e};class aB{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(t){t===1&&(this.version_=t)}set ttl(t){this.ttl_=t||300}set reloadUri(t){t&&(this.reloadUri_=xs(this.reloadUri_,t))}set priority(t){t&&t.length&&(this.priority_=t)}set pathwayClones(t){t&&t.length&&(this.pathwayClones_=new Map(t.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class $ke extends nt.EventTarget{constructor(t,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new aB,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=za("Content Steering"),this.xhr_=t,this.getBandwidth_=n}assignTagProperties(t,n){this.manifestType_=n.serverUri?"HLS":"DASH";const r=n.serverUri||n.serverURL;if(!r){this.logger_(`steering manifest URL is ${r}, cannot request steering manifest.`),this.trigger("error");return}if(r.startsWith("data:")){this.decodeDataUriManifest_(r.substring(r.indexOf(",")+1));return}this.steeringManifest.reloadUri=xs(t,r),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(t){const n=this.steeringManifest.reloadUri;if(!n)return;const r=t?n:this.getRequestURI(n);if(!r){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:r}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:r,requestType:"content-steering-manifest"},(o,s)=>{if(o){if(s.status===410){this.logger_(`manifest request 410 ${o}.`),this.logger_(`There will be no more content steering requests to ${r} this session.`),this.excludedSteeringManifestURLs.add(r);return}if(s.status===429){const u=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${o}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${o}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let a;try{a=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:nt.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(a);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(t){const n=new De.URL(t),r=new De.URL(this.proxyServerUrl_);return r.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(r.toString())}decodeDataUriManifest_(t){const n=JSON.parse(De.atob(t));this.assignSteeringProperties_(n)}setSteeringParams_(t){const n=new De.URL(t),r=this.getPathway(),i=this.getBandwidth_();if(r){const o=`_${this.manifestType_}_pathway`;n.searchParams.set(o,r)}if(i){const o=`_${this.manifestType_}_throughput`;n.searchParams.set(o,i)}return n.toString()}assignSteeringProperties_(t){if(this.steeringManifest.version=t.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${t.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=t.TTL,this.steeringManifest.reloadUri=t["RELOAD-URI"],this.steeringManifest.priority=t["PATHWAY-PRIORITY"]||t["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=t["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const r=(i=>{for(const o of i)if(this.availablePathways_.has(o))return o;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==r&&(this.currentPathway=r,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(t){if(!t)return null;const n=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(t);if(!n(i))return i}const r=this.setSteeringParams_(t);return n(r)?null:r}startTTLTimeout_(t=this.steeringManifest.ttl){const n=t*1e3;this.ttlTimeout_=De.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){De.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new aB}addAvailablePathway(t){t&&this.availablePathways_.add(t)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(t){return this.availablePathways_.delete(t)}didDASHTagChange(t,n){return!n&&this.steeringManifest.reloadUri||n&&(xs(t,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Bke=(e,t)=>{let n=null;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e.apply(null,r)},t)}},Uke=10;let uc;const Fke=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],zke=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Vke=function({currentPlaylist:e,buffered:t,currentTime:n,nextPlaylist:r,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:s,bufferBasedABR:a,log:l}){if(!r)return nt.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${e&&e.id||"null"} -> ${r.id}`;if(!e)return l(`${u} as current playlist is not set`),!0;if(r.id===e.id)return!1;const c=!!$p(t,n).length;if(!e.endList)return!c&&typeof e.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const d=RI(t,n),f=a?mo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:mo.MAX_BUFFER_LOW_WATER_LINE;if(s<f)return l(`${u} as duration < max low water line (${s} < ${f})`),!0;const m=r.attributes.BANDWIDTH,h=e.attributes.BANDWIDTH;if(m<h&&(!a||d<o)){let g=`${u} as next bandwidth < current bandwidth (${m} < ${h})`;return a&&(g+=` and forwardBuffer < bufferHighWaterLine (${d} < ${o})`),l(g),!0}if((!a||m>h)&&d>=i){let g=`${u} as forwardBuffer >= bufferLowWaterLine (${d} >= ${i})`;return a&&(g+=` and next bandwidth > current bandwidth (${m} > ${h})`),l(g),!0}return l(`not ${u} as no switching criteria met`),!1};class qke extends nt.EventTarget{constructor(t){super(),this.fastQualityChange_=Bke(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:r,tech:i,bandwidth:o,externVhs:s,useCueTags:a,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:f,leastPixelDiffSelector:m,captionServices:h,experimentalUseMMS:g}=t;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:S}=t;(S===null||typeof S>"u")&&(S=1/0),uc=s,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!m,this.withCredentials=r,this.tech_=i,this.vhs_=i.vhs,this.player_=t.player_,this.sourceType_=c,this.useCueTags_=a,this.playlistExclusionDuration=l,this.maxPlaylistRetries=S,this.enableLowInitialPlaylist=u,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:r,maxPlaylistRetries:S,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Lke(),g&&De.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new De.ManagedMediaSource,this.usingManagedMediaSource_=!0,nt.log("Using ManagedMediaSource")):De.MediaSource&&(this.mediaSource=new De.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=bo(),this.hasPlayed_=!1,this.syncController_=new Tke(t),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new Cke,this.sourceUpdater_=new BK(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Eke,this.keyStatusMap_=new Map;const y={vhs:this.vhs_,parse708captions:t.parse708captions,useDtsForTimestampOffset:t.useDtsForTimestampOffset,captionServices:h,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:o,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:t.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new WC(n,this.vhs_,gr(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Bp(n,this.vhs_,gr(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new XC(gr(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),t),this.audioSegmentLoader_=new XC(gr(y,{loaderType:"audio"}),t),this.subtitleSegmentLoader_=new bke(gr(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((_,x)=>{function T(){i.off("vttjserror",w),_()}function w(){i.off("vttjsloaded",T),x()}i.one("vttjsloaded",T),i.one("vttjserror",w),i.addWebVttScript_()})}),t);const v=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new $ke(this.vhs_.xhr,v),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Fke.forEach(_=>{this[_+"_"]=zke.bind(this,_)}),this.logger_=za("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const b=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(b,()=>{const _=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-_,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const t=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return t===-1||n===-1?-1:t+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(t="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,t)}switchMedia_(t,n,r){const i=this.media(),o=i&&(i.id||i.uri),s=t&&(t.id||t.uri);if(o&&o!==s){this.logger_(`switch media ${o} -> ${s} from ${n}`);const a={renditionInfo:{id:s,bandwidth:t.attributes.BANDWIDTH,resolution:t.attributes.RESOLUTION,codecs:t.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:a}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(t,r)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(t=>{const n=this.mediaTypes_[t],r=n?n.activeGroup():null,i=this.contentSteeringController_.getPathway();if(r&&i){const s=(r.length?r[0].playlists:r.playlists).filter(a=>a.attributes.serviceLocation===i);s.length&&this.mediaTypes_[t].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=De.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(De.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const t=this.main(),n=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return n;const r=t.mediaGroups.AUDIO,i=Object.keys(r);let o;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)o=this.mediaTypes_.AUDIO.activeTrack();else{const a=r.main||i.length&&r[i[0]];for(const l in a)if(a[l].default){o={label:l};break}}if(!o)return n;const s=[];for(const a in r)if(r[a][o.label]){const l=r[a][o.label];if(l.playlists&&l.playlists.length)s.push.apply(s,l.playlists);else if(l.uri)s.push(l);else if(t.playlists.length)for(let u=0;u<t.playlists.length;u++){const c=t.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a&&s.push(c)}}return s.length?s:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;zC(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,n.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.mainSegmentLoader_.load()),jke({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),n),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let n=this.mainPlaylistLoader_.media();if(!n){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let r;if(this.enableLowInitialPlaylist&&(r=this.selectInitialPlaylist()),r||(r=this.selectPlaylist()),!r||!this.shouldSwitchToMedia_(r)||(this.initialMedia_=r,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;n=this.initialMedia_}this.handleUpdatedMediaPlaylist(n)}),this.mainPlaylistLoader_.on("error",()=>{const n=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const n=this.mainPlaylistLoader_.media(),r=n.targetDuration*1.5*1e3;zC(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=r,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const n=this.mainPlaylistLoader_.media();if(n.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(n)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(n=>{this.mainPlaylistLoader_.on(n,r=>{this.player_.trigger(No({},r))})})}handleUpdatedMediaPlaylist(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(t,n){const r=t.mediaGroups||{};let i=!0;const o=Object.keys(r.AUDIO);for(const s in r.AUDIO)for(const a in r.AUDIO[s])r.AUDIO[s][a].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(r.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),uc.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),o.length&&Object.keys(r.AUDIO[o[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(t){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,r=this.tech_.currentTime(),i=this.bufferLowWaterLine(),o=this.bufferHighWaterLine(),s=this.tech_.buffered();return Vke({buffered:s,currentTime:r,currentPlaylist:n,nextPlaylist:t,bufferLowWaterLine:i,bufferHighWaterLine:o,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const r=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const r=this.audioSegmentLoader_.pendingSegment_;if(!r||!r.segment||!r.segment.syncInfo)return;const i=r.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",r=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Uke}))});const t=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const r=this.getCodecsOrExclude_();r&&this.sourceUpdater_.addOrChangeSourceBuffers(r)};this.mainSegmentLoader_.on("trackinfo",t),this.audioSegmentLoader_.on("trackinfo",t),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(r=>{this.mainSegmentLoader_.on(r,i=>{this.player_.trigger(No({},i))}),this.audioSegmentLoader_.on(r,i=>{this.player_.trigger(No({},i))}),this.subtitleSegmentLoader_.on(r,i=>{this.player_.trigger(No({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(t=this.selectPlaylist()){if(t&&t===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(t,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}setupFirstPlay(){const t=this.mainPlaylistLoader_.media();if(!t||this.tech_.paused()||this.hasPlayed_)return!1;if(!t.endList||t.start){const n=this.seekable();if(!n.length)return!1;const r=n.end(0);let i=r;if(t.start){const o=t.start.timeOffset;o<0?i=Math.max(r+o,n.start(0)):i=Math.min(r,o)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const t=this.tech_.play();typeof t<"u"&&typeof t.then=="function"&&t.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const t=this.inbandTextTracks_.metadataTrack_.cues;if(!t||!t.length)return;const n=this.duration();t[t.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?t=t&&this.audioSegmentLoader_.ended_:t=this.audioSegmentLoader_.ended_}t&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(t){if(!this.seekable().length)return!1;const r=this.syncController_.getExpiredTime(t,this.duration());if(r===null)return!1;const i=uc.Playlist.playlistEnd(t,r),o=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-o<=Il;const a=s.end(s.length-1);return a-o<=Il&&i-a<=Il}excludePlaylist({playlistToExclude:t=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:r}){if(t=t||this.mainPlaylistLoader_.media(),r=r||n.playlistExclusionDuration||this.playlistExclusionDuration,!t){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}t.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,o=i.filter(pT),s=o.length===1&&o[0]===t;if(i.length===1&&r!==1/0)return nt.log.warn(`Problem encountered with playlist ${t.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){const h=this.pathwayAttribute_(t),g=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(h),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(h)},g);return}let m=!1;i.forEach(h=>{if(h===t)return;const g=h.excludeUntil;typeof g<"u"&&g!==1/0&&(m=!0,delete h.excludeUntil)}),m&&(nt.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let a;t.playlistErrors_>this.maxPlaylistRetries?a=1/0:a=Date.now()+r*1e3,t.excludeUntil=a,n.reason&&(t.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=n.internal?this.logger_:nt.log.warn,c=n.message?" "+n.message:"";u(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${t.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==t.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==t.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,f=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",s||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(t,n){const r=[],i=t==="all";(i||t==="main")&&r.push(this.mainPlaylistLoader_);const o=[];(i||t==="audio")&&o.push("AUDIO"),(i||t==="subtitle")&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach(s=>{const a=this.mediaTypes_[s]&&this.mediaTypes_[s].activePlaylistLoader;a&&r.push(a)}),["main","audio","subtitle"].forEach(s=>{const a=this[`${s}SegmentLoader_`];a&&(t===s||t==="all")&&r.push(a)}),r.forEach(s=>n.forEach(a=>{typeof s[a]=="function"&&s[a]()}))}setCurrentTime(t){const n=$p(this.tech_.buffered(),t);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return t;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const t=this.mainPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:uc.Playlist.duration(t):1/0:0}seekable(){return this.seekable_}getSeekableRange_(t,n){const r=t.media();if(!r)return null;const i=this.syncController_.getMediaSequenceSync(n);if(i&&i.isReliable){const a=i.start,l=i.end;if(!isFinite(a)||!isFinite(l))return null;const u=uc.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r),c=Math.max(a,l-u);return bo([[a,c]])}const o=this.syncController_.getExpiredTime(r,this.duration());if(o===null)return null;const s=uc.Playlist.seekable(r,o,uc.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,r));return s.length?s:null}computeFinalSeekable_(t,n){if(!n)return t;const r=t.start(0),i=t.end(0),o=n.start(0),s=n.end(0);return o>i||r>s?t:bo([[Math.max(r,o),Math.min(i,s)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const t=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!t)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const r=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(t,n),!this.seekable_||r&&r.length&&this.seekable_.length&&r.start(0)===this.seekable_.start(0)&&r.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${QY(this.seekable_)}]`);const i={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:i}),this.tech_.trigger("seekablechanged")}updateDuration(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,t),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(t){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const n=this.tech_.buffered();let r=uc.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(r=Math.max(r,n.end(n.length-1))),this.mediaSource.duration!==r&&this.sourceUpdater_.setDuration(r)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(t=>{const n=this.mediaTypes_[t].groups;for(const r in n)n[r].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),r=t?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!r)}getCodecsOrExclude_(){const t={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();t.video=t.main;const r=Sy(this.main(),n),i={},o=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(t.main.hasVideo&&(i.video=r.video||t.main.videoCodec||oOe),t.main.isMuxed&&(i.video+=`,${r.audio||t.main.audioCodec||z$}`),(t.main.hasAudio&&!t.main.isMuxed||t.audio.hasAudio||o)&&(i.audio=r.audio||t.main.audioCodec||t.audio.audioCodec||z$,t.audio.isFmp4=t.main.hasAudio&&!t.main.isMuxed?t.main.isFmp4:t.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const s=(u,c)=>u?gy(c,this.usingManagedMediaSource_):CE(c),a={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!s(t[u].isFmp4,i[u])){const c=t[u].isFmp4?"browser":"muxer";a[c]=a[c]||[],a[c].push(i[u]),u==="audio"&&(l=c)}}),o&&l&&n.attributes.AUDIO){const u=n.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==n&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(a).length){const u=Object.keys(a).reduce((c,d)=>(c&&(c+=", "),c+=`${d} does not support codec(s): "${a[d].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const d=(wl(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,f=(wl(i[c]||"")[0]||{}).type;d&&f&&d.toLowerCase()!==f.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${i[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const t=this.getCodecsOrExclude_();if(!t)return;this.sourceUpdater_.createSourceBuffers(t);const n=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const t=this.main().playlists,n=[];Object.keys(t).forEach(r=>{const i=t[r];if(n.indexOf(i.id)!==-1)return;n.push(i.id);const o=Sy(this.main,i),s=[];o.audio&&!CE(o.audio)&&!gy(o.audio,this.usingManagedMediaSource_)&&s.push(`audio codec ${o.audio}`),o.video&&!CE(o.video)&&!gy(o.video,this.usingManagedMediaSource_)&&s.push(`video codec ${o.video}`),o.text&&o.text==="stpp.ttml.im1t"&&s.push(`text codec ${o.text}`),s.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${s.join(", ")}`))})}excludeIncompatibleVariants_(t){const n=[],r=this.main().playlists,i=gv(wl(t)),o=V4(i),s=i.video&&wl(i.video)[0]||null,a=i.audio&&wl(i.audio)[0]||null;Object.keys(r).forEach(l=>{const u=r[l];if(n.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;n.push(u.id);const c=[],d=Sy(this.mainPlaylistLoader_.main,u),f=V4(d);if(!(!d.audio&&!d.video)){if(f!==o&&c.push(`codec count "${f}" !== "${o}"`),!this.sourceUpdater_.canChangeType()){const m=d.video&&wl(d.video)[0]||null,h=d.audio&&wl(d.audio)[0]||null;m&&s&&m.type.toLowerCase()!==s.type.toLowerCase()&&c.push(`video codec "${m.type}" !== "${s.type}"`),h&&a&&h.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`audio codec "${h.type}" !== "${a.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(t){let n=0;const r=this.seekable();r.length&&(n=r.start(0)),Ske(t,this.cueTagsTrack_,n)}goalBufferLength(){const t=this.tech_.currentTime(),n=mo.GOAL_BUFFER_LENGTH,r=mo.GOAL_BUFFER_LENGTH_RATE,i=Math.max(n,mo.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+t*r,i)}bufferLowWaterLine(){const t=this.tech_.currentTime(),n=mo.BUFFER_LOW_WATER_LINE,r=mo.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(n,mo.MAX_BUFFER_LOW_WATER_LINE),o=Math.max(n,mo.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+t*r,this.bufferBasedABR?o:i)}bufferHighWaterLine(){return mo.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(t){Z4(this.inbandTextTracks_,"com.apple.streaming",this.tech_),eke({inbandTextTracks:this.inbandTextTracks_,dateRanges:t})}addMetadataToTextTrack(t,n,r){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();Z4(this.inbandTextTracks_,t,this.tech_),ZIe({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:i,videoDuration:r})}pathwayAttribute_(t){return t.attributes["PATHWAY-ID"]||t.attributes.serviceLocation}initContentSteeringController_(){const t=this.main();if(t.contentSteering){for(const n of t.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(t.uri,t.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(n=>{this.contentSteeringController_.on(n,r=>{this.trigger(No({},r))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const n=this.main();(this.contentSteeringController_.didDASHTagChange(n.uri,n.contentSteering)||(()=>{const o=this.contentSteeringController_.getAvailablePathways(),s=[];for(const a of n.playlists){const l=a.attributes.serviceLocation;if(l&&(s.push(l),!o.has(l)))return!0}return!!(!s.length&&o.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const t=this.contentSteeringController_.getPathway();if(!t)return;this.handlePathwayClones_();const r=this.main().playlists,i=new Set;let o=!1;Object.keys(r).forEach(s=>{const a=r[s],l=this.pathwayAttribute_(a),u=l&&t!==l;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!u&&(delete a.excludeUntil,delete a.lastExcludeReason_,o=!0);const d=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&u&&d&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const l=a.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==t&&(o=!0)}}),o&&this.changeSegmentPathway_()}handlePathwayClones_(){const n=this.main().playlists,r=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(r&&r.size||i&&i.size){for(const[s,a]of r.entries())i.get(s)||(this.mainPlaylistLoader_.updateOrDeleteClone(a),this.contentSteeringController_.excludePathway(s));for(const[s,a]of i.entries()){const l=r.get(s);if(!l){n.filter(c=>c.attributes["PATHWAY-ID"]===a["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(a,c)}),this.contentSteeringController_.addAvailablePathway(s);continue}this.equalPathwayClones_(l,a)||(this.mainPlaylistLoader_.updateOrDeleteClone(a,!0),this.contentSteeringController_.addAvailablePathway(s))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(t,n){if(t["BASE-ID"]!==n["BASE-ID"]||t.ID!==n.ID||t["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const r=t["URI-REPLACEMENT"].PARAMS,i=n["URI-REPLACEMENT"].PARAMS;for(const o in r)if(r[o]!==i[o])return!1;for(const o in i)if(r[o]!==i[o])return!1;return!0}changeSegmentPathway_(){const t=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(t,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let t=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=this.mainPlaylistLoader_.getKeyIdSet(r);!i||!i.size||i.forEach(o=>{const s="usable",a=this.keyStatusMap_.has(o)&&this.keyStatusMap_.get(o)===s,l=r.lastExcludeReason_===n&&r.excludeUntil===1/0;a?a&&l&&(delete r.excludeUntil,delete r.lastExcludeReason_,this.logger_(`enabling playlist ${r.id} because key ID ${o} is ${s}`)):(r.excludeUntil!==1/0&&r.lastExcludeReason_!==n&&(r.excludeUntil=1/0,r.lastExcludeReason_=n,this.logger_(`excluding playlist ${r.id} because the key ID ${o} doesn't exist in the keyStatusMap or is not ${s}`)),t++)})}),t>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(r=>{const i=r&&r.attributes&&r.attributes.RESOLUTION&&r.attributes.RESOLUTION.height<720,o=r.excludeUntil===1/0&&r.lastExcludeReason_===n;i&&o&&(delete r.excludeUntil,nt.log.warn(`enabling non-HD playlist ${r.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(t,n){const o=(typeof t=="string"?t:yke(t)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${o} added to the keyStatusMap`),this.keyStatusMap_.set(o,n)}updatePlaylistByKeyStatus(t,n){this.addKeyStatus_(t,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const Hke=(e,t,n)=>r=>{const i=e.main.playlists[t],o=kI(i),s=pT(i);if(typeof r>"u")return s;r?delete i.disabled:i.disabled=!0;const a={renditionInfo:{id:t,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return r!==s&&!o&&(r?(n(i),e.trigger({type:"renditionenabled",metadata:a})):e.trigger({type:"renditiondisabled",metadata:a})),r};class Gke{constructor(t,n,r){const{playlistController_:i}=t,o=i.fastQualityChange_.bind(i);if(n.attributes){const s=n.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=Sy(i.main(),n),this.playlist=n,this.id=r,this.enabled=Hke(t.playlists,n.id,o)}}const Wke=function(e){e.representations=()=>{const t=e.playlistController_.main(),n=wb(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter(r=>!kI(r)).map((r,i)=>new Gke(e,r,r.id)):[]}},lB=["seeking","seeked","pause","playing","error"];class Yke extends nt.EventTarget{constructor(t){super(),this.playlistController_=t.playlistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=za("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),r=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),o=()=>this.resetTimeUpdate_(),s=this.playlistController_,a=["main","subtitle","audio"],l={};a.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},s[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),s[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(d=>{s[`${d}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(lB,o),this.tech_.on("canplay",r),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(lB,o),this.tech_.off("canplay",r),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),a.forEach(c=>{s[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),s[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&De.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&De.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=De.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(t){const n=this.playlistController_[`${t}SegmentLoader_`];this[`${t}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${t} loader`),this[`${t}StalledDownloads_`]=0,this[`${t}Buffered_`]=n.buffered_()}checkSegmentDownloads_(t){const n=this.playlistController_,r=n[`${t}SegmentLoader_`],i=r.buffered_(),o=kRe(this[`${t}Buffered_`],i);if(this[`${t}Buffered_`]=i,o){const s={bufferedRanges:i};n.trigger({type:"bufferedrangeschanged",metadata:s}),this.resetSegmentDownloads_(t);return}this[`${t}StalledDownloads_`]++,this.logger_(`found #${this[`${t}StalledDownloads_`]} ${t} appends that did not increase buffer (possible stalled download)`,{playlistId:r.playlist_&&r.playlist_.id,buffered:qd(i)}),!(this[`${t}StalledDownloads_`]<10)&&(this.logger_(`${t} loader stalled download exclusion`),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:`vhs-${t}-download-exclusion`}),t!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${t} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const t=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===t&&(!n.length||t+Il>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&t===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(t===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(bo([this.lastRecordedTime,t]));const r={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:r}),this.consecutiveUpdates=0,this.lastRecordedTime=t}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const n=this.seekable(),r=this.tech_.currentTime(),i=this.afterSeekableWindow_(n,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let o;if(i&&(o=n.end(n.length-1)),this.beforeSeekableWindow_(n,r)){const h=n.start(0);o=h+(h===n.end(0)?0:Il)}if(typeof o<"u")return this.logger_(`Trying to seek outside of seekable at time ${r} with seekable range ${QY(n)}. Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),l=s.audioBuffer?s.audioBuffered():null,u=s.videoBuffer?s.videoBuffered():null,c=this.media(),d=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Rl)*2,f=[l,u];for(let h=0;h<f.length;h++){if(!f[h])continue;if(RI(f[h],r)<d)return!1}const m=P0(a,r);return m.length===0?!1:(o=m.start(0)+Il,this.logger_(`Buffered region starts (${m.start(0)})  just beyond seek point (${r}). Seeking to ${o}.`),this.tech_.setCurrentTime(o),!0)}waiting_(){if(this.techWaiting_())return;const t=this.tech_.currentTime(),n=this.tech_.buffered(),r=$p(n,t);if(r.length&&t+3<=r.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.logger_(`Stopped at ${t} while inside a buffered region [${r.start(0)} -> ${r.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const t=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(t,n)){const a=t.end(t.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const r=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:r.audioBuffered(),videoBuffered:r.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=P0(i,n);return s.length>0?(this.logger_(`Stopped at ${n} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(t,n,r,i=!1){if(!t.length)return!1;let o=t.end(t.length-1)+Il;const s=!r.endList,a=typeof r.partTargetDuration=="number";return s&&(a||i)&&(o=t.end(t.length-1)+r.targetDuration*3),n>o}beforeSeekableWindow_(t,n){return!!(t.length&&t.start(0)>0&&n<t.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:t,audioBuffered:n,currentTime:r}){if(!t)return;let i;if(t.length&&n.length){const o=$p(t,r-3),s=$p(t,r),a=$p(n,r);a.length&&!s.length&&o.length&&(i={start:o.end(0),end:a.end(0)})}else P0(t,r).length||(i=this.gapFromVideoUnderflow_(t,r));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${r}`),!0):!1}skipTheGap_(t){const n=this.tech_.buffered(),r=this.tech_.currentTime(),i=P0(n,r);if(this.resetTimeUpdate_(),i.length===0||r!==t)return;this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",t,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Rl);const o={gapInfo:{from:r,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:o}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(t,n){const r=PRe(t);for(let i=0;i<r.length;i++){const o=r.start(i),s=r.end(i);if(n-o<4&&n-o>2)return{start:o,end:s}}return null}}const Kke={errorInterval:30,getSource(e){const n=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return e(n)}},VK=function(e,t){let n=0,r=0;const i=gr(Kke,t);e.ready(()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const o=function(){r&&e.currentTime(r)},s=function(c){c!=null&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(c),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},a=function(){if(Date.now()-n<i.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){nt.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),i.getSource.call(e,s)},l=function(){e.off("loadedmetadata",o),e.off("error",a),e.off("dispose",l)},u=function(c){l(),VK(e,c)};e.on("error",a),e.on("dispose",l),e.reloadSourceOnError=u},Xke=function(e){VK(this,e)};var qK="3.17.2",Zke="7.1.0",Qke="1.3.1",Jke="7.2.0",eNe="4.0.2";const bi={PlaylistLoader:Bp,Playlist:ws,utils:oIe,STANDARD_PLAYLIST_SELECTOR:X4,INITIAL_PLAYLIST_SELECTOR:GIe,lastBandwidthSelector:X4,movingAverageBandwidthSelector:qIe,comparePlaylistBandwidth:jI,comparePlaylistResolution:VIe,xhr:yK()};Object.keys(mo).forEach(e=>{Object.defineProperty(bi,e,{get(){return nt.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),mo[e]},set(t){if(nt.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),typeof t!="number"||t<0){nt.log.warn(`value of Vhs.${e} must be greater than or equal to 0`);return}mo[e]=t}})});const HK="videojs-vhs",GK=function(e,t){const n=t.media();let r=-1;for(let i=0;i<e.length;i++)if(e[i].id===n.id){r=i;break}e.selectedIndex_=r,e.trigger({selectedIndex:r,type:"change"})},tNe=function(e,t){t.representations().forEach(n=>{e.addQualityLevel(n)}),GK(e,t.playlists)};bi.canPlaySource=function(){return nt.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const nNe=(e,t,n)=>{if(!e)return e;let r={};t&&t.attributes&&t.attributes.CODECS&&(r=gv(wl(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(r.audio=n.attributes.CODECS);const i=Uh(r.video),o=Uh(r.audio),s={};for(const a in e)s[a]={},o&&(s[a].audioContentType=o),i&&(s[a].videoContentType=i),t.contentProtection&&t.contentProtection[a]&&t.contentProtection[a].pssh&&(s[a].pssh=t.contentProtection[a].pssh),typeof e[a]=="string"&&(s[a].url=e[a]);return gr(e,s)},rNe=(e,t)=>e.reduce((n,r)=>{if(!r.contentProtection)return n;const i=t.reduce((o,s)=>{const a=r.contentProtection[s];return a&&a.pssh&&(o[s]={pssh:a.pssh}),o},{});return Object.keys(i).length&&n.push(i),n},[]),iNe=({player:e,sourceKeySystems:t,audioMedia:n,mainPlaylists:r})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const i=n?r.concat([n]):r,o=rNe(i,Object.keys(t)),s=[],a=[];return o.forEach(l=>{a.push(new Promise((u,c)=>{e.tech_.one("keysessioncreated",u)})),s.push(new Promise((u,c)=>{e.eme.initializeMediaKeys({keySystems:l},d=>{if(d){c(d);return}u()})}))}),Promise.race([Promise.all(s),Promise.race(a)])},oNe=({player:e,sourceKeySystems:t,media:n,audioMedia:r})=>{const i=nNe(t,n,r);return i?(e.currentSource().keySystems=i,i&&!e.eme?(nt.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},WK=()=>{if(!De.localStorage)return null;const e=De.localStorage.getItem(HK);if(!e)return null;try{return JSON.parse(e)}catch{return null}},sNe=e=>{if(!De.localStorage)return!1;let t=WK();t=t?gr(t,e):e;try{De.localStorage.setItem(HK,JSON.stringify(t))}catch{return!1}return t},aNe=e=>e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e,YK=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},KK=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},XK=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},ZK=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};bi.supportsNativeHls=function(){if(!Et||!Et.createElement)return!1;const e=Et.createElement("video");return nt.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(n){return/maybe|probably/i.test(e.canPlayType(n))}):!1}();bi.supportsNativeDash=function(){return!Et||!Et.createElement||!nt.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Et.createElement("video").canPlayType("application/dash+xml"))}();bi.supportsTypeNatively=e=>e==="hls"?bi.supportsNativeHls:e==="dash"?bi.supportsNativeDash:!1;bi.isSupported=function(){return nt.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};bi.xhr.onRequest=function(e){YK(bi.xhr,e)};bi.xhr.onResponse=function(e){KK(bi.xhr,e)};bi.xhr.offRequest=function(e){XK(bi.xhr,e)};bi.xhr.offResponse=function(e){ZK(bi.xhr,e)};const lNe=nt.getComponent("Component");class QK extends lNe{constructor(t,n,r){if(super(n,r.vhs),typeof r.initialBandwidth=="number"&&(this.options_.bandwidth=r.initialBandwidth),this.logger_=za("VhsHandler"),n.options_&&n.options_.playerId){const i=nt.getPlayer(n.options_.playerId);this.player_=i}if(this.tech_=n,this.source_=t,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Et,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const o=Et.fullscreenElement||Et.webkitFullscreenElement||Et.mozFullScreenElement||Et.msFullscreenElement;o&&o.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(t={}){if(this.options_=gr(this.options_,t),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const r=WK();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=mo.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===mo.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(r=>{typeof this.source_[r]<"u"&&(this.options_[r]=this.source_[r])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(t={}){this.setOptions_(t)}src(t,n){if(!t)return;this.setOptions_(),this.options_.src=aNe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=bi,this.options_.sourceType=qG(n),this.options_.seekTo=o=>{this.tech_.setCurrentTime(o)},this.options_.player_=this.player_,this.playlistController_=new qke(this.options_);const r=gr({liveRangeSafeTimeDelta:Il},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Yke(r),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const o=nt.players[this.tech_.options_.playerId];let s=this.playlistController_.error;typeof s=="object"&&!s.code?s.code=3:typeof s=="string"&&(s={message:s,code:3}),o.error(s)});const i=this.options_.bufferBasedABR?bi.movingAverageBandwidthSelector(.55):bi.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=bi.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(o){this.playlistController_.selectPlaylist=o.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(o){this.playlistController_.mainSegmentLoader_.throughput.rate=o,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let o=this.playlistController_.mainSegmentLoader_.bandwidth;const s=De.navigator.connection||De.navigator.mozConnection||De.navigator.webkitConnection,a=1e7;if(this.options_.useNetworkInformationApi&&s){const l=s.downlink*1e3*1e3;l>=a&&o>=a?o=Math.max(o,l):o=l}return o},set(o){this.playlistController_.mainSegmentLoader_.bandwidth=o,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const o=1/(this.bandwidth||1);let s;return this.throughput>0?s=1/this.throughput:s=0,Math.floor(1/(o+s))},set(){nt.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>qd(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>qd(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&sNe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Wke(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=De.URL.createObjectURL(this.playlistController_.mediaSource),(nt.browser.IS_ANY_SAFARI||nt.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),iNe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:t&&t.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const t=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=oNe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:t&&t.media()});if(this.player_.tech_.on("keystatuschange",r=>{this.playlistController_.updatePlaylistByKeyStatus(r.keyId,r.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const t=nt.players[this.tech_.options_.playerId];!t||!t.qualityLevels||this.qualityLevels_||(this.qualityLevels_=t.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{tNe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{GK(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":qK,"mux.js":Zke,"mpd-parser":Qke,"m3u8-parser":Jke,"aes-decrypter":eNe}}version(){return this.constructor.version()}canChangeType(){return BK.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(t){this.playlistController_.setCurrentTime(t)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&De.URL.revokeObjectURL&&(De.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(t,n){return fIe({playlist:this.playlistController_.media(),time:t,callback:n})}seekToProgramTime(t,n,r=!0,i=2){return xK({programTime:t,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=t=>{YK(this.xhr,t)},this.xhr.onResponse=t=>{KK(this.xhr,t)},this.xhr.offRequest=t=>{XK(this.xhr,t)},this.xhr.offResponse=t=>{ZK(this.xhr,t)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const t=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];t.forEach(r=>{this.playlistController_.on(r,i=>{this.player_.trigger(No({},i))})}),n.forEach(r=>{this.playbackWatcher_.on(r,i=>{this.player_.trigger(No({},i))})})}}const ix={name:"videojs-http-streaming",VERSION:qK,canHandleSource(e,t={}){const n=gr(nt.options,t);return!n.vhs.experimentalUseMMS&&!gy("avc1.4d400d,mp4a.40.2",!1)?!1:ix.canPlayType(e.type,n)},handleSource(e,t,n={}){const r=gr(nt.options,n);return t.vhs=new QK(e,t,r),t.vhs.xhr=yK(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const n=qG(e);if(!n)return"";const r=ix.getOverrideNative(t);return!bi.supportsTypeNatively(n)||r?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,n=!(nt.browser.IS_ANY_SAFARI||nt.browser.IS_IOS),{overrideNative:r=n}=t;return r}},uNe=()=>gy("avc1.4d400d,mp4a.40.2",!0);uNe()&&nt.getTech("Html5").registerSourceHandler(ix,0);nt.VhsHandler=QK;nt.VhsSourceHandler=ix;nt.Vhs=bi;nt.use||nt.registerComponent("Vhs",bi);nt.options.vhs=nt.options.vhs||{};(!nt.getPlugin||!nt.getPlugin("reloadSourceOnError"))&&nt.registerPlugin("reloadSourceOnError",Xke);const LI=[];async function cNe({caption:e,crossOrigin:t,signal:n}){try{const r=await fetch(e.src,{credentials:t?"include":"same-origin",signal:n});if(!r.ok)return null;const i=await r.text(),o=new Blob([i],{type:"text/vtt"});return URL.createObjectURL(o)}catch{return null}}async function dNe({captions:e,crossOrigin:t,signal:n}){if(!e)return LI;const r=Object.entries(e).map(async([o,s])=>{if(!s)return null;const a=await cNe({caption:s,crossOrigin:t,signal:n});return a?{src:a,srclang:o,kind:"captions",label:o}:null});return(await Promise.all(r)).filter(Boolean)}function fNe(e){for(const t of e)URL.revokeObjectURL(t.src);return LI}function pNe(e,t){const[n,r]=R.useState(LI);return R.useEffect(()=>{const i=new AbortController,{signal:o}=i;return(async()=>{const a=await dNe({captions:e,crossOrigin:t,signal:o});o.aborted||r(a)})(),()=>{i.abort(),r(fNe)}},[e,t]),n}const hNe=({id:e,src:t,type:n="video",poster:r,defaultCaptionsLanguage:i,captionsLanguage:o,captions:s,captionsCrossOrigin:a,settings:l={controls:!0},onReady:u,onPlaybackRateChange:c,onVolumeChange:d,onCaptionsChange:f})=>{const m=R.useRef(null),h=R.useRef(null),g=pNe(s,a),S=()=>{const y=h.current;if(!(!y||y.controls()))return y!=null&&y.paused()?y==null?void 0:y.play():y==null?void 0:y.pause()};return R.useEffect(()=>{var v;const y={id:e,responsive:!0,fluid:!0,playsinline:!0,enableSmoothSeeking:!0,textTrackSettings:!1,playbackRates:[.5,.75,1,1.25,1.5,2],poster:r,...l};if(h.current){const b=h.current;b.autoplay(y.autoplay),b.controls(y.controls),b.loop(y.loop),b.muted(y.muted),b.playbackRate(y.playbackRate),b.poster(y.poster),b.volume(y.volume)}else{const b=document.createElement("video-js");b.classList.add("ev-media-js"),(v=m.current)==null||v.appendChild(b);const _=nt(b,y,()=>u==null?void 0:u(_));_.defaultPlaybackRate(y.playbackRate),_.defaultMuted(y.muted),_.volume(y.volume),_.on("ratechange",()=>c==null?void 0:c(_.playbackRate()??1)),_.on("volumechange",()=>d==null?void 0:d(_.volume()??1,!!_.muted())),_.remoteTextTracks().on("change",()=>{const T=_.remoteTextTracks().tracks_.find(w=>w.mode==="showing");f==null||f((T==null?void 0:T.language)||"none")}),h.current=_}},[e,r,l,u,c,d,f]),R.useEffect(()=>{const y=h.current;if(!y)return;const v=y.remoteTextTracks().tracks_;if(o==="none"){const _=v.find(x=>x.mode==="showing");_&&(_.mode="disabled");return}const b=v.find(_=>_.language===o);b&&b.mode!=="showing"&&(b.mode="showing")},[o]),R.useEffect(()=>{const y=h.current;y&&(y.src([{src:t,type:n==="audio"?"audio/mp3":"video/mp4"}]),y.remoteTextTracks().tracks_.forEach(v=>y.removeRemoteTextTrack(v)),g.length&&g.forEach(v=>{v.srclang===i&&(v.mode="showing"),y.addRemoteTextTrack(v)}))},[t,n,g,i]),R.useEffect(()=>{const y=h.current,v=m.current;return y&&t&&(v==null||v.addEventListener("click",S)),()=>{v==null||v.removeEventListener("click",S),!(!y||y.isDisposed())&&(y.dispose(),h.current=null)}},[h,t]),U.jsx("div",{"data-vjs-player":!0,children:U.jsx("div",{ref:m})})},mNe=e=>U.jsxs("details",{className:"ev-transcript-container",onToggle:e.onToggle,children:[U.jsxs("summary",{className:"ev-button ev-transcript-button ev-focus-visible",children:[U.jsx(Ux,{className:"ev-icon-open"}),U.jsx(gD,{className:"ev-icon-closed"}),U.jsx("span",{className:e.labelClass,children:e.label})]}),U.jsx("div",{className:"ev-transcript-text",children:e.children})]}),gNe=({element:e})=>{var O,I,k;const{_id:t,refId:n,variant:r,card:i,props:o}=e,s=ua(),a=vr(),l=jr(),u=ii("--ev-button-label"),c=un(B=>B.device.type),d=WAe(),{setElementViewed:f,setElementStarted:m,setElementCompleted:h}=Eo(n),g=R.useRef(null),S=un(B=>B.mediaSettings),y=R.useRef(S.captionsLanguage),v=R.useCallback(B=>B===o.completionEvent?h():null,[o.completionEvent,h]),b=R.useCallback(B=>s(W_e(B)),[s]);R.useEffect(()=>{S.currentMediaId!==t&&(!g.current||g.current.paused()||g.current.pause())},[t,S.currentMediaId]);const _=R.useCallback(()=>{f(),v("viewed")},[f,v]),x=B=>{g.current=B,B.on("play",()=>s(Y_e(t))),o.completionEvent!=="viewed"&&(B.one("play",()=>{m(),v("played")}),B.one("ended",()=>v("ended")))},T=R.useMemo(()=>o.captions&&Object.entries(o.captions).reduce((B,[q,H])=>({...B,[q]:{...H,src:Qa(H)}}),{}),[o.captions]),w=R.useMemo(()=>zw(c,o.poster),[o.poster,c]),E=((O=o.media)==null?void 0:O.type)==="audio",C=((I=o.poster)==null?void 0:I.src)!==void 0,D=o.transcript&&l.rich(o.transcript);return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:_,isReady:!0,children:U.jsxs(Fi,{className:Ype.widget,children:[U.jsx(hNe,{id:t,src:Qa(o.media),type:(k=o.media)==null?void 0:k.type,poster:w,captions:T,captionsCrossOrigin:d,captionsLanguage:S.captionsLanguage,defaultCaptionsLanguage:y.current,settings:{autoplay:o.autoplay,controls:o.controls,loop:o.loop,muted:S.muted,playbackRate:S.playbackRate,volume:S.volume,audioPosterMode:E&&C,audioOnlyMode:E&&!C},onReady:x,onPlaybackRateChange:B=>s(K_e(B)),onVolumeChange:(B,q)=>{s(Z_e(B)),s(X_e(q))},onCaptionsChange:b}),D&&U.jsx(mNe,{label:a("transcript"),labelClass:Pt(Bt.label,u),onToggle:h,children:U.jsx(Qi,{html:D})})]})})},$I=(e,t)=>e.tracking.variableTracking[t],yNe={submitted:!1,attempt:1,answers:[],response:wt.None},vNe=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,variables:o,props:s}=e,a=Sm(),l=ua(),u=vr(),c=jr(),d=R.useRef(null),f=R.useRef(null),m=ii("--ev-mcq-item-option-label"),h=ii("--ev-button-label"),{completed:g,setElementViewed:S,setElementStarted:y,setElementCompleted:v}=Eo(n),[{submitted:b,answers:_,response:x,attempt:T},w]=ca(n,yNe),E=s.allowInfiniteAttempts||T<s.allowedAttempts,C=!s.isUngraded&&g&&!!_.length,D=ne=>{s.items.find(({id:Q})=>Q===ne)&&(y(),w({response:wt.None,attempt:b&&_.length?T+1:T,answers:[ne],submitted:!1}))},O=()=>{var ue;if(b)return;if(!_.length){w({submitted:!0});return}const ne=k();w({submitted:!0,response:ne}),B(),(ue=f.current)==null||ue.focus(),(ne===wt.Neutral||ne===wt.Correct||!E)&&v()},I=()=>{var ne;w({response:wt.None,attempt:T+1,submitted:!1,answers:s.isUngraded?_:[]}),(ne=d.current)==null||ne.focus()},k=()=>{const ne=s.items.find(({id:ue})=>ue===_[0]);return ne?s.isUngraded?wt.Neutral:ne.isCorrect?wt.Correct:wt.Incorrect:wt.None},B=()=>{const{isEnabled:ne,target:ue,saveType:Q}=s.saveToVariable;if(!ne||!ue)return;const N=a.getState(),G=Tc(N,ue);if((G==null?void 0:G.type)!=="string")return;const J=s.items.find(({id:K})=>K===_[0]);if(!J)return;const Y=J.value||zD(c.plain(J.label));if(Q==="replace")return l(Iu(G,Y));const L=$I(N,ue)??"";l(Iu(G,L+Y))},q=()=>x===wt.None?U.jsx(_i,{className:Bt.button,isDisabled:b&&!_.length,onClick:O,children:U.jsx("span",{className:Pt(Bt.label,h),children:u("questionSubmit")})}):null,H=()=>x===wt.None||x===wt.Correct||!E?null:U.jsx(_i,{className:Bt.button,onClick:I,children:U.jsx("span",{className:Pt(Bt.label,h),children:u(s.isUngraded?"ungradedReset":"questionReset")})}),z=()=>!s.showAttempts||s.isUngraded&&!E&&x!==wt.None||!s.isUngraded&&g?null:U.jsx(sw,{className:cg.attempts,attempt:T,maxAttempts:s.allowedAttempts,allowInfiniteAttempts:s.allowInfiniteAttempts});return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:S,isReady:!0,children:U.jsxs(Fi,{children:[U.jsxs("fieldset",{tabIndex:-1,ref:d,onKeyDown:ne=>MR(ne)?O():null,children:[U.jsx(Qi,{className:cg.question,content:s.questionText,tag:"legend"}),U.jsx("div",{className:Pt(cg.options,{[cg.hasAnswerImages]:s.hasAnswerImages}),children:s.items.map(ne=>{const ue=ne.id===_[0];return U.jsx(JSe,{id:ne.id,uniqueId:`${n}-${ne.id}`,className:cg.option,name:n,label:c.plain(ne.label),labelClass:o["--ev-mcq-item-option-label"]??m,isSelected:ue,isCorrect:g&&ne.isCorrect,isDisabled:s.isUngraded?x!==wt.None:g,showMarking:C&&(ue||ne.isCorrect),hasAnswerImages:s.hasAnswerImages,media:ne.media,altText:c.plain(ne.altText),onOptionSelected:D},ne.id)})})]}),U.jsxs(qf,{children:[b&&!_.length&&U.jsx(q9,{}),U.jsx(Ff,{ref:f,response:x,feedback:s.feedback,isFinalAttempt:g,hideMarking:s.isUngraded}),q(),H(),z()]})]})})},bNe={submitted:!1,attempt:1,answers:[],response:wt.None},_Ne=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,variables:o,props:s}=e,a=vr(),l=jr(),u=R.useRef(null),c=R.useRef(null),d=ii("--ev-mcq-item-option-label"),f=ii("--ev-button-label"),{completed:m,setElementViewed:h,setElementStarted:g,setElementCompleted:S}=Eo(n),[{submitted:y,response:v,attempt:b,answers:_},x]=ca(n,bNe),T=s.allowInfiniteAttempts||b<s.allowedAttempts,w=!s.isUngraded&&m&&!!_.length,E=w&&v===wt.Correct,C=H=>{s.items.find(({id:ne})=>ne===H)&&(x({response:wt.None,attempt:y&&_.length?b+1:b,submitted:!1,answers:_.includes(H)?_.filter(ne=>ne!==H):[..._,H]}),g())},D=()=>{var z;if(y)return;if(!_.length){x({submitted:!0});return}const H=I();x({submitted:!0,response:H}),(z=c.current)==null||z.focus(),(H===wt.Neutral||H===wt.Correct||!T)&&S()},O=()=>{var H;x({response:wt.None,attempt:b+1,submitted:!1,answers:s.isUngraded?_:[]}),(H=u.current)==null||H.focus()},I=()=>{if(s.isUngraded&&_.length)return wt.Neutral;const H=_.map(Q=>s.items.find(N=>N.id===Q)).filter(Boolean),z=s.items.filter(Q=>Q.isCorrect).length,ne=H.filter(Q=>Q.isCorrect).length;return H.filter(Q=>!Q.isCorrect).length===0&&ne===z?wt.Correct:ne>0?wt.PartlyCorrect:wt.Incorrect},k=()=>v===wt.None?U.jsx(_i,{className:Bt.button,isDisabled:y&&!_.length,onClick:D,children:U.jsx("span",{className:Pt(Bt.label,f),children:a("questionSubmit")})}):null,B=()=>v===wt.None||v===wt.Correct||!T?null:U.jsx(_i,{className:Bt.button,onClick:O,children:U.jsx("span",{className:Pt(Bt.label,f),children:a(s.isUngraded?"ungradedReset":"questionReset")})}),q=()=>!s.showAttempts||s.isUngraded&&!T&&v!==wt.None||!s.isUngraded&&m?null:U.jsx(sw,{className:dg.attempts,attempt:b,maxAttempts:s.allowedAttempts,allowInfiniteAttempts:s.allowInfiniteAttempts});return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:h,isReady:!0,children:U.jsxs(Fi,{children:[U.jsxs("fieldset",{tabIndex:-1,ref:u,onKeyDown:H=>MR(H)?D():null,children:[U.jsx(Qi,{className:dg.question,content:s.questionText,tag:"legend"}),U.jsx("div",{className:Pt(dg.options,{[dg.hasAnswerImages]:s.hasAnswerImages}),children:s.items.map(H=>{const z=_.includes(H.id);return U.jsx(exe,{id:H.id,uniqueId:`${n}-${H.id}`,className:dg.option,label:l.plain(H.label),labelClass:o["--ev-mcq-item-option-label"]??d,isCorrect:m&&H.isCorrect,isSelected:z,isDisabled:s.isUngraded?v!==wt.None:m,showMarking:E?z:w,hasAnswerImages:s.hasAnswerImages,media:H.media,altText:l.plain(H.altText),onOptionSelected:C},H.id)})})]}),U.jsxs(qf,{children:[y&&!_.length&&U.jsx(q9,{}),U.jsx(Ff,{ref:c,response:v,feedback:s.feedback,isFinalAttempt:m,hideMarking:s.isUngraded}),k(),B(),q()]})]})})},uB=(e,t=0)=>{if(e===void 0)return t;const n=Number.parseFloat(e);return Number.isFinite(n)?n:t},SNe=(e,{min:t,max:n}={})=>Number.isFinite(e)&&e>=(t??-1/0)&&e<=(n??1/0),xNe={response:wt.None},wNe=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,variables:o,props:s}=e,a=Sm(),l=ua(),u=vr(),c=R.useRef(null),d=R.useRef(null),f=ii("--ev-numberinput-input-text-style"),m=Pt(I1.input,o["--ev-numberinput-input-text-style"]||f),h=ii("--ev-button-label"),{setElementViewed:g,setElementStarted:S,setElementCompleted:y}=Eo(n),[{answer:v,response:b}]=ca(n,{...xNe,answer:s.defaultValue}),_=R.useCallback(()=>{var B;const I=uB((B=d.current)==null?void 0:B.value,s.defaultValue),k=Bv(I,{min:s.min??-1/0,max:s.max??1/0});l(tl({elementRefId:n,state:{answer:k}}))},[l,s.defaultValue,s.max,s.min,n]),x=bq(_,750),T=R.useCallback(I=>{const k=uB(I.target.value,s.defaultValue);l(tl({elementRefId:n,state:{answer:k}})),x()},[l,s.defaultValue,n,x]),w=()=>{var I;l(tl({elementRefId:n,state:{response:wt.Neutral}})),C(),y(),(I=c.current)==null||I.focus()},E=()=>{l(tl({elementRefId:n,state:{response:wt.None}})),d.current&&(d.current.disabled=!1,d.current.focus())},C=()=>{const{isEnabled:I,target:k,saveType:B}=s.saveToVariable;if(!I||!k)return;const q=a.getState(),H=Tc(q,k);if((H==null?void 0:H.type)!=="number")return;if(B==="replace")return l(Sf(H,v));const z=$I(q,k)??0;l(Sf(H,z+v))},D=()=>b===wt.None?U.jsx(_i,{className:Bt.button,isDisabled:!SNe(v,{min:s.min,max:s.max}),onClick:w,children:U.jsx("span",{className:Pt(Bt.label,h),children:u("questionSubmit")})}):null,O=()=>b===wt.Neutral&&s.allowEditing?U.jsx(_i,{className:Bt.button,onClick:E,children:U.jsx("span",{className:Pt(Bt.label,h),children:u("ungradedReset")})}):null;return U.jsx(To,{card:i,elementId:t,isReady:!0,onVisible:g,variant:r,children:U.jsx(Fi,{children:U.jsxs("div",{className:I1.container,children:[U.jsxs("fieldset",{children:[U.jsx(Qi,{id:`${n}-question`,className:I1.question,content:s.questionText,tag:"legend"}),U.jsx("input",{className:m,"aria-labelledby":`${n}-question`,disabled:b===wt.Neutral,max:s.max??void 0,min:s.min??void 0,onChange:T,onFocus:S,ref:d,type:"number",value:v===void 0?"":v})]}),U.jsxs(qf,{children:[U.jsx(Ff,{feedback:s.feedback,hideMarking:!0,isFinalAttempt:!0,ref:c,response:b}),D(),O()]})]})})})};var TNe=typeof document<"u"?R.useLayoutEffect:R.useEffect,ENe=({axis:e="x",initialPages:t=[]}={})=>{const n=e==="x"?"width":"height",r=e==="x"?"scrollWidth":"scrollHeight",i=e==="x"?"clientWidth":"clientHeight",o=e==="x"?"left":"top",s=e==="x"?"right":"bottom",a=e==="x"?"scrollLeft":"scrollTop",[l,u]=R.useState(null),[{pages:c,activePageIndex:d},f]=R.useState({pages:t,activePageIndex:0}),m=R.useCallback(x=>{if(!l)return;if(Math.floor(l[r]-l[a])<=l[i]){f({pages:x,activePageIndex:x.length-1});return}const w=Array.from(l.children),E=l.getBoundingClientRect(),C=x.map(I=>{const k=I[0],B=w[k];Qh(B instanceof HTMLElement,"Expected HTMLElement");const q=HE(l,B,o),z=B.getBoundingClientRect()[o]-E[o]-q;return Math.abs(z)}),D=Math.min(...C),O=C.indexOf(D);f({pages:x,activePageIndex:O})},[l,i,o,r,a]),h=R.useCallback(()=>{if(!l)return;const x=Array.from(l.children),T=l.getBoundingClientRect();let w;const E=x.reduce((C,D,O)=>{Qh(D instanceof HTMLElement,"Expected HTMLElement");const I=C[C.length-1],k=JC(D,D.parentElement);if(!I||D.dataset.shouldSnap==="true"||k[s]-w>Math.ceil(T[n])){C.push([O]);const B=HE(l,D,o);w=k[o]-B}else I.push(O);return C},[]);m(E)},[m,l,n,s,o]);TNe(()=>{h()},[h]),R.useEffect(()=>{const x=()=>{h()};return window.addEventListener("resize",x),window.addEventListener("orientationchange",x),()=>{window.removeEventListener("resize",x),window.removeEventListener("orientationchange",x)}},[h]),R.useEffect(()=>{if(!l)return;const x=()=>{m(c)};return l.addEventListener("scroll",x),()=>{l.removeEventListener("scroll",x)}},[m,c,l]);const g=(x,T)=>{if(!l)return;const w=c[x];if(!w)return;const E=Array.from(l.children),C=w[0],D=E[C];if(!(D instanceof HTMLElement))return;const O=HE(l,D,o),I=(T==null?void 0:T.behavior)||"smooth";l.scrollTo({behavior:I,[o]:JC(D,D.parentElement)[o]-O})},S=x=>{g(d-1,x)},y=x=>{g(d+1,x)},v=R.useMemo(()=>new Set(c.map(x=>x[0])),[c]),b=d>0,_=d<c.length-1;return{hasPrevPage:b,hasNextPage:_,prev:S,next:y,goTo:g,refresh:h,pages:c,activePageIndex:d,snapPointIndexes:v,scrollRef:u}},JC=(e,t)=>{const n=cB(e);if(!t)return n;const r=cB(t);return{left:n.left-r.left,top:n.top-r.top,right:n.right-r.left,bottom:n.bottom-r.top,width:n.width,height:n.height}},cB=e=>{const t=e.getBoundingClientRect();let n=0,r=0,i=e.parentElement;for(;i;)n+=i.scrollLeft,r+=i.scrollTop,i=i.parentElement;const o=t.left+n,s=t.top+r;return{left:o,top:s,right:o+t.width,bottom:s+t.height,width:t.width,height:t.height}},ANe=(e,t)=>{const r=window.getComputedStyle(e).getPropertyValue(`scroll-padding-${t}`)||"0px";if(r==="auto")return 0;const i=`Unsupported scroll padding value, expected <length> or <percentage> value, received ${r}`;if(r.endsWith("px")){const o=parseInt(r);return Qh(!Number.isNaN(o),i),o}if(r.endsWith("%")){const o=parseInt(r);return Qh(!Number.isNaN(o),i),e.clientWidth/100*o}throw new JK(i)},CNe=(e,t)=>{const r=window.getComputedStyle(e).getPropertyValue(`scroll-margin-${t}`)||"0px",i=`Unsupported scroll margin value, expected <length> value, received ${r}`;Qh(r.endsWith("px"),i);const o=parseInt(r);return Qh(!Number.isNaN(o),i),o},HE=(e,t,n)=>{const r=ANe(e,n),i=CNe(t,n),o=JC(t,t.parentElement);return Math.min(r+i,o[n])};function Qh(e,t){if(!e)throw new JK(t)}var JK=class extends Error{constructor(e){super(`[react-snap-carousel]: ${e}`)}};const ONe=({refId:e,items:t,renderProcessItem:n,onCompleted:r})=>{const i=vr(),[{viewed:o},s]=ca(e,()=>{var y;return{viewed:(y=t[0])!=null&&y.id?[t[0].id]:[]}}),{scrollRef:a,pages:l,prev:u,next:c,activePageIndex:d,hasPrevPage:f,hasNextPage:m,snapPointIndexes:h}=ENe();R.useEffect(()=>{var v;const y=(v=t[d])==null?void 0:v.id;!y||o.includes(y)||s(({viewed:b})=>({viewed:[...b,y]}))},[d,t,o,s]),R.useEffect(()=>{o.length===t.length&&r()},[o,t,r]);const g=()=>{const y=i("processCarouselPrevButtonAria");return f?`${y} ${i("processCarouselPrevCountAria",{previous:d,total:l.length})}`:y},S=()=>{const y=i("processCarouselNextButtonAria");return m?`${y} ${i("processCarouselNextCountAria",{next:d+2,total:l.length})}`:y};return U.jsxs(U.Fragment,{children:[U.jsx("ul",{className:`ev-focus-visible ${ti.itemsContainer} ${ti.carousel}`,ref:a,tabIndex:0,children:t.map((y,v)=>n({item:y,isSnapPoint:h.has(v)}))}),U.jsxs("div",{className:ti.container,onKeyDown:y=>{if(K2e(y)&&m)return c({behavior:"auto"});if(Y2e(y)&&f)return u({behavior:"auto"})},children:[U.jsx("div",{className:`${ti.buttonContainer} ${ti.left}`,children:U.jsx(_i,{className:`${Bt.button} ${ti.button} ${ti.previousButton}`,isDisabled:!f,onClick:()=>u({behavior:"auto"}),"aria-label":g(),"data-testid":"process-carousel-previous",children:U.jsx(yD,{})})}),U.jsx("div",{className:ti.indicators,children:l.map((y,v)=>U.jsx("div",{className:Pt(ti.indicator,{[Bt.isSelected]:v===d})},t[v].id))}),U.jsx("div",{className:`${ti.buttonContainer} ${ti.right}`,children:U.jsx(_i,{className:`${Bt.button} ${ti.button} ${ti.nextButton}`,isDisabled:!m,onClick:()=>c({behavior:"auto"}),"aria-label":S(),"data-testid":"process-carousel-next",children:U.jsx(Ux,{})})})]})]})},DNe=({progress:e,isDisabled:t=!1,tabIndex:n,onClick:r,onKeyDown:i,...o})=>{const s=t?{cursor:"auto",pointerEvents:"none"}:{},a=n===-1||t;return U.jsxs("button",{className:ti.revealButton,type:"button","aria-disabled":t,"data-testid":"process-reveal-button",style:s,...a&&{tabIndex:-1},onKeyDown:l=>{!X2e(l)||t||(l.preventDefault(),l.stopPropagation(),i==null||i(l))},onClick:l=>{l.preventDefault(),l.stopPropagation(),!t&&(r==null||r(l))},...o,children:[U.jsx(Ew,{"aria-hidden":!0,radius:32,stroke:2.5,value:e}),U.jsx("div",{className:ti.revealButtonInner,children:e<100?U.jsx(gD,{}):U.jsx(Lf,{})})]})},PNe=({refId:e,items:t,renderProcessItem:n,onCompleted:r})=>{const i=vr(),o=R.useRef(null),[{viewed:s},a]=ca(e,()=>{var d;return{viewed:(d=t[0])!=null&&d.id?[t[0].id]:[]}});R.useEffect(()=>{if(s.length>1&&document.activeElement===o.current){const d=document.querySelector(`#ev-${e}-${s.at(-1)}`);d==null||d.scrollIntoView({behavior:"auto",block:"start"})}s.length===t.length&&r()},[s,e,t.length,r]);const l=()=>{const d=t.findIndex(m=>m.id===s.at(-1)),f=t[d+1];f&&a(({viewed:m})=>({viewed:[...m,f.id]}))},u=s.length/t.length*100,c=u<100?i("processRevealButtonAria",{current:s.length+1,total:t.length}):i("processRevealCompletedAria");return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:ti.container,children:U.jsx("ul",{className:`${ti.itemsContainer} ${ti.reveal}`,"aria-live":"polite","aria-busy":s.length===1,children:t.map(d=>n({item:d,isVisible:s.includes(d.id)}))})}),U.jsx("div",{className:ti.revealButtonContainer,children:U.jsx(DNe,{ref:o,"aria-label":c,isDisabled:u===100,progress:u,onClick:l,onKeyDown:l})})]})},dB=({uniqueId:e,item:t,textPlacement:n,isSnapPoint:r,isVisible:i=!0})=>{const o=jr(),s=t.content&&o.rich(t.content),a=u=>u.includes(n)?U.jsx("div",{className:ti.itemText,children:U.jsx(Qi,{html:s||""})}):null,l=t.hasText&&!!s;return U.jsx("li",{id:`ev-${e}`,className:Pt(ti.item,{[Bt.isVisible]:i}),style:{scrollSnapAlign:r?"start":""},children:U.jsxs("div",{className:Pt(ti.itemInner,{[ti.textPlacement(n)]:t.hasText}),children:[l&&a(["top","left"]),U.jsx("div",{className:ti.itemMedia,children:U.jsx(Ua,{media:t.media,altText:t.altText?o.plain(t.altText):""})}),l&&a(["bottom","right"])]})})},RNe=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:{type:o,textPlacement:s,items:a}}=e,{setElementStarted:l,setElementCompleted:u}=Eo(n);return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:l,isReady:!0,children:U.jsx(Fi,{className:ti.type(o),children:o==="carousel"?U.jsx(ONe,{refId:n,items:a,onCompleted:u,renderProcessItem:({item:c,isSnapPoint:d})=>U.jsx(dB,{uniqueId:`${n}-${c.id}`,item:c,isSnapPoint:d,textPlacement:s},c.id)}):U.jsx(PNe,{refId:n,items:a,onCompleted:u,renderProcessItem:({item:c,isVisible:d})=>U.jsx(dB,{uniqueId:`${n}-${c.id}`,item:c,isVisible:d,textPlacement:s},c.id)})})})};function INe(e,t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}}function kNe(e,t,n){return e=[...e],INe(e,t,n),e}var NNe="Invariant failed";function MNe(e,t){throw new Error(NNe)}var nl=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,l={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return l},BI=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},fB=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},jNe=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},GE={top:0,right:0,bottom:0,left:0},UI=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?GE:r,o=t.border,s=o===void 0?GE:o,a=t.padding,l=a===void 0?GE:a,u=nl(BI(n,i)),c=nl(fB(n,s)),d=nl(fB(c,l));return{marginBox:u,borderBox:nl(n),paddingBox:c,contentBox:d,margin:i,border:s,padding:l}},ha=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&MNe(),i},LNe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ox=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=jNe(r,n);return UI({borderBox:a,border:i,margin:o,padding:s})},sx=function(t,n){return n===void 0&&(n=LNe()),ox(t,n)},eX=function(t,n){var r={top:ha(n.marginTop),right:ha(n.marginRight),bottom:ha(n.marginBottom),left:ha(n.marginLeft)},i={top:ha(n.paddingTop),right:ha(n.paddingRight),bottom:ha(n.paddingBottom),left:ha(n.paddingLeft)},o={top:ha(n.borderTopWidth),right:ha(n.borderRightWidth),bottom:ha(n.borderBottomWidth),left:ha(n.borderLeftWidth)};return UI({borderBox:t,margin:r,padding:i,border:o})},tX=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return eX(n,r)},yv=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ax.apply(null,arguments)}function nX(e,t){}nX.bind(null,"warn");nX.bind(null,"error");function Hc(){}function $Ne(e,t){return{...e,...t}}function Ca(e,t,n){const r=t.map(i=>{const o=$Ne(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const BNe="Invariant failed";class lx extends Error{}lx.prototype.toString=function(){return this.message};function Nt(e,t){throw new lx(BNe)}class UNe extends En.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Hc,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof lx&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=Ca(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof lx){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const FNe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ux=e=>e+1,zNe=e=>`
  You have lifted an item in position ${ux(e.source.index)}
`,rX=(e,t)=>{const n=e.droppableId===t.droppableId,r=ux(e.index),i=ux(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},iX=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,VNe=e=>{const t=e.destination;if(t)return rX(e.source,t);const n=e.combine;return n?iX(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},pB=e=>`
  The item has returned to its starting position
  of ${ux(e.index)}
`,qNe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${pB(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${rX(e.source,t)}
    `:n?`
      You have dropped the item.
      ${iX(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${pB(e.source)}
  `},b_={dragHandleUsageInstructions:FNe,onDragStart:zNe,onDragUpdate:VNe,onDragEnd:qNe};function HNe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function oX(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!HNe(e[n],t[n]))return!1;return!0}function lr(e,t){const n=R.useState(()=>({inputs:t,result:e()}))[0],r=R.useRef(!0),i=R.useRef(n),s=r.current||!!(t&&i.current.inputs&&oX(t,i.current.inputs))?i.current:{inputs:t,result:e()};return R.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function rn(e,t){return lr(()=>e,t)}const wo={x:0,y:0},Lo=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ws=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Gc=(e,t)=>e.x===t.x&&e.y===t.y,Mm=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),Pf=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},vv=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),hB=(e,t)=>Math.min(...t.map(n=>vv(e,n))),sX=e=>t=>({x:e(t.x),y:e(t.y)});var GNe=(e,t)=>{const n=nl({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Tb=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),mB=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],WNe={top:0,right:0,bottom:0,left:0},YNe=(e,t)=>t?Tb(e,t.scroll.diff.displacement):e,KNe=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,XNe=(e,t)=>t&&t.shouldClipSubject?GNe(t.pageMarginBox,e):nl(e);var Jh=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=YNe(e.marginBox,r),o=KNe(i,n,t),s=XNe(o,r);return{page:e,withPlaceholder:t,active:s}},FI=(e,t)=>{e.frame||Nt();const n=e.frame,r=Ws(t,n.scroll.initial),i=Mm(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Jh({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function So(e,t=oX){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const aX=So(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),lX=So(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),hT=So(e=>Object.values(e)),ZNe=So(e=>Object.values(e));var jm=So((e,t)=>ZNe(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function zI(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function mT(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var gT=So((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),QNe=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!zI(i))return null;function s(m){const h={type:"COMBINE",combine:{draggableId:m,droppableId:n.descriptor.id}};return{...i,at:h}}const a=i.displaced.all,l=a.length?a[0]:null;if(e)return l?s(l):null;const u=gT(t,r);if(!l){if(!u.length)return null;const m=u[u.length-1];return s(m.descriptor.id)}const c=u.findIndex(m=>m.descriptor.id===l);c===-1&&Nt();const d=c-1;if(d<0)return null;const f=u[d];return s(f.descriptor.id)},Lm=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const uX={point:wo,value:0},bv={invisible:{},visible:{},all:[]},JNe={displaced:bv,displacedBy:uX,at:null};var ka=(e,t)=>n=>e<=n&&n<=t,cX=e=>{const t=ka(e.top,e.bottom),n=ka(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const l=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return l&&u?!0:l&&s||u&&o}},eMe=e=>{const t=ka(e.top,e.bottom),n=ka(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const VI={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},dX={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var tMe=e=>t=>{const n=ka(t.top,t.bottom),r=ka(t.left,t.right);return i=>e===VI?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const nMe=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:wo;return Tb(e,n)},rMe=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,iMe=(e,t,n)=>n(t)(e),qI=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?nMe(e,t):e;return rMe(o,t,i)&&iMe(o,n,i)},oMe=e=>qI({...e,isVisibleThroughFrameFn:cX}),fX=e=>qI({...e,isVisibleThroughFrameFn:eMe}),sMe=e=>qI({...e,isVisibleThroughFrameFn:tMe(e.destination.axis)}),aMe=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function lMe(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return nl(BI(n,r))}function _v({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(a,l){const u=lMe(l,n),c=l.descriptor.id;if(a.all.push(c),!oMe({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[l.descriptor.id]=!0,a;const f=aMe(c,o,i),m={draggableId:c,shouldAnimate:f};return a.visible[c]=m,a},{all:[],visible:{},invisible:{}})}function uMe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function gB({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=uMe(e,{inHomeList:t});return{displaced:bv,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function cx({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const l=Lm(e,n);if(s==null)return gB({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const u=t.find(h=>h.descriptor.index===s);if(!u)return gB({insideDestination:t,inHomeList:l,displacedBy:i,destination:n});const c=gT(e,t),d=t.indexOf(u),f=c.slice(d);return{displaced:_v({afterDragging:f,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function rd(e,t){return!!t.effected[e]}var cMe=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return rd(o,i)?e?a:a-1:e?a+1:a},dMe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,l=t?a:a+1;return o<s||o>l?null:o},fMe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:l})=>{const u=s.at;if(u||Nt(),u.type==="REORDER"){const d=dMe({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return d==null?null:cx({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:d})}const c=cMe({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:u.combine,afterCritical:l});return c==null?null:cx({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:c})},pMe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return rd(n,t)?i?wo:Mm(r.point):i?r.point:wo},hMe=({afterCritical:e,impact:t,draggables:n})=>{const r=mT(t);r||Nt();const i=r.draggableId,o=n[i].page.borderBox.center,s=pMe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return Lo(o,s)};const pX=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,mMe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,HI=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,yB=({axis:e,moveRelativeTo:t,isMoving:n})=>Pf(e.line,t.marginBox[e.end]+pX(e,n),HI(e,t.marginBox,n)),vB=({axis:e,moveRelativeTo:t,isMoving:n})=>Pf(e.line,t.marginBox[e.start]-mMe(e,n),HI(e,t.marginBox,n)),gMe=({axis:e,moveInto:t,isMoving:n})=>Pf(e.line,t.contentBox[e.start]+pX(e,n),HI(e,t.contentBox,n));var yMe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=jm(r.descriptor.id,n),s=t.page,a=r.axis;if(!o.length)return gMe({axis:a,moveInto:r.page,isMoving:s});const{displaced:l,displacedBy:u}=e,c=l.all[0];if(c){const f=n[c];if(rd(c,i))return vB({axis:a,moveRelativeTo:f.page,isMoving:s});const m=ox(f.page,u.point);return vB({axis:a,moveRelativeTo:m,isMoving:s})}const d=o[o.length-1];if(d.descriptor.id===t.descriptor.id)return s.borderBox.center;if(rd(d.descriptor.id,i)){const f=ox(d.page,Mm(i.displacedBy.point));return yB({axis:a,moveRelativeTo:f,isMoving:s})}return yB({axis:a,moveRelativeTo:d.page,isMoving:s})},eO=(e,t)=>{const n=e.frame;return n?Lo(t,n.scroll.diff.displacement):t};const vMe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?yMe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):hMe({impact:e,draggables:r,afterCritical:i})};var yT=e=>{const t=vMe(e),n=e.droppable;return n?eO(n,t):t},hX=(e,t)=>{const n=Ws(t,e.scroll.initial),r=Mm(n);return{frame:nl({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function bB(e,t){return e.map(n=>t[n])}function bMe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var _Me=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=hX(t,Lo(t.scroll.current,i)),s=n.frame?FI(n,Lo(n.frame.scroll.current,i)):n,a=e.displaced,l=_v({afterDragging:bB(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=_v({afterDragging:bB(a.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),c={},d={},f=[a,l,u];return a.all.forEach(h=>{const g=bMe(h,f);if(g){d[h]=g;return}c[h]=!0}),{...e,displaced:{all:a.all,invisible:c,visible:d}}},SMe=(e,t)=>Lo(e.scroll.diff.displacement,t),GI=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=SMe(n,e),i=Ws(r,t.page.borderBox.center);return Lo(t.client.borderBox.center,i)},mX=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Ws(n,e.page.borderBox.center),l={target:Tb(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?sMe(l):fX(l)},xMe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:l})=>{if(!n.isEnabled)return null;const u=jm(n.descriptor.id,r),c=Lm(t,n),d=QNe({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:i})||fMe({isMovingForward:e,isInHomeList:c,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:l});if(!d)return null;const f=yT({impact:d,draggable:t,droppable:n,draggables:r,afterCritical:l});if(mX({draggable:t,destination:n,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:GI({pageBorderBoxCenter:f,draggable:t,viewport:o}),impact:d,scrollJumpRequest:null};const h=Ws(f,s),g=_Me({impact:d,viewport:o,destination:n,draggables:r,maxScrollChange:h});return{clientSelection:a,impact:g,scrollJumpRequest:h}};const ts=e=>{const t=e.subject.active;return t||Nt(),t};var wMe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=ka(o[s.start],o[s.end]),l=hT(r).filter(c=>c!==n).filter(c=>c.isEnabled).filter(c=>!!c.subject.active).filter(c=>cX(i.frame)(ts(c))).filter(c=>{const d=ts(c);return e?o[s.crossAxisEnd]<d[s.crossAxisEnd]:d[s.crossAxisStart]<o[s.crossAxisStart]}).filter(c=>{const d=ts(c),f=ka(d[s.start],d[s.end]);return a(d[s.start])||a(d[s.end])||f(o[s.start])||f(o[s.end])}).sort((c,d)=>{const f=ts(c)[s.crossAxisStart],m=ts(d)[s.crossAxisStart];return e?f-m:m-f}).filter((c,d,f)=>ts(c)[s.crossAxisStart]===ts(f[0])[s.crossAxisStart]);if(!l.length)return null;if(l.length===1)return l[0];const u=l.filter(c=>ka(ts(c)[s.start],ts(c)[s.end])(t[s.line]));return u.length===1?u[0]:u.length>1?u.sort((c,d)=>ts(c)[s.start]-ts(d)[s.start])[0]:l.sort((c,d)=>{const f=hB(t,mB(ts(c))),m=hB(t,mB(ts(d)));return f!==m?f-m:ts(c)[s.start]-ts(d)[s.start]})[0]};const _B=(e,t)=>{const n=e.page.borderBox.center;return rd(e.descriptor.id,t)?Ws(n,t.displacedBy.point):n},TMe=(e,t)=>{const n=e.page.borderBox;return rd(e.descriptor.id,t)?Tb(n,Mm(t.displacedBy.point)):n};var EMe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>fX({target:TMe(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const l=vv(e,eO(n,_B(s,i))),u=vv(e,eO(n,_B(a,i)));return l<u?-1:u<l?1:s.descriptor.index-a.descriptor.index})[0]||null,Eb=So(function(t,n){const r=n[t.line];return{value:r,point:Pf(t.line,r)}});const AMe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return Pf(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],l=jm(e.descriptor.id,n).reduce((u,c)=>u+c.client.marginBox[r.size],0)+t[r.line]-i;return l<=0?null:Pf(r.line,l)},gX=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),yX=(e,t,n)=>{const r=e.frame;Lm(t,e)&&Nt(),e.subject.withPlaceholder&&Nt();const i=Eb(e.axis,t.displaceBy).point,o=AMe(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const c=Jh({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:c}}const a=o?Lo(r.scroll.max,o):r.scroll.max,l=gX(r,a),u=Jh({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:l});return{...e,subject:u,frame:l}},CMe=e=>{const t=e.subject.withPlaceholder;t||Nt();const n=e.frame;if(!n){const s=Jh({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Nt();const i=gX(n,r),o=Jh({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var OMe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!t){if(n.length)return null;const d={displaced:bv,displacedBy:uX,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},f=yT({impact:d,draggable:r,droppable:o,draggables:i,afterCritical:a}),m=Lm(r,o)?o:yX(o,r,i);return mX({draggable:r,destination:m,newPageBorderBoxCenter:f,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?d:null}const l=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const d=t.descriptor.index;return t.descriptor.id===r.descriptor.id||l?d:d+1})(),c=Eb(o.axis,r.displaceBy);return cx({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:c,last:bv,index:u})},DMe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const l=wMe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!l)return null;const u=jm(l.descriptor.id,i),c=EMe({pageBorderBoxCenter:t,viewport:s,destination:l,insideDestination:u,afterCritical:a}),d=OMe({previousPageBorderBoxCenter:t,destination:l,draggable:n,draggables:i,moveRelativeTo:c,insideDestination:u,viewport:s,afterCritical:a});if(!d)return null;const f=yT({impact:d,draggable:n,droppable:l,draggables:i,afterCritical:a});return{clientSelection:GI({pageBorderBoxCenter:f,draggable:n,viewport:s}),impact:d,scrollJumpRequest:null}},Js=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const PMe=(e,t)=>{const n=Js(e);return n?t[n]:null};var RMe=({state:e,type:t})=>{const n=PMe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const l=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],c=e.current.page.borderBoxCenter,{draggables:d,droppables:f}=e.dimensions;return a?xMe({isMovingForward:l,previousPageBorderBoxCenter:c,draggable:u,destination:o,draggables:d,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):DMe({isMovingForward:l,previousPageBorderBoxCenter:c,draggable:u,isOver:o,draggables:d,droppables:f,viewport:e.viewport,afterCritical:e.afterCritical})};function Od(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function vX(e){const t=ka(e.top,e.bottom),n=ka(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function IMe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function kMe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=Pf(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:vv(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function NMe({pageBorderBox:e,draggable:t,droppables:n}){const r=hT(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!IMe(e,o))return!1;if(vX(o)(e.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],l=e[s.crossAxisStart],u=e[s.crossAxisEnd],c=ka(o[s.crossAxisStart],o[s.crossAxisEnd]),d=c(l),f=c(u);return!d&&!f?!0:d?l<a:u>a});return r.length?r.length===1?r[0].descriptor.id:kMe({pageBorderBox:e,draggable:t,candidates:r}):null}const bX=(e,t)=>nl(Tb(e,t));var MMe=(e,t)=>{const n=e.frame;return n?bX(t,n.scroll.diff.value):t};function _X({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function jMe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var LMe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,l=Eb(n.axis,t.displaceBy),u=l.value,c=e[a.start],d=e[a.end],m=gT(t,r).find(g=>{const S=g.descriptor.id,y=g.page.borderBox.center[a.line],v=rd(S,s),b=_X({displaced:i,id:S});return v?b?d<=y:c<y-u:b?d<=y+u:c<y})||null,h=jMe({draggable:t,closest:m,inHomeList:Lm(t,n)});return cx({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:l,index:h})};const $Me=4;var BMe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=Eb(r.axis,e.displaceBy),l=a.value,u=t[s.start],c=t[s.end],f=gT(e,i).find(h=>{const g=h.descriptor.id,S=h.page.borderBox,v=S[s.size]/$Me,b=rd(g,o),_=_X({displaced:n.displaced,id:g});return b?_?c>S[s.start]+v&&c<S[s.end]-v:u>S[s.start]-l+v&&u<S[s.end]-l-v:_?c>S[s.start]+l+v&&c<S[s.end]+l-v:u>S[s.start]+v&&u<S[s.end]-v});return f?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:f.descriptor.id,droppableId:r.descriptor.id}}}:null},SX=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=bX(t.page.borderBox,e),l=NMe({pageBorderBox:a,draggable:t,droppables:r});if(!l)return JNe;const u=r[l],c=jm(u.descriptor.id,n),d=MMe(u,a);return BMe({pageBorderBoxWithDroppableScroll:d,draggable:t,previousImpact:i,destination:u,insideDestination:c,afterCritical:s})||LMe({pageBorderBoxWithDroppableScroll:d,draggable:t,destination:u,insideDestination:c,last:i.displaced,viewport:o,afterCritical:s})},WI=(e,t)=>({...e,[t.descriptor.id]:t});const UMe=({previousImpact:e,impact:t,droppables:n})=>{const r=Js(e),i=Js(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=CMe(o);return WI(n,s)};var FMe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=UMe({previousImpact:r,impact:i,droppables:n}),s=Js(i);if(!s)return o;const a=n[s];if(Lm(e,a)||a.subject.withPlaceholder)return o;const l=yX(a,e,t);return WI(o,l)},xy=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,a=n||e.dimensions,l=t||e.current.client.selection,u=Ws(l,e.initial.client.selection),c={offset:u,selection:l,borderBoxCenter:Lo(e.initial.client.borderBoxCenter,u)},d={selection:Lo(c.selection,s.scroll.current),borderBoxCenter:Lo(c.borderBoxCenter,s.scroll.current),offset:Lo(c.offset,s.scroll.diff.value)},f={client:c,page:d};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:s,current:f};const m=a.draggables[e.critical.draggable.id],h=i||SX({pageOffset:d.offset,draggable:m,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),g=FMe({draggable:m,impact:h,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:f,dimensions:{draggables:a.draggables,droppables:g},impact:h,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function zMe(e,t){return e.map(n=>t[n])}var xX=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=zMe(o.all,n),a=_v({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:a}},wX=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=yT({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return GI({pageBorderBoxCenter:s,draggable:t,viewport:i})},TX=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Nt();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:a}=o,l=s[e.critical.draggable.id],u=Js(r);u||Nt();const c=a[u],d=xX({impact:r,viewport:i,destination:c,draggables:s}),f=wX({impact:d,draggable:l,droppable:c,draggables:s,viewport:i,afterCritical:e.afterCritical});return xy({impact:d,clientSelection:f,state:e,dimensions:o,viewport:i})},VMe=e=>({index:e.index,droppableId:e.droppableId}),EX=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Eb(t.axis,e.displaceBy),o=jm(t.descriptor.id,n),s=o.indexOf(e);s===-1&&Nt();const a=o.slice(s+1),l=a.reduce((f,m)=>(f[m.descriptor.id]=!0,f),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:l};return{impact:{displaced:_v({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:VMe(e.descriptor)}},afterCritical:u}},qMe=(e,t)=>({draggables:e.draggables,droppables:WI(e.droppables,t)}),HMe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=ox(e.client,t),i=sx(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},GMe=e=>{const t=e.frame;return t||Nt(),t},WMe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],l=GMe(s).scroll.diff.value,u=Lo(r,l);return HMe({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},YMe=({state:e,published:t})=>{const n=t.modified.map(y=>{const v=e.dimensions.droppables[y.droppableId];return FI(v,y.scroll)}),r={...e.dimensions.droppables,...aX(n)},i=lX(WMe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(y=>{delete o[y]});const s={droppables:r,draggables:o},a=Js(e.impact),l=a?s.droppables[a]:null,u=s.draggables[e.critical.draggable.id],c=s.droppables[e.critical.droppable.id],{impact:d,afterCritical:f}=EX({draggable:u,home:c,draggables:o,viewport:e.viewport}),m=l&&l.isCombineEnabled?e.impact:d,h=SX({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:e.viewport,afterCritical:f}),g={...e,phase:"DRAGGING",impact:h,onLiftImpact:d,dimensions:s,afterCritical:f,forceShouldAnimate:!1};return e.phase==="COLLECTING"?g:{...g,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const tO=e=>e.movementMode==="SNAP",WE=(e,t,n)=>{const r=qMe(e.dimensions,t);return!tO(e)||n?xy({state:e,dimensions:r}):TX({state:e,dimensions:r})};function YE(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const SB={phase:"IDLE",completed:null,shouldFlush:!1};var KMe=(e=SB,t)=>{if(t.type==="FLUSH")return{...SB,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Nt();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,a=o.draggables[n.draggable.id],l=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:wo},c={client:u,page:{selection:Lo(u.selection,i.scroll.initial),borderBoxCenter:Lo(u.selection,i.scroll.initial),offset:Lo(u.selection,i.scroll.diff.value)}},d=hT(o.droppables).every(g=>!g.isFixedOnPage),{impact:f,afterCritical:m}=EX({draggable:a,home:l,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:c,current:c,isWindowScrollAllowed:d,impact:f,afterCritical:m,onLiftImpact:f,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Nt(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Nt(),YMe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Od(e)||Nt();const{client:n}=t.payload;return Gc(n,e.current.client.selection)?e:xy({state:e,clientSelection:n,impact:tO(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return YE(e);Od(e)||Nt();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=FI(i,r);return WE(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Od(e)||Nt();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Nt(),i.isEnabled===r&&Nt();const o={...i,isEnabled:r};return WE(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Od(e)||Nt();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Nt(),i.isCombineEnabled===r&&Nt();const o={...i,isCombineEnabled:r};return WE(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Od(e)||Nt(),e.isWindowScrollAllowed||Nt();const n=t.payload.newScroll;if(Gc(e.viewport.scroll.current,n))return YE(e);const r=hX(e.viewport,n);return tO(e)?TX({state:e,viewport:r}):xy({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Od(e))return e;const n=t.payload.maxScroll;if(Gc(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Nt();const n=RMe({state:e,type:t.type});return n?xy({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Nt(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Nt(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function yr(e,t){return e instanceof Object&&"type"in e&&e.type===t}const XMe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),ZMe=e=>({type:"LIFT",payload:e}),QMe=e=>({type:"INITIAL_PUBLISH",payload:e}),JMe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),eje=()=>({type:"COLLECTION_STARTING",payload:null}),tje=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),nje=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),rje=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),AX=e=>({type:"MOVE",payload:e}),ije=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),oje=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),sje=()=>({type:"MOVE_UP",payload:null}),aje=()=>({type:"MOVE_DOWN",payload:null}),lje=()=>({type:"MOVE_RIGHT",payload:null}),uje=()=>({type:"MOVE_LEFT",payload:null}),YI=()=>({type:"FLUSH",payload:null}),cje=e=>({type:"DROP_ANIMATE",payload:e}),KI=e=>({type:"DROP_COMPLETE",payload:e}),CX=e=>({type:"DROP",payload:e}),dje=e=>({type:"DROP_PENDING",payload:e}),OX=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var fje=e=>({getState:t,dispatch:n})=>r=>i=>{if(!yr(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,l=t();l.phase==="DROP_ANIMATING"&&n(KI({completed:l.completed})),t().phase!=="IDLE"&&Nt(),n(YI()),n(XMe({draggableId:o,movementMode:a}));const c={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:d,dimensions:f,viewport:m}=e.startPublishing(c);n(QMe({critical:d,dimensions:f,clientSelection:s,movementMode:a,viewport:m}))},pje=e=>()=>t=>n=>{yr(n,"INITIAL_PUBLISH")&&e.dragging(),yr(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(yr(n,"FLUSH")||yr(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const XI={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Sv={opacity:{drop:0,combining:.7},scale:{drop:.75}},DX={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},bd=`${DX.outOfTheWay}s ${XI.outOfTheWay}`,wy={fluid:`opacity ${bd}`,snap:`transform ${bd}, opacity ${bd}`,drop:e=>{const t=`${e}s ${XI.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${bd}`,placeholder:`height ${bd}, width ${bd}, margin ${bd}`},xB=e=>Gc(e,wo)?void 0:`translate(${e.x}px, ${e.y}px)`,nO={moveTo:xB,drop:(e,t)=>{const n=xB(e);if(n)return t?`${n} scale(${Sv.scale.drop})`:n}},{minDropTime:rO,maxDropTime:PX}=DX,hje=PX-rO,wB=1500,mje=.6;var gje=({current:e,destination:t,reason:n})=>{const r=vv(e,t);if(r<=0)return rO;if(r>=wB)return PX;const i=r/wB,o=rO+hje*i,s=n==="CANCEL"?o*mje:o;return Number(s.toFixed(2))},yje=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=Js(e),l=a?s[a]:null,u=s[t.descriptor.droppableId],c=wX({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:l||u,viewport:r});return Ws(c,t.client.borderBox.center)},vje=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:xX({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:bv},didDropInsideDroppable:!0};const bje=({getState:e,dispatch:t})=>n=>r=>{if(!yr(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(dje({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Nt(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Nt();const a=i.critical,l=i.dimensions,u=l.draggables[i.critical.draggable.id],{impact:c,didDropInsideDroppable:d}=vje({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),f=d?zI(c):null,m=d?mT(c):null,h={index:a.draggable.index,droppableId:a.droppable.id},g={draggableId:u.descriptor.id,type:u.descriptor.type,source:h,reason:o,mode:i.movementMode,destination:f,combine:m},S=yje({impact:c,draggable:u,dimensions:l,viewport:i.viewport,afterCritical:i.afterCritical}),y={critical:i.critical,afterCritical:i.afterCritical,result:g,impact:c};if(!(!Gc(i.current.client.offset,S)||!!g.combine)){t(KI({completed:y}));return}const b=gje({current:i.current.client.offset,destination:S,reason:o});t(cje({newHomeClientOffset:S,dropDuration:b,completed:y}))};var RX=()=>({x:window.pageXOffset,y:window.pageYOffset});function _je(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Sje({onWindowScroll:e}){function t(){e(RX())}const n=yv(t),r=_je(n);let i=Hc;function o(){return i!==Hc}function s(){o()&&Nt(),i=Ca(window,[r])}function a(){o()||Nt(),n.cancel(),i(),i=Hc}return{start:s,stop:a,isActive:o}}const xje=e=>yr(e,"DROP_COMPLETE")||yr(e,"DROP_ANIMATE")||yr(e,"FLUSH"),wje=e=>{const t=Sje({onWindowScroll:n=>{e.dispatch(ije({newScroll:n}))}});return n=>r=>{!t.isActive()&&yr(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&xje(r)&&t.stop(),n(r)}};var Tje=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},Eje=()=>{const e=[],t=i=>{const o=e.findIndex(a=>a.timerId===i);o===-1&&Nt();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const Aje=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Cje=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Oje=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},Eg=(e,t)=>{t()},k0=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function KE(e,t,n,r){if(!e){n(r(t));return}const i=Tje(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var Dje=(e,t)=>{const n=Eje();let r=null;const i=(d,f)=>{r&&Nt(),Eg("onBeforeCapture",()=>{const m=e().onBeforeCapture;m&&m({draggableId:d,mode:f})})},o=(d,f)=>{r&&Nt(),Eg("onBeforeDragStart",()=>{const m=e().onBeforeDragStart;m&&m(k0(d,f))})},s=(d,f)=>{r&&Nt();const m=k0(d,f);r={mode:f,lastCritical:d,lastLocation:m.source,lastCombine:null},n.add(()=>{Eg("onDragStart",()=>KE(e().onDragStart,m,t,b_.onDragStart))})},a=(d,f)=>{const m=zI(f),h=mT(f);r||Nt();const g=!Oje(d,r.lastCritical);g&&(r.lastCritical=d);const S=!Aje(r.lastLocation,m);S&&(r.lastLocation=m);const y=!Cje(r.lastCombine,h);if(y&&(r.lastCombine=h),!g&&!S&&!y)return;const v={...k0(d,r.mode),combine:h,destination:m};n.add(()=>{Eg("onDragUpdate",()=>KE(e().onDragUpdate,v,t,b_.onDragUpdate))})},l=()=>{r||Nt(),n.flush()},u=d=>{r||Nt(),r=null,Eg("onDragEnd",()=>KE(e().onDragEnd,d,t,b_.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:l,drop:u,abort:()=>{if(!r)return;const d={...k0(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(d)}}},Pje=(e,t)=>{const n=Dje(e,t);return r=>i=>o=>{if(yr(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(yr(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(yr(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),yr(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const Rje=e=>t=>n=>{if(!yr(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Nt(),e.dispatch(KI({completed:r.completed}))},Ije=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((yr(o,"FLUSH")||yr(o,"DROP_COMPLETE")||yr(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!yr(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(OX())}};n=requestAnimationFrame(()=>{n=null,t=Ca(window,[s])})}};var kje=e=>()=>t=>n=>{(yr(n,"DROP_COMPLETE")||yr(n,"FLUSH")||yr(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},Nje=e=>{let t=!1;return()=>n=>r=>{if(yr(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(yr(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(yr(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const Mje=e=>yr(e,"DROP_COMPLETE")||yr(e,"DROP_ANIMATE")||yr(e,"FLUSH");var jje=e=>t=>n=>r=>{if(Mje(r)){e.stop(),n(r);return}if(yr(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Nt(),e.start(i);return}n(r),e.scroll(t.getState())};const Lje=e=>t=>n=>{if(t(n),!yr(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(CX({reason:r.reason})))},$je=Uy;var Bje=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>wD(KMe,$je(NU(pje(n),kje(e),fje(e),bje,Rje,Ije,Lje,jje(o),wje,Nje(t),Pje(r,i))));const XE=()=>({additions:{},removals:{},modified:{}});function Uje({registry:e,callbacks:t}){let n=XE(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:l,removals:u,modified:c}=n,d=Object.keys(l).map(h=>e.draggable.getById(h).getDimension(wo)).sort((h,g)=>h.descriptor.index-g.descriptor.index),f=Object.keys(c).map(h=>{const S=e.droppable.getById(h).callbacks.getScrollWhileDragging();return{droppableId:h,scroll:S}}),m={additions:d,removals:Object.keys(u),modified:f};n=XE(),t.publish(m)}))};return{add:l=>{const u=l.descriptor.id;n.additions[u]=l,n.modified[l.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:l=>{const u=l.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=XE())}}}var IX=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Ws({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},kX=()=>{const e=document.documentElement;return e||Nt(),e},NX=()=>{const e=kX();return IX({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},Fje=()=>{const e=RX(),t=NX(),n=e.y,r=e.x,i=kX(),o=i.clientWidth,s=i.clientHeight,a=r+o,l=n+s;return{frame:nl({top:n,left:r,right:a,bottom:l}),scroll:{initial:e,current:e,max:t,diff:{value:wo,displacement:wo}}}},zje=({critical:e,scrollOptions:t,registry:n})=>{const r=Fje(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(c=>c.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(c=>c.getDimension(i));return{dimensions:{draggables:lX(a),droppables:aX(s)},critical:e,viewport:r}};function TB(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var Vje=(e,t)=>{let n=null;const r=Uje({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(f,m)=>{e.droppable.exists(f)||Nt(),n&&t.updateDroppableIsEnabled({id:f,isEnabled:m})},o=(f,m)=>{n&&(e.droppable.exists(f)||Nt(),t.updateDroppableIsCombineEnabled({id:f,isCombineEnabled:m}))},s=(f,m)=>{n&&(e.droppable.exists(f)||Nt(),t.updateDroppableScroll({id:f,newScroll:m}))},a=(f,m)=>{n&&e.droppable.getById(f).callbacks.scroll(m)},l=()=>{if(!n)return;r.stop();const f=n.critical.droppable;e.droppable.getAllByType(f.type).forEach(m=>m.callbacks.dragStopped()),n.unsubscribe(),n=null},u=f=>{n||Nt();const m=n.critical.draggable;f.type==="ADDITION"&&TB(e,m,f.value)&&r.add(f.value),f.type==="REMOVAL"&&TB(e,m,f.value)&&r.remove(f.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:f=>{n&&Nt();const m=e.draggable.getById(f.draggableId),h=e.droppable.getById(m.descriptor.droppableId),g={draggable:m.descriptor,droppable:h.descriptor},S=e.subscribe(u);return n={critical:g,unsubscribe:S},zje({critical:g,registry:e,scrollOptions:f.scrollOptions})},stopPublishing:l}},MX=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",qje=e=>{window.scrollBy(e.x,e.y)};const Hje=So(e=>hT(e).filter(t=>!(!t.isEnabled||!t.frame))),Gje=(e,t)=>Hje(t).find(r=>(r.frame||Nt(),vX(r.frame.pageMarginBox)(e)))||null;var Wje=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return Gje(e,n)};const xv={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Yje=(e,t,n=()=>xv)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},jX=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},ZI=1,Kje=(e,t,n=()=>xv)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return ZI;const o=1-jX({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},Xje=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,a=o,u=Date.now()-s;if(u>=o)return e;if(u<i)return ZI;const c=jX({startOfRange:i,endOfRange:a,current:u}),d=e*r.ease(c);return Math.ceil(d)},EB=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=Kje(e,t,i);return o===0?0:r?Math.max(Xje(o,n,i),ZI):o},AB=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=Yje(e,r,o);return t[r.end]<t[r.start]?EB({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*EB({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},Zje=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Qje=sX(e=>e===0?0:e);var LX=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=AB({container:t,distanceToEdges:s,dragStartTime:e,axis:VI,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),l=AB({container:t,distanceToEdges:s,dragStartTime:e,axis:dX,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=Qje({x:l,y:a});if(Gc(u,wo))return null;const c=Zje({container:t,subject:n,proposedScroll:u});return c?Gc(c,wo)?null:c:null};const Jje=sX(e=>e===0?0:e>0?1:-1),QI=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=Lo(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return Gc(o,wo)?null:o}})(),$X=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Jje(n),o=QI({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},JI=(e,t)=>$X({current:e.scroll.current,max:e.scroll.max,change:t}),e3e=(e,t)=>{if(!JI(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return QI({current:r,max:n,change:t})},ek=(e,t)=>{const n=e.frame;return n?$X({current:n.scroll.current,max:n.scroll.max,change:t}):!1},t3e=(e,t)=>{const n=e.frame;return!n||!ek(e,t)?null:QI({current:n.scroll.current,max:n.scroll.max,change:t})};var n3e=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=LX({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&JI(e,s)?s:null},r3e=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const a=LX({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&ek(e,a)?a:null},CB=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,l=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const d=e.viewport,f=n3e({dragStartTime:t,viewport:d,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(f){r(f);return}}const u=Wje({center:s,destination:Js(e.impact),droppables:e.dimensions.droppables});if(!u)return;const c=r3e({dragStartTime:t,droppable:u,subject:l,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});c&&i(u.descriptor.id,c)},i3e=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>xv})=>{const r=yv(e),i=yv(t);let o=null;const s=u=>{o||Nt();const{shouldUseTimeDampening:c,dragStartTime:d}=o;CB({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:d,shouldUseTimeDampening:c,getAutoScrollerOptions:n})};return{start:u=>{o&&Nt();const c=Date.now();let d=!1;const f=()=>{d=!0};CB({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:f,scrollDroppable:f,getAutoScrollerOptions:n}),o={dragStartTime:c,shouldUseTimeDampening:d},d&&s(u)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},o3e=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,l)=>{const u=Lo(a.current.client.selection,l);e({client:u})},i=(a,l)=>{if(!ek(a,l))return l;const u=t3e(a,l);if(!u)return t(a.descriptor.id,l),null;const c=Ws(l,u);return t(a.descriptor.id,c),Ws(l,c)},o=(a,l,u)=>{if(!a||!JI(l,u))return u;const c=e3e(l,u);if(!c)return n(u),null;const d=Ws(u,c);return n(d),Ws(u,d)};return a=>{const l=a.scrollJumpRequest;if(!l)return;const u=Js(a.impact);u||Nt();const c=i(a.dimensions.droppables[u],l);if(!c)return;const d=a.viewport,f=o(a.isWindowScrollAllowed,d,c);f&&r(a,f)}},s3e=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=i3e({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=o3e({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:l=>{if(!(r().disabled||l.phase!=="DRAGGING")){if(l.movementMode==="FLUID"){i.scroll(l);return}l.scrollJumpRequest&&o(l)}},start:i.start,stop:i.stop}};const em="data-rfd",tm=(()=>{const e=`${em}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),iO=(()=>{const e=`${em}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),a3e=(()=>{const e=`${em}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),OB={contextId:`${em}-scroll-container-context-id`},l3e=e=>t=>`[${t}="${e}"]`,Ag=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),u3e="pointer-events: none;";var c3e=e=>{const t=l3e(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(tm.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:u3e,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${wy.outOfTheWay};
    `;return{selector:t(iO.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(a3e.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Ag(s,"always"),resting:Ag(s,"resting"),dragging:Ag(s,"dragging"),dropAnimating:Ag(s,"dropAnimating"),userCancel:Ag(s,"userCancel")}};const ea=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?R.useLayoutEffect:R.useEffect,ZE=()=>{const e=document.querySelector("head");return e||Nt(),e},DB=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function d3e(e,t){const n=lr(()=>c3e(e),[e]),r=R.useRef(null),i=R.useRef(null),o=rn(So(d=>{const f=i.current;f||Nt(),f.textContent=d}),[]),s=rn(d=>{const f=r.current;f||Nt(),f.textContent=d},[]);ea(()=>{!r.current&&!i.current||Nt();const d=DB(t),f=DB(t);return r.current=d,i.current=f,d.setAttribute(`${em}-always`,e),f.setAttribute(`${em}-dynamic`,e),ZE().appendChild(d),ZE().appendChild(f),s(n.always),o(n.resting),()=>{const m=h=>{const g=h.current;g||Nt(),ZE().removeChild(g),h.current=null};m(r),m(i)}},[t,s,o,n.always,n.resting,e]);const a=rn(()=>o(n.dragging),[o,n.dragging]),l=rn(d=>{if(d==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=rn(()=>{i.current&&o(n.resting)},[o,n.resting]);return lr(()=>({dragging:a,dropping:l,resting:u}),[a,l,u])}function BX(e,t){return Array.from(e.querySelectorAll(t))}var UX=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function vT(e){return e instanceof UX(e).HTMLElement}function f3e(e,t){const n=`[${tm.contextId}="${e}"]`,r=BX(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute(tm.draggableId)===t);return!i||!vT(i)?null:i}function p3e(e){const t=R.useRef({}),n=R.useRef(null),r=R.useRef(null),i=R.useRef(!1),o=rn(function(f,m){const h={id:f,focus:m};return t.current[f]=h,function(){const S=t.current;S[f]!==h&&delete S[f]}},[]),s=rn(function(f){const m=f3e(e,f);m&&m!==document.activeElement&&m.focus()},[e]),a=rn(function(f,m){n.current===f&&(n.current=m)},[]),l=rn(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const f=n.current;f&&s(f)}))},[s]),u=rn(function(f){n.current=null;const m=document.activeElement;m&&m.getAttribute(tm.draggableId)===f&&(n.current=f)},[]);return ea(()=>(i.current=!0,function(){i.current=!1;const f=r.current;f&&cancelAnimationFrame(f)}),[]),lr(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:l,tryShiftRecord:a}),[o,u,l,a])}function h3e(){const e={draggables:{},droppables:{}},t=[];function n(d){return t.push(d),function(){const m=t.indexOf(d);m!==-1&&t.splice(m,1)}}function r(d){t.length&&t.forEach(f=>f(d))}function i(d){return e.draggables[d]||null}function o(d){const f=i(d);return f||Nt(),f}const s={register:d=>{e.draggables[d.descriptor.id]=d,r({type:"ADDITION",value:d})},update:(d,f)=>{const m=e.draggables[f.descriptor.id];m&&m.uniqueId===d.uniqueId&&(delete e.draggables[f.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:d=>{const f=d.descriptor.id,m=i(f);m&&d.uniqueId===m.uniqueId&&(delete e.draggables[f],e.droppables[d.descriptor.droppableId]&&r({type:"REMOVAL",value:d}))},getById:o,findById:i,exists:d=>!!i(d),getAllByType:d=>Object.values(e.draggables).filter(f=>f.descriptor.type===d)};function a(d){return e.droppables[d]||null}function l(d){const f=a(d);return f||Nt(),f}const u={register:d=>{e.droppables[d.descriptor.id]=d},unregister:d=>{const f=a(d.descriptor.id);f&&d.uniqueId===f.uniqueId&&delete e.droppables[d.descriptor.id]},getById:l,findById:a,exists:d=>!!a(d),getAllByType:d=>Object.values(e.droppables).filter(f=>f.descriptor.type===d)};function c(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:n,clean:c}}function m3e(){const e=lr(h3e,[]);return R.useEffect(()=>function(){e.clean()},[e]),e}var tk=En.createContext(null),dx=()=>{const e=document.body;return e||Nt(),e};const g3e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},y3e=e=>`rfd-announcement-${e}`;function v3e(e){const t=lr(()=>y3e(e),[e]),n=R.useRef(null);return R.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ax(o.style,g3e),dx().appendChild(o),function(){setTimeout(function(){const l=dx();l.contains(o)&&l.removeChild(o),o===n.current&&(n.current=null)})}},[t]),rn(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const b3e={separator:"::"};function nk(e,t=b3e){const n=En.useId();return lr(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function _3e({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function S3e({contextId:e,text:t}){const n=nk("hidden-text",{separator:"-"}),r=lr(()=>_3e({contextId:e,uniqueId:n}),[n,e]);return R.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",dx().appendChild(o),function(){const a=dx();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var bT=En.createContext(null);function FX(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),t}function x3e(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Nt();const a={abandon:s};return e=a,a}function i(){e||Nt(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function wv(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const w3e=9,T3e=13,rk=27,zX=32,E3e=33,A3e=34,C3e=35,O3e=36,D3e=37,P3e=38,R3e=39,I3e=40,k3e={[T3e]:!0,[w3e]:!0};var VX=e=>{k3e[e.keyCode]&&e.preventDefault()};const _T=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),qX=0,PB=5;function N3e(e,t){return Math.abs(t.x-e.x)>=PB||Math.abs(t.y-e.y)>=PB}const RB={type:"IDLE"};function M3e({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==qX)return;const l={x:s,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(l);return}u.type!=="PENDING"&&Nt();const c=u.point;if(!N3e(c,l))return;i.preventDefault();const d=u.actions.fluidLift(l);r({type:"DRAGGING",actions:d})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===rk){i.preventDefault(),e();return}VX(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&Nt(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:_T,fn:e}]}function j3e(e){const t=R.useRef(RB),n=R.useRef(Hc),r=lr(()=>({eventName:"mousedown",fn:function(d){if(d.defaultPrevented||d.button!==qX||d.ctrlKey||d.metaKey||d.shiftKey||d.altKey)return;const f=e.findClosestDraggableId(d);if(!f)return;const m=e.tryGetLock(f,s,{sourceEvent:d});if(!m)return;d.preventDefault();const h={x:d.clientX,y:d.clientY};n.current(),u(m,h)}}),[e]),i=lr(()=>({eventName:"webkitmouseforcewillbegin",fn:c=>{if(c.defaultPrevented)return;const d=e.findClosestDraggableId(c);if(!d)return;const f=e.findOptionsForDraggable(d);f&&(f.shouldRespectForcePress||e.canGetLock(d)&&c.preventDefault())}}),[e]),o=rn(function(){const d={passive:!1,capture:!0};n.current=Ca(window,[i,r],d)},[i,r]),s=rn(()=>{t.current.type!=="IDLE"&&(t.current=RB,n.current(),o())},[o]),a=rn(()=>{const c=t.current;s(),c.type==="DRAGGING"&&c.actions.cancel({shouldBlockNextClick:!0}),c.type==="PENDING"&&c.actions.abort()},[s]),l=rn(function(){const d={capture:!0,passive:!1},f=M3e({cancel:a,completed:s,getPhase:()=>t.current,setPhase:m=>{t.current=m}});n.current=Ca(window,f,d)},[a,s]),u=rn(function(d,f){t.current.type!=="IDLE"&&Nt(),t.current={type:"PENDING",point:f,actions:d},l()},[l]);ea(function(){return o(),function(){n.current()}},[o])}function L3e(){}const $3e={[A3e]:!0,[E3e]:!0,[O3e]:!0,[C3e]:!0};function B3e(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===rk){i.preventDefault(),n();return}if(i.keyCode===zX){i.preventDefault(),r();return}if(i.keyCode===I3e){i.preventDefault(),e.moveDown();return}if(i.keyCode===P3e){i.preventDefault(),e.moveUp();return}if(i.keyCode===R3e){i.preventDefault(),e.moveRight();return}if(i.keyCode===D3e){i.preventDefault(),e.moveLeft();return}if($3e[i.keyCode]){i.preventDefault();return}VX(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:_T,fn:n}]}function U3e(e){const t=R.useRef(L3e),n=lr(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==zX)return;const s=e.findClosestDraggableId(o);if(!s)return;const a=e.tryGetLock(s,c,{sourceEvent:o});if(!a)return;o.preventDefault();let l=!0;const u=a.snapLift();t.current();function c(){l||Nt(),l=!1,t.current(),r()}t.current=Ca(window,B3e(u,c),{capture:!0,passive:!1})}}),[e]),r=rn(function(){const o={passive:!1,capture:!0};t.current=Ca(window,[n],o)},[n]);ea(function(){return r(),function(){t.current()}},[r])}const QE={type:"IDLE"},F3e=120,z3e=.15;function V3e({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===rk&&n.preventDefault(),e()}},{eventName:_T,fn:e}]}function q3e({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Nt();const o=r.touches[0];if(!o||!(o.force>=z3e))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:_T,fn:e}]}function H3e(e){const t=R.useRef(QE),n=R.useRef(Hc),r=rn(function(){return t.current},[]),i=rn(function(m){t.current=m},[]),o=lr(()=>({eventName:"touchstart",fn:function(m){if(m.defaultPrevented)return;const h=e.findClosestDraggableId(m);if(!h)return;const g=e.tryGetLock(h,a,{sourceEvent:m});if(!g)return;const S=m.touches[0],{clientX:y,clientY:v}=S,b={x:y,y:v};n.current(),d(g,b)}}),[e]),s=rn(function(){const m={capture:!0,passive:!1};n.current=Ca(window,[o],m)},[o]),a=rn(()=>{const f=t.current;f.type!=="IDLE"&&(f.type==="PENDING"&&clearTimeout(f.longPressTimerId),i(QE),n.current(),s())},[s,i]),l=rn(()=>{const f=t.current;a(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[a]),u=rn(function(){const m={capture:!0,passive:!1},h={cancel:l,completed:a,getPhase:r},g=Ca(window,q3e(h),m),S=Ca(window,V3e(h),m);n.current=function(){g(),S()}},[l,r,a]),c=rn(function(){const m=r();m.type!=="PENDING"&&Nt();const h=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:h,hasMoved:!1})},[r,i]),d=rn(function(m,h){r().type!=="IDLE"&&Nt();const g=setTimeout(c,F3e);i({type:"PENDING",point:h,actions:m,longPressTimerId:g}),u()},[u,r,i,c]);ea(function(){return s(),function(){n.current();const h=r();h.type==="PENDING"&&(clearTimeout(h.longPressTimerId),i(QE))}},[r,s,i]),ea(function(){return Ca(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const G3e=["input","button","textarea","select","option","optgroup","video","audio"];function HX(e,t){if(t==null)return!1;if(G3e.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:HX(e,t.parentElement)}function W3e(e,t){const n=t.target;return vT(n)?HX(e,n):!1}var Y3e=e=>nl(e.getBoundingClientRect()).center;function K3e(e){return e instanceof UX(e).Element}const X3e=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function GX(e,t){return e==null?null:e[X3e](t)?e:GX(e.parentElement,t)}function Z3e(e,t){return e.closest?e.closest(t):GX(e,t)}function Q3e(e){return`[${tm.contextId}="${e}"]`}function J3e(e,t){const n=t.target;if(!K3e(n))return null;const r=Q3e(e),i=Z3e(n,r);return!i||!vT(i)?null:i}function eLe(e,t){const n=J3e(e,t);return n?n.getAttribute(tm.draggableId):null}function tLe(e,t){const n=`[${iO.contextId}="${e}"]`,i=BX(document,n).find(o=>o.getAttribute(iO.id)===t);return!i||!vT(i)?null:i}function nLe(e){e.preventDefault()}function N0({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function WX({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!MX(t.getState(),r))}function rLe({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!WX({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const l=r.draggable.getById(i),u=tLe(t,l.descriptor.id);if(!u||s&&!l.options.canDragInteractiveElements&&W3e(u,s))return null;const c=e.claim(o||Hc);let d="PRE_DRAG";function f(){return l.options.shouldRespectForcePress}function m(){return e.isActive(c)}function h(x,T){N0({expected:x,phase:d,isLockActive:m,shouldWarn:!0})&&n.dispatch(T())}const g=h.bind(null,"DRAGGING");function S(x){function T(){e.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(T(),Nt()),n.dispatch(ZMe(x.liftActionArgs)),d="DRAGGING";function w(E,C={shouldBlockNextClick:!1}){if(x.cleanup(),C.shouldBlockNextClick){const D=Ca(window,[{eventName:"click",fn:nLe,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(D)}T(),n.dispatch(CX({reason:E}))}return{isActive:()=>N0({expected:"DRAGGING",phase:d,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,drop:E=>w("DROP",E),cancel:E=>w("CANCEL",E),...x.actions}}function y(x){const T=yv(E=>{g(()=>AX({client:E}))});return{...S({liftActionArgs:{id:i,clientSelection:x,movementMode:"FLUID"},cleanup:()=>T.cancel(),actions:{move:T}}),move:T}}function v(){const x={moveUp:()=>g(sje),moveRight:()=>g(lje),moveDown:()=>g(aje),moveLeft:()=>g(uje)};return S({liftActionArgs:{id:i,clientSelection:Y3e(u),movementMode:"SNAP"},cleanup:Hc,actions:x})}function b(){N0({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!0})&&e.release()}return{isActive:()=>N0({expected:"PRE_DRAG",phase:d,isLockActive:m,shouldWarn:!1}),shouldRespectForcePress:f,fluidLift:y,snapLift:v,abort:b}}const iLe=[j3e,U3e,H3e];function oLe({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?iLe:[],...r||[]],s=R.useState(()=>x3e())[0],a=rn(function(S,y){wv(S)&&!wv(y)&&s.tryAbandon()},[s]);ea(function(){let S=t.getState();return t.subscribe(()=>{const v=t.getState();a(S,v),S=v})},[s,t,a]),ea(()=>s.tryAbandon,[s.tryAbandon]);const l=rn(g=>WX({lockAPI:s,registry:n,store:t,draggableId:g}),[s,n,t]),u=rn((g,S,y)=>rLe({lockAPI:s,registry:n,contextId:e,store:t,draggableId:g,forceSensorStop:S||null,sourceEvent:y&&y.sourceEvent?y.sourceEvent:null}),[e,s,n,t]),c=rn(g=>eLe(e,g),[e]),d=rn(g=>{const S=n.draggable.findById(g);return S?S.options:null},[n.draggable]),f=rn(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(YI()))},[s,t]),m=rn(()=>s.isClaimed(),[s]),h=lr(()=>({canGetLock:l,tryGetLock:u,findClosestDraggableId:c,findOptionsForDraggable:d,tryReleaseLock:f,isLockClaimed:m}),[l,u,c,d,f,m]);for(let g=0;g<o.length;g++)o[g](h)}const sLe=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Hs.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),aLe=e=>({...xv,...e.autoScrollerOptions,durationDampening:{...xv.durationDampening,...e.autoScrollerOptions}});function Cg(e){return e.current||Nt(),e.current}function lLe(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=R.useRef(null),a=FX(e),l=rn(()=>sLe(a.current),[a]),u=rn(()=>aLe(a.current),[a]),c=v3e(t),d=S3e({contextId:t,text:o}),f=d3e(t,i),m=rn(D=>{Cg(s).dispatch(D)},[]),h=lr(()=>RM({publishWhileDragging:JMe,updateDroppableScroll:tje,updateDroppableIsEnabled:nje,updateDroppableIsCombineEnabled:rje,collectionStarting:eje},m),[m]),g=m3e(),S=lr(()=>Vje(g,h),[g,h]),y=lr(()=>s3e({scrollWindow:qje,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:u,...RM({move:AX},m)}),[S.scrollDroppable,m,u]),v=p3e(t),b=lr(()=>Bje({announce:c,autoScroller:y,dimensionMarshal:S,focusMarshal:v,getResponders:l,styleMarshal:f}),[c,y,S,v,l,f]);s.current=b;const _=rn(()=>{const D=Cg(s);D.getState().phase!=="IDLE"&&D.dispatch(YI())},[]),x=rn(()=>{const D=Cg(s).getState();return D.phase==="DROP_ANIMATING"?!0:D.phase==="IDLE"?!1:D.isDragging},[]),T=lr(()=>({isDragging:x,tryAbort:_}),[x,_]);n(T);const w=rn(D=>MX(Cg(s).getState(),D),[]),E=rn(()=>Od(Cg(s).getState()),[]),C=lr(()=>({marshal:S,focus:v,contextId:t,canLift:w,isMovementAllowed:E,dragHandleUsageInstructionsId:d,registry:g}),[t,S,d,v,w,E,g]);return oLe({contextId:t,store:b,registry:g,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),R.useEffect(()=>_,[_]),En.createElement(bT.Provider,{value:C},En.createElement(PU,{context:tk,store:b},e.children))}function uLe(){return En.useId()}function cLe(e){const t=uLe(),n=e.dragHandleUsageInstructions||b_.dragHandleUsageInstructions;return En.createElement(UNe,null,r=>En.createElement(lLe,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const IB={dragging:5e3,dropAnimating:4500},dLe=(e,t)=>t?wy.drop(t.duration):e?wy.snap:wy.fluid,fLe=(e,t)=>{if(e)return t?Sv.opacity.drop:Sv.opacity.combining},pLe=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function hLe(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,a=pLe(e),l=!!o,u=l?nO.drop(r,s):nO.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:dLe(a,o),transform:u,opacity:fLe(s,l),zIndex:l?IB.dropAnimating:IB.dragging,pointerEvents:"none"}}function mLe(e){return{transform:nO.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function gLe(e){return e.type==="DRAGGING"?hLe(e):mLe(e)}function yLe(e,t,n=wo){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=eX(i,r),s=sx(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},l={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:l,client:o,page:s}}function vLe(e){const t=nk("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=e,l=lr(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),u=rn(m=>{const h=i();return h||Nt(),yLe(n,h,m)},[n,i]),c=lr(()=>({uniqueId:t,descriptor:n,options:l,getDimension:u}),[n,u,l,t]),d=R.useRef(c),f=R.useRef(!0);ea(()=>(r.draggable.register(d.current),()=>r.draggable.unregister(d.current)),[r.draggable]),ea(()=>{if(f.current){f.current=!1;return}const m=d.current;d.current=c,r.draggable.update(c,m)},[c,r.draggable])}var ik=En.createContext(null);function fx(e){const t=R.useContext(e);return t||Nt(),t}function bLe(e){e.preventDefault()}const _Le=e=>{const t=R.useRef(null),n=rn((T=null)=>{t.current=T},[]),r=rn(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=fx(bT),{type:a,droppableId:l}=fx(ik),u=lr(()=>({id:e.draggableId,index:e.index,type:a,droppableId:l}),[e.draggableId,e.index,a,l]),{children:c,draggableId:d,isEnabled:f,shouldRespectForcePress:m,canDragInteractiveElements:h,isClone:g,mapped:S,dropAnimationFinished:y}=e;if(!g){const T=lr(()=>({descriptor:u,registry:s,getDraggableRef:r,canDragInteractiveElements:h,shouldRespectForcePress:m,isEnabled:f}),[u,s,r,h,m,f]);vLe(T)}const v=lr(()=>f?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":d,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:bLe}:null,[i,o,d,f]),b=rn(T=>{S.type==="DRAGGING"&&S.dropping&&T.propertyName==="transform"&&Hs.flushSync(y)},[y,S]),_=lr(()=>{const T=gLe(S),w=S.type==="DRAGGING"&&S.dropping?b:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":d,style:T,onTransitionEnd:w},dragHandleProps:v}},[i,v,d,S,b,n]),x=lr(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return En.createElement(En.Fragment,null,c(_,S.snapshot,x))};var YX=(e,t)=>e===t,KX=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const SLe=e=>e.combine?e.combine.draggableId:null,xLe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function wLe(){const e=So((i,o)=>({x:i,y:o})),t=So((i,o,s=null,a=null,l=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!l,dropAnimation:l,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=So((i,o,s,a,l=null,u=null,c=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:l,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:c,snapshot:t(o,a,l,u,null)}}));return(i,o)=>{if(wv(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],l=Js(i.impact),u=xLe(i.impact),c=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,a,o.isClone,l,u,c)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,l=i.dimensions.draggables[o.draggableId],u=s.result,c=u.mode,d=KX(u),f=SLe(u),h={duration:i.dropDuration,curve:XI.drop,moveTo:i.newHomeClientOffset,opacity:f?Sv.opacity.drop:null,scale:f?Sv.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:l,dropping:h,draggingOver:d,combineWith:f,mode:c,forceShouldAnimate:null,snapshot:t(c,a,d,f,h)}}}return null}}function XX(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const TLe={mapped:{type:"SECONDARY",offset:wo,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:XX(null)}};function ELe(){const e=So((s,a)=>({x:s,y:a})),t=So(XX),n=So((s,a=null,l)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:l,snapshot:t(a)}})),r=s=>s?n(wo,s,!0):null,i=(s,a,l,u)=>{const c=l.displaced.visible[s],d=!!(u.inVirtualList&&u.effected[s]),f=mT(l),m=f&&f.draggableId===s?a:null;if(!c){if(!d)return r(m);if(l.displaced.invisible[s])return null;const S=Mm(u.displacedBy.point),y=e(S.x,S.y);return n(y,m,!0)}if(d)return r(m);const h=l.displacedBy.point,g=e(h.x,h.y);return n(g,m,c.shouldAnimate)};return(s,a)=>{if(wv(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const l=s.completed;return l.result.draggableId===a.draggableId?null:i(a.draggableId,l.result.draggableId,l.impact,l.afterCritical)}return null}}const ALe=()=>{const e=wLe(),t=ELe();return(r,i)=>e(r,i)||t(r,i)||TLe},CLe={dropAnimationFinished:OX},OLe=DU(ALe,CLe,null,{context:tk,areStatePropsEqual:YX})(_Le);function ZX(e){return fx(ik).isUsingCloneFor===e.draggableId&&!e.isClone?null:En.createElement(OLe,e)}function DLe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return En.createElement(ZX,ax({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const QX=e=>t=>e===t,PLe=QX("scroll"),RLe=QX("auto"),kB=(e,t)=>t(e.overflowX)||t(e.overflowY),ILe=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return kB(n,PLe)||kB(n,RLe)},kLe=()=>!1,JX=e=>e==null?null:e===document.body?kLe()?e:null:e===document.documentElement?null:ILe(e)?e:JX(e.parentElement);var oO=e=>({x:e.scrollLeft,y:e.scrollTop});const eZ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:eZ(e.parentElement):!1;var NLe=e=>{const t=JX(e),n=eZ(e);return{closestScrollable:t,isFixedOnPage:n}},MLe=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const l=(()=>{if(!a)return null;const{scrollSize:f,client:m}=a,h=IX({scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth,height:m.paddingBox.height,width:m.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:m,scrollSize:f,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:h,diff:{value:wo,displacement:wo}}}})(),u=i==="vertical"?VI:dX,c=Jh({page:s,withPlaceholder:null,axis:u,frame:l});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:s,frame:l,subject:c}};const jLe=(e,t)=>{const n=tX(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,l=BI({top:r,right:s,bottom:o,left:i},n.border);return UI({borderBox:l,margin:n.margin,border:n.border,padding:n.padding})};var LLe=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const l=n.closestScrollable,u=jLe(e,l),c=sx(u,r),d=(()=>{if(!l)return null;const m=tX(l),h={scrollHeight:l.scrollHeight,scrollWidth:l.scrollWidth};return{client:m,page:sx(m,r),scroll:oO(l),scrollSize:h,shouldClipSubject:a}})();return MLe({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:c,closest:d})};const $Le={passive:!1},BLe={passive:!0};var NB=e=>e.shouldPublishImmediately?$Le:BLe;const M0=e=>e&&e.env.closestScrollable||null;function ULe(e){const t=R.useRef(null),n=fx(bT),r=nk("droppable"),{registry:i,marshal:o}=n,s=FX(e),a=lr(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),l=R.useRef(a),u=lr(()=>So((_,x)=>{t.current||Nt();const T={x:_,y:x};o.updateDroppableScroll(a.id,T)}),[a.id,o]),c=rn(()=>{const _=t.current;return!_||!_.env.closestScrollable?wo:oO(_.env.closestScrollable)},[]),d=rn(()=>{const _=c();u(_.x,_.y)},[c,u]),f=lr(()=>yv(d),[d]),m=rn(()=>{const _=t.current,x=M0(_);if(_&&x||Nt(),_.scrollOptions.shouldPublishImmediately){d();return}f()},[f,d]),h=rn((_,x)=>{t.current&&Nt();const T=s.current,w=T.getDroppableRef();w||Nt();const E=NLe(w),C={ref:w,descriptor:a,env:E,scrollOptions:x};t.current=C;const D=LLe({ref:w,descriptor:a,env:E,windowScroll:_,direction:T.direction,isDropDisabled:T.isDropDisabled,isCombineEnabled:T.isCombineEnabled,shouldClipSubject:!T.ignoreContainerClipping}),O=E.closestScrollable;return O&&(O.setAttribute(OB.contextId,n.contextId),O.addEventListener("scroll",m,NB(C.scrollOptions))),D},[n.contextId,a,m,s]),g=rn(()=>{const _=t.current,x=M0(_);return _&&x||Nt(),oO(x)},[]),S=rn(()=>{const _=t.current;_||Nt();const x=M0(_);t.current=null,x&&(f.cancel(),x.removeAttribute(OB.contextId),x.removeEventListener("scroll",m,NB(_.scrollOptions)))},[m,f]),y=rn(_=>{const x=t.current;x||Nt();const T=M0(x);T||Nt(),T.scrollTop+=_.y,T.scrollLeft+=_.x},[]),v=lr(()=>({getDimensionAndWatchScroll:h,getScrollWhileDragging:g,dragStopped:S,scroll:y}),[S,h,g,y]),b=lr(()=>({uniqueId:r,descriptor:a,callbacks:v}),[v,a,r]);ea(()=>(l.current=b.descriptor,i.droppable.register(b),()=>{t.current&&S(),i.droppable.unregister(b)}),[v,a,S,b,o,i.droppable]),ea(()=>{t.current&&o.updateDroppableIsEnabled(l.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),ea(()=>{t.current&&o.updateDroppableIsCombineEnabled(l.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function JE(){}const MB={width:0,height:0,margin:WNe},FLe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?MB:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},zLe=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=FLe({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?wy.placeholder:null}},VLe=e=>{const t=R.useRef(null),n=rn(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[a,l]=R.useState(e.animate==="open");R.useEffect(()=>a?r!=="open"?(n(),l(!1),JE):t.current?JE:(t.current=setTimeout(()=>{t.current=null,l(!1)}),n):JE,[r,a,n]);const u=rn(d=>{d.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),c=zLe({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return En.createElement(e.placeholder.tagName,{style:c,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})};var qLe=En.memo(VLe);class HLe extends En.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const GLe=e=>{const t=R.useContext(bT);t||Nt();const{contextId:n,isMovementAllowed:r}=t,i=R.useRef(null),o=R.useRef(null),{children:s,droppableId:a,type:l,mode:u,direction:c,ignoreContainerClipping:d,isDropDisabled:f,isCombineEnabled:m,snapshot:h,useClone:g,updateViewportMaxScroll:S,getContainerForClone:y}=e,v=rn(()=>i.current,[]),b=rn((O=null)=>{i.current=O},[]);rn(()=>o.current,[]);const _=rn((O=null)=>{o.current=O},[]),x=rn(()=>{r()&&S({maxScroll:NX()})},[r,S]);ULe({droppableId:a,type:l,mode:u,direction:c,isDropDisabled:f,isCombineEnabled:m,ignoreContainerClipping:d,getDroppableRef:v});const T=lr(()=>En.createElement(HLe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:O,data:I,animate:k})=>En.createElement(qLe,{placeholder:I,onClose:O,innerRef:_,animate:k,contextId:n,onTransitionEnd:x})),[n,x,e.placeholder,e.shouldAnimatePlaceholder,_]),w=lr(()=>({innerRef:b,placeholder:T,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,T,b]),E=g?g.dragging.draggableId:null,C=lr(()=>({droppableId:a,type:l,isUsingCloneFor:E}),[a,E,l]);function D(){if(!g)return null;const{dragging:O,render:I}=g,k=En.createElement(ZX,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(B,q)=>I(B,q,O));return fO.createPortal(k,y())}return En.createElement(ik.Provider,{value:C},s(w,h),D())};function WLe(){return document.body||Nt(),document.body}const jB={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:WLe},tZ=e=>{let t={...e},n;for(n in jB)e[n]===void 0&&(t={...t,[n]:jB[n]});return t},e2=(e,t)=>e===t.droppable.type,LB=(e,t)=>t.draggables[e.draggable.id],YLe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=So(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=So((o,s,a,l,u,c)=>{const d=u.descriptor.id;if(u.descriptor.droppableId===o){const h=c?{render:c,dragging:n(u.descriptor)}:null,g={isDraggingOver:a,draggingOverWith:a?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:g,useClone:h}}if(!s)return t;if(!l)return e;const m={isDraggingOver:a,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(o,s)=>{const a=tZ(s),l=a.droppableId,u=a.type,c=!a.isDropDisabled,d=a.renderClone;if(wv(o)){const f=o.critical;if(!e2(u,f))return t;const m=LB(f,o.dimensions),h=Js(o.impact)===l;return r(l,c,h,h,m,d)}if(o.phase==="DROP_ANIMATING"){const f=o.completed;if(!e2(u,f.critical))return t;const m=LB(f.critical,o.dimensions);return r(l,c,KX(f.result)===l,Js(f.impact)===l,m,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const f=o.completed;if(!e2(u,f.critical))return t;const m=Js(f.impact)===l,h=!!(f.impact.at&&f.impact.at.type==="COMBINE"),g=f.critical.droppable.id===l;return m?h?e:t:g?e:t}return t}},KLe={updateViewportMaxScroll:oje},XLe=DU(YLe,KLe,(e,t,n)=>({...tZ(n),...e,...t}),{context:tk,areStatePropsEqual:YX})(GLe),ZLe=e=>{if(e.length<=1)return e;let t=YM(e),n=1;for(;n<5&&t.toString()===e.toString();)n++,t=YM(e);return t},QLe=e=>{const t=vr(),n=()=>e.showMarking?e.isCorrect?U.jsx(nv,{id:e.uniqueId,isCorrect:!0}):U.jsx("div",{"data-testid":`${e.uniqueId}-marking`,className:Pt(iy.root,iy.size("1"),Bt.isIncorrect),"aria-label":`${t("incorrectIconAriaLabel")}. ${t("sortingIncorrectPositionAria",{position:`${e.correctPosition}`})}`,children:U.jsx("span",{className:iy.text,"aria-hidden":!0,children:e.correctPosition})}):U.jsx(nv,{id:e.uniqueId,isHidden:!0});return U.jsx(DLe,{draggableId:e.uniqueId,index:e.index,isDragDisabled:e.isDisabled,children:(r,{isDragging:i})=>{var a;const{role:o,...s}=r.dragHandleProps??{};return U.jsxs("li",{className:Pt("ev-focus-visible",va.item,{[Bt.isDragging]:i,[Bt.isDisabled]:e.isDisabled}),ref:r.innerRef,...r.draggableProps,...s,"aria-describedby":e.ariaInstructionId,children:[U.jsx("div",{className:va.itemDragIconContainer,children:U.jsx(_q,{})}),U.jsxs("div",{className:va.itemContent,children:[((a=e.media)==null?void 0:a.src)&&U.jsx("div",{className:va.itemMedia,children:U.jsx(Ua,{media:e.media,altText:e.altText,style:e.imageSize?{...e.imageSize}:{}})}),U.jsx("span",{className:Pt(Bt.label,e.labelClass),dangerouslySetInnerHTML:{__html:e.label}}),U.jsx("span",{className:Bt.visuallyHidden,children:t("sortingCurrentPositionAria",{position:e.index+1})})]}),n()]})}})},JLe={submitted:!1,attempt:1,response:wt.None,answers:[]},e$e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,variables:o,props:s}=e,a=mm(),l=jr(),u=vr(),c=R.useRef(null),d=R.useRef(null),f=ii("--ev-sorting-item-label"),m=ii("--ev-button-label"),[h,g]=R.useState([]),{completed:S,setElementViewed:y,setElementStarted:v,setElementCompleted:b}=Eo(n),[{submitted:_,response:x,attempt:T,items:w,answers:E}]=ca(n,JLe);R.useEffect(()=>{const k=w||ZLe(s.items.map(({id:q})=>q));w||a(tl({elementRefId:n,state:{items:k}}));const B=E.length?E:k;g([...s.items].sort((q,H)=>B.indexOf(q.id)-B.indexOf(H.id)))},[n,s.items,w,E,a]);const C=()=>h.every(({id:k},B)=>{var q;return k===((q=s.items[B])==null?void 0:q.id)})?wt.Correct:h.some(({id:k},B)=>{var q;return k===((q=s.items[B])==null?void 0:q.id)})?wt.PartlyCorrect:wt.Incorrect,D=(k,B)=>{v(),g(q=>kNe(q,k,B)),_&&I()},O=()=>{var B;if(_)return;const k={submitted:!0,response:C(),answers:h.map(({id:q})=>q)};a(tl({elementRefId:n,state:k})),(B=d.current)==null||B.focus(),(k.response===wt.Correct||!s.allowInfiniteAttempts&&T===s.allowedAttempts)&&b()},I=k=>{var q;const B={response:wt.None,attempt:T+1,submitted:!1,answers:[]};a(tl({elementRefId:n,state:B})),k&&((q=c.current)==null||q.focus())};return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:y,isReady:!0,children:U.jsxs(Fi,{className:va.widget,children:[U.jsx(Qi,{className:va.question,content:s.questionText}),U.jsx("div",{id:`${n}-aria-instruction`,className:Bt.visuallyHidden,"aria-hidden":!0,children:u("sortingInstructionAria")}),U.jsxs("div",{className:va.container,tabIndex:-1,ref:c,onKeyDown:k=>MR(k)&&O(),children:[U.jsx("div",{className:va.numbersContainer,"aria-hidden":!0,children:h.map((k,B)=>U.jsx("div",{className:va.numberContainer,children:U.jsx("div",{className:va.number,children:B+1})},B))}),U.jsx(cLe,{onDragStart:({source:k},{announce:B})=>B(u("sortingDragStartAria",{position:k.index+1})),onDragUpdate:({source:k,destination:B},{announce:q})=>B?q(u("sortingDragUpdateAria",{position:k.index+1,newPosition:B.index+1})):null,onDragEnd:({source:k,destination:B,reason:q},{announce:H})=>{const z=q==="CANCEL",ne=k.index+1;if(z||!B)return H(u("sortingDragCancelledAria",{position:ne}));if(k.index===B.index)return H(u("sortingDragEndNotMovedAria",{position:ne}));H(u("sortingDragEndMovedAria",{position:ne,newPosition:B.index+1})),D(k.index,B.index)},children:U.jsx(XLe,{droppableId:`${n}-drop`,children:k=>U.jsxs("ul",{className:va.itemsContainer,ref:k.innerRef,...k.droppableProps,children:[h.map((B,q)=>{var H;return U.jsx(QLe,{uniqueId:`${n}-${B.id}`,ariaInstructionId:`${n}-aria-instruction`,index:q,label:l.plain(B.label),labelClass:o["--ev-sorting-item-label"]??f,media:s.hasAnswerImages?B.media:null,altText:l.plain(B.altText),imageSize:s.itemImageSize,isDisabled:S,showMarking:S&&!!E.length,isCorrect:S&&B.id===((H=s.items[q])==null?void 0:H.id),correctPosition:S?s.items.findIndex(({id:z})=>z===B.id)+1:null},B.id)}),k.placeholder]})})})]}),U.jsxs(qf,{children:[U.jsx(Ff,{ref:d,response:x,feedback:s.feedback,isFinalAttempt:S}),!S&&U.jsxs(U.Fragment,{children:[U.jsx(_i,{className:Bt.button,onClick:k=>x===wt.None?O():I(k),children:U.jsx("span",{className:Pt(Bt.label,m),children:u(x===wt.None?"questionSubmit":"questionReset")})}),s.showAttempts&&U.jsx(sw,{className:va.attempts,attempt:T,maxAttempts:s.allowedAttempts,allowInfiniteAttempts:s.allowInfiniteAttempts})]})]})]})})},t$e=({uniqueId:e,content:t,isSelected:n})=>U.jsx("div",{id:`${e}-content`,className:t_.itemContent,role:"tabpanel","aria-labelledby":`${e}-tab-button`,hidden:!n,children:U.jsx(Qi,{content:t})}),n$e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:{items:o},variables:s}=e,{completed:a,setElementViewed:l,setElementCompleted:u,setElementStarted:c}=Eo(n),[{viewed:d,selected:f},m]=ca(n,()=>{var E;const w=(E=o[0])==null?void 0:E.id;return{viewed:w?[w]:[],selected:w}}),h=jr(),g=ii("--ev-tabs-item-button-label"),S=R.useRef([]);S.current=o.map(()=>R.createRef());const y=()=>{var w,E;return(E=(w=S.current[0])==null?void 0:w.current)==null?void 0:E.focus()},v=()=>{var w,E;return(E=(w=S.current[o.length-1])==null?void 0:w.current)==null?void 0:E.focus()},b=w=>{var C;if(w===0){v();return}const E=S.current[w-1];(C=E==null?void 0:E.current)==null||C.focus()},_=w=>{var C;if(w===o.length-1){y();return}const E=S.current[w+1];(C=E==null?void 0:E.current)==null||C.focus()},x=(w,E)=>{let C=!1;switch(w.key){case"ArrowLeft":b(E);break;case"ArrowRight":_(E);break;case"Home":y(),C=!0;break;case"End":v(),C=!0;break}C&&(w.preventDefault(),w.stopPropagation())},T=w=>{if(f===w)return;c();let E=a||d.includes(w)?d:[...d,w];!a&&E.length===o.length&&(E=Array(o.length).fill("*")),m({viewed:E,selected:w})};return R.useEffect(()=>{d.length<o.length||u()},[d.length,o.length,u]),U.jsx(To,{elementId:t,variant:r,card:i,onVisible:l,isReady:!0,children:U.jsxs(Fi,{children:[U.jsx("div",{className:t_.buttonsContainer,role:"tablist",children:o.map((w,E)=>{const C=`${n}-${w.id}`,D=w.id===f;return U.jsx(_i,{ref:S.current[E],className:Pt("ev-focus-visible:inset",t_.itemButton,{[Bt.isSelected]:D}),id:`${C}-tab-button`,role:"tab","aria-selected":D,"aria-controls":`${C}-content`,tabIndex:D?0:-1,onKeyDown:O=>x(O,E),onClick:()=>T(w.id),children:U.jsx("span",{className:Pt(Bt.label,t_.itemButtonLabel,s["--ev-tabs-item-button-label"]||g),dangerouslySetInnerHTML:{__html:h.plain(w.label)}})},w.id)})}),o.map(w=>U.jsx(t$e,{uniqueId:`${n}-${w.id}`,title:h.plain(w.label),content:w.content,isSelected:w.id===f},w.id))]})})},r$e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,props:o}=e,{setElementCompleted:s}=Eo(n);return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:s,isReady:!0,children:U.jsx(Fi,{children:U.jsx(Qi,{content:o.text})})})},i$e={answer:"",response:wt.None},o$e=({element:e})=>{const{_id:t,refId:n,variant:r,card:i,variables:o,props:s}=e,a=Sm(),l=ua(),u=vr(),c=jr(),d=R.useRef(null),f=R.useRef(null),m=ii("--ev-textinput-input-text-style"),h=Pt(k1.input,o["--ev-textinput-input-text-style"]||m),g=ii("--ev-button-label"),{setElementViewed:S,setElementStarted:y,setElementCompleted:v}=Eo(n),[{answer:b,response:_},x]=ca(n,i$e),T=()=>{var I;return x({answer:((I=f.current)==null?void 0:I.value)??""})},w=()=>{var I;x({response:wt.Neutral}),C(),v(),(I=d.current)==null||I.focus()},E=()=>{x({response:wt.None}),f.current&&(f.current.disabled=!1,f.current.focus())},C=()=>{var ue;const{isEnabled:I,target:k,saveType:B}=s.saveToVariable;if(!I||!k)return;const q=a.getState(),H=Tc(q,k);if((H==null?void 0:H.type)!=="string")return;const z=((ue=f.current)==null?void 0:ue.value)??"";if(B==="replace")return l(Iu(H,z));const ne=$I(q,k)??"";l(Iu(H,ne+z))},D=()=>_===wt.None?U.jsx(_i,{className:Bt.button,onClick:w,children:U.jsx("span",{className:Pt(Bt.label,g),children:u("questionSubmit")})}):null,O=()=>_===wt.Neutral&&s.allowEditing?U.jsx(_i,{className:Bt.button,onClick:E,children:U.jsx("span",{className:Pt(Bt.label,g),children:u("ungradedReset")})}):null;return U.jsx(To,{elementId:t,variant:r,card:i,onVisible:S,isReady:!0,children:U.jsx(Fi,{children:U.jsxs("div",{className:k1.container,children:[U.jsxs("fieldset",{children:[U.jsx(Qi,{className:k1.question,content:s.questionText,tag:"legend"}),s.responseLength==="short"?U.jsx("input",{ref:f,className:h,type:"text",placeholder:c.plain(s.placeholderText),disabled:_===wt.Neutral,defaultValue:b,onFocus:y,onBlur:T}):U.jsx("textarea",{ref:f,className:h,placeholder:c.plain(s.placeholderText),rows:3,disabled:_===wt.Neutral,defaultValue:b,onFocus:y,onBlur:T})]}),U.jsxs(qf,{children:[U.jsx(Ff,{ref:d,response:_,feedback:s.feedback,isFinalAttempt:!0,hideMarking:!0}),D(),O()]})]})})})};function s$e({elementId:e}){const t=GH(e);if(!t)return;const{variant:n}=t;switch(n){case"AccordionElement":return U.jsx(J1e,{element:t});case"ButtonElement":return U.jsx(eEe,{element:t});case"CardDropElement":return U.jsx(V2e,{element:t});case"ChecklistElement":return U.jsx(H2e,{element:t});case"CodeSnippetElement":return U.jsx(G2e,{element:t});case"FlipCardElement":return U.jsx(J2e,{element:t});case"GraphicElement":return U.jsx(eAe,{element:t});case"HotgraphicElement":return U.jsx(SAe,{element:t});case"IFrameElement":return U.jsx(GAe,{element:t});case"MediaElement":return U.jsx(gNe,{element:t});case"MultipleChoiceQuestionElement":return U.jsx(vNe,{element:t});case"MultipleResponseQuestionElement":return U.jsx(_Ne,{element:t});case"NumberInputElement":return U.jsx(wNe,{element:t});case"ProcessElement":return U.jsx(RNe,{element:t});case"SortingElement":return U.jsx(e$e,{element:t});case"TabsElement":return U.jsx(n$e,{element:t});case"TextElement":return U.jsx(r$e,{element:t});case"TextInputElement":return U.jsx(o$e,{element:t});default:return U.jsxs("div",{children:["Element '",n,"' not found!"]})}}const nZ=R.createContext(void 0),a$e=({template:e,children:t})=>{const n=R.useMemo(()=>({template:e}),[e]);return U.jsx(nZ.Provider,{value:n,children:t})},$m=()=>{const e=R.useContext(nZ);if(!e)throw new Error("usePageReady must be used within a PageTemplateProvider");return e},l$e=({columnId:e})=>{const t=Y1e(e),n=K1e(e),r=un(f=>{var m,h;return(h=(m=f.courseData.theme.entity)==null?void 0:m.cards)==null?void 0:h.column}),i=t!=null&&t.card&&(t==null?void 0:t.card)!=="ev-card-default"?t==null?void 0:t.card:r,o=t==null?void 0:t.variables,{isReady:s}=Tm(),{motionProps:a,hasAnimation:l}=Mw("column",t==null?void 0:t.animation),u=R.useRef(null),c=vw(u,{amount:.3,once:!0});if(!t)return null;const d=()=>{const f=U.jsx("div",{className:Za.inner,children:n.map(m=>U.jsx(ab,{id:m,object:Qt.Element,children:U.jsx(s$e,{elementId:m})},m))});return l?U.jsx(lb,{className:Za.outer,initial:a.initial,animate:s&&c?a.animate:a.initial,transition:a.transition,children:f}):U.jsx("div",{className:Za.outer,children:f})};return U.jsx("div",{ref:u,"data-id":e,"data-refid":t.refId,"data-type":"column",className:Pt(Za.root,Za.verticalAlign(t.verticalAlignment),i,Za.order(t.order)),style:o,tabIndex:-1,children:d()})},u$e=({column:e})=>{const{template:t}=$m(),n=un(o=>{var s,a;return(a=(s=o.courseData.theme.entity)==null?void 0:s.cards)==null?void 0:a.column}),r=t.data.elements.filter(o=>o.parentId===e._id),i=o=>{const s=t.elementTemplates[o.variant];if(s)return U.jsx(s,{elementId:o._id},o._id)};return U.jsx("div",{"data-id":e._id,"data-type":"column",className:Pt(Za.root,Za.verticalAlign(e.verticalAlignment),n,Za.order(e.order)),tabIndex:-1,children:U.jsx("div",{className:Za.outer,children:U.jsx("div",{className:Za.inner,children:r.map(o=>i(o))})})})},c$e=e=>Cr(t=>U7(t,e)),d$e=({rowId:e})=>{const t=ua(),n=c$e(e),r=W1e(e),i=un(S=>{var y,v;return(v=(y=S.courseData.theme.entity)==null?void 0:y.cards)==null?void 0:v.row}),o=un(S=>S.device.type),s=n!=null&&n.card&&(n==null?void 0:n.card)!=="ev-card-default"?n==null?void 0:n.card:i,a=n==null?void 0:n.variables,{isReady:l}=Tm(),{motionProps:u,hasAnimation:c}=Mw("row",n==null?void 0:n.animation),d=R.useRef(null),{ref:f}=TR({threshold:.5,delay:1e3,initialInView:!1,onChange:S=>S&&t(VD(e))}),m=vw(d,{amount:.3,once:!0});if(!n)return null;const h=Pt(au.inner,au.layout(n.responsiveColumnLayout[o],r.length,n.reverseColumnOrder[o])),g=()=>{const S=U.jsx("div",{ref:f,className:h,children:r.map(y=>U.jsx(l$e,{columnId:y},y))});return c?U.jsx(lb,{className:au.outer,initial:u.initial,animate:l&&m?u.animate:u.initial,transition:u.transition,children:S}):U.jsx("div",{className:au.outer,children:S})};return U.jsx("div",{ref:d,"data-id":e,"data-refid":n.refId,"data-type":"row",className:Pt(au.root,s),style:a,tabIndex:-1,children:g()})},f$e=({row:e})=>{const{template:t}=$m(),n=un(o=>{var s,a;return(a=(s=o.courseData.theme.entity)==null?void 0:s.cards)==null?void 0:a.row}),r=un(o=>o.device.type),i=t.data.columns.filter(o=>o.parentId===e._id);return U.jsx("div",{"data-id":e._id,"data-type":"row",className:Pt(au.root,n),tabIndex:-1,children:U.jsx("div",{className:au.outer,children:U.jsx("div",{className:Pt(au.inner,au.layout(e.responsiveColumnLayout[r],i.length,e.reverseColumnOrder[r])),children:i.map(o=>U.jsx(u$e,{column:o},o._id))})})})},rZ=R.createContext(void 0),iZ=()=>R.useContext(rZ),p$e=e=>new Map(e.map(t=>[t,0])),h$e=({children:e,sectionIds:t})=>{const[n,r]=R.useState(null),[i,o]=R.useState(p$e(t)),s=R.useCallback(({sectionId:c,isInView:d,intersectionRatio:f})=>{o(m=>{const h=new Map(m);return h.set(c,d&&f>0?f:0),h})},[]),a=R.useCallback(c=>{(i.get(c)??0)>.85?r(c):wR({id:c})},[i]),l=R.useCallback(()=>{if(i.size===0){r(null);return}if(window.pageYOffset===0){r(t[0]??null);return}if(Math.ceil(window.pageYOffset+window.innerHeight)>=document.documentElement.scrollHeight){r(t.at(-1)??null);return}let c=0,d=null;for(const[f,m]of i.entries())m<=c||(c=m,d=f);r(d)},[i,t]);R.useEffect(()=>(l(),window.addEventListener("resize",l),window.addEventListener("scroll",l),()=>{window.removeEventListener("resize",l),window.removeEventListener("scroll",l)}),[l]);const u=R.useMemo(()=>({activeSectionId:n,goToSection:a,updateIntersectionRatio:s}),[n,a,s]);return U.jsx(rZ.Provider,{value:u,children:e})},m$e=e=>{const t=iZ(),n=un(r=>{var i,o;return(o=(i=r.courseData.courseSettings.entity)==null?void 0:i.sectionIndicator)==null?void 0:o.isEnabled});return TR({skip:!n,delay:250,threshold:[0,.25,.5,.75,1],trackVisibility:!0,onChange:(r,i)=>{t==null||t.updateIntersectionRatio({sectionId:e,isInView:r,intersectionRatio:i.intersectionRatio})}})},g$e=({sectionId:e})=>{const t=U1e(e),n=F1e(e),r=un(g=>{var S,y;return(y=(S=g.courseData.theme.entity)==null?void 0:S.cards)==null?void 0:y.section}),i=un(g=>g.device.type),{ref:o}=m$e(e),s=t!=null&&t.card&&(t==null?void 0:t.card)!=="ev-card-default"?t==null?void 0:t.card:r,a=t==null?void 0:t.variables,{isReady:l}=Tm(),{motionProps:u,hasAnimation:c}=Mw("section",t==null?void 0:t.animation),d=R.useRef(null),f=vw(d,{amount:.3,once:!0}),m=R.useMemo(()=>{const g=zw(i,t==null?void 0:t.backgroundImage.media);if(!g)return;const{position:S,repeat:y,size:v}=(t==null?void 0:t.backgroundImage[i])??{};return{backgroundImage:`url('${g}')`,backgroundPosition:S,backgroundRepeat:y?"repeat":"no-repeat",backgroundSize:v}},[i,t==null?void 0:t.backgroundImage]);if(!t)return null;const h=()=>{const g=U.jsx("div",{ref:o,className:Pt(Bd.inner),children:n.map(S=>U.jsx(ab,{id:S,object:Qt.Row,children:U.jsx(d$e,{rowId:S})},S))});return c?U.jsx(lb,{className:Bd.outer,style:m,initial:u.initial,animate:l&&f?u.animate:u.initial,transition:u.transition,children:g}):U.jsx("div",{className:Bd.outer,style:m,children:g})};return U.jsx("div",{ref:d,"data-id":e,"data-refid":t.refId,"data-type":"section",className:Pt(Bd.root,s,t.sectionStyle),style:a,tabIndex:-1,children:h()})},y$e=({section:e})=>{const{template:t}=$m(),n=un(o=>{var s,a;return(a=(s=o.courseData.theme.entity)==null?void 0:s.cards)==null?void 0:a.section}),r=e==null?void 0:e.variables,i=t.data.rows.filter(o=>o.parentId===e._id);return U.jsx("div",{"data-id":e._id,"data-type":"section",className:Pt(Bd.root,n),style:r,tabIndex:-1,children:U.jsx("div",{className:Bd.outer,children:U.jsx("div",{className:Bd.inner,children:i.map(o=>U.jsx(f$e,{row:o},o._id))})})})},v$e=e=>{const t=un(Xv),n=SR(e.parentId);let r=n[e.order+1];for(;r&&t.has(r.refId);)r=n[r.order+1];return r},b$e=({page:e})=>{const t=jr(),n=vr(),r=v$e(e),i=Hu(),o=un(l=>{var u;return(u=l.courseData.courseSettings.entity)==null?void 0:u.footerNavigation}),s=ii("--ev-page-footer-next-label"),a=ii("--ev-page-footer-next-page-title-label");return r?U.jsx(ab,{id:r._id,object:Qt.Page,children:U.jsx("nav",{className:"ev-page-navigation",children:U.jsxs("div",{className:"ev-page-navigation-inner",children:[(o==null?void 0:o.displayNextLabel)&&U.jsx("div",{className:Pt(Bt.label,"ev-page-navigation-next-label",s),children:n("footerNextLabel")}),(o==null?void 0:o.displayPageTitle)&&U.jsx("div",{className:Pt(Bt.label,"ev-page-navigation-next-page-title-label",a),children:t.plain(r.title)||r.label||`Page ${r.order+1}`}),U.jsx("button",{className:`${Bt.button} ev-page-navigation-next-button`,onClick:()=>i(`/page/${r._id}?contentId=${r._id}`),children:n("footerNextButton")})]})})}):null},oZ=({className:e,isReady:t,animation:n,...r})=>{const i=un(s=>s.app.animationsDisabled),o=WH(i?void 0:n);return U.jsx(lb,{className:Pt(K7.inner,e),onClick:s=>s.stopPropagation(),initial:o.initial,animate:t?o.animate:o.initial,transition:o.transition,...r})},_$e=e=>{const t=un(r=>z7(r,e)),n=un(Xv);return t.filter(r=>r&&r._id&&!n.has(r.refId)).map(r=>({id:r._id,title:r==null?void 0:r.title}))},t2=20,S$e=5,x$e=({indicatorHeight:e,pageHeight:t,scrollY:n,windowHeight:r})=>{if(t<=0||r<=0)return 0;const i=t-r;if(i<=0)return 0;const s=Bv(n,{min:0,max:i})/i*100;return(r-e)/100*s},w$e=()=>{const e=R.useRef(null),t=R.useRef(null),n=un(i=>{var o,s;return(s=(o=i.courseData.courseSettings.entity)==null?void 0:o.scrollProgress)==null?void 0:s.isEnabled}),r=R.useCallback(()=>{var u;if(!e.current)return;const i=n?S$e:0,o=Math.max(0,window.innerHeight-t2*2-i),s=e.current.getBoundingClientRect().height;if(s<o){e.current.style.top=`calc(50% + ${i}px)`,e.current.style.transform="translateY(-50%)";return}const a=((u=t.current)==null?void 0:u.getBoundingClientRect().height)??0,l=x$e({indicatorHeight:s,pageHeight:Math.max(0,a-t2*2-i),scrollY:window.scrollY,windowHeight:o});e.current.style.top=`${l+t2+i}px`,e.current.style.transform="unset"},[e,n,t]);return R.useEffect(()=>(r(),window.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",r)}),[r]),{indicatorRef:e,wrapperRef:t}},T$e=({isActive:e,onClick:t,sectionTitle:n})=>{const r=()=>U.jsx("button",{className:Pt("ev-section-indicator-dot ev-focus-visible",{"ev-section-indicator-dot-active":e}),"aria-current":e,"aria-label":n,onClick:t,type:"button"});return U.jsx("div",{className:"ev-section-indicator-dot-container",children:n?U.jsx(PH,{content:n,side:"left",children:r()}):r()})},E$e=({dots:e,ref:t})=>{const n=jr(),r=iZ(),i=(r==null?void 0:r.activeSectionId)??null;return U.jsx("div",{className:"ev-section-indicator-root",ref:t,children:U.jsx("nav",{className:"ev-section-indicator-container",children:e.map(({id:o,title:s})=>U.jsx(T$e,{isActive:o===i,sectionTitle:s?n.plain(s):void 0,onClick:()=>{r==null||r.goToSection(o)}},o))})})},A$e=({children:e,pageId:t})=>{const{indicatorRef:n,wrapperRef:r}=w$e(),i=_$e(t);return U.jsxs(h$e,{sectionIds:i.map(({id:o})=>o),children:[U.jsx("div",{ref:r,children:e}),U.jsx(E$e,{ref:n,dots:i})]})},C$e=({children:e,pageId:t})=>un(r=>{var i,o;return(o=(i=r.courseData.courseSettings.entity)==null?void 0:i.sectionIndicator)==null?void 0:o.isEnabled})?U.jsx(A$e,{pageId:t,children:e}):e,sZ=()=>{const e=sd(),t=un(r=>{var i;return(i=r.courseData.courseSettings.entity)==null?void 0:i.footer}),n=un(r=>{var i,o,s;return(s=(o=(i=r.courseData.theme.entity)==null?void 0:i.footer)==null?void 0:o.logo)==null?void 0:s.media});return U.jsx("footer",{className:"ev-footer",children:U.jsxs("div",{className:"ev-footer-inner",children:[n&&U.jsx("div",{className:"ev-footer-logo",children:U.jsx(Ua,{media:n,altText:""})}),(t==null?void 0:t.copyrightText)&&U.jsx(Qi,{className:"ev-footer-copyright",content:t==null?void 0:t.copyrightText})]})},e.pathname)};function O$e({page:e,contentId:t}){const{isReady:n}=Tm(),r=$1e(e._id),i=un(u=>{var c,d;return(d=(c=u.courseData.courseSettings.entity)==null?void 0:c.footerNavigation)==null?void 0:d.isEnabled}),o=un(u=>{var c,d;return(d=(c=u.courseData.theme.entity)==null?void 0:c.footer)==null?void 0:d.isEnabled}),s=un(u=>{var c,d;return(d=(c=u.courseData.theme.entity)==null?void 0:c.animations)==null?void 0:d.page}),a=e.animation,l=(a==null?void 0:a.preset)==="theme"?s:a;return R.useEffect(()=>wR({id:t,delayBy:500}),[t]),U.jsxs(oZ,{isReady:n,animation:l,children:[U.jsx(C$e,{pageId:e._id,children:r.map(u=>U.jsx(ab,{id:u,object:Qt.Section,children:U.jsx(g$e,{sectionId:u})},u))}),i&&U.jsx(b$e,{page:e}),o&&U.jsx(sZ,{})]})}const aZ=({className:e,...t})=>{const n=un(o=>o.courseOutline.isOpen),r=un(o=>{var s,a;return((a=(s=o.courseData.courseSettings.entity)==null?void 0:s.courseOutline)==null?void 0:a.isEnabled)&&o.app.showOutline}),i=un(o=>{var s,a;return(a=(s=o.courseData.theme.entity)==null?void 0:s.header)==null?void 0:a.isEnabled});return U.jsx("main",{className:Pt(K7.root,e,{"ev-is-outline-enabled":r,"ev-is-outline-open":n,"ev-is-header-enabled":i}),...t})};function D$e(){const e=R.useRef(null),{pageId:t=""}=tU(),[n]=Yne(),r=n.get("contentId")??void 0,i=xR(t),o=un(a=>{var l,u;return(u=(l=a.courseData.courseSettings.entity)==null?void 0:l.scrollProgress)==null?void 0:u.isEnabled}),s=FH((i==null?void 0:i.refId)??"");return R.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[r,t]),i&&s?U.jsx(oU,{to:"/",replace:!0}):i?U.jsx(aZ,{ref:e,"data-id":t,"data-refid":i.refId,tabIndex:-1,children:U.jsxs(k1e,{pageId:i._id,children:[o&&U.jsx(N1e,{}),U.jsx(O$e,{page:i,contentId:r})]})},t):null}const P$e=({elementId:e})=>{const{template:t}=$m(),n=vr(),r=t.data.elements.find(u=>u._id===e),{passingScore:i,allowedAttempts:o,questions:s,allowInfiniteAttempts:a}=Nw(),l=Pt(Bt.label,r.variables["--ev-assessment-details-detail-text-label"]);return U.jsx(ER,{elementId:e,variant:"AssessmentDetailsElement",variables:r.variables,children:U.jsxs(Fi,{children:[U.jsx("h2",{className:Pt(Bt.label,lg.headingLabel,r.variables["--ev-assessment-details-heading-text-label"]),children:n("assessmentDetails")}),U.jsxs("ul",{className:lg.list,children:[U.jsxs("li",{className:lg.listItem,children:[U.jsx(mD,{}),U.jsxs("span",{className:l,children:[n("assessmentPassingGrade"),": ",i,"%"]})]}),U.jsxs("li",{className:lg.listItem,children:[U.jsx(bU,{}),U.jsxs("span",{className:l,children:[n("assessmentMaxAttempts"),":"," ",a?n("assessmentInfiniteAttempts"):o]})]}),U.jsxs("li",{className:lg.listItem,children:[U.jsx(Fx,{}),U.jsxs("span",{className:l,children:[n("assessmentQuestions"),": ",s.length]})]})]})]})})},R$e=({elementId:e})=>{const{template:t}=$m(),n=vr(),r=t.data.elements.find(y=>y._id===e),{score:i,correctlyAnswered:o,questions:s,attempt:a,allowedAttempts:l,allowInfiniteAttempts:u,status:c,retake:d}=Nw(),f=ii("--ev-button-label"),m=Pt(Bt.label,rc.stat,r.variables["--ev-assessment-overview-stat-text-label"]),h=Pt(Bt.label,rc.subtitle,r.variables["--ev-assessment-overview-subtitle-text-label"]),g=`${o}/${s.length}`,S=`${a}${u?"":`/${l}`}`;return U.jsx(ER,{elementId:e,variant:"AssessmentOverviewElement",variables:r.variables,children:U.jsxs(Fi,{children:[U.jsx("h2",{className:Pt(Bt.label,rc.headingLabel,r.variables["--ev-assessment-overview-heading-text-label"]),children:n("assessmentOverview")}),U.jsxs("ul",{className:rc.list,children:[U.jsxs("li",{className:rc.listItem,children:[U.jsxs("div",{className:m,"aria-hidden":!0,children:[i,"%"]}),U.jsxs("div",{className:h,children:[n("assessmentScore")," ",U.jsxs("span",{className:Bt.visuallyHidden,children:[i,"%"]})]})]}),U.jsxs("li",{className:rc.listItem,children:[U.jsx("div",{className:m,"aria-hidden":!0,children:g}),U.jsxs("div",{className:h,children:[n("assessmentQuestionsCorrect")," ",U.jsx("span",{className:Bt.visuallyHidden,children:g})]})]}),U.jsxs("li",{className:rc.listItem,children:[U.jsx("div",{className:m,"aria-hidden":!0,children:S}),U.jsxs("div",{className:h,children:[n("assessmentAttempts")," ",U.jsx("span",{className:Bt.visuallyHidden,children:S})]})]})]}),c===Ni.Completed&&U.jsx(_i,{className:Pt(Bt.button,rc.retakeButton),onClick:d,children:U.jsx("span",{className:Pt(Bt.label,f),children:n("assessmentRetakeButton")})})]})})},I$e=({elementId:e})=>{var a;const{template:t}=$m(),n=t.data.elements.find(l=>l._id===e),{score:r,status:i}=Nw(),o=(a=n==null?void 0:n.props)==null?void 0:a.feedback,s=R.useMemo(()=>{if(o)return i===Ni.Passed?o.correct.final.text:i===Ni.Failed?o.incorrect.final.text:o.incorrect.interim.text},[o,i]);return n?U.jsx(ER,{elementId:e,variant:"AssessmentScoreElement",variables:n.variables,children:U.jsxs(Fi,{children:[U.jsxs("div",{className:ug.progressCircleContainer,children:[U.jsx(Ew,{className:ug.progressCircle,value:r??0,radius:61,stroke:10}),U.jsx("div",{className:ug.progressCircleLabel,children:`${r}%`})]}),s&&U.jsx("div",{className:ug.feedback,children:U.jsx("div",{className:ug.feedbackInner,children:U.jsx(Qi,{content:s})})})]})}):null};function k$e({assessment:e}){const t={data:{sections:[],rows:[],columns:[],elements:[]},elementTemplates:{AssessmentScoreElement:I$e,AssessmentOverviewElement:R$e,AssessmentDetailsElement:P$e}};return e.sections.forEach((n,r)=>{t.data.sections.push({_id:n,order:r,variables:{"--ev-section-background-color":e.variables[`--ev-assessment-results-${n}-background-color`]}}),t.data.rows.push({_id:`${n}-row`,parentId:n,order:0,responsiveColumnLayout:{desktop:"equal",tablet:"stacked",mobile:"stacked"},reverseColumnOrder:{desktop:!1,tablet:!1,mobile:!1}}),t.data.columns.push({_id:`${n}-column`,parentId:`${n}-row`,order:0,verticalAlignment:"top"}),n==="score"&&t.data.elements.push({_id:`${n}-element`,parentId:`${n}-column`,variant:"AssessmentScoreElement",props:{feedback:e.feedback},order:0,variables:{"--ev-assessment-score-progress-foreground-color":e.variables["--ev-assessment-score-progress-foreground-color"],"--ev-assessment-score-progress-background-color":e.variables["--ev-assessment-score-progress-background-color"],"--ev-assessment-score-progress-label-color":e.variables["--ev-assessment-score-progress-label-color"],"--ev-assessment-score-message-color":e.variables["--ev-assessment-score-message-color"]},assets:[]}),n==="overview"&&t.data.elements.push({_id:`${n}-element`,parentId:`${n}-column`,variant:"AssessmentOverviewElement",order:0,props:{},variables:{"--ev-assessment-overview-heading-text-label":e.variables["--ev-assessment-overview-heading-text-label"],"--ev-assessment-overview-heading-text-color":e.variables["--ev-assessment-overview-heading-text-color"],"--ev-assessment-overview-stat-text-label":e.variables["--ev-assessment-overview-stat-text-label"],"--ev-assessment-overview-stat-text-color":e.variables["--ev-assessment-overview-stat-text-color"],"--ev-assessment-overview-subtitle-text-label":e.variables["--ev-assessment-overview-subtitle-text-label"],"--ev-assessment-overview-subtitle-text-color":e.variables["--ev-assessment-overview-subtitle-text-color"]},assets:[]}),n==="details"&&t.data.elements.push({_id:`${n}-element`,parentId:`${n}-column`,variant:"AssessmentDetailsElement",order:0,props:{},variables:{"--ev-assessment-details-heading-text-label":e.variables["--ev-assessment-details-heading-text-label"],"--ev-assessment-details-heading-text-color":e.variables["--ev-assessment-details-heading-text-color"],"--ev-assessment-details-detail-icon-color":e.variables["--ev-assessment-details-detail-icon-color"],"--ev-assessment-details-detail-text-label":e.variables["--ev-assessment-details-detail-text-label"],"--ev-assessment-details-detail-text-color":e.variables["--ev-assessment-details-detail-text-color"]},assets:[]})}),t}const N$e=()=>{const e=un(r=>{var i;return(i=r.courseData.courseSettings.entity)==null?void 0:i.assessment}),t=un(r=>{var i,o;return(o=(i=r.courseData.theme.entity)==null?void 0:i.footer)==null?void 0:o.isEnabled});if(R.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[]),!e)return null;const n=k$e({assessment:e});return U.jsx(a$e,{template:n,children:U.jsx(aZ,{tabIndex:-1,children:U.jsxs(oZ,{isReady:!0,children:[n.data.sections.map(r=>U.jsx(y$e,{section:r},r._id)),t&&U.jsx(sZ,{})]})})})},M$e=e=>Cne(rA(U.jsx(gp,{path:"/",element:e,children:U.jsxs(gp,{element:U.jsx(C1e,{}),children:[U.jsx(gp,{index:!0,element:U.jsx(O1e,{})}),U.jsx(gp,{path:"page/:pageId",element:U.jsx(D$e,{})}),U.jsx(gp,{path:"assessment-results",element:U.jsx(N$e,{})})]})})),{future:{v7_relativeSplatPath:!0}});let Ja=null;const j$e=e=>(Ja??(Ja=M$e(e)),Ja),L$e=()=>{var n,r;const e=((r=(n=Ja==null?void 0:Ja.state.location)==null?void 0:n.pathname)==null?void 0:r.split("/"))??[],t=e.indexOf("page");if(!(t===-1||t+1>=e.length))return e[t+1]},$$e=({id:e,state:t,object:n})=>{const r=L$e();if(n===Qt.Page&&r!==e){Ja==null||Ja.navigate(`/page/${e}?contentId=${e}`);return}const i=$d({object:n,id:e,courseData:t.courseData}),o=fpe({from:i,courseData:t.courseData}),s=L7(t);if(o.some(l=>s.includes(l)))return;const a=Qt.Section===n?i.parentId:KD({object:Qt.Page,refId:o[0],courseData:t.courseData});if(a){if(a===r){wR({id:e});return}Ja==null||Ja.navigate(`/page/${a}?contentId=${e}`)}},Up=({refId:e,state:t,object:n})=>{const r=KD({object:n,refId:e,courseData:t.courseData});r&&$$e({id:r,object:n,state:t})},B$e=(e,t,{dispatch:n,getState:r})=>{switch(e.type){case"showHiddenPages":case"showHiddenSections":case"showHiddenRows":case"showHiddenElements":n(GD({refIds:e.targets}));break;case"showLogicDialog":n(QV({refId:e.targets[0]??"",triggeredBy:t}));break;case"hidePages":case"hideSections":case"hideRows":case"hideElements":n(HD({refIds:e.targets}));break;case"navigateToPage":Up({refId:e.targets[0]??"",state:r(),object:Qt.Page});break;case"navigateToSection":Up({refId:e.targets[0]??"",state:r(),object:Qt.Section});break;case"navigateToRow":Up({refId:e.targets[0]??"",state:r(),object:Qt.Row});break;case"navigateToElement":Up({refId:e.targets[0]??"",state:r(),object:Qt.Element});break;case"setCourseToComplete":n(qc(ci.Completed));break;case"setCourseToPassed":n(qc(ci.Passed));break;case"setCourseToFailed":n(qc(ci.Failed));break;case"resetCourse":n(Is());break;case"resetElements":n(Wy({elementRefIds:e.targets}));break;case"increaseVariableByValue":{const i=Tc(r(),e.targets[0]??"");(i==null?void 0:i.type)==="number"&&n(Yv(i,e.value));break}case"decreaseVariableByValue":{const i=Tc(r(),e.targets[0]??"");(i==null?void 0:i.type)==="number"&&n(Kv(i,e.value));break}case"setVariableNumber":{const i=Tc(r(),e.targets[0]??"");(i==null?void 0:i.type)==="number"&&n(Sf(i,e.value));break}case"setVariableText":{const i=Tc(r(),e.targets[0]??"");(i==null?void 0:i.type)==="string"&&n(Iu(i,e.value));break}case"setVariableBoolean":{const i=Tc(r(),e.targets[0]??"");(i==null?void 0:i.type)==="boolean"&&n(Wv(i,e.value));break}case"enableTrigger":n(WD({refIds:e.targets}));break;case"disableTrigger":n(YD({refIds:e.targets}));break}},U$e=async(e,{dispatch:t,getState:n,fork:r,delay:i})=>{for(const o of e.actions)await r(async()=>{o.delay>0&&await i(o.delay),B$e(o,e.target,{dispatch:t,getState:n})}).result},ta=async(e,t)=>{await Promise.all(e.map(async n=>{t.dispatch(H_e({refId:n.refId})),await U$e(n,t)}))};function $B(e,t,n){switch(t){case"equalTo":return e===n;case"notEqualTo":return e!==n;case"greaterThan":return e>n;case"greaterThanOrEqualTo":return e>=n;case"lessThan":return e<n;case"lessThanOrEqualTo":return e<=n;default:return!1}}function F$e(e,t){if(e.length===0)return!1;const n=e[0],r=t[n.target??""];let i=r===void 0?!1:$B(r,n.type,n.value);for(let o=1,s=e.length;o<s;o++){const a=e[o],l=t[a.target??""],u=l===void 0?!1:$B(l,a.type,a.value);a.operator==="AND"?i=i&&u:a.operator==="OR"&&(i=i||u)}return i}const z$e=e=>{e({matcher:Fr(Iu,Sf,Wv,Yv,Kv),effect:async(t,{dispatch:n,getState:r,fork:i,delay:o})=>{const s=r(),u=sb(s,ed.Variable,"changed").filter(({comparisons:c})=>c.some(({target:d})=>d===t.payload.variableRefId)).filter(({comparisons:c})=>F$e(c,s.tracking.variableTracking));await ta(u,{dispatch:n,getState:r,fork:i,delay:o})}})},V$e=e=>{const t={[Ni.Completed]:"attempted",[Ni.Passed]:"passed",[Ni.Failed]:"failed"};e({matcher:Fr(_f,Ml),effect:async(n,{dispatch:r,getState:i,fork:o,delay:s})=>{const a=i(),{tracking:{assessmentTracking:l}}=a;let u;if(_f.match(n)&&l.status&&(u=t[l.status]),Ml.match(n)&&(u="reset"),!u)return;const c=sb(a,ed.Assessment,u);await ta(c,{dispatch:r,getState:i,fork:o,delay:s})}})},q$e=e=>{e({matcher:Fr(d_,G7),effect:async(t,{dispatch:n,getState:r,fork:i,delay:o})=>{const s=r(),{device:a}=s,l=typeof t.payload=="boolean"?a.type:t.payload,u=sb(s,ed.DeviceSize,l);await ta(u,{dispatch:n,getState:r,fork:i,delay:o})}})};function H$e(e,t,n){let r=BB(e[0],t,n);for(let i=1,o=e.length;i<o;i++){const s=e[i],a=BB(s,t,n);s.operator==="AND"?r=r&&a:s.operator==="OR"&&(r=r||a)}return r}function G$e(e,t,n){switch(t){case Qt.Page:return n.courseData.pages.viewed.includes(e);case Qt.Section:return n.courseData.sections.viewed.includes(e);case Qt.Row:return n.courseData.rows.viewed.includes(e);default:return!1}}function W$e(e,t,n){switch(t){case Qt.Page:return n.courseData.pages.completed.includes(e);case Qt.Section:return n.courseData.sections.completed.includes(e);case Qt.Row:return n.courseData.rows.completed.includes(e);default:return!1}}function BB(e,t,n){return e.target?e.condition==="viewed"?G$e(e.target,t,n):e.condition==="completed"?W$e(e.target,t,n):!1:!1}function px(e,t,n,r){const i=sb(e,n,"multi");if(!i.length)return[];const o=i.filter(({conditions:a})=>a.some(l=>l.target===t.refId&&l.condition===r));return o.length?o.filter(({conditions:a})=>H$e(a,t.type,e)):[]}function Y$e(e,t,n){const r=sb(e,ed.Elements,"multi");if(!r.length)return[];const i=r.filter(({conditions:s})=>s.some(a=>a.target===t&&a.condition===n));return i.length?i.filter(({conditions:s})=>K$e(s,e)):[]}function K$e(e,t){let n=UB(e[0],t);for(let r=1,i=e.length;r<i;r++){const o=e[r],s=UB(o,t);o.operator==="AND"?n=n&&s:o.operator==="OR"&&(n=n||s)}return n}function UB(e,t){const n=t.tracking.elementTracking[e.target??""];if(!n)return!1;const r=e.condition;switch(r){case"viewed":case"started":case"completed":return n[r];case"clicked":return n.state.clicked;case"passed":return n.state.response===wt.Correct;case"failed":return n.state.response===wt.Incorrect||n.state.response===wt.PartlyCorrect}}const X$e=e=>{const t=[[iq,"loaded"],[oq,"unloaded"],[nC,"viewed"],[rC,"completed"]],n=t.map(([r])=>r);e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const l=o(),[,u]=t.find(([m])=>m.match(r)),{pageRefId:c}=r.payload,d=l.courseData.pages.byRefId[c];if(!d)return;const f=Iw(l,d,u);await ta(f,{dispatch:i,getState:o,fork:s,delay:a})}}),e({actionCreator:rC,effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const l=px(o(),{refId:r.payload.pageRefId,type:Qt.Page},ed.Pages,"completed");await ta(l,{dispatch:i,getState:o,fork:s,delay:a})}}),e({actionCreator:nC,effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const l=px(o(),{refId:r.payload.pageRefId,type:Qt.Page},ed.Pages,"viewed");await ta(l,{dispatch:i,getState:o,fork:s,delay:a})}})},Z$e=e=>{const t=[[XP,"completed"],[KP,"viewed"]],n=t.map(([r])=>r);e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const l=o(),[,u]=t.find(([m])=>m.match(r)),{sectionRefId:c}=r.payload,d=l.courseData.sections.byRefId[c];if(!d)return;const f=Iw(l,d,u);await ta(f,{dispatch:i,getState:o,fork:s,delay:a})}}),e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const[,l]=t.find(([c])=>c.match(r)),u=px(o(),{refId:r.payload.sectionRefId,type:Qt.Section},ed.Sections,l);await ta(u,{dispatch:i,getState:o,fork:s,delay:a})}})},Q$e=e=>{const t=[[YP,"completed"],[WP,"viewed"]],n=t.map(([r])=>r);e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const l=o(),{rows:u}=l.courseData,[,c]=t.find(([h])=>h.match(r)),{rowRefId:d}=r.payload,f=u.byRefId[d];if(!f)return;const m=Iw(l,f,c);await ta(m,{dispatch:i,getState:o,fork:s,delay:a})}}),e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const[,l]=t.find(([c])=>c.match(r)),u=px(o(),{refId:r.payload.rowRefId,type:Qt.Row},ed.Rows,l);await ta(u,{dispatch:i,getState:o,fork:s,delay:a})}})},J$e=e=>{const t=[[Ru,"completed"],[ry,"viewed"],[OA,"started"],[S7,"clicked"],[x7,"passed"],[w7,"failed"]],n=t.map(([r])=>r);e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const l=o(),[,u]=t.find(([f])=>f.match(r)),c=l.courseData.elements.byRefId[r.payload.elementRefId];if(!c)return;const d=Iw(l,c,u);await ta(d,{dispatch:i,getState:o,fork:s,delay:a})}}),e({matcher:Fr(...n),effect:async(r,{dispatch:i,getState:o,fork:s,delay:a})=>{const[,l]=t.find(([c])=>c.match(r)),u=Y$e(o(),r.payload.elementRefId,l);await ta(u,{dispatch:i,getState:o,fork:s,delay:a})}})},e4e=e=>{e({matcher:Fr(Iu,Sf,Wv,Yv,Kv),effect:(t,{dispatch:n,getState:r,getOriginalState:i})=>{const{variableRefId:o}=t.payload,s=r(),l=i().tracking.variableTracking[o],u=s.tracking.variableTracking[o];typeof u>"u"||typeof l>"u"||n(q_e({refId:o,fromValue:l,toValue:u}))}}),e({actionCreator:z_e,effect:({payload:t},n)=>ta([t],n)})},t4e=[$Te,BTe,qTe,HTe,GTe,WTe,YTe,JTe,e1e,t1e,n1e,z$e,V$e,q$e,X$e,Z$e,Q$e,J$e,e4e];window.__getContentUrl=e=>e;const n4e=ASe({preloadedState:{locale:Ape()},listenerMiddleware:LTe({listeners:[...t4e,lpe,Tpe]})}),r4e=async()=>await(await fetch("course.json")).json();fte.createRoot(document.getElementById("root")).render(U.jsx(En.StrictMode,{children:U.jsx(PU,{store:n4e,children:U.jsx(ere,{iconSet:"material-outline",children:U.jsx(Bne,{router:j$e(U.jsx(jTe,{fetchCourseData:r4e})),future:{v7_startTransition:!0}})})})}));
